(window.webpackJsonp=window.webpackJsonp||[]).push([[35,79],{"/gN3":function(t,e,n){"use strict";var l=n("tFIl");class a extends l.a{constructor(t={}){super(),this.momentIsUtc=!1,this.fillAll(t,["order","name","width","minWidth","pinned","field","tooltipField","align","labelFormat","filter","drillIndex","editable","hide","children","valueGetter","valueFormatter","valueSetter","valueParser","momentFormat","momentIsUtc","customFormatter","cellRenderer","cellEditor","cellEditorParams","cellRendererFramework","cellRendererParams","cellClass","data"])}get hasDrill(){return null!==this.drillIndex}get hasNumericFormat(){return this.labelFormat!==i.Date&&this.labelFormat!==i.Moment&&this.labelFormat!==i.Default&&this.labelFormat!==i.Custom}get hasDefaultFormat(){return this.labelFormat===i.Default}get hasMoneyFormat(){return this.labelFormat===i.Money||this.labelFormat===i.Money2}get hasPercentageFormat(){return this.labelFormat===i.Percentage||this.labelFormat===i.Percentage1DecWithZeroMantissa||this.labelFormat===i.Percentage2DecWithZeroMantissa}}var i=function(t){return t[t.Date=0]="Date",t[t.Moment=1]="Moment",t[t.Money=2]="Money",t[t.Money2=3]="Money2",t[t.MoneyAbbr=4]="MoneyAbbr",t[t.Integer=5]="Integer",t[t.Float=6]="Float",t[t.FloatWithTwoDecimalPlaces=7]="FloatWithTwoDecimalPlaces",t[t.FloatWithOneDecimalPlace=8]="FloatWithOneDecimalPlace",t[t.Cnt=9]="Cnt",t[t.Percentage=10]="Percentage",t[t.Percentage1DecWithZeroMantissa=11]="Percentage1DecWithZeroMantissa",t[t.Percentage2DecWithZeroMantissa=12]="Percentage2DecWithZeroMantissa",t[t.Custom=13]="Custom",t[t.Default=14]="Default",t}({}),r=function(t){return t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Center=2]="Center",t}({}),o=function(t){return t[t.None=0]="None",t[t.String=1]="String",t[t.NumberRange=2]="NumberRange",t[t.DateRange=3]="DateRange",t[t.MultiChoice=4]="MultiChoice",t}({});class s{constructor(t={}){Object.keys(t).forEach(e=>this[e]=new.target.value(t[e]))}static value(t,e=null){return null==t?e:t}}n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return s}))},"2F3X":function(t,e,n){"use strict";var l=n("8Y7J"),a=n("dJrM"),i=n("HsOI"),r=n("Xd0L"),o=n("IP0z"),s=n("/HVE"),d=n("omvX"),u=n("s7LF"),c=n("8CZ8"),p=n("ZwOa"),g=n("oapL"),h=n("SZ0J"),m=n("s6ns"),f=n("QQfA"),b=n("SVse");n("fgD+"),n("bQ1K"),n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return C}));var v=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:inline-block}  .mat-calendar-cell-semi-selected{background-color:rgba(52,152,219,.5)}  .mat-calendar-body-begin-range:not(.mat-calendar-body-end-range){border-radius:100% 0 0 100%;background-color:rgba(52,152,219,.5)}  .mat-calendar-body-end-range:not(.mat-calendar-body-begin-range){border-radius:0 100% 100% 0;background-color:rgba(52,152,219,.5)}.input-sat[_ngcontent-%COMP%]{width:165px}.remove[_ngcontent-%COMP%]{color:red;font-weight:bolder;cursor:pointer}"]],data:{}});function x(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"span",[["class","remove"]],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.removeDate()&&l),l}),null,null)),(t()(),l["\u0275ted"](-1,null,["X"]))],null,null)}function C(t){return l["\u0275vid"](2,[l["\u0275qud"](402653184,1,{datePicker:0}),(t()(),l["\u0275eld"](1,0,null,null,25,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,a.b,a.a)),l["\u0275did"](2,7520256,null,9,i.c,[l.ElementRef,l.ChangeDetectorRef,[2,r.h],[2,o.b],[2,i.a],s.a,l.NgZone,[2,d.a]],null,null),l["\u0275qud"](603979776,2,{_controlNonStatic:0}),l["\u0275qud"](335544320,3,{_controlStatic:0}),l["\u0275qud"](603979776,4,{_labelChildNonStatic:0}),l["\u0275qud"](335544320,5,{_labelChildStatic:0}),l["\u0275qud"](603979776,6,{_placeholderChild:0}),l["\u0275qud"](603979776,7,{_errorChildren:1}),l["\u0275qud"](603979776,8,{_hintChildren:1}),l["\u0275qud"](603979776,9,{_prefixChildren:1}),l["\u0275qud"](603979776,10,{_suffixChildren:1}),(t()(),l["\u0275eld"](12,0,null,1,6,"input",[["class","input-sat mat-input-element mat-form-field-autofill-control"],["matInput",""]],[[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"dateChange"],[null,"input"],[null,"change"],[null,"blur"],[null,"keydown"],[null,"focus"]],(function(t,e,n){var a=!0,i=t.component;return"input"===e&&(a=!1!==l["\u0275nov"](t,15)._onInput(n.target.value)&&a),"change"===e&&(a=!1!==l["\u0275nov"](t,15)._onChange()&&a),"blur"===e&&(a=!1!==l["\u0275nov"](t,15)._onBlur()&&a),"keydown"===e&&(a=!1!==l["\u0275nov"](t,15)._onKeydown(n)&&a),"blur"===e&&(a=!1!==l["\u0275nov"](t,17)._focusChanged(!1)&&a),"focus"===e&&(a=!1!==l["\u0275nov"](t,17)._focusChanged(!0)&&a),"input"===e&&(a=!1!==l["\u0275nov"](t,17)._onInput()&&a),"dateChange"===e&&(a=!1!==i.onDateChange(n)&&a),a}),null,null)),l["\u0275prd"](5120,null,u.q,(function(t){return[t]}),[c.o]),l["\u0275prd"](5120,null,u.p,(function(t){return[t]}),[c.o]),l["\u0275did"](15,147456,null,0,c.o,[l.ElementRef,[2,c.a],[2,c.d],[2,i.c]],{satDatepicker:[0,"satDatepicker"],value:[1,"value"],min:[2,"min"],max:[3,"max"]},{dateChange:"dateChange"}),l["\u0275prd"](2048,null,p.a,null,[c.o]),l["\u0275did"](17,999424,null,0,p.b,[l.ElementRef,s.a,[8,null],[2,u.u],[2,u.k],r.b,[6,p.a],g.a,l.NgZone],{placeholder:[0,"placeholder"],value:[1,"value"],readonly:[2,"readonly"]},null),l["\u0275prd"](2048,[[2,4],[3,4]],i.d,null,[p.b]),(t()(),l["\u0275eld"](19,16777216,null,1,1,"sat-datepicker",[],null,null,null,h.g,h.a)),l["\u0275did"](20,180224,[[1,4],["dp",4]],0,c.m,[m.e,f.c,l.NgZone,l.ViewContainerRef,c.b,[2,c.a],[2,o.b],[2,b.d]],{rangeMode:[0,"rangeMode"]},null),(t()(),l["\u0275eld"](21,0,null,4,3,"sat-datepicker-toggle",[["class","mat-datepicker-toggle"],["matSuffix",""]],[[1,"tabindex",0],[2,"mat-datepicker-toggle-active",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"focus"]],(function(t,e,n){var a=!0;return"focus"===e&&(a=!1!==l["\u0275nov"](t,23)._button.focus()&&a),a}),h.f,h.b)),l["\u0275did"](22,16384,[[10,4]],0,i.g,[],null,null),l["\u0275did"](23,1753088,null,1,c.r,[c.p,l.ChangeDetectorRef,[8,null]],{datepicker:[0,"datepicker"]},null),l["\u0275qud"](335544320,11,{_customIcon:0}),(t()(),l["\u0275and"](16777216,null,1,1,null,x)),l["\u0275did"](26,16384,null,0,b.n,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,15,0,l["\u0275nov"](e,20),n.range,n.min,n.max),t(e,17,0,n.placeholder,n.range,!0),t(e,20,0,!0),t(e,23,0,l["\u0275nov"](e,20)),t(e,26,0,n.allowClearDate&&!n.isEmpty)}),(function(t,e){t(e,1,1,["standard"==l["\u0275nov"](e,2).appearance,"fill"==l["\u0275nov"](e,2).appearance,"outline"==l["\u0275nov"](e,2).appearance,"legacy"==l["\u0275nov"](e,2).appearance,l["\u0275nov"](e,2)._control.errorState,l["\u0275nov"](e,2)._canLabelFloat,l["\u0275nov"](e,2)._shouldLabelFloat(),l["\u0275nov"](e,2)._hasFloatingLabel(),l["\u0275nov"](e,2)._hideControlPlaceholder(),l["\u0275nov"](e,2)._control.disabled,l["\u0275nov"](e,2)._control.autofilled,l["\u0275nov"](e,2)._control.focused,"accent"==l["\u0275nov"](e,2).color,"warn"==l["\u0275nov"](e,2).color,l["\u0275nov"](e,2)._shouldForward("untouched"),l["\u0275nov"](e,2)._shouldForward("touched"),l["\u0275nov"](e,2)._shouldForward("pristine"),l["\u0275nov"](e,2)._shouldForward("dirty"),l["\u0275nov"](e,2)._shouldForward("valid"),l["\u0275nov"](e,2)._shouldForward("invalid"),l["\u0275nov"](e,2)._shouldForward("pending"),!l["\u0275nov"](e,2)._animationsEnabled]),t(e,12,1,[!0,(null==l["\u0275nov"](e,15)._datepicker?null:l["\u0275nov"](e,15)._datepicker.opened)&&l["\u0275nov"](e,15)._datepicker.id||null,l["\u0275nov"](e,15).min?l["\u0275nov"](e,15)._dateAdapter.toIso8601(l["\u0275nov"](e,15).min):null,l["\u0275nov"](e,15).max?l["\u0275nov"](e,15)._dateAdapter.toIso8601(l["\u0275nov"](e,15).max):null,l["\u0275nov"](e,15).disabled,l["\u0275nov"](e,17)._isServer,l["\u0275nov"](e,17).id,l["\u0275nov"](e,17).placeholder,l["\u0275nov"](e,17).disabled,l["\u0275nov"](e,17).required,l["\u0275nov"](e,17).readonly&&!l["\u0275nov"](e,17)._isNativeSelect||null,l["\u0275nov"](e,17)._ariaDescribedby||null,l["\u0275nov"](e,17).errorState,l["\u0275nov"](e,17).required.toString()]),t(e,21,0,-1,l["\u0275nov"](e,23).datepicker&&l["\u0275nov"](e,23).datepicker.opened,l["\u0275nov"](e,23).datepicker&&"accent"===l["\u0275nov"](e,23).datepicker.color,l["\u0275nov"](e,23).datepicker&&"warn"===l["\u0275nov"](e,23).datepicker.color)}))}},"2Vgt":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var l=n("8Y7J"),a=n("VHTt");class i{constructor(t){this.authService=t,this.xls=!0,this.pdf=!0,this.disabled=!1,this.small=!1,this.dataExport=new l.EventEmitter}ngOnInit(){this.currentUser=this.authService.getCurrentUser()}exportDataAsXls(){this.dataExport.emit(a.a.XLS)}exportDataAsPdf(){this.dataExport.emit(a.a.PDF)}}},"5uTj":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var l=n("8Y7J");class a{constructor(){this.backToClick=new l.EventEmitter}get hasBackToLink(){return!!this.backToClick.observers.length}ngOnInit(){}onBackToClick(){this.backToClick.emit()}}},FIJs:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));class l{constructor(t){t.addLoaderWithPrefixedTranslations("/cabinet/control-center","")}}},IqdZ:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var l=n("8Y7J"),a=(n("/kTj"),n("/ynw"));n("zeHk");class i extends a.a{constructor(t,e,n,a,i,r,o){super(t,e,n,a,i,r),this.session=o,this.theme="material",this.cellClick=new l.EventEmitter,this.filterChanged=new l.EventEmitter,this.gridFiltered=new l.EventEmitter,this.gridRowExpandedClosed=new l.EventEmitter}ngOnInit(){super.isFrenchLang=this.session.currentLanguage.toString().startsWith("fr"),super.ngOnInit()}onCellClicked(t){this.cellClick.emit(t)}setQuickFilter(t){this.agGrid.api.setQuickFilter(t)}onFilterChanged(t){const e=this.agGrid.api.getModel();this.gridFiltered.emit(e.rowsToDisplay),this.filterChanged.emit(t)}onrowGroupOpened(t){this.gridRowExpandedClosed.emit({rowIndex:t.rowIndex,expanded:t.node.expanded})}}},JA3b:function(t,e,n){"use strict";var l=n("8Y7J");n("JItt"),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var a=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;height:calc(100vh - 156px - 48px);background-color:#f5f5f5;padding:20px;margin:0 -20px}.content-body-size-1[_nghost-%COMP%]{height:calc(100vh - 234px - 48px)}.content-body-size-2[_nghost-%COMP%]{height:calc(100vh - 125px - 48px)}.content-body-size-3[_nghost-%COMP%]{height:calc(100vh - 110px - 48px)}.content-body-without-header[_nghost-%COMP%]{height:calc(100vh - 48px)}.content-body-custom[_nghost-%COMP%]{height:calc(100vh - 135px - 48px)}"]],data:{}});function i(t){return l["\u0275vid"](2,[l["\u0275ncd"](null,0)],null,null)}},JItt:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));class l{constructor(){}ngOnInit(){}}},JR9P:function(t,e,n){"use strict";n.r(e);var l=n("8Y7J");class a{constructor(t){t.addLoaderWithPrefixedTranslations("/cabinet/custom-reports/generic-reports","")}}var i=n("pMnS"),r=n("NcP4"),o=n("t68o"),s=n("zbXB"),d=n("GsI2"),u=n("eliu"),c=n("0Xvm"),p=n("VOAG"),g=n("aYrz"),h=n("SZ0J"),m=n("OTv+"),f=n("eeq/"),b=n("/kTj"),v=n("SVse");class x{constructor(){}}var C=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;height:70px;background-color:#fff}.total-item[_ngcontent-%COMP%]{padding:15px 20px;flex:auto;font-size:16px;font-weight:500;text-align:center}.total-item[_ngcontent-%COMP%]:not(:last-of-type){border-right:1px solid #ddd}.total-item-label[_ngcontent-%COMP%]{display:block;color:#404040}.total-item-value[_ngcontent-%COMP%]{display:block;color:#747474}"]],data:{}});function w(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,5,"div",[["class","total-item"]],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,1,"span",[["class","total-item-label"]],null,null,null,null,null)),(t()(),l["\u0275ted"](2,null,["",""])),(t()(),l["\u0275eld"](3,0,null,null,2,"span",[["class","total-item-value"]],null,null,null,null,null)),(t()(),l["\u0275ted"](4,null,["",""])),l["\u0275ppd"](5,2)],null,(function(t,e){t(e,2,0,e.context.$implicit.label);var n=l["\u0275unv"](e,4,0,t(e,5,0,l["\u0275nov"](e.parent,0),e.context.$implicit.value,"cnt"));t(e,4,0,n)}))}function O(t){return l["\u0275vid"](2,[l["\u0275pid"](0,m.a,[f.a,b.b]),(t()(),l["\u0275and"](16777216,null,null,1,null,w)),l["\u0275did"](2,278528,null,0,v.m,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.items)}),null)}var _=n("E+en"),y=n("s7LF"),D=n("ZdEx"),P=n("zXMq"),M=n("2Vgt"),S=n("+2T5"),I=n("UPXx"),F=n("oveR"),R=n("hNGQ"),k=n("+dxm"),T=n("jIY6"),j=n("zeHk"),$=n("+bil"),L=n("S+vS"),A=n("ChPW"),E=n("TSSN"),N=n("Lxd7"),V=(n("f7ga"),n("wd/R")),Y=n("/ynw"),z=n("/gN3"),q=(n("OrbI"),function(t){return t[t.Default=1]="Default",t[t.Primary=10]="Primary",t[t.Secondary=11]="Secondary",t[t.Success=20]="Success",t[t.Info=21]="Info",t[t.Warning=22]="Warning",t[t.Alert=23]="Alert",t}({})),G=n("tFIl");class B extends z.a{constructor(t={}){super(t),this.fill(t,"visibilityType"),this.fill(t,"colorizeType"),this.fill(t,"colorizeRange"),this.fill(t,"colorizeTargetField"),this.fill(t,"colorizeStatus1"),this.fill(t,"colorizeStatus2"),this.fill(t,"fieldCalc")}static fromJson(t){const e={order:+t.colnum,name:t.colName,width:parseInt(t.width,10),field:t.datafield,align:this.mapColumnAlign(t.align),labelFormat:this.mapLabelFormat(t.lf),filter:this.mapColumnFilter(t.filter,t.lf),visibilityType:String(t.State),drillIndex:null===t.DrillColIndx||t.DrillColIndx&&isNaN(t.DrillColIndx)?null:+t.DrillColIndx,editable:G.b.boolean(t.edit),pinned:t.pinned,colorizeType:this.mapColorizeType(t.clrActive),colorizeRange:[G.c.number(t.clrLowerRange),G.c.number(t.clrUpperRange)],colorizeTargetField:G.c.string(t.clrDataField),colorizeStatus1:this.mapColorizeStatus(t.clr1),colorizeStatus2:this.mapColorizeStatus(t.clr2),tooltipField:"ActiveToolTip"===t.fontDataField?t.datafield:"",fieldCalc:t.fieldCalc};return new B(e)}static mapColorizeStatus(t){return{"0xFF0000":q.Alert,"0x00FF00":q.Success,"0x0000FF":q.Info}[t]||q.Default}static mapColorizeType(t){return{1:J.Range,2:J.TargetField}[t]||J.None}static mapLabelFormat(t){const e={date:z.d.Date,amt:z.d.Money,amt2:z.d.Money2,cnt:z.d.Float,reg1:z.d.Float,per:z.d.Percentage,per1:z.d.Percentage1DecWithZeroMantissa,per2:z.d.Percentage2DecWithZeroMantissa,custom:z.d.Custom};return void 0!==e[t]?e[t]:z.d.Default}static mapColumnAlign(t){return{left:z.b.Left,right:z.b.Right,center:z.b.Center}[t]}static mapColumnFilter(t,e){return{amt:z.c.NumberRange,cnt:z.c.NumberRange,reg1:z.c.NumberRange,per:z.c.NumberRange,per1:z.c.NumberRange,per2:z.c.NumberRange}[e]||{none:z.c.String,mRange:z.c.MultiChoice,dRange:z.c.DateRange,nRange:z.c.NumberRange}[t]}}var J=function(t){return t[t.Range=1]="Range",t[t.TargetField=2]="TargetField",t[t.None=3]="None",t}({});class U extends Y.a{constructor(t,e,n,l,a,i){super(t,e,n,l,a,i)}mapValueFormatter(t){let e;return e={[z.d.Date]:({data:e})=>{if(!e)return null;if(isNaN(Date.parse(e[t.field])))return e[t.field];const n=V(e[t.field]);return this.formatter.moment(n,f.b.Date)},[z.d.Custom]:({data:e})=>{if(!e)return null;const n=e[t.field];if("title"===e.labelType)return"";if("% Delta"===t.name)return this.formatter.percentage(n,0);if("% of GP"===t.name)return"per"===e.labelFormat?"":this.formatter.percentage(n,0);switch(e.labelFormat){case"amt":return this.formatter.money(n);case"amt2":return this.formatter.money(n,{fractional:2,noZeroMantissa:!1,currencySign:"$"});case"per":return this.formatter.percentage(n,0);default:return this.formatter.number(n,{fractional:0,noZeroMantissa:!0})}}}[t.labelFormat]||super.mapValueFormatter(t).valueFormatter,{valueFormatter:e}}mapCellStyle(t){const e=new Map,n=n=>{if(e.has(n))return e.get(n);if(t.colorizeType===J.Range){if(+n[t.field]>t.colorizeRange[0])return+n[t.field]<t.colorizeRange[1]?t.colorizeStatus1:t.colorizeStatus2}else if(t.colorizeType===J.TargetField)return+n[t.field]<+n[t.colorizeTargetField]?t.colorizeStatus1:t.colorizeStatus2};return Object.assign({},super.mapCellStyle(t),{cellClassRules:{"has-drill-down":({data:e})=>e&&e.hasDrill&&t.hasDrill,"text--success":({data:t})=>t&&n(t)===q.Success,"text--info":({data:t})=>t&&n(t)===q.Info,"text--alert":({data:t})=>t&&n(t)===q.Alert}})}}var W=n("TUN4"),Z=n("K5C0"),X=n("mvzq"),H=l["\u0275crt"]({encapsulation:0,styles:[I.a],data:{}});function K(t){return l["\u0275vid"](0,[l["\u0275qud"](402653184,1,{grid:0}),l["\u0275qud"](402653184,2,{gridElRef:0}),(t()(),l["\u0275eld"](2,16777216,[[2,0]],null,4,"ag-grid-angular",[["appAgGridDragScroll",""],["class","ag-theme-material"]],null,null,null,F.b,F.a)),l["\u0275prd"](512,null,R.AngularFrameworkOverrides,R.AngularFrameworkOverrides,[l.NgZone]),l["\u0275prd"](512,null,k.AngularFrameworkComponentWrapper,k.AngularFrameworkComponentWrapper,[]),l["\u0275did"](5,4898816,[[1,4],["agGrid",4]],1,T.AgGridAngular,[l.ElementRef,l.ViewContainerRef,R.AngularFrameworkOverrides,k.AngularFrameworkComponentWrapper,l.ComponentFactoryResolver],{gridOptions:[0,"gridOptions"],rowData:[1,"rowData"],columnDefs:[2,"columnDefs"],pinnedBottomRowData:[3,"pinnedBottomRowData"],paginationPageSize:[4,"paginationPageSize"],pagination:[5,"pagination"]},null),l["\u0275qud"](603979776,3,{columns:1})],(function(t,e){var n=e.component;t(e,5,0,n.gridOptions,n.rowData,n.columnDefs,n.pinnedBottomRowData,n.pageSize,n.pagination)}),null)}var Q=n("S5eV"),tt=n("IqdZ"),et=n("XNiG"),nt=n("fFD9"),lt=n("nYR2"),at=n("zp1y");class it{constructor(t,e,n,a,i){this.grd=t,this.budgetApi=e,this.dialog=n,this.translate=a,this.loading=new l.EventEmitter,this.cellValueChanged$=new et.a,this.subs=[],this.debug=i.factory(new.target.name)}get isLoading(){return this._isLoading}set isLoading(t){this._isLoading=t,this.loading.emit(this._isLoading)}set sub(t){this.subs.push(t)}ngOnInit(){this.initGridOptions(),this.initMainStream(),this.initSavingStream()}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe())}initMainStream(){this.sub=this.grd.current$.subscribe(t=>{const e=t.filtersSnapshot.lists["column-switch"];this.debug.assert(void 0!==e,"Column Switch not found. Current: ",t);const n=t.filtersSnapshot.lists.store;this.debug.assert(void 0!==n,"Store ID not found. Current: ",t);const l=t.filtersSnapshot.lists.date;this.debug.assert(void 0!==l,"Date Index not found. Current: ",t);const a=this.budgetApi.getTableColumns(t.reportId,t.tab.tabIndex,e),i=this.budgetApi.getTableRows(t.reportId,t.tab.tabIndex,{storeId:+n,dateIndex:+l});return this.isLoading=!0,a.pipe(Object(nt.a)(i),Object(lt.a)(()=>this.isLoading=!1)).subscribe(([t,e])=>{this.columns=t,this.rows=e})})}initSavingStream(){this.sub=this.cellValueChanged$.pipe(Object(at.a)(this.grd.current$)).subscribe(([t,e])=>{let n=t.newValue.replace(/(^\s+|\s+$|^\s*$)/g,"");""===n&&(n="0");const l=n.replace(/[^\d.-]+/g,"");if(t.data[t.colDef.field]=l,t.api.refreshCells({rowNodes:[t.node]}),!/^[\d.-]+$/.test(n))return void this.dialog.warningT("budget.validation.wrong-value");const a=e.filtersSnapshot.lists.store;this.debug.assert(void 0!==a,"Store ID not found. Current: ",e);const i=e.filtersSnapshot.lists.date;return this.debug.assert(void 0!==i,"Date Index not found. Current: ",e),this.isLoading=!0,this.budgetApi.saveTableRow(e.reportId,e.tab.tabIndex,{storeId:+a,dateIndex:+i},t.data.docLine,t.colDef.field,l).pipe(Object(lt.a)(()=>this.isLoading=!1)).subscribe(()=>{this.debug.log("Saved successful")})})}initGridOptions(){this.options={onCellValueChanged:t=>this.cellValueChanged$.next(t)}}}var rt=n("2Vo4"),ot=n("itXk"),st=n("LRne"),dt=n("Cfvw"),ut=n("pLZG"),ct=n("lJxs"),pt=n("05l1"),gt=n("x+ZX"),ht=n("Kj3r"),mt=n("/uUt"),ft=n("vkgz"),bt=n("eIep"),vt=n("SxV6"),xt=n("w1tV");function Ct({lists:t,inputs:e,dateRange:n},l,a){const i={};if(void 0!==t.date&&(i.dateIndex=t.date),t.instance&&"0"!==t.instance&&(i.instance_id=t.instance),void 0!==t.store&&(a&&t.group&&"0"!==t.group?(i.stateStoresAll=0,i.storeId="0"!==t.store?t.store:a.find(e=>+e.groupIndex==+t.group).stores.map(t=>t.store_id).join(",")):(i.stateStoresAll="0"===t.store?1:0,i.storeId=t.store)),void 0!==e.input1){const t=l.inputs.filter(t=>"input1"===t.name)[0];i.stateTxtInput1=1,i.fieldsTxtInput1=t&&t.data||"",i.valueTxtInput1=e.input1||"-empty-value-"}if(n){const{fromTemplate:e,toTemplate:a,fromField:i,toField:r}=l.dateRange,{beginDate:o,endDate:s}=n,d="".concat(o.month,"-").concat(o.day,"-").concat(o.year," 00:00"),u="".concat(s.month,"-").concat(s.day,"-").concat(s.year," 23:59"),c=":val:",p=(t,e,n)=>console.warn("convertFiltersSnapshotToDataParams(): Field %s used in date-range-picker and in other filters. Value will be overridden. '%s' => '%s' ",t,e,n);void 0!==t[i]&&p(i,t[i],d),void 0!==t[i]&&p(r,t[r],u),t=Object.assign({},t,{[i]:e.replace(c,d),[r]:a.replace(c,u)})}return[{field:"from1",flagParam:"stateFrom1",valueParam:"from1"},{field:"from2",flagParam:"stateFrom1",valueParam:"from2"},{field:"where1",flagParam:"stateWhere1",valueParam:"where1"},{field:"where2",flagParam:"stateWhere2",valueParam:"where2"},{field:"column-switch",flagParam:"stateColumnSwitch",valueParam:"columnSwitch"}].forEach(({field:e,flagParam:n,valueParam:l})=>{void 0!==t[e]&&(i[n]=1,i[l]=t[e])}),i}function wt(t=!1){let e;const n=["column-switch"];return l=>{const a=l&&e&&n.some(t=>l.lists[t]!==e.lists[t]),i=t?!a:!e||a;return e=l,i}}function Ot(t,e){return void 0!==e&&t.items.findIndex(t=>String(t.value)===e)>-1?e:String(null!=t.default?t.default:t.items[0]&&t.items[0].value)}class _t extends G.a{constructor(t={}){super(),this.filters=[],this.busSeg=t.busSeg||null,this.instanceFilter=t.instanceFilter||null,this.storeFilter=t.storeFilter||null,this.storeAllFilter=t.storeAllFilter||null,this.textInput1=t.textInput1||null,this.textInput1Label=t.textInput1Label||null,this.textInput1Fields=t.textInput1Fields||null,this.tabIndex=t.tabIndex||null,this.tabLabel=t.tabLabel||null,this.hideHeader=t.hideHeader||!1,this.summaryRow=t.summaryRow||null,this.summaryLabels=t.summaryLabels instanceof Array?t.summaryLabels.concat():null,this.summaryFields=t.summaryFields instanceof Array?t.summaryFields.concat():null,this.filters=t.filters instanceof Array?t.filters.map(t=>Object.assign({},t)):null,this.dateFilter=t.dateFilter||null,this.dateFilterExternal=t.dateFilterExternal||null,this.dateFilterLabel=t.dateFilterLabel||null,this.budgetEditor=t.budgetEditor||null,this.budgetEditorLabel=t.budgetEditorLabel||null,this.fill(t,"drillDownDataColumnParams")}static fromJson(t){const e={busSeg:!!+t.busSeg,instanceFilter:!!+t.instance_filter,storeFilter:!!+t.storeFilter,storeAllFilter:!!+t.storeFilterAll,textInput1:!!+t.txtInput1,textInput1Label:t.txtInput1Label,textInput1Fields:t.txtInput1Fields,tabIndex:+t.data,tabLabel:t.label,hideHeader:!!+t.hideDGHeader,summaryRow:!!+t.sumRow,summaryLabels:t.sumLabels?String(t.sumLabels).trim().split(/\s*,\s*/):null,summaryFields:t.sumValues?String(t.sumValues).trim().split(/\s*,\s*/):null,filters:[],dateFilter:!!+t.dateFilter,dateFilterExternal:!!+t.dateFilterExternal,dateFilterLabel:t.dateFilterLabel,budgetEditor:!!+t.budgetEntry,budgetEditorLabel:t.budgetName};return+t.cboWhere1&&e.filters.push({field:"where1",label:t.cboWhere1Label}),+t.cboWhere2&&e.filters.push({field:"where2",label:t.cboWhere2Label}),+t.cboFrom1&&e.filters.push({field:"from1",label:t.cboFrom1Label}),+t.cboFrom2&&e.filters.push({field:"from2",label:t.cboFrom2Label}),+t.colSwitch&&e.filters.push({field:"column-switch",label:t.colSwitchLabel}),e.drillDownDataColumnParams=[{columnParamName:"drillParam1",valueParamName:"drillValue1",columnName:G.b.string(t.drillParam1)},{columnParamName:"drillParam2",valueParamName:"drillValue2",columnName:G.b.string(t.drillParam2)},{columnParamName:"drillParam3",valueParamName:"drillValue3",columnName:G.b.string(t.drillParam3)}].filter(t=>null!==t.columnName),new _t(e)}}class yt{constructor(t={}){this.label=t.label||null,this.dateFrom=t.dateFrom||null,this.dateTo=t.dateTo||null;const e=t.dateIndex;this.dateIndex=null==e||isNaN(e)?null:t.dateIndex}static fromJson(t){return new yt({label:t.label,dateIndex:+t.dateindex,dateFrom:t.date_from,dateTo:t.date_to})}}let Dt=(()=>{class t extends z.e{constructor(t={}){super(t)}get hasDrill(){return null!==this.drillRowIndex&&(this.drillType===t.DRILL_TYPE_1||this.drillType===t.DRILL_TYPE_NEW||this.drillType===t.DRILL_TYPE_USED)}getDrillDownData(t){return t.map(t=>Object.assign({},t,{columnValue:this[t.columnName]}))}static fromJson(e){const n={labelFormat:G.b.string(e.lf),labelType:G.b.string(e.lt),drillType:G.b.number(e.drillType),drillRowIndex:G.b.string(e.DrillRowIndx),bold:G.b.boolean(e.bold)},l=["lf","lt","bold","drillType","DrillRowIndx"];return Object.keys(e).filter(t=>-1===l.indexOf(t)).forEach(t=>n[t]=e[t]),new t(n)}}return t.DRILL_TYPE_1=50,t.DRILL_TYPE_2=49,t.DRILL_TYPE_NEW=1,t.DRILL_TYPE_USED=2,t})();var Pt=n("+Wqw");class Mt{constructor(t={}){this.label=t.label||null,this.value=t.value||null}static fromJson(t,e="strWhere"){return new Mt({label:t.label,value:t[e]})}}var St=n("Kqap");function It(t,e,n){return t.pipe(Object(ft.a)(e),Object(St.a)((t,e)=>(t&&t.unsubscribe(),e?t=n(e):null),null)).subscribe()}var Ft=n("VHTt");class Rt{constructor(t,e,n,l,a,i,r,o){this.reportApi=t,this.storeApi=e,this.auth=n,this.userApi=l,this.coreCache=a,this.instanceAppSettingsApi=i,this.translate=r,this.pinnedTotals=new et.a,this.currentReportId$=new rt.a(null),this.currentTab$=new rt.a(null),this.currentFiltersSnapshot$=new rt.a(null),this.tabs$=new rt.a(null),this.columns$=new rt.a(null),this.filters$=new rt.a(null),this.data$=new rt.a(null),this.groups$=new rt.a(null),this.stores$=new rt.a(null),this.currentGroup$=new rt.a(null),this._totals$=new rt.a(null),this.debugSubscriptions=[],this.previousFiltersSnapshot=null,this.salesCountTotal=0,this.totalGrossTotal=0,this.debug=o.factory(new.target.name),this.current$=Object(ot.b)([this.currentReportId$,this.currentTab$,this.currentFiltersSnapshot$]).pipe(Object(ut.a)(([t,e,n])=>!!t&&!!e&&!!n),Object(ct.a)(([t,e,n])=>({reportId:t,tab:e,filtersSnapshot:n})),Object(pt.a)(1),Object(gt.a)()),this.pinnedTotals$=this.pinnedTotals.asObservable(),this.initInternal()}selectReportById(t){this.previousFiltersSnapshot=null,this.currentReportId$.next(t)}selectTab(t){this.currentTab$.next(t)}changeFilters(t){this.currentFiltersSnapshot$.next(t)}setDisabledStateForListFilterItems(t,e,n){const l=this.filters$.getValue();if(!l||!l.lists||!l.lists.length)return;const a=l.lists.findIndex(e=>e.name===t);if(a<0)return void this.debug.warn("disableListFilterItems(). ListFilter not found. Name: %s",t);const i=l.lists[a],r=i.items.map(t=>e.some(e=>t.value===e)?Object.assign({},t,{disabled:n}):t),o=Object.assign({},l,{lists:l.lists.map(t=>t===i?Object.assign({},i,{items:r}):t)});this.filters$.next(o)}applyInternalFiltersForTotals(t){this.getPinnedBottomRowData(this.columns$.getValue(),t.map(t=>t.data))}initInternal(){It(this.currentReportId$,()=>{this.tabs$.next(null),this.currentTab$.next(null)},t=>this.reportApi.getTabs(t).subscribe(t=>this.tabs$.next(t))),this.tabs$.pipe(Object(ut.a)(t=>!!t&&t instanceof Array&&!!t[0]),Object(ct.a)(t=>t[0])).subscribe(t=>this.currentTab$.next(t)),It(this.currentTab$,()=>{this.columns$.next(null)},t=>this.reportApi.getColumns(this.currentReportId$.getValue(),{itemId:t.tabIndex}).subscribe(t=>this.columns$.next(t))),It(this.currentTab$,()=>{this.filters$.next(null),this.currentFiltersSnapshot$.next(this.previousFiltersSnapshot)},t=>{const e=this.currentReportId$.getValue(),n=this.currentTab$.getValue().tabIndex;return this.loadFilters(e,t,n).subscribe(t=>this.filters$.next(t))}),this.filters$.pipe(Object(ut.a)(t=>!!t),Object(ct.a)(t=>function(t,e){const n=t.lists.reduce((t,n)=>Object.assign(t,{[n.name]:Ot(n,e&&e.lists[n.name])}),{}),l=t.inputs.reduce((t,n)=>Object.assign(t,{[n.name]:e&&void 0!==e.inputs[n.name]?e.inputs[n.name]:n.default||""}),{}),a=new Date;return{lists:n,inputs:l,dateRange:e&&e.dateRange?t.dateRange&&e.dateRange:t.dateRange?{beginDate:{year:a.getFullYear(),month:a.getMonth()+1,day:1},endDate:{year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate()}}:null}}(t,this.previousFiltersSnapshot))).subscribe(t=>this.currentFiltersSnapshot$.next(t)),this.currentFiltersSnapshot$.pipe(Object(ut.a)(t=>this.currentTab$.value&&this.currentTab$.value.busSeg&&function(t){return!!(t&&t.lists&&t.lists.group)}(t)),Object(ct.a)(t=>t.lists.group),Object(ut.a)(t=>this.currentGroup$.getValue()!==t),Object(ht.a)(100),Object(mt.a)()).subscribe(t=>this.currentGroup$.next(t)),this.currentFiltersSnapshot$.pipe(Object(ut.a)(t=>!!t),Object(ft.a)(t=>this.previousFiltersSnapshot=t),Object(ut.a)(wt(!0)),Object(ht.a)(100),Object(mt.a)(),Object(ft.a)(()=>this.data$.next(null)),Object(bt.a)(t=>{const e=this.currentTab$.getValue().tabIndex,n=this.currentReportId$.getValue(),l=Ct(t,this.filters$.getValue(),this.groups$.getValue());return this.reportApi.getData(n,Object.assign({itemId:e},l))}),Object(at.a)(this.instanceAppSettingsApi.settings$,this.coreCache.storesById$.pipe(Object(vt.a)()))).subscribe(([{data:t},e,n])=>{for(const l of t)if(l.sn){const t=n.get(+l.sn);t&&(l.sn=t[e.storeNameType])}this.data$.next(t)}),this.totals$=this._totals$.pipe(Object(ut.a)(t=>!!t));const t=Object(ot.b)([this.tabs$,this.columns$,this.filters$,this.data$]);this.loading$=t.pipe(Object(ct.a)(([t,e,n,l])=>!(t&&e&&n&&l)),Object(mt.a)(),Object(xt.a)()),this.report$=t.pipe(Object(ut.a)(([t,e,n,l])=>!!(t&&e&&n&&l)),Object(ct.a)(([t,e,n,l])=>Object.assign({tabs:t,columns:e,filters:n,data:l},this.getPinnedBottomRowData(e,l))),Object(pt.a)(1),Object(gt.a)())}getPinnedBottomRowData(t,e){const n=[];let l=2;if(t.length){const a=["sdid","sId","stryear","days"],i=t=>{if(t.hasNumericFormat||t.hasDefaultFormat){let n=e.reduce((e,n)=>+n[t.field]+e,0);const a=this.currentReportId$.getValue();return(t.name.toLowerCase().indexOf("avg")>-1||"avg"===t.fieldCalc)&&(721===a?n=0===this.salesCountTotal?0:this.totalGrossTotal/this.salesCountTotal:n/=e.length,l=0),721===a&&(t.name.toLowerCase().indexOf("sales count")>-1&&(this.salesCountTotal=n),t.name.toLowerCase().indexOf("total gross")>-1&&(this.totalGrossTotal=n)),isNaN(n)?"":t.hasDefaultFormat?n.toFixed(l):n}return""},r=t.filter(t=>!a.find(e=>e===t.field)).reduce((t,e,n)=>Object.assign(t,{[e.field]:0===n?"Total":i(e)}),{});t.map(t=>{if(t.fieldCalc){if(t.fieldCalc.indexOf("empty")>-1)return void delete r[t.field];r[t.field]=this.getTotalValue(r,t.fieldCalc,t.field)||0}}),n.push(r),this.pinnedTotals.next(n);const o=[];n.map(e=>Object.keys(e).filter(t=>""!==e[t]&&!isNaN(e[t])).forEach(n=>{o.push({label:t.find(t=>t.field===n).name,value:e[n]})})),this._totals$.next(o)}return{pinnedBottomRowData:n}}getTotalValue(t,e,n){if(e.indexOf("/")>-1){const n=e.split("/")[0].trim(),l=e.split("/")[1].trim();return(t[n]/(t[l]&&0!==t[l]?t[l]:1)).toFixed(2)}return e.indexOf("empty")>-1?"":t[n]}loadFilters(t,e,n){const l=e.filters.length?Object(ot.b)(e.filters.map(e=>this.reportApi.getFilterConfig(t,e.field,n))).pipe(Object(ct.a)(t=>t.map((t,n)=>Object.assign({},t,{label:e.filters[n].label,field:e.filters[n].field}))),Object(xt.a)()):Object(st.a)([]),a=Object(ot.b)(l,this.translate.stream("filter.daterange.name")).pipe(Object(ct.a)(([t,e])=>{if(2!==(t=t.filter(t=>"date-range-picker"===t.type)).length)return null;const n=t.sort((t,e)=>+t.data.index<+e.data.index?-1:+t.data.index>+e.data.index?1:0).map(t=>t.data.template);return{label:e,fromTemplate:n[0],fromField:t[0].field,toTemplate:n[1],toField:t[1].field}})),i=l.pipe(Object(ct.a)(t=>t.filter(t=>["combo-box","combo-box--where"].indexOf(t.type)>-1).map(t=>{const e=t.data;return{label:t.label,name:t.field,items:e.map(({label:t,value:e})=>({name:t,value:String(e)})),default:e[0]&&String(e[0].value)}})));Object(dt.a)(this.userApi.getComplexData()).subscribe(t=>{this.groups$.next(t.storegroups);const e=t.stores.map(t=>Ft.c.fromJson(t));this.stores$.next(e)});const r=e.busSeg?Object(ot.b)(this.groups$.pipe(Object(ut.a)(t=>!!t)),this.translate.stream("filter.business-segment.name"),this.translate.stream("filter.business-segment.all-item")).pipe(Object(ct.a)(([t,e,n])=>{const l=t.map(t=>({name:t.name,value:String(t.groupIndex)}));return l.find(t=>"0"===t.value)||l.unshift({name:n,value:"0"}),{label:e+":",name:"group",items:l,default:l[0]&&l[0].value}})):Object(st.a)(null),o=e.storeAllFilter||e.storeFilter?Object(ot.b)(this.stores$.pipe(Object(ut.a)(t=>!!t)),this.groups$.pipe(Object(ut.a)(t=>!!t)),this.currentGroup$,this.instanceAppSettingsApi.settings$,this.translate.stream("filter.store.name"),this.translate.stream("filter.store.all-item")).pipe(Object(ct.a)(([t,n,l,a,i,r])=>{if(e.busSeg&&l&&+l){const e=n.find(t=>+t.groupIndex==+l);e&&(t=t.filter(t=>!!e.stores.find(e=>+e.store_id==+t.id)))}t.sort((t,e)=>t.position>e.position?1:e.position>t.position?-1:0);const o=t.map(t=>({name:t[a.storeNameType],value:String(t.id)}));return e.storeAllFilter&&o.unshift({name:r,value:"0"}),{label:i+":",name:"store",items:o,default:o[0]&&o[0].value}})):Object(st.a)(null),s=e.instanceFilter?Object(ot.b)(this.reportApi.getInstances(),this.translate.stream("filter.instance.name"),this.translate.stream("filter.instance.all-item")).pipe(Object(ct.a)(([t,e,n])=>{const l=t.map(t=>({name:t.label,value:String(t.id)}));return{label:e+":",name:"instance",items:l,default:l[0]&&l[0].value}})):Object(st.a)(null),d=e.dateFilter?Object(ot.b)(e.dateFilterExternal?this.reportApi.getDateList(t):Object(dt.a)(this.userApi.getComplexData()).pipe(Object(ct.a)(t=>t.month.map(t=>yt.fromJson(t)))),this.translate.stream("filter.date-range.name")).pipe(Object(ct.a)(([t,n])=>({label:e.dateFilterLabel||n+":",name:"date",items:t.map(t=>({name:t.label,value:String(t.dateIndex)})),default:t[0]&&String(t[0].dateIndex)}))):Object(st.a)(null),u=Object(ot.b)([r,o,s,d,i]).pipe(Object(ct.a)(([t,e,n,l,a])=>[t,e,n,l,...a])),c=e.textInput1?Object(st.a)({name:"input1",label:e.textInput1Label,data:e.textInput1Fields,default:""}):Object(st.a)(null),p=Object(ot.b)([c]);return Object(ot.b)(u,p,a).pipe(Object(ct.a)(([t,e,n])=>({lists:t.filter(t=>!!t),inputs:e.filter(t=>!!t),dateRange:n})))}initDebug(){this.addDebugLoggerToStream("currentReportId$"),this.addDebugLoggerToStream("currentTab$"),this.addDebugLoggerToStream("_currentFiltersSnapshot$"),this.addDebugLoggerToStream("currentTab$"),this.addDebugLoggerToStream("currentFiltersSnapshot$"),this.addDebugLoggerToStream("tabs$"),this.addDebugLoggerToStream("filters$"),this.addDebugLoggerToStream("columns$"),this.addDebugLoggerToStream("data$"),setTimeout(()=>{this.addDebugLoggerToStream("report$"),this.addDebugLoggerToStream("loading$")},0)}destroyDebug(){this.debugSubscriptions.forEach(t=>t.unsubscribe())}addDebugLoggerToStream(t){const e=this[t].subscribe(e=>console.log("DEBUG:NEXT:GenericReport#".concat(t,"::"),e),e=>console.log("DEBUG:ERROR:GenericReport#".concat(t,"::"),e),()=>console.log("DEBUG:COMPLETE:GenericReport#".concat(t)));this.debugSubscriptions.push(e)}}class kt extends z.a{constructor(){super(...arguments),this.customFormatter=t=>String(+t||0)}static fromJson(t){const e={order:G.b.number(t.colnum),name:G.b.string(t.colName),width:G.b.number(t.width),field:G.b.string(t.datafield),align:this.mapColumnAlign(t.align),labelFormat:this.mapLabelFormat(t.lf),editable:G.b.boolean(t.edit)};return new kt(e)}static mapColumnAlign(t){return{left:z.b.Left,right:z.b.Right,center:z.b.Center}[t]}static mapLabelFormat(t){return null===t?z.d.Custom:z.d.Default}}class Tt{constructor(t,e){this.api=t,this.baseUrl="genericrepts",this.debug=e.factory(new.target.name)}getTableColumns(t,e,n){return this.api.get("".concat(this.baseUrl,"/read-budget-col"),{params:{reptIndex:t,itemId:e,colSwitch:n}}).pipe(Object(ct.a)(t=>t.map(t=>kt.fromJson(t))))}getTableRows(t,e,n){return this.api.get("".concat(this.baseUrl,"/read-budget-data"),{params:{reptIndex:t,itemId:e,storeId:n.storeId,dateIndex:n.dateIndex}}).pipe(Object(ct.a)(t=>t.map(t=>new z.e(t))))}saveTableRow(t,e,n,l,a,i){return this.api.post("".concat(this.baseUrl,"/save-budget-data"),{params:{reptIndex:t,itemId:e,storeId:n.storeId,dateIndex:n.dateIndex,docLine:l,field:a,value:i}})}}var jt=l["\u0275crt"]({encapsulation:0,styles:["[_nghost-%COMP%] {\n        position: relative;\n    }\n    app-default-grid[_ngcontent-%COMP%] {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n    }"],data:{}});function $t(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,2,"app-default-grid",[],null,null,null,Q.b,Q.a)),l["\u0275prd"](512,null,j.a,j.a,[$.a,L.a,A.a,E.j,N.a]),l["\u0275did"](2,4964352,null,0,tt.a,[f.a,j.a,W.a,Z.a,X.a,b.b,S.a],{data:[0,"data"],columns:[1,"columns"],customGridOptions:[2,"customGridOptions"],loading:[3,"loading"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.rows,n.columns,n.options,n.isLoading)}),null)}var Lt=n("uNm5"),At=n("5uTj"),Et=n("MlvX"),Nt=n("Xd0L"),Vt=n("dJrM"),Yt=n("HsOI"),zt=n("IP0z"),qt=n("/HVE"),Gt=n("omvX"),Bt=n("Azqq"),Jt=n("JjoW"),Ut=n("hOhj"),Wt=n("5GAg");class Zt{constructor(){this.tabChange=new l.EventEmitter,this.currentTabIndex=1}ngOnInit(){}ngOnChanges(t){t.tabs&&this.tabs&&this.tabs[0]&&(this.currentTab=this.tabs[0],this.currentTabIndex=1)}selectTab(t){this.currentTab=this.tabs.find(t=>t.tabIndex===+this.currentTabIndex),this.tabChange.emit(this.currentTab)}}var Xt=l["\u0275crt"]({encapsulation:0,styles:["[_nghost-%COMP%] {\n        display: block;\n        padding-top: 10px;\n    }"],data:{}});function Ht(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==l["\u0275nov"](t,1)._selectViaInteraction()&&a),"keydown"===e&&(a=!1!==l["\u0275nov"](t,1)._handleKeydown(n)&&a),a}),Et.b,Et.a)),l["\u0275did"](1,8568832,[[10,4]],0,Nt.p,[l.ElementRef,l.ChangeDetectorRef,[2,Nt.j],[2,Nt.o]],{value:[0,"value"]},null),(t()(),l["\u0275ted"](2,0,["",""]))],(function(t,e){t(e,1,0,e.context.$implicit.tabIndex)}),(function(t,e){t(e,0,0,l["\u0275nov"](e,1)._getTabIndex(),l["\u0275nov"](e,1).selected,l["\u0275nov"](e,1).multiple,l["\u0275nov"](e,1).active,l["\u0275nov"](e,1).id,l["\u0275nov"](e,1)._getAriaSelected(),l["\u0275nov"](e,1).disabled.toString(),l["\u0275nov"](e,1).disabled),t(e,2,0,e.context.$implicit.tabLabel)}))}function Kt(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,23,"mat-form-field",[["class","filter-group-item mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Vt.b,Vt.a)),l["\u0275did"](1,7520256,null,9,Yt.c,[l.ElementRef,l.ChangeDetectorRef,[2,Nt.h],[2,zt.b],[2,Yt.a],qt.a,l.NgZone,[2,Gt.a]],null,null),l["\u0275qud"](603979776,1,{_controlNonStatic:0}),l["\u0275qud"](335544320,2,{_controlStatic:0}),l["\u0275qud"](603979776,3,{_labelChildNonStatic:0}),l["\u0275qud"](335544320,4,{_labelChildStatic:0}),l["\u0275qud"](603979776,5,{_placeholderChild:0}),l["\u0275qud"](603979776,6,{_errorChildren:1}),l["\u0275qud"](603979776,7,{_hintChildren:1}),l["\u0275qud"](603979776,8,{_prefixChildren:1}),l["\u0275qud"](603979776,9,{_suffixChildren:1}),(t()(),l["\u0275eld"](11,0,null,1,12,"mat-select",[["class","mat-select"],["role","listbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(t,e,n){var a=!0,i=t.component;return"keydown"===e&&(a=!1!==l["\u0275nov"](t,16)._handleKeydown(n)&&a),"focus"===e&&(a=!1!==l["\u0275nov"](t,16)._onFocus()&&a),"blur"===e&&(a=!1!==l["\u0275nov"](t,16)._onBlur()&&a),"ngModelChange"===e&&(a=!1!==(i.currentTabIndex=n)&&a),"ngModelChange"===e&&(a=!1!==i.selectTab(i.currentTab)&&a),a}),Bt.b,Bt.a)),l["\u0275prd"](6144,null,Nt.j,null,[Jt.c]),l["\u0275did"](13,671744,null,0,y.v,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,y.r,null,[y.v]),l["\u0275did"](15,16384,null,0,y.s,[[4,y.r]],null,null),l["\u0275did"](16,2080768,null,3,Jt.c,[Ut.i,l.ChangeDetectorRef,l.NgZone,Nt.b,l.ElementRef,[2,zt.b],[2,y.u],[2,y.k],[2,Yt.c],[6,y.r],[8,null],Jt.a,Wt.j],{placeholder:[0,"placeholder"]},null),l["\u0275qud"](603979776,10,{options:1}),l["\u0275qud"](603979776,11,{optionGroups:1}),l["\u0275qud"](603979776,12,{customTrigger:0}),l["\u0275pid"](131072,E.i,[E.j,l.ChangeDetectorRef]),l["\u0275prd"](2048,[[1,4],[2,4]],Yt.d,null,[Jt.c]),(t()(),l["\u0275and"](16777216,null,1,1,null,Ht)),l["\u0275did"](23,278528,null,0,v.m,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,13,0,n.currentTabIndex),t(e,16,0,l["\u0275unv"](e,16,0,l["\u0275nov"](e,20).transform("filter.view.caption"))),t(e,23,0,n.tabs)}),(function(t,e){t(e,0,1,["standard"==l["\u0275nov"](e,1).appearance,"fill"==l["\u0275nov"](e,1).appearance,"outline"==l["\u0275nov"](e,1).appearance,"legacy"==l["\u0275nov"](e,1).appearance,l["\u0275nov"](e,1)._control.errorState,l["\u0275nov"](e,1)._canLabelFloat,l["\u0275nov"](e,1)._shouldLabelFloat(),l["\u0275nov"](e,1)._hasFloatingLabel(),l["\u0275nov"](e,1)._hideControlPlaceholder(),l["\u0275nov"](e,1)._control.disabled,l["\u0275nov"](e,1)._control.autofilled,l["\u0275nov"](e,1)._control.focused,"accent"==l["\u0275nov"](e,1).color,"warn"==l["\u0275nov"](e,1).color,l["\u0275nov"](e,1)._shouldForward("untouched"),l["\u0275nov"](e,1)._shouldForward("touched"),l["\u0275nov"](e,1)._shouldForward("pristine"),l["\u0275nov"](e,1)._shouldForward("dirty"),l["\u0275nov"](e,1)._shouldForward("valid"),l["\u0275nov"](e,1)._shouldForward("invalid"),l["\u0275nov"](e,1)._shouldForward("pending"),!l["\u0275nov"](e,1)._animationsEnabled]),t(e,11,1,[l["\u0275nov"](e,15).ngClassUntouched,l["\u0275nov"](e,15).ngClassTouched,l["\u0275nov"](e,15).ngClassPristine,l["\u0275nov"](e,15).ngClassDirty,l["\u0275nov"](e,15).ngClassValid,l["\u0275nov"](e,15).ngClassInvalid,l["\u0275nov"](e,15).ngClassPending,l["\u0275nov"](e,16).id,l["\u0275nov"](e,16).tabIndex,l["\u0275nov"](e,16)._getAriaLabel(),l["\u0275nov"](e,16)._getAriaLabelledby(),l["\u0275nov"](e,16).required.toString(),l["\u0275nov"](e,16).disabled.toString(),l["\u0275nov"](e,16).errorState,l["\u0275nov"](e,16).panelOpen?l["\u0275nov"](e,16)._optionIds:null,l["\u0275nov"](e,16).multiple,l["\u0275nov"](e,16)._ariaDescribedby||null,l["\u0275nov"](e,16)._getAriaActiveDescendant(),l["\u0275nov"](e,16).disabled,l["\u0275nov"](e,16).errorState,l["\u0275nov"](e,16).required,l["\u0275nov"](e,16).empty])}))}var Qt=n("2F3X"),te=n("8CZ8"),ee=n("fgD+"),ne=n("bQ1K");class le{constructor(t,e){this.translate=t,this.cd=e,this.filtersSnapshot={lists:{},inputs:{},dateRange:null},this.filtersChange=new l.EventEmitter,this.dateRange=""}ngOnInit(){}ngOnChanges(){this.filtersSnapshot&&this.filtersSnapshot.dateRange&&this.setValueRange()}setValueRange(){const{beginDate:t,endDate:e}=this.filtersSnapshot.dateRange;this.dateRange="".concat(t.month,"-").concat(t.day,"-").concat(t.year)+"|"+"".concat(e.month,"-").concat(e.day,"-").concat(e.year)}dateRangeChanged(t){const[e,n]=t.split("|"),l={day:e.split("-")[2],month:e.split("-")[1],year:e.split("-")[0]},a={day:n.split("-")[2],month:n.split("-")[1],year:n.split("-")[0]};this.dateRange=t,this.changeFilters({lists:Object.assign({},this.filtersSnapshot.lists),inputs:Object.assign({},this.filtersSnapshot.inputs),dateRange:{endDate:a,beginDate:l}}),this.cd.markForCheck()}listChanged(t,e){"group"===t.name&&(this.filtersSnapshot.lists.store="0"),this.changeFilters({lists:Object.assign({},this.filtersSnapshot.lists,{[t.name]:e}),inputs:Object.assign({},this.filtersSnapshot.inputs),dateRange:this.filtersSnapshot.dateRange?Object.assign({},this.filtersSnapshot.dateRange):null}),this.cd.markForCheck()}inputChanged(t,e){this.changeFilters({lists:Object.assign({},this.filtersSnapshot.lists),inputs:Object.assign({},this.filtersSnapshot.inputs,{[t.name]:e}),dateRange:this.filtersSnapshot.dateRange?Object.assign({},this.filtersSnapshot.dateRange):null}),this.cd.markForCheck()}changeFilters(t){this.filtersChange.emit(t)}}var ae=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;align-items:center;flex-wrap:wrap}[_nghost-%COMP%]     .mydrp{border:0}[_nghost-%COMP%]     .mydrp .selectiongroup{width:180px}.filter[_ngcontent-%COMP%]{display:inline-block;margin-top:5px;margin-bottom:5px}.filter[_ngcontent-%COMP%]:not(:last-child){margin-right:15px}[_nghost-%COMP%]     .filter .label{font-weight:400}.filter--list-box[_ngcontent-%COMP%]{display:inline-block}.filter--list-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:700}.filter--date-range[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.filter--date-range[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;font-weight:700}.filters-block[_ngcontent-%COMP%]{height:70px;padding:10px 20px 20px}.filter-group-item[_ngcontent-%COMP%]{margin-right:20px}"]],data:{}});function ie(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(t,e,n){var a=!0;return"click"===e&&(a=!1!==l["\u0275nov"](t,1)._selectViaInteraction()&&a),"keydown"===e&&(a=!1!==l["\u0275nov"](t,1)._handleKeydown(n)&&a),a}),Et.b,Et.a)),l["\u0275did"](1,8568832,[[10,4]],0,Nt.p,[l.ElementRef,l.ChangeDetectorRef,[2,Nt.j],[2,Nt.o]],{value:[0,"value"]},null),(t()(),l["\u0275ted"](2,0,["",""]))],(function(t,e){t(e,1,0,l["\u0275inlineInterpolate"](1,"",e.context.$implicit.value,""))}),(function(t,e){t(e,0,0,l["\u0275nov"](e,1)._getTabIndex(),l["\u0275nov"](e,1).selected,l["\u0275nov"](e,1).multiple,l["\u0275nov"](e,1).active,l["\u0275nov"](e,1).id,l["\u0275nov"](e,1)._getAriaSelected(),l["\u0275nov"](e,1).disabled.toString(),l["\u0275nov"](e,1).disabled),t(e,2,0,e.context.$implicit.name)}))}function re(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,22,"mat-form-field",[["class","filter-group-item mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Vt.b,Vt.a)),l["\u0275did"](1,7520256,null,9,Yt.c,[l.ElementRef,l.ChangeDetectorRef,[2,Nt.h],[2,zt.b],[2,Yt.a],qt.a,l.NgZone,[2,Gt.a]],null,null),l["\u0275qud"](603979776,1,{_controlNonStatic:0}),l["\u0275qud"](335544320,2,{_controlStatic:0}),l["\u0275qud"](603979776,3,{_labelChildNonStatic:0}),l["\u0275qud"](335544320,4,{_labelChildStatic:0}),l["\u0275qud"](603979776,5,{_placeholderChild:0}),l["\u0275qud"](603979776,6,{_errorChildren:1}),l["\u0275qud"](603979776,7,{_hintChildren:1}),l["\u0275qud"](603979776,8,{_prefixChildren:1}),l["\u0275qud"](603979776,9,{_suffixChildren:1}),(t()(),l["\u0275eld"](11,0,null,1,11,"mat-select",[["class","mat-select"],["role","listbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(t,e,n){var a=!0,i=t.component;return"keydown"===e&&(a=!1!==l["\u0275nov"](t,16)._handleKeydown(n)&&a),"focus"===e&&(a=!1!==l["\u0275nov"](t,16)._onFocus()&&a),"blur"===e&&(a=!1!==l["\u0275nov"](t,16)._onBlur()&&a),"ngModelChange"===e&&(a=!1!==((null==i.filtersSnapshot?null:i.filtersSnapshot.lists)[t.context.$implicit.name]=n)&&a),"ngModelChange"===e&&(a=!1!==i.listChanged(t.context.$implicit,null==i.filtersSnapshot?null:i.filtersSnapshot.lists[t.context.$implicit.name])&&a),a}),Bt.b,Bt.a)),l["\u0275prd"](6144,null,Nt.j,null,[Jt.c]),l["\u0275did"](13,671744,null,0,y.v,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,y.r,null,[y.v]),l["\u0275did"](15,16384,null,0,y.s,[[4,y.r]],null,null),l["\u0275did"](16,2080768,null,3,Jt.c,[Ut.i,l.ChangeDetectorRef,l.NgZone,Nt.b,l.ElementRef,[2,zt.b],[2,y.u],[2,y.k],[2,Yt.c],[6,y.r],[8,null],Jt.a,Wt.j],{placeholder:[0,"placeholder"]},null),l["\u0275qud"](603979776,10,{options:1}),l["\u0275qud"](603979776,11,{optionGroups:1}),l["\u0275qud"](603979776,12,{customTrigger:0}),l["\u0275prd"](2048,[[1,4],[2,4]],Yt.d,null,[Jt.c]),(t()(),l["\u0275and"](16777216,null,1,1,null,ie)),l["\u0275did"](22,278528,null,0,v.m,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,13,0,null==n.filtersSnapshot?null:n.filtersSnapshot.lists[e.context.$implicit.name]),t(e,16,0,e.context.$implicit.label),t(e,22,0,e.context.$implicit.items)}),(function(t,e){t(e,0,1,["standard"==l["\u0275nov"](e,1).appearance,"fill"==l["\u0275nov"](e,1).appearance,"outline"==l["\u0275nov"](e,1).appearance,"legacy"==l["\u0275nov"](e,1).appearance,l["\u0275nov"](e,1)._control.errorState,l["\u0275nov"](e,1)._canLabelFloat,l["\u0275nov"](e,1)._shouldLabelFloat(),l["\u0275nov"](e,1)._hasFloatingLabel(),l["\u0275nov"](e,1)._hideControlPlaceholder(),l["\u0275nov"](e,1)._control.disabled,l["\u0275nov"](e,1)._control.autofilled,l["\u0275nov"](e,1)._control.focused,"accent"==l["\u0275nov"](e,1).color,"warn"==l["\u0275nov"](e,1).color,l["\u0275nov"](e,1)._shouldForward("untouched"),l["\u0275nov"](e,1)._shouldForward("touched"),l["\u0275nov"](e,1)._shouldForward("pristine"),l["\u0275nov"](e,1)._shouldForward("dirty"),l["\u0275nov"](e,1)._shouldForward("valid"),l["\u0275nov"](e,1)._shouldForward("invalid"),l["\u0275nov"](e,1)._shouldForward("pending"),!l["\u0275nov"](e,1)._animationsEnabled]),t(e,11,1,[l["\u0275nov"](e,15).ngClassUntouched,l["\u0275nov"](e,15).ngClassTouched,l["\u0275nov"](e,15).ngClassPristine,l["\u0275nov"](e,15).ngClassDirty,l["\u0275nov"](e,15).ngClassValid,l["\u0275nov"](e,15).ngClassInvalid,l["\u0275nov"](e,15).ngClassPending,l["\u0275nov"](e,16).id,l["\u0275nov"](e,16).tabIndex,l["\u0275nov"](e,16)._getAriaLabel(),l["\u0275nov"](e,16)._getAriaLabelledby(),l["\u0275nov"](e,16).required.toString(),l["\u0275nov"](e,16).disabled.toString(),l["\u0275nov"](e,16).errorState,l["\u0275nov"](e,16).panelOpen?l["\u0275nov"](e,16)._optionIds:null,l["\u0275nov"](e,16).multiple,l["\u0275nov"](e,16)._ariaDescribedby||null,l["\u0275nov"](e,16)._getAriaActiveDescendant(),l["\u0275nov"](e,16).disabled,l["\u0275nov"](e,16).errorState,l["\u0275nov"](e,16).required,l["\u0275nov"](e,16).empty])}))}function oe(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),l["\u0275ted"](1,null,["",""]))],null,(function(t,e){t(e,1,0,e.parent.context.$implicit.label)}))}function se(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn--color-primary btn--small btn--empty"]],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.inputChanged(t.parent.context.$implicit,n.srcElement.previousElementSibling.value)&&l),l}),null,null)),(t()(),l["\u0275eld"](1,0,null,null,0,"span",[["class","icon-search"]],null,null,null,null,null))],null,null)}function de(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,10,"label",[["class","filter filter--input-filter"]],null,null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,1,null,oe)),l["\u0275did"](2,16384,null,0,v.n,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275eld"](3,0,null,null,5,"input",[["class","input__text form-control"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var a=!0,i=t.component;return"input"===e&&(a=!1!==l["\u0275nov"](t,4)._handleInput(n.target.value)&&a),"blur"===e&&(a=!1!==l["\u0275nov"](t,4).onTouched()&&a),"compositionstart"===e&&(a=!1!==l["\u0275nov"](t,4)._compositionStart()&&a),"compositionend"===e&&(a=!1!==l["\u0275nov"](t,4)._compositionEnd(n.target.value)&&a),"change"===e&&(a=!1!==(!t.context.$implicit.applyButton&&i.inputChanged(t.context.$implicit,n.target.value))&&a),a}),null,null)),l["\u0275did"](4,16384,null,0,y.e,[l.Renderer2,l.ElementRef,[2,y.a]],null,null),l["\u0275prd"](1024,null,y.q,(function(t){return[t]}),[y.e]),l["\u0275did"](6,671744,null,0,y.v,[[8,null],[8,null],[8,null],[6,y.q]],{model:[0,"model"]},null),l["\u0275prd"](2048,null,y.r,null,[y.v]),l["\u0275did"](8,16384,null,0,y.s,[[4,y.r]],null,null),(t()(),l["\u0275and"](16777216,null,null,1,null,se)),l["\u0275did"](10,16384,null,0,v.n,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,e.context.$implicit.name),t(e,6,0,n.filtersSnapshot.inputs[e.context.$implicit.name]),t(e,10,0,e.context.$implicit.applyButton)}),(function(t,e){t(e,3,0,e.context.$implicit.placeholder||"",l["\u0275nov"](e,8).ngClassUntouched,l["\u0275nov"](e,8).ngClassTouched,l["\u0275nov"](e,8).ngClassPristine,l["\u0275nov"](e,8).ngClassDirty,l["\u0275nov"](e,8).ngClassValid,l["\u0275nov"](e,8).ngClassInvalid,l["\u0275nov"](e,8).ngClassPending)}))}function ue(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,4,"label",[["class","date-range"]],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,3,"app-datepicker-range",[],null,[[null,"dateChange"]],(function(t,e,n){var l=!0;return"dateChange"===e&&(l=!1!==t.component.dateRangeChanged(n)&&l),l}),Qt.b,Qt.a)),l["\u0275prd"](4608,null,te.a,ee.a,[te.e]),l["\u0275did"](3,114688,null,0,ne.a,[],{placeholder:[0,"placeholder"],value:[1,"value"]},{dateChange:"dateChange"}),l["\u0275prd"](256,null,te.d,ne.b,[])],(function(t,e){var n=e.component;t(e,3,0,n.filters.dateRange.label,n.dateRange)}),null)}function ce(t){return l["\u0275vid"](2,[(t()(),l["\u0275eld"](0,0,null,null,6,"div",[["class","filters-block"]],null,null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,1,null,re)),l["\u0275did"](2,278528,null,0,v.m,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,de)),l["\u0275did"](4,278528,null,0,v.m,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,ue)),l["\u0275did"](6,16384,null,0,v.n,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,null==n.filters?null:n.filters.lists),t(e,4,0,null==n.filters?null:n.filters.inputs),t(e,6,0,(null==n.filters?null:n.filters.dateRange)&&n.filtersSnapshot)}),null)}var pe=n("JA3b"),ge=n("JItt"),he=n("zp2H"),me=n("v67E"),fe=n("2v1Z");n("8Gnb");class be{constructor(t){this.grdd=t,this.data=[],this.tempData=[],this.loading=!1,this.countFilter="all",this.subs=[]}set sub(t){this.subs.push(t)}ngOnInit(){this.setup$=this.grdd.drillDown$.pipe(Object(ct.a)(t=>t.setup),Object(mt.a)()),this.columns$=this.grdd.drillDown$.pipe(Object(ct.a)(t=>t.columns),Object(mt.a)()),this.grdd.drillDown$.pipe(Object(ct.a)(t=>t.data),Object(mt.a)()).subscribe(t=>{this.tempData=t,this.data=t,this.countFilter="all"}),this.loading$=this.grdd.loading$,this.sub=this.setup$.subscribe(t=>this.title=t&&t.title),this.sub=this.loading$.subscribe(t=>this.loading=t)}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe())}open(t,e){this.grdd.changeParams(t),this.fileName=e,this.modal.showModal()}closed(){this.title="",this.grdd.changeParams(null)}modelChanged(t){this.rowCount="true"===this.isSalesDetail?this.salesDetailCount:t.getRowCount()}exportDataAs(t){switch(t){case Ft.a.XLS:this.table.exportDataAsXls(this.fileName);break;case Ft.a.PDF:this.table.exportDataAsPdf(this.fileName);break;default:console.warn("GenericReportDrillDown#exportDataAs: unsupported format")}}onCountOptionChange(){this.data="all"===this.countFilter?this.tempData:this.tempData.filter(t=>+t.TotalSale+ +t.TotalCost!=0)}}class ve{constructor(t,e){this.drillDownApi=t,this.gr=e,this.currentBaseDrillDownParams$=new rt.a(null),this.setup$=new rt.a(null),this.columns$=new rt.a(null),this.data$=new rt.a(null),this.debugSubscriptions=[],this.init()}changeParams(t){this.currentBaseDrillDownParams$.next(t)}init(){this.currentDrillDownParams$=this.currentBaseDrillDownParams$.pipe(Object(at.a)(this.gr.current$),Object(ct.a)(([t,e])=>t?Object.assign({},t,{reportId:e.reportId,tabIndex:e.tab.tabIndex,filtersSnapshot:e.filtersSnapshot}):null)),It(this.currentDrillDownParams$,()=>{this.setup$.next(null),this.columns$.next(null),this.data$.next(null)},t=>this.drillDownApi.getSetup(t).subscribe(t=>this.setup$.next(t))),It(this.currentDrillDownParams$,()=>{},t=>this.drillDownApi.getColumns(t).subscribe(t=>this.columns$.next(t))),It(this.currentDrillDownParams$.pipe(Object(nt.a)(this.gr.report$.pipe(Object(ct.a)(t=>t.filters))),Object(ct.a)(([t,e])=>t&&e?[t,e]:null)),()=>{},([t,e])=>{const n=Ct(t.filtersSnapshot,e);if(void 0!==t.filtersSnapshot.lists["column-switch"]){const l=e.lists.find(t=>"column-switch"===t.name).items.find(e=>e.value===t.filtersSnapshot.lists["column-switch"]);n.period=l&&l.name}return this.drillDownApi.getData(t,n).subscribe(t=>this.data$.next(t))});const t=this.setup$.pipe(Object(nt.a)(this.columns$,this.data$));this.loading$=t.pipe(Object(ct.a)(([t,e,n])=>!t||!e||!n),Object(mt.a)(),Object(xt.a)()),this.drillDown$=t.pipe(Object(ut.a)(([t,e,n])=>!!t&&!!e&&!!n),Object(ct.a)(([t,e,n])=>({setup:t,columns:e,data:n})),Object(xt.a)())}initDebug(){this.addDebugLoggerToStream("currentDrillDownParams$"),this.addDebugLoggerToStream("setup$"),this.addDebugLoggerToStream("columns$"),this.addDebugLoggerToStream("data$"),setTimeout(()=>{this.addDebugLoggerToStream("drillDown$"),this.addDebugLoggerToStream("loading$")},0)}destroyDebug(){this.debugSubscriptions.forEach(t=>t.unsubscribe())}addDebugLoggerToStream(t){const e=this[t].subscribe(e=>console.log("DEBUG:NEXT:GenericReportDrillDown#".concat(t,"::"),e),e=>console.log("DEBUG:ERROR:GenericReportDrillDown#".concat(t,"::"),e),()=>console.log("DEBUG:COMPLETE:GenericReportDrillDown#".concat(t)));this.debugSubscriptions.push(e)}}var xe=l["\u0275crt"]({encapsulation:0,styles:[".c_modal {\n      width: 70%;\n      height: 80%;\n    }\n      .c_modal .c_modal__body {\n      padding: 0;\n    }\n    app-generic-report-table[_ngcontent-%COMP%] {\n      width: 100%;\n      height: calc(100% - 60px);\n    }\n    .drill-down-header[_ngcontent-%COMP%] {\n      height: 60px;\n      padding: 20px 20px 0;\n      font-size: 16px;\n      text-align: right;\n    }\n    app-export-buttons[_ngcontent-%COMP%] {\n      margin-left: 20px;\n      transform: translateY(5px);\n    }"],data:{}});function Ce(t){return l["\u0275vid"](0,[l["\u0275qud"](402653184,1,{modal:0}),l["\u0275qud"](402653184,2,{table:0}),(t()(),l["\u0275eld"](2,0,null,null,12,"app-modal",[],null,[[null,"close"]],(function(t,e,n){var l=!0;return"close"===e&&(l=!1!==t.component.closed()&&l),l}),he.b,he.a)),l["\u0275prd"](512,null,me.a,me.a,[b.b]),l["\u0275did"](4,1228800,[[1,4]],0,fe.a,[me.a,v.d,l.ElementRef,l.Renderer2,b.b],{modalTitle:[0,"modalTitle"]},{close:"close"}),(t()(),l["\u0275eld"](5,0,null,0,5,"div",[["class","drill-down-header"]],null,null,null,null,null)),(t()(),l["\u0275eld"](6,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),l["\u0275ted"](7,null,[""," ",""])),l["\u0275pid"](131072,v.b,[l.ChangeDetectorRef]),(t()(),l["\u0275eld"](9,0,null,null,1,"app-export-buttons",[],[[2,"small",null]],[[null,"dataExport"]],(function(t,e,n){var l=!0;return"dataExport"===e&&(l=!1!==t.component.exportDataAs(n)&&l),l}),P.b,P.a)),l["\u0275did"](10,114688,null,0,M.a,[S.a],{small:[0,"small"]},{dataExport:"dataExport"}),(t()(),l["\u0275eld"](11,0,null,0,3,"app-generic-report-table",[],null,[[null,"modelChange"]],(function(t,e,n){var l=!0;return"modelChange"===e&&(l=!1!==t.component.modelChanged(n)&&l),l}),K,H)),l["\u0275prd"](512,null,j.a,j.a,[$.a,L.a,A.a,E.j,N.a]),l["\u0275did"](13,4964352,[[2,4]],0,U,[f.a,j.a,W.a,Z.a,X.a,b.b],{data:[0,"data"],columns:[1,"columns"],loading:[2,"loading"],pagination:[3,"pagination"]},{modelChange:"modelChange"}),l["\u0275pid"](131072,v.b,[l.ChangeDetectorRef])],(function(t,e){var n=e.component;t(e,4,0,n.title),t(e,10,0,!0),t(e,13,0,n.data,l["\u0275unv"](e,13,1,l["\u0275nov"](e,14).transform(n.columns$)),n.loading,!0)}),(function(t,e){var n,a=e.component;t(e,7,0,null==(n=l["\u0275unv"](e,7,0,l["\u0275nov"](e,8).transform(a.setup$)))?null:n.summaryCountLabel,a.rowCount||""),t(e,9,0,l["\u0275nov"](e,10).small)}))}var we=n("mrSG"),Oe=n("JX91"),_e=n("BTBr");const ye=window.amplitude;class De{constructor(t,e,n,l,a,i,r){this.route=t,this.gr=e,this.topNav=n,this.userApi=l,this.tracking=a,this.translate=i,this.isBudgetLoading=!1,this.isBudgetViewActivated=!1,this.allowPagination=!0,this.isSAS=!1,this.sasCount=0,this.onNewColumnsLoaded$=new et.a,this.tableInitialized$=new rt.a(!1),this.subs=[],this.debug=r.factory(new.target.name)}set sub(t){this.subs.push(t)}ngOnInit(){const t=this.route.params.pipe(Object(ct.a)(t=>+t.id),Object(ft.a)(t=>{this.debug.info("Loading report %d...",t),this.gr.selectReportById(t),this.switchBudgetView(!1)}));this.userApi.getReportList("Dealer Apps").pipe(Object(nt.a)(this.userApi.getReportList("Custom Apps"),(t,e)=>Object.assign({},t,e)),Object(ct.a)(t=>{const e={};return Object.keys(t).map(e=>t[e]).forEach(t=>Object.keys(t).forEach(n=>e[n]=t[n].reptName)),e}),Object(nt.a)(t,(t,e)=>t[e])).subscribe(t=>this.currentReportName=t),this.filters$=this.gr.report$.pipe(Object(ct.a)(t=>t.filters),Object(mt.a)()),this.tabs$=this.gr.report$.pipe(Object(ct.a)(t=>t.tabs),Object(mt.a)()),this.columns$=this.gr.report$.pipe(Object(ct.a)(t=>t.columns),Object(mt.a)()),this.pinnedBottomRowData$=this.gr.pinnedTotals$,this.loading$=this.gr.loading$.pipe(Object(Oe.a)(!0)),this.totals$=this.gr.totals$,this.filtersSnapshot$=this.gr.current$.pipe(Object(ct.a)(t=>t.filtersSnapshot),Object(nt.a)(this.loading$),Object(ut.a)(([t,e])=>!e&&!!t),Object(ct.a)(([t])=>t)),this.initBudgetViewStreams(),this.sub=this.filtersSnapshot$.subscribe(t=>this.filtersSnapshot=t),this.sub=this.filters$.subscribe(t=>this.filters=t),this.sub=this.gr.current$.pipe(Object(ct.a)(t=>t.tab),Object(ut.a)(t=>!!t)).subscribe(t=>this.currentTab=t),this.sub=this.gr.report$.pipe(Object(ct.a)(t=>t.data)).subscribe(t=>{this.data=t,this.allowPagination=t.length>1e3}),this.sub=this.filtersSnapshot$.pipe(Object(at.a)(this.filters$)).subscribe(()=>{this.trackAction(_e.a.Load)}),this.topNav.clearLinks(),this.initGridOptions(),this.debug.streams(this,["columns$"])}ngAfterViewChecked(){this.tableInitialized$.next(!!this.table)}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe()),this.debug.destroy()}onFilterChanged(t){}filtersChanged(t){this.gr.changeFilters(t)}tabChanged(t){this.gr.selectTab(t)}onTrackTableChanges(){this.trackAction(_e.a.Load,this.table.grid)}exportDataAs(t){return we.__awaiter(this,void 0,void 0,(function*(){const e=this.createFileName(),n=yield this.prepareFiltersSnapshotToExport().toPromise();switch(t){case Ft.a.XLS:this.table.exportDataAsXls(e,n),this.trackAction(_e.a.ExportXls,this.table.grid);break;case Ft.a.PDF:this.table.exportDataAsPdf(e,n,()=>{this.trackAction(_e.a.ExportPdf,this.table.grid)});break;default:this.debug.warn("GenericReport#exportDataAs: unsupported format")}}))}switchBudgetView(t){if(this.isBudgetViewActivated!==t){if(this.onNewColumnsLoaded$.next(!1),this.filtersSnapshot&&"0"===this.filtersSnapshot.lists.store){const t=this.filters.lists.find(t=>"store"===t.name);this.debug.assert(t,"Can not file list box filter for 'Store'");const e=t.items.find(t=>"0"!==t.value),n=Object.assign({},this.filtersSnapshot,{lists:Object.assign({},this.filtersSnapshot.lists,{store:e.value})});this.gr.changeFilters(n)}this.gr.setDisabledStateForListFilterItems("store",["0"],t),this.isBudgetViewActivated=t}}setBudgetLoading(t){this.isBudgetLoading=t}trackAction(t,e){return we.__awaiter(this,void 0,void 0,(function*(){this.tracking.log({page:_e.b.CustomReports,section:this.currentReportName,subSection:this.currentTab.tabLabel,event:t,params:yield this.prepareFiltersSnapshotToExport().toPromise(),grid:e}),console.log(_e.b.CustomReports+"_"+this.currentReportName+" page load"),ye.getInstance().logEvent(_e.b.CustomReports+"_page_load",{reportName:this.currentReportName,eventName:"page load",eventValue:!0})}))}onGridUpdated(t){const e=t.api.getModel();this.gr.applyInternalFiltersForTotals(e.rowsToDisplay)}initGridOptions(){this.options={getRowStyle:t=>{if(t.node.rowPinned)return{"font-weight":"bold"}},onModelUpdated:t=>this.onGridUpdated(t),onCellClicked:t=>{const{data:e,colDef:n}=t,l=this.table.columns.find(t=>t.field===n.field);"sales analysis report 2.0"===this.currentReportName.toLowerCase()&&"salesperson"===this.currentTab.tabLabel.toLowerCase()?(this.isSAS=!0,this.sasCount=e.cnt):(this.isSAS=!1,this.sasCount=0),e&&e.hasDrill&&l&&l.hasDrill&&this.drillDown.open({drillType:e.drillType,drillRowIndex:e.drillRowIndex,drillColumnIndex:l.drillIndex,value:e[n.field],columnsData:e.getDrillDownData(this.currentTab.drillDownDataColumnParams)},this.createFileName("Drill-Down"))},onNewColumnsLoaded:()=>this.onNewColumnsLoaded$.next(!0)}}initBudgetViewStreams(){this.sub=this.filtersSnapshot$.pipe(Object(ut.a)(wt()),Object(nt.a)(this.columns$.pipe(Object(ut.a)(t=>t instanceof Array&&!!t.length)),this.onNewColumnsLoaded$,this.tableInitialized$.pipe(Object(mt.a)())),Object(ut.a)(([,,t,e])=>t&&e)).subscribe(([t,e])=>{const n=[],l=[],a=String(t.lists["column-switch"]);if(!this.table)return void this.debug.warn("Can not find table");const i=this.table.grid.columnApi.getColumnState();e.forEach(t=>{i.some(e=>e.colId===t.field)&&("0"===t.visibilityType||t.visibilityType===a?n.push(t.field):l.push(t.field))}),this.table.grid.columnApi.setColumnsVisible(n,!0),this.table.grid.columnApi.setColumnsVisible(l,!1)})}prepareFiltersSnapshotToExport(){const t=this.filters.lists.map(t=>{const e=String(t.label).replace(/[\s:]+$/g,""),n=this.filtersSnapshot.lists[t.name]||t.default,l=t.items.find(t=>t.value===n);return{label:e,value:l?l.name:""}}),e=this.filters.inputs.map(t=>({label:String(t.label).replace(/[\s:]+$/g,""),value:this.filtersSnapshot.inputs[t.name]||t.default})),n=({day:t,month:e,year:n})=>V([n,e-1,t]).format("MM/DD/YYYY");return this.translate.get(["filter.date-range.name-from","filter.date-range.name-to"]).pipe(Object(ct.a)(l=>{const a=this.filters.dateRange?[{label:l["filter.date-range.name-from"],value:n(this.filtersSnapshot.dateRange.beginDate)},{label:l["filter.date-range.name-to"],value:n(this.filtersSnapshot.dateRange.endDate)}]:[];return[...t,...e,...a]}))}createFileName(t){const e=t=>t.replace(/\s/g,"-").replace(/[^\w\d_$.-]/g,"").replace(/-{2,}/g,"-"),n=e(this.currentReportName),l=e(this.currentTab.tabLabel),a=V().format("MM-DD-YYYY");return t?"".concat(n,"_").concat(l,"_").concat(t,"_").concat(a):"".concat(n,"_").concat(l,"_").concat(a)}}var Pe=n("iInd"),Me=n("nutA"),Se=n("jMGS"),Ie=l["\u0275crt"]({encapsulation:0,styles:[[".grid-wrapper[_ngcontent-%COMP%]{width:100%;flex:1 1 100%;height:100%;max-width:100%;background-color:#fff;box-shadow:2px 2px 5px 1px #c1bebe}.top-controls-block[_ngcontent-%COMP%]{height:60px;display:flex;justify-content:space-between}.top-controls-block-left[_ngcontent-%COMP%]{width:calc(100% - 160px);flex:1 1 calc(100% - 160px);padding:20px 20px 10px;display:flex;align-items:center}.top-controls-block-right[_ngcontent-%COMP%]{width:160px;flex:1 0 160px;padding:20px 20px 10px;display:flex;align-items:center;justify-content:flex-end}.top-controls-block-heading[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#404040;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.filters-block[_ngcontent-%COMP%]{height:70px;padding:10px 20px 20px}.grid-block[_ngcontent-%COMP%]{display:flex}.grid-block-content[_ngcontent-%COMP%]{width:calc(100% - 40px);flex:1 0 calc(100% - 40px);position:relative}.grid-block-content[_ngcontent-%COMP%]   app-default-grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;will-change:auto;transition:all .5s ease;transform:translate3d(0,0,0)}.grid-block-sidebar[_ngcontent-%COMP%]{width:40px;flex:0 0 40px;border-left:1px solid #ddd}.grid-block-more-info-trigger[_ngcontent-%COMP%]{display:block;height:60px;cursor:pointer;position:relative}.grid-block-more-info-trigger[_ngcontent-%COMP%]:before{content:'\\E5D4';font-family:\"Material Icons\";font-size:24px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.grid-block-more-info-trigger.opened[_ngcontent-%COMP%]:before{content:'\\E5D3'}.top-control-btn[_ngcontent-%COMP%]{color:#5b5b5b;cursor:pointer;margin-left:20px;margin-top:-2px;display:inline-block}.top-control-label[_ngcontent-%COMP%]{color:#747474;font-size:14px;margin-left:10px}.mat-checked[_ngcontent-%COMP%]   .top-control-label[_ngcontent-%COMP%]{color:#2196f3}.tabs-block[_ngcontent-%COMP%]{height:60px;padding:10px 20px 16px}.tab[_ngcontent-%COMP%]{display:inline-block;height:34px;line-height:34px;border-radius:17px;padding-left:15px;padding-right:15px;color:#404040;font-size:14px;font-weight:500;background-color:#e5e5e5;cursor:pointer}.tab.active[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]:hover{color:#3498db;background-color:#e2eff8}.tab[_ngcontent-%COMP%]:not(:last-child){margin-right:15px}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 0 10px;height:45px}.modal-header-right[_ngcontent-%COMP%]   .top-control-btn[_ngcontent-%COMP%]:last-child{margin-right:-4px}.modal-header.with-outer-padding-overwrite[_ngcontent-%COMP%]{margin-top:-19px;margin-left:-19px;margin-right:-19px;padding:10px 20px}.modal-header.with-padding[_ngcontent-%COMP%]{padding:10px 20px}.modal-body[_ngcontent-%COMP%]{height:calc(100% - 45px);position:relative}.modal-body.with-footer[_ngcontent-%COMP%]{height:calc(100% - 45px - 50px)}.modal-body.full-height[_ngcontent-%COMP%]{height:100%}.modal-body.with-min-size[_ngcontent-%COMP%]{min-width:850px;min-height:300px;margin-left:-19px;margin-right:-19px}.modal-body.with-outer-padding-overwrite[_ngcontent-%COMP%]{margin-left:-19px;margin-right:-19px;margin-bottom:-19px}.modal-body[_ngcontent-%COMP%]   app-default-grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}.modal-footer[_ngcontent-%COMP%]{height:50px;display:flex;align-items:center;justify-content:flex-end;background:#eee;margin:0 -19px -19px;padding:0 19px}.modal-footer-text[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#404040;padding-right:15px}.modal-footer-text.last[_ngcontent-%COMP%]{padding-left:15px;padding-right:0}.modal-footer-text.last[_ngcontent-%COMP%]:before{content:'|';position:relative;left:-13px}.modal-heading[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.fi-list[_ngcontent-%COMP%]{display:flex;margin:25px 0;padding:15px 0;border-bottom:1px solid #ddd}.fi-list.single[_ngcontent-%COMP%]{padding:5px 0;margin:0;border-bottom:0}.fi-list-item[_ngcontent-%COMP%]{width:33%;flex:0 0 33%;padding:0 5px}.single[_ngcontent-%COMP%]   .fi-list-item[_ngcontent-%COMP%]:nth-of-type(1){padding-left:0}.single[_ngcontent-%COMP%]   .fi-list-item[_ngcontent-%COMP%]:nth-of-type(3){padding-right:0}.penetration-list.horizontal[_ngcontent-%COMP%]{display:flex;align-items:center}.penetration-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin:25px 0;padding:15px 0 30px;border-bottom:1px solid #ddd}.horizontal[_ngcontent-%COMP%]   .penetration-item[_ngcontent-%COMP%]{width:50%;flex:0 0 50%;padding:10px 15px 10px 0;margin:0;border-bottom:none}.penetration-title[_ngcontent-%COMP%]{width:30%;flex:0 0 30%;font-size:14px;color:#404040;padding-right:5px;overflow:hidden;text-overflow:ellipsis}.penetration-graph[_ngcontent-%COMP%]{width:50%;flex:0 0 50%;padding:0 5px}.penetration-rank[_ngcontent-%COMP%]{width:20%;flex:0 0 20%;padding:0 5px;text-align:center}.chargeback[_ngcontent-%COMP%]{text-align:center;margin:50px 0 30px}.chargeback[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{margin:0 0 5px;font-size:20px;font-weight:600}.chargeback-value[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#404040}.control-btn-settings[_ngcontent-%COMP%]{display:inline-block;width:24px;height:24px;position:relative;cursor:pointer}.control-btn-settings[_ngcontent-%COMP%]:before{content:'\\e8b8';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#5b5b5b;font-size:24px;font-family:\"Material Icons\"}.drill-info[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;list-style:none;padding:0;margin:0}.drill-info-item[_ngcontent-%COMP%]{color:#404040;font-size:14px;margin-right:25px}.drill-info-label[_ngcontent-%COMP%]{font-weight:400}.drill-info-value[_ngcontent-%COMP%]{font-weight:500}[_nghost-%COMP%]{display:block}.filters[_ngcontent-%COMP%]{display:flex}.generic-report-top-block[_ngcontent-%COMP%]{height:70px;margin-bottom:20px;background-color:#fff;box-shadow:2px 2px 5px 1px #c1bebe}.grid-wrapper[_ngcontent-%COMP%]{height:calc(100% - 90px);box-shadow:2px 2px 5px 1px #c1bebe}.grid-block[_ngcontent-%COMP%]{height:calc(100% - 60px)}.grid-block[_ngcontent-%COMP%]   app-generic-report-budget[_ngcontent-%COMP%], .grid-block[_ngcontent-%COMP%]   app-generic-report-table[_ngcontent-%COMP%]{width:100%;height:100%}"]],data:{}});function Fe(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","generic-report-top-block"]],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,2,"app-generic-summary",[],null,null,null,O,C)),l["\u0275did"](2,49152,null,0,x,[],{items:[0,"items"]},null),l["\u0275pid"](131072,v.b,[l.ChangeDetectorRef])],(function(t,e){var n=e.component;t(e,2,0,l["\u0275unv"](e,2,0,l["\u0275nov"](e,3).transform(n.totals$)))}),null)}function Re(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,3,"app-c-checkbox",[],null,[[null,"change"]],(function(t,e,n){var l=!0;return"change"===e&&(l=!1!==t.component.switchBudgetView(n)&&l),l}),_.b,_.a)),l["\u0275prd"](5120,null,y.q,(function(t){return[t]}),[D.a]),l["\u0275did"](2,49152,null,0,D.a,[b.b],{label:[0,"label"],disabled:[1,"disabled"]},null),l["\u0275pid"](131072,v.b,[l.ChangeDetectorRef])],(function(t,e){var n=e.component;t(e,2,0,null==n.currentTab?null:n.currentTab.budgetEditorLabel,l["\u0275unv"](e,2,1,l["\u0275nov"](e,3).transform(n.loading$))||n.isBudgetViewActivated&&n.isBudgetLoading)}),null)}function ke(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"app-export-buttons",[["theme","default"]],[[2,"small",null]],[[null,"dataExport"]],(function(t,e,n){var l=!0;return"dataExport"===e&&(l=!1!==t.component.exportDataAs(n)&&l),l}),P.b,P.a)),l["\u0275did"](1,114688,null,0,M.a,[S.a],null,{dataExport:"dataExport"})],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,l["\u0275nov"](e,1).small)}))}function Te(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,5,"app-generic-report-table",[["class","generic-report-table"]],null,[[null,"onTrackChanges"]],(function(t,e,n){var l=!0;return"onTrackChanges"===e&&(l=!1!==t.component.onTrackTableChanges()&&l),l}),K,H)),l["\u0275prd"](512,null,j.a,j.a,[$.a,L.a,A.a,E.j,N.a]),l["\u0275did"](2,4964352,[[2,4]],0,U,[f.a,j.a,W.a,Z.a,X.a,b.b],{data:[0,"data"],pinnedBottomRowData:[1,"pinnedBottomRowData"],columns:[2,"columns"],customGridOptions:[3,"customGridOptions"],loading:[4,"loading"],pagination:[5,"pagination"]},{onTrackChanges:"onTrackChanges"}),l["\u0275pid"](131072,v.b,[l.ChangeDetectorRef]),l["\u0275pid"](131072,v.b,[l.ChangeDetectorRef]),l["\u0275pid"](131072,v.b,[l.ChangeDetectorRef])],(function(t,e){var n=e.component;t(e,2,0,n.data,l["\u0275unv"](e,2,1,l["\u0275nov"](e,3).transform(n.pinnedBottomRowData$)),l["\u0275unv"](e,2,2,l["\u0275nov"](e,4).transform(n.columns$)),n.options,l["\u0275unv"](e,2,4,l["\u0275nov"](e,5).transform(n.loading$)),n.allowPagination)}),null)}function je(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"app-generic-report-budget",[["class","generic-report-body"]],null,[[null,"loading"]],(function(t,e,n){var l=!0;return"loading"===e&&(l=!1!==t.component.setBudgetLoading(n)&&l),l}),$t,jt)),l["\u0275did"](1,245760,null,0,it,[Rt,Tt,L.a,E.j,b.b],null,{loading:"loading"})],(function(t,e){t(e,1,0)}),null)}function $e(t){return l["\u0275vid"](0,[l["\u0275qud"](402653184,1,{drillDown:0}),l["\u0275qud"](671088640,2,{table:0}),(t()(),l["\u0275eld"](2,0,null,null,10,"app-content-header",[],null,null,null,Lt.b,Lt.a)),l["\u0275prd"](512,null,v.B,v.C,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](4,278528,null,0,v.l,[v.B],{ngClass:[0,"ngClass"]},null),l["\u0275pad"](5,1),l["\u0275did"](6,114688,null,0,At.a,[],{caption:[0,"caption"]},null),(t()(),l["\u0275eld"](7,0,null,0,5,"div",[["class","filters"]],null,null,null,null,null)),(t()(),l["\u0275eld"](8,0,null,null,2,"app-generic-report-footer",[],null,[[null,"tabChange"]],(function(t,e,n){var l=!0;return"tabChange"===e&&(l=!1!==t.component.tabChanged(n)&&l),l}),Kt,Xt)),l["\u0275did"](9,638976,null,0,Zt,[],{tabs:[0,"tabs"]},{tabChange:"tabChange"}),l["\u0275pid"](131072,v.b,[l.ChangeDetectorRef]),(t()(),l["\u0275eld"](11,0,null,null,1,"app-generic-report-filters",[],null,[[null,"filtersChange"]],(function(t,e,n){var l=!0;return"filtersChange"===e&&(l=!1!==t.component.filtersChanged(n)&&l),l}),ce,ae)),l["\u0275did"](12,638976,null,0,le,[E.j,l.ChangeDetectorRef],{filters:[0,"filters"],filtersSnapshot:[1,"filtersSnapshot"]},{filtersChange:"filtersChange"}),(t()(),l["\u0275eld"](13,0,null,null,20,"app-content-body",[],null,null,null,pe.b,pe.a)),l["\u0275prd"](512,null,v.B,v.C,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](15,278528,null,0,v.l,[v.B],{ngClass:[0,"ngClass"]},null),l["\u0275pad"](16,1),l["\u0275did"](17,114688,null,0,ge.a,[],null,null),(t()(),l["\u0275and"](16777216,null,0,1,null,Fe)),l["\u0275did"](19,16384,null,0,v.n,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275eld"](20,0,null,0,13,"div",[["class","grid-wrapper"]],null,null,null,null,null)),(t()(),l["\u0275eld"](21,0,null,null,7,"div",[["class","top-controls-block"]],null,null,null,null,null)),(t()(),l["\u0275eld"](22,0,null,null,0,"div",[["class","top-controls-block-left"]],null,null,null,null,null)),(t()(),l["\u0275eld"](23,0,null,null,5,"div",[["class","top-controls-block-right"]],null,null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,1,null,Re)),l["\u0275did"](25,16384,null,0,v.n,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,2,null,ke)),l["\u0275did"](27,16384,null,0,v.n,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,v.b,[l.ChangeDetectorRef]),(t()(),l["\u0275eld"](29,0,null,null,4,"div",[["class","grid-block"]],null,null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,1,null,Te)),l["\u0275did"](31,16384,null,0,v.n,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,je)),l["\u0275did"](33,16384,null,0,v.n,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275eld"](34,0,null,null,1,"app-generic-report-drill-down",[],null,null,null,Ce,xe)),l["\u0275did"](35,245760,[[1,4]],0,be,[ve],{isSalesDetail:[0,"isSalesDetail"],salesDetailCount:[1,"salesDetailCount"]},null)],(function(t,e){var n=e.component,a=t(e,5,0,"content-header-size-2");t(e,4,0,a),t(e,6,0,n.currentReportName),t(e,9,0,l["\u0275unv"](e,9,0,l["\u0275nov"](e,10).transform(n.tabs$))),t(e,12,0,n.filters,n.filtersSnapshot);var i=t(e,16,0,"content-body-size-2");t(e,15,0,i),t(e,17,0),t(e,19,0,(null==n.currentTab?null:n.currentTab.summaryRow)&&(null==n.data?null:n.data.length)>0),t(e,25,0,null==n.currentTab?null:n.currentTab.budgetEditor),t(e,27,0,!l["\u0275unv"](e,27,0,l["\u0275nov"](e,28).transform(n.loading$))&&!n.isBudgetViewActivated),t(e,31,0,!n.isBudgetViewActivated),t(e,33,0,n.isBudgetViewActivated),t(e,35,0,l["\u0275inlineInterpolate"](1,"",n.isSAS,""),l["\u0275inlineInterpolate"](1,"",n.sasCount,""))}),null)}var Le=l["\u0275ccf"]("app-generic-report",De,(function(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"app-generic-report",[],null,null,null,$e,Ie)),l["\u0275did"](1,8634368,null,0,De,[Pe.a,Rt,Me.a,Se.a,A.a,E.j,b.b],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Ae=n("POq0"),Ee=n("QQfA"),Ne=n("Mz6y"),Ve=n("cUpR"),Ye=n("s6ns"),ze=n("821u"),qe=n("IheW"),Ge=n("Mc5n");class Be{constructor(t){this.api=t,this.baseUrl="genericrept"}getTabs(t){return this.api.get("".concat(this.baseUrl,"/setup"),{params:{reptIndex:t}}).pipe(Object(ct.a)(t=>t.map(t=>"0"!==String(t.colSwitch)?Object.assign(t,{colSwitchLabel:"View"}):t)),Object(ct.a)(t=>t.map(t=>_t.fromJson(t))))}getColumns(t,e={}){return this.api.get("".concat(this.baseUrl,"/col"),{params:Object.assign({reptIndex:t},e)}).pipe(Object(ct.a)(t=>t.map(t=>B.fromJson(t))))}getData(t,e={}){return this.api.get("".concat(this.baseUrl,"/data"),{params:Object.assign({reptIndex:t},e)}).pipe(Object(ct.a)(t=>({data:t.data.map(t=>Dt.fromJson(t)),totals:t.totals})))}getDateList(t,e={}){return this.api.get("".concat(this.baseUrl,"/datefilterexternal"),{params:Object.assign({reptIndex:t},e)}).pipe(Object(ct.a)(t=>t.map(t=>yt.fromJson(t))))}getFilterConfig(t,e,n){return"column-switch"===e&&(e="view"),this.api.get("".concat(this.baseUrl,"/filter"),{params:{reptIndex:t,cboType:e,itemID:n}}).pipe(Object(ct.a)(t=>class{constructor(t={}){this.type=t.type||null,this.data=t.data?Object(Pt.a)({},t.data):null}static fromJson(t){const e={type:t.type,data:null};switch(e.type){case"combo-box":t.data instanceof Array&&(e.data=t.data.map(t=>Mt.fromJson(t,"data")));break;case"combo-box--where":t.data instanceof Array&&(e.data=t.data.map(t=>Mt.fromJson(t)));break;case"date-picker":console.warn("date-picker filter does not implemented");break;case"date-range-picker":e.data={template:t.data.template,index:t.data.index};break;case"number-range-picker":console.warn("number-range-picker filter does not implemented");break;default:console.warn("Incorrect filter type:",e.type)}return e}}.fromJson(t)))}getInstances(){return this.api.get("instances")}}var Je=n("Qq/Z");class Ue{constructor(t={}){this.title=new.target.value(t.title),this.summaryCount=new.target.value(t.summaryCount),this.summaryCountLabel=new.target.value(t.summaryCountLabel)}static fromJson(t){return new Ue({title:t.title,summaryCount:!!+t.summaryCount,summaryCountLabel:t.summaryCountLabel})}static value(t,e=null){return null==t?e:t}}class We{constructor(t,e){this.api=t,this.baseUrl="genericrept",this.debug=e.factory(new.target.name)}getSetup(t){return this.api.get("".concat(this.baseUrl,"/drillsetup50"),{params:this.mapParams(t)}).pipe(Object(ct.a)(t=>t[0]&&Ue.fromJson(t[0])))}getColumns(t){return this.api.get("".concat(this.baseUrl,"/drillcol50"),{params:this.mapParams(t)}).pipe(Object(ct.a)(t=>t.map(t=>B.fromJson(t))))}getData(t,e={}){return this.api.get("".concat(this.baseUrl,"/drilldata50"),{params:Object.assign({},this.mapParams(t),e)}).pipe(Object(ct.a)(t=>t.map(t=>Dt.fromJson(t))))}mapParams(t){const e={reportId:"reptIndex",tabIndex:"itemId",drillType:"drillType",drillRowIndex:"DrillRowIndx",drillColumnIndex:"DrillColIndx",columnSwitch:"colSwitch"},n=Object.keys(e).reduce((n,l)=>null==t[l]?n:Object.assign(n,{[e[l]]:t[l]}),{});return(t.columnsData||[]).forEach(t=>{this.debug.assert(void 0===n[t.columnParamName]&&void 0===n[t.valueParamName],"Duplicate drill column params. Param: %O. MappedParams: %O",t,n),n[t.columnParamName]=t.columnName,n[t.valueParamName]=t.columnValue}),n}}class Ze{constructor(t={}){this.id=t.id||null,this.name=t.name||null,this.shortName=t.shortName||null,this.abbrev=t.abbrev||null,this.position=t.position||0}static fromJson(t){return new Ze({id:t.StoreID,name:t.StoreName,shortName:t.StoreName2,abbrev:t.StoreAbbrev,position:t.position})}get abbreviation(){let t="";return this.abbrev?t=this.abbrev:this.name&&(t=this.name.match(/\d*(?:\.\d+)?/g).join(""),t+=this.name.replace(""===name?"_":name,"_").replace("of","").match(/\b\w/g).join("").trim()),t}set abbreviation(t){this.abbrev=t}}class Xe{constructor(t){this.api=t,this.baseUrl="/stores"}getStores(t={}){return this.api.get("".concat(this.baseUrl),{params:t}).pipe(Object(ct.a)(t=>t.map(t=>Ze.fromJson(t))))}}var He=n("yK5/"),Ke=n("XpwZ"),Qe=n("zMNK"),tn=n("o/Hh"),en=n("FIJs"),nn=n("aBBA"),ln=n("gQiY"),an=n("xSwO"),rn=n("Fwaw"),on=n("l0Bn"),sn=n("kPC6"),dn=n("SXLW"),un=n("tdaM"),cn=n("0sx3"),pn=n("oapL"),gn=n("ZwOa"),hn=n("wN6G"),mn=n("iTUp"),fn=n("/Lwf"),bn=n("yotz"),vn=n("T3zS");n.d(e,"GenericReportsModuleNgFactory",(function(){return xn}));var xn=l["\u0275cmf"](a,[],(function(t){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,r.a,o.a,s.b,s.a,d.a,u.a,c.a,p.a,g.a,h.e,h.d,h.c,Le]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,v.p,v.o,[l.LOCALE_ID,[2,v.G]]),l["\u0275mpd"](4608,y.F,y.F,[]),l["\u0275mpd"](4608,Ae.c,Ae.c,[]),l["\u0275mpd"](4608,Ee.c,Ee.c,[Ee.i,Ee.e,l.ComponentFactoryResolver,Ee.h,Ee.f,l.Injector,l.NgZone,v.d,zt.b,[2,v.i]]),l["\u0275mpd"](5120,Ee.j,Ee.k,[Ee.c]),l["\u0275mpd"](5120,Jt.a,Jt.b,[Ee.c]),l["\u0275mpd"](5120,Ne.b,Ne.c,[Ee.c]),l["\u0275mpd"](4608,Ve.e,Nt.c,[[2,Nt.g],[2,Nt.l]]),l["\u0275mpd"](5120,Ye.c,Ye.d,[Ee.c]),l["\u0275mpd"](135680,Ye.e,Ye.e,[Ee.c,l.Injector,[2,v.i],[2,Ye.b],Ye.c,[3,Ye.e],Ee.e]),l["\u0275mpd"](4608,ze.i,ze.i,[]),l["\u0275mpd"](5120,ze.a,ze.b,[Ee.c]),l["\u0275mpd"](4608,Nt.a,Nt.v,[[2,Nt.f],qt.a]),l["\u0275mpd"](4608,qe.k,qe.q,[v.d,l.PLATFORM_ID,qe.o]),l["\u0275mpd"](4608,qe.r,qe.r,[qe.k,qe.p]),l["\u0275mpd"](5120,qe.a,(function(t){return[t]}),[qe.r]),l["\u0275mpd"](4608,qe.n,qe.n,[]),l["\u0275mpd"](6144,qe.l,null,[qe.n]),l["\u0275mpd"](4608,qe.j,qe.j,[qe.l]),l["\u0275mpd"](6144,qe.b,null,[qe.j]),l["\u0275mpd"](4608,qe.f,qe.m,[qe.b,l.Injector]),l["\u0275mpd"](4608,qe.c,qe.c,[qe.f]),l["\u0275mpd"](4608,W.a,W.a,[b.b]),l["\u0275mpd"](4608,Nt.b,Nt.b,[]),l["\u0275mpd"](4608,te.p,te.p,[]),l["\u0275mpd"](5120,te.b,te.c,[Ee.c]),l["\u0275mpd"](4608,te.a,te.g,[[2,te.e],qt.a]),l["\u0275mpd"](4608,Ge.f,Ge.f,[v.d,l.NgZone,Ut.i,Ge.h]),l["\u0275mpd"](4608,Be,Be,[Je.a]),l["\u0275mpd"](4608,We,We,[Je.a,b.b]),l["\u0275mpd"](4608,Tt,Tt,[Je.a,b.b]),l["\u0275mpd"](4608,Xe,Xe,[Je.a]),l["\u0275mpd"](4608,Rt,Rt,[Be,Xe,S.a,Se.a,He.a,Ke.a,E.j,b.b]),l["\u0275mpd"](4608,ve,ve,[We,Rt]),l["\u0275mpd"](1073742336,v.c,v.c,[]),l["\u0275mpd"](1073742336,y.E,y.E,[]),l["\u0275mpd"](1073742336,y.m,y.m,[]),l["\u0275mpd"](1073742336,Pe.s,Pe.s,[[2,Pe.x],[2,Pe.o]]),l["\u0275mpd"](1073742336,E.g,E.g,[]),l["\u0275mpd"](1073742336,Ae.d,Ae.d,[]),l["\u0275mpd"](1073742336,Yt.e,Yt.e,[]),l["\u0275mpd"](1073742336,zt.a,zt.a,[]),l["\u0275mpd"](1073742336,Qe.g,Qe.g,[]),l["\u0275mpd"](1073742336,qt.b,qt.b,[]),l["\u0275mpd"](1073742336,Ut.f,Ut.f,[]),l["\u0275mpd"](1073742336,Ee.g,Ee.g,[]),l["\u0275mpd"](1073742336,Nt.l,Nt.l,[[2,Nt.d],[2,Ve.f]]),l["\u0275mpd"](1073742336,Nt.u,Nt.u,[]),l["\u0275mpd"](1073742336,Nt.s,Nt.s,[]),l["\u0275mpd"](1073742336,Nt.q,Nt.q,[]),l["\u0275mpd"](1073742336,Jt.d,Jt.d,[]),l["\u0275mpd"](1073742336,tn.a,tn.a,[]),l["\u0275mpd"](1073742336,en.a,en.a,[nn.a]),l["\u0275mpd"](1073742336,ln.a,ln.a,[]),l["\u0275mpd"](1073742336,Wt.a,Wt.a,[]),l["\u0275mpd"](1073742336,Ne.e,Ne.e,[]),l["\u0275mpd"](1073742336,an.a,an.a,[]),l["\u0275mpd"](1073742336,rn.c,rn.c,[]),l["\u0275mpd"](1073742336,Ye.k,Ye.k,[]),l["\u0275mpd"](1073742336,ze.j,ze.j,[]),l["\u0275mpd"](1073742336,Nt.w,Nt.w,[]),l["\u0275mpd"](1073742336,Nt.n,Nt.n,[]),l["\u0275mpd"](1073742336,qe.e,qe.e,[]),l["\u0275mpd"](1073742336,qe.d,qe.d,[]),l["\u0275mpd"](1073742336,on.a,on.a,[]),l["\u0275mpd"](1073742336,sn.a,sn.a,[]),l["\u0275mpd"](1073742336,dn.AgGridModule,dn.AgGridModule,[]),l["\u0275mpd"](1073742336,un.a,un.a,[]),l["\u0275mpd"](1073742336,cn.a,cn.a,[]),l["\u0275mpd"](1073742336,pn.c,pn.c,[]),l["\u0275mpd"](1073742336,gn.c,gn.c,[]),l["\u0275mpd"](1073742336,te.q,te.q,[]),l["\u0275mpd"](1073742336,te.h,te.h,[]),l["\u0275mpd"](1073742336,te.t,te.t,[]),l["\u0275mpd"](1073742336,hn.a,hn.a,[]),l["\u0275mpd"](1073742336,mn.a,mn.a,[]),l["\u0275mpd"](1073742336,Ge.g,Ge.g,[]),l["\u0275mpd"](1073742336,fn.a,fn.a,[]),l["\u0275mpd"](1073742336,bn.b,bn.b,[]),l["\u0275mpd"](1073742336,vn.a,vn.a,[]),l["\u0275mpd"](1073742336,a,a,[nn.a]),l["\u0275mpd"](256,Nt.e,Nt.i,[]),l["\u0275mpd"](256,qe.o,"XSRF-TOKEN",[]),l["\u0275mpd"](256,qe.p,"X-XSRF-TOKEN",[]),l["\u0275mpd"](256,te.d,te.f,[]),l["\u0275mpd"](1024,Pe.m,(function(){return[[{path:":id",component:De}]]}),[])])}))},"OTv+":function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n("/kTj");class l{constructor(t,e){this.formatter=t,this.debug=e.factory(new.target.name)}transform(t,e,n){if(null===t)return 0;switch(Array.isArray(t)&&"from-array"!==e&&(t="%"===t[1]&&"from-array-abbr"!==e?t[0]/100:t[0]),"from-array-abbr"===e&&(e="abbr"),e){case"money":case"amt":return this.formatter.money(t);case"amt2":return this.formatter.money(t,{fractional:2,noZeroMantissa:!1,currencySign:"$"});case"per":return this.formatter.percentage(t);case"per1":return this.formatter.percentage(t,1,!1);case"per2":return this.formatter.percentage(t,2,!1);case"per-3f":return this.formatter.percentage(t,3);case"per-round":return this.formatter.percentage(t,0);case"number":case"cnt":return this.formatter.number(t,{fractional:0});case"cnt0":this.formatter.number(t,{fractional:0,thousandDelimiter:""});case"abbr":return this.formatter.abbrNum(t,n);case"abbr-money":return this.formatter.abbrMoney(t,n);case"from-array":return this.formatter.fromArray(t,n);default:return this.debug.warn("Unknown format: %s. Value: %s",e,t),this.formatter.number(t,{fractional:0})}}}},OrbI:function(t,e,n){"use strict";n("0sx3"),n("zeHk");var l=n("/ynw");n.d(e,"a",(function(){return l.a})),n("TUN4")},S5eV:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return u}));var l=n("UPXx"),a=n("8Y7J"),i=n("oveR"),r=n("hNGQ"),o=n("+dxm"),s=n("jIY6"),d=(n("zeHk"),n("+bil"),n("S+vS"),n("ChPW"),n("TSSN"),n("Lxd7"),n("IqdZ"),n("eeq/"),n("TUN4"),n("K5C0"),n("mvzq"),n("/kTj"),n("+2T5"),a["\u0275crt"]({encapsulation:0,styles:[l.a],data:{}}));function u(t){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{grid:0}),a["\u0275qud"](402653184,2,{gridElRef:0}),a["\u0275qud"](402653184,3,{agGrid:0}),(t()(),a["\u0275eld"](3,16777216,[[2,0]],null,4,"ag-grid-angular",[["appAgGridDragScroll",""]],[[8,"className",0]],[[null,"cellClicked"],[null,"filterChanged"],[null,"rowGroupOpened"]],(function(t,e,n){var l=!0,a=t.component;return"cellClicked"===e&&(l=!1!==a.onCellClicked(n)&&l),"filterChanged"===e&&(l=!1!==a.onFilterChanged(n)&&l),"rowGroupOpened"===e&&(l=!1!==a.onrowGroupOpened(n)&&l),l}),i.b,i.a)),a["\u0275prd"](512,null,r.AngularFrameworkOverrides,r.AngularFrameworkOverrides,[a.NgZone]),a["\u0275prd"](512,null,o.AngularFrameworkComponentWrapper,o.AngularFrameworkComponentWrapper,[]),a["\u0275did"](6,4898816,[[1,4],[3,4],["agGrid",4]],1,s.AgGridAngular,[a.ElementRef,a.ViewContainerRef,r.AngularFrameworkOverrides,o.AngularFrameworkComponentWrapper,a.ComponentFactoryResolver],{gridOptions:[0,"gridOptions"],rowData:[1,"rowData"],columnDefs:[2,"columnDefs"],pinnedBottomRowData:[3,"pinnedBottomRowData"],paginationPageSize:[4,"paginationPageSize"],groupIncludeFooter:[5,"groupIncludeFooter"],groupIncludeTotalFooter:[6,"groupIncludeTotalFooter"],pagination:[7,"pagination"]},{rowGroupOpened:"rowGroupOpened",cellClicked:"cellClicked",filterChanged:"filterChanged"}),a["\u0275qud"](603979776,4,{columns:1})],(function(t,e){var n=e.component;t(e,6,0,n.gridOptions,n.rowData,n.columnDefs,n.pinnedBottomRowData,n.pageSize,!0,!1,n.pagination)}),(function(t,e){t(e,3,0,a["\u0275inlineInterpolate"](1,"ag-theme-",e.component.theme,""))}))}},UPXx:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var l=["[_nghost-%COMP%]{display:block;position:relative}ag-grid-angular[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:0;bottom:0;height:100%}.ag-theme-material[_ngcontent-%COMP%]{line-height:1.5;font-family:Roboto,Helvetica,Arial,sans-serif;font-size:10pt;font-weight:500;color:#3c3c3c}.ag-theme-material[_ngcontent-%COMP%]     .ag-header-cell-align-left{text-align:left}.ag-theme-material[_ngcontent-%COMP%]     .ag-header-cell-align-left .ag-header-cell-label{justify-content:flex-start}.ag-theme-material[_ngcontent-%COMP%]     .ag-header-cell-align-right{text-align:right}.ag-theme-material[_ngcontent-%COMP%]     .ag-header-cell-align-right .ag-header-cell-label{justify-content:flex-end}.ag-theme-material[_ngcontent-%COMP%]     .ag-header-cell-align-center{text-align:center}.ag-theme-material[_ngcontent-%COMP%]     .ag-header-cell-align-center .ag-header-cell-label{justify-content:center}.ag-theme-material[_ngcontent-%COMP%]     .ag-body-cell-align-left{text-align:left}.ag-theme-material[_ngcontent-%COMP%]     .ag-body-cell-align-left span{justify-content:flex-start}.ag-theme-material[_ngcontent-%COMP%]     .ag-body-cell-align-right{text-align:right}.ag-theme-material[_ngcontent-%COMP%]     .ag-body-cell-align-right span{justify-content:flex-end}.ag-theme-material[_ngcontent-%COMP%]     .ag-body-cell-align-center{text-align:center}.ag-theme-material[_ngcontent-%COMP%]     .ag-body-cell-align-center span{justify-content:center}.ag-theme-material[_ngcontent-%COMP%]     .ag-cell{height:47px}.ag-theme-material[_ngcontent-%COMP%]     .ag-bl-overlay{background-color:rgba(0,0,0,.05)}.ag-theme-material[_ngcontent-%COMP%]     .progress{display:inline-block;width:24px;height:24px}.ag-theme-material[_ngcontent-%COMP%]     .progress--circle{box-sizing:border-box;width:24px;height:24px;border-radius:50%;border:3px solid #004e9a}.ag-theme-material[_ngcontent-%COMP%]     .progress--indeterminate{-webkit-animation:2.25s linear infinite rotate;animation:2.25s linear infinite rotate}.ag-theme-material[_ngcontent-%COMP%]     .progress--indeterminate__inner{-webkit-animation:5s infinite sporadic-rotate;animation:5s infinite sporadic-rotate;display:inline-block;width:24px;height:24px}.ag-theme-material[_ngcontent-%COMP%]     .progress--indeterminate__left-half{position:absolute;top:0;width:12px;height:24px;overflow:hidden;left:0}.ag-theme-material[_ngcontent-%COMP%]     .progress--indeterminate__right-half{position:absolute;top:0;width:12px;height:24px;overflow:hidden;right:0}.ag-theme-material[_ngcontent-%COMP%]     .progress--indeterminate__circle--left{-webkit-animation:1.25s infinite animate-left-circle,5s linear infinite left-circle-colors;animation:1.25s infinite animate-left-circle,5s linear infinite left-circle-colors}.ag-theme-material[_ngcontent-%COMP%]     .progress--indeterminate__circle--right{-webkit-animation:1.25s infinite animate-right-circle,5s linear infinite right-circle-colors;animation:1.25s infinite animate-right-circle,5s linear infinite right-circle-colors;position:relative;right:100%}@-webkit-keyframes rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.ag-theme-material[_ngcontent-%COMP%]     .has-drill-down{cursor:pointer}.ag-theme-material[_ngcontent-%COMP%]     .has-drill-down:hover{background-color:rgba(91,155,213,.2)}.ag-theme-material[_ngcontent-%COMP%]     .cell-bold{font-weight:700}.ag-theme-material[_ngcontent-%COMP%]     .edit-button{display:inline-block;width:20px;height:20px;position:absolute;right:0;top:50%;transform:translate(24px,-50%);cursor:pointer}.ag-theme-material[_ngcontent-%COMP%]     .edit-button:before{content:'\\e3c9';font-family:\"Material Icons\";font-size:20px;color:#747474;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]},VHTt:function(t,e,n){"use strict";var l=function(t){return t[t.XLS=0]="XLS",t[t.PDF=1]="PDF",t}({}),a=n("2Vo4"),i=n("PqYM"),r=n("EY2u"),o=n("lJxs"),s=n("eIep"),d=n("vkgz"),u=n("GyhO"),c=n("nYR2");class p{get decrementer(){return()=>this.decrement()}get incrementor(){return()=>this.increment()}get resetter(){return()=>this.reset()}constructor(t=0){this._value$=new a.a(t),this.value$=this._value$.asObservable(),this.is$=this._value$.pipe(Object(o.a)(t=>Boolean(t)))}increment(){this._value$.next(this._value$.getValue()+1)}decrement(){const t=this._value$.getValue();this._value$.next(t>0?t-1:0)}reset(){this._value$.next(0)}streamJoiner(t=!1){return e=>{return(t?Object(i.a)(0).pipe((n=r.a,Object(s.a)(()=>n))):r.a).pipe(Object(d.a)(()=>{},void 0,this.incrementor),function(...t){return e=>e.lift.call(Object(u.a)(e,...t))}(e),Object(c.a)(this.decrementer));var n}}}var g=n("6LW8");n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return g.a}))},bQ1K:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var l=n("8Y7J"),a=n("wd/R");const i={parse:{dateInput:"LL"},display:{dateInput:"MM/DD/YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};class r{constructor(){this.allowClearDate=!1,this.dateChange=new l.EventEmitter,this.isEmpty=!0}get range(){const[t,e]=this.value.split("|");let n=a(t,["YYYY-MM-DD ","MM-DD-YYYY"]).format("MM-DD-YYYY");n=a(n,"MM-DD-YYYY");let l=a(e,["YYYY-MM-DD ","MM-DD-YYYY"]).format("MM-DD-YYYY");return l=a(l,"MM-DD-YYYY"),{begin:n,end:l}}ngOnInit(){this.datePicker.beginDate=this.range.begin,this.datePicker.endDate=this.range.end,this.isEmpty="|"===this.value}onDateChange(t){this.value=t.value.begin.format("YYYY-MM-DD")+"|"+t.value.end.format("YYYY-MM-DD"),this.dateChange.emit(this.value),this.isEmpty=!1}removeDate(){this.isEmpty=!0,this.value="|",this.dateChange.emit(null)}}},"fgD+":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var l=n("8Y7J"),a=n("Xd0L"),i=n("wd/R");const r=n.n(i).a||i;function o(t,e){const n=Array(t);for(let l=0;l<t;l++)n[l]=e(l);return n}new l.InjectionToken("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});class s extends a.a{constructor(t,e){super(),this._options=e,this.setLocale(t||r.locale())}setLocale(t){super.setLocale(t);let e=r.localeData(t);this._localeData={firstDayOfWeek:e.firstDayOfWeek(),longMonths:e.months(),shortMonths:e.monthsShort(),dates:o(31,t=>this.createDate(2017,0,t+1).format("D")),longDaysOfWeek:e.weekdays(),shortDaysOfWeek:e.weekdaysShort(),narrowDaysOfWeek:e.weekdaysMin()}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return"long"==t?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(t){return"long"==t?this._localeData.longDaysOfWeek:"short"==t?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return t.clone().locale(this.locale)}createDate(t,e,n){if(e<0||e>11)throw Error('Invalid month index "'.concat(e,'". Month index has to be between 0 and 11.'));if(n<1)throw Error('Invalid date "'.concat(n,'". Date has to be greater than 0.'));const l=this._createMoment({year:t,month:e,date:n}).locale(this.locale);if(!l.isValid())throw Error('Invalid date "'.concat(n,'" for month with index "').concat(e,'".'));return l}today(){return this._createMoment().locale(this.locale)}parse(t,e){return t&&"string"==typeof t?this._createMoment(t,e,this.locale):t?this._createMoment(t).locale(this.locale):null}format(t,e){if(t=this.clone(t),!this.isValid(t))throw Error("MomentDateAdapter: Cannot format invalid date.");return t.format(e)}addCalendarYears(t,e){return this.clone(t).add({years:e})}addCalendarMonths(t,e){return this.clone(t).add({months:e})}addCalendarDays(t,e){return this.clone(t).add({days:e})}toIso8601(t){return this.clone(t).format()}deserialize(t){let e;if(t instanceof Date)e=this._createMoment(t).locale(this.locale);else if(this.isDateInstance(t))return this.clone(t);if("string"==typeof t){if(!t)return null;e=this._createMoment(t,r.ISO_8601).locale(this.locale)}return e&&this.isValid(e)?this._createMoment(e).locale(this.locale):super.deserialize(t)}isDateInstance(t){return r.isMoment(t)}isValid(t){return this.clone(t).isValid()}invalid(){return r.invalid()}_createMoment(...t){return this._options&&this._options.useUtc?r.utc(...t):r(...t)}}},gQiY:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));class l{}},uNm5:function(t,e,n){"use strict";var l=n("8Y7J"),a=n("TSSN"),i=n("SVse");n("5uTj"),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return d}));var r=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;height:156px;background-color:#fff;box-shadow:1px 2px 5px 1px #c1bebe;padding:15px 20px;position:relative;z-index:1;margin:0 -20px}.content-header-size-1[_nghost-%COMP%]{height:234px;padding-bottom:49px}.content-header-size-1[_nghost-%COMP%]     .mat-tab-nav-bar{position:absolute;bottom:-1px;left:20px}.content-header-size-2[_nghost-%COMP%]{height:125px}.content-header-size-2[_nghost-%COMP%]   .heading[_ngcontent-%COMP%]{margin-bottom:12px}.content-header-size-3[_nghost-%COMP%]{height:110px}.content-header-size-3[_nghost-%COMP%]   .heading[_ngcontent-%COMP%]{margin-top:0}.content-header-custom[_nghost-%COMP%]{height:135px;margin-top:-20px}.content-header-custom[_nghost-%COMP%]   .heading[_ngcontent-%COMP%]{margin-bottom:12px}.back-link[_ngcontent-%COMP%]{font-size:14px;color:#3498db;font-weight:600;cursor:pointer}.heading[_ngcontent-%COMP%]{font-size:26px;font-weight:500;line-height:1.2;color:#404040;margin:8px 0 12px}.timestamp[_ngcontent-%COMP%]{font-size:12px;font-weight:400;display:block}"]],data:{}});function o(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"span",[["class","back-link"]],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.onBackToClick()&&l),l}),null,null)),(t()(),l["\u0275ted"](1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.backToLink)}))}function s(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,2,"span",[["class","timestamp"]],null,null,null,null,null)),(t()(),l["\u0275ted"](1,null,["",": ",""])),l["\u0275pid"](131072,a.i,[a.j,l.ChangeDetectorRef])],null,(function(t,e){var n=e.component;t(e,1,0,l["\u0275unv"](e,1,0,l["\u0275nov"](e,2).transform("widgets.general.lastupdate")),n.lastRefreshed)}))}function d(t){return l["\u0275vid"](2,[(t()(),l["\u0275and"](16777216,null,null,1,null,o)),l["\u0275did"](1,16384,null,0,i.n,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275eld"](2,0,null,null,3,"h2",[["class","heading"]],null,null,null,null,null)),(t()(),l["\u0275ted"](3,null,[""," "])),(t()(),l["\u0275and"](16777216,null,null,1,null,s)),l["\u0275did"](5,16384,null,0,i.n,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275ncd"](null,0)],(function(t,e){var n=e.component;t(e,1,0,n.hasBackToLink),t(e,5,0,n.lastRefreshed)}),(function(t,e){t(e,3,0,e.component.caption)}))}},zXMq:function(t,e,n){"use strict";var l=n("8Y7J"),a=n("Mz6y"),i=n("QQfA"),r=n("hOhj"),o=n("/HVE"),s=n("5GAg"),d=n("IP0z"),u=n("cUpR"),c=n("TSSN"),p=n("SVse");n("2Vgt"),n("+2T5"),n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return f}));var g=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:inline-block}.small[_nghost-%COMP%]{font-size:22px;vertical-align:initial}a[role=button][_ngcontent-%COMP%]{display:inline-block;vertical-align:text-top;color:#51606b}button[_ngcontent-%COMP%]{display:inline-block;width:24px;height:24px;position:relative;cursor:pointer;color:#5b5b5b;font-family:'Material Icons';font-size:24px;margin-right:20px}button[_ngcontent-%COMP%]:last-child{margin-right:0}button.export-pdf[_ngcontent-%COMP%]:before{content:'\\e415';font:inherit;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}button.export-excel[_ngcontent-%COMP%]:before{content:'\\e884';font:inherit;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]],data:{}});function h(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,0,"button",[["class","export-pdf"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.exportDataAsPdf()&&l),l}),null,null))],null,(function(t,e){t(e,0,0,e.component.disabled)}))}function m(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,16777216,null,null,2,"button",[["class","export-excel"]],[[8,"disabled",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(t,e,n){var a=!0,i=t.component;return"longpress"===e&&(a=!1!==l["\u0275nov"](t,1).show()&&a),"keydown"===e&&(a=!1!==l["\u0275nov"](t,1)._handleKeydown(n)&&a),"touchend"===e&&(a=!1!==l["\u0275nov"](t,1)._handleTouchend()&&a),"click"===e&&(a=!1!==i.exportDataAsXls()&&a),a}),null,null)),l["\u0275did"](1,212992,null,0,a.d,[i.c,l.ElementRef,r.e,l.ViewContainerRef,l.NgZone,o.a,s.c,s.h,a.b,[2,d.b],[2,a.a],[2,u.f]],{message:[0,"message"]},null),l["\u0275pid"](131072,c.i,[c.j,l.ChangeDetectorRef]),(t()(),l["\u0275and"](0,null,null,0))],(function(t,e){t(e,1,0,l["\u0275unv"](e,1,0,l["\u0275nov"](e,2).transform("header-icons.download-excel")))}),(function(t,e){t(e,0,0,e.component.disabled)}))}function f(t){return l["\u0275vid"](0,[(t()(),l["\u0275and"](16777216,null,null,1,null,h)),l["\u0275did"](1,16384,null,0,p.n,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,m)),l["\u0275did"](3,16384,null,0,p.n,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,(null==n.currentUser?null:n.currentUser.isExportPdfAvailable)&&n.pdf),t(e,3,0,(null==n.currentUser?null:n.currentUser.isExportExcelAvailable)&&n.xls)}),null)}}}]);