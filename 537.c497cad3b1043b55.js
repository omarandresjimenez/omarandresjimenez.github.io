"use strict";(self.webpackChunkteck=self.webpackChunkteck||[]).push([[537],{23537:function(Kn,re,l){l.r(re),l.d(re,{ComparePageModule:function(){return Xn}});var v=l(43144),h=l(15671),C=l(69808),I=l(47423),G=l(77446),J=l(92181),U=l(30325),Y=l(97685),S=l(4942),W=l(73237),X=l(61120),w=l(60136),D=l(57777),se=l(21086),K=l(23426),q=l(75778),ee=l(87545),T=l(7625),j=l(92198),te=l(22868),ce=l(1059),_=l(46940),m=l(9234),Ve=l(19855),ne=l(89255),Z=l(48619),ae=l(57239),Qe=l(67339),Be=function(){function n(s){var t=s.options,i=s.maps;(0,h.Z)(this,n),this.selectedCells=[],this.selectedCellsId="selected-cells",this.layerForMove="selected-cells",this.onGridClick=this.onGridClickAction.bind(this),this.options=t,this.mapsList=i}return(0,v.Z)(n,[{key:"addEventsHandlers",value:function(){var t=this;this.mapsList.forEach(function(i){i.on(ae.GRID_CLICK_EVENT,t.onGridClick)})}},{key:"removeEventsHandlers",value:function(){var t=this;this.mapsList.forEach(function(i){i.off(ae.GRID_CLICK_EVENT,t.onGridClick)})}},{key:"gridResolve",value:function(t){this.gridControlsCheck(t),this.gridZoomCheck(t),this.gridSelectionCheck(t),this.updateLayers()}},{key:"syncMovesResolve",value:function(t){t.syncMoves&&!this.syncReference?this.syncReference=Qe(this.mapsList[0],this.mapsList[1]):!t.syncMoves&&this.syncReference&&(this.syncReference(),this.syncReference=null)}},{key:"gridSelectionCheck",value:function(t){this.gridClickDisable=t.isGridSelectionDisable}},{key:"gridControlsCheck",value:function(t){var i=this;t.grid&&!this.gridsList&&this.initGrids();var o=this.gridsList&&this.mapsList.every(function(a,r){return a.hasControl(i.gridsList[r])});t.grid&&!o?this.mapsList.forEach(function(a,r){a.addControl(i.gridsList[r]),a.zoomTo(a.getZoom()-.001)}):!t.grid&&o&&(this.mapsList.forEach(function(a,r){a.removeControl(i.gridsList[r])}),this.selectedCells=[],this.updateLayers())}},{key:"gridZoomCheck",value:function(t){var i=this;t.grid&&2===this.gridsList.length&&t.gridZoom/1e3!==this.gridsList[0].config.gridHeight&&this.gridsList.forEach(function(o){o.config.gridHeight=t.gridZoom/1e3,o.config.gridWidth=t.gridZoom/1e3,i.selectedCells=[],o.update()})}},{key:"initGrids",value:function(){var t=this;this.gridsList=this.mapsList.map(function(i){return _.WC.addGridLayer(i,t.selectedCellsId,t.selectedCells,t.onGridClick),new ae.Grid({gridWidth:t.options.gridZoom/1e3,gridHeight:t.options.gridZoom/1e3,minZoom:13,maxZoom:22,units:"kilometers",paint:{"line-color":Z.C.WHITE}})})}},{key:"onGridClickAction",value:function(t){var i=function(d){return"colorCodes"===d.source||"dataPoints"===d.source};if("click"===t.type&&t.target.queryRenderedFeatures(t.point).find(i)||this.gridClickDisable)this.removeEventsHandlers();else if("click"!==t.type||t.target.queryRenderedFeatures(t.point).find(i)){var o=t.bbox,a=this.selectedCells.findIndex(function(p){return p.geometry.bbox.toString()===o.toString()});-1===a?this.selectedCells.push({type:"Feature",geometry:{type:"Polygon",bbox:o,coordinates:[[[o[0],o[1]],[o[2],o[1]],[o[2],o[3]],[o[0],o[3]],[o[0],o[1]]]]}}):this.selectedCells.splice(a,1),this.updateLayers()}else this.addEventsHandlers()}},{key:"updateLayers",value:function(){var t=this;this.mapsList.forEach(function(i,o){var a=i.getSource(t.selectedCellsId);null==a||a.setData({type:"FeatureCollection",features:t.selectedCells}),t.gridsList&&i.getLayer(t.gridsList[o].id)&&i.moveLayer(t.gridsList[o].id,t.layerForMove)})}}]),n}(),E=l(591),x=function(){return(n=x||(x={})).P20="p20",n.P50="p50",n.P80="p80",x;var n}(),e=l(65542),V=function(){var n=function(){function s(){(0,h.Z)(this,s),this.noData$=new E.X(!1),this.selectedType$=new E.X(x.P50)}return(0,v.Z)(s,[{key:"getStream",value:function(){return this.selectedType$.asObservable()}},{key:"getSelectedType",value:function(){return this.selectedType$.getValue()}},{key:"updateType",value:function(i){this.selectedType$.next(i)}},{key:"getNoDataStream",value:function(){return this.noData$.asObservable()}},{key:"isNoData",value:function(){return this.noData$.getValue()}},{key:"updateNoDataState",value:function(i){this.noData$.next(i)}}]),s}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n}(),ze=l(15439),We=l.n(ze),le=function(){var n=function(){function s(){(0,h.Z)(this,s)}return(0,v.Z)(s,[{key:"adapt",value:function(i){return i.p20.x.map(function(o,a){return{p20:i.p20.y[a],p50:i.p50.y[a],p80:i.p80.y[a],densityP20:i.p20.x[a],densityP50:i.p50.x[a],densityP80:i.p80.x[a],avgP20:i.p20.avg,avgP50:i.p50.avg,avgP80:i.p80.avg,patterns:i.patternNames,lastDugDate:We().utc(i.lastDugDate).valueOf()}})}}]),s}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n}(),pe=function(){var n=function(){function s(){(0,h.Z)(this,s)}return(0,v.Z)(s,[{key:"adapt",value:function(i){var o=i[0];if(o)return{avgP20:null==o?void 0:o.avgP20,avgP50:null==o?void 0:o.avgP50,avgP80:null==o?void 0:o.avgP80}}}]),s}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n}(),$=l(24850),de=l(21347),Xe=l(38001),g=l(94720),me=function(){var n=function(){function s(t){var i=this;(0,h.Z)(this,s),this.mineStateService=t,this.state$=new E.X({mine:null,colorMapLeft:null,colorMapRight:null}),this.selectedPatterns$=new E.X(null),this.showFor=(0,S.Z)({},de.q.HVC,(0,S.Z)({},Xe.N.AVERAGE_FRAGMENTATION,!0)),this.widgetName="distribution-charts",this.show$=this.state$.asObservable().pipe((0,q.x)(function(o,a){return o.mine===a.mine&&o.widgetState===a.widgetState&&o.colorMapLeft===a.colorMapLeft&&o.colorMapRight===a.colorMapRight}),(0,$.U)(function(o){var a,r;return i.isShowOverall(o.mine,o.colorMapLeft,o.colorMapRight)&&(null===(a=o.widgetState)||void 0===a?void 0:a.state)&&(null===(r=o.widgetState)||void 0===r?void 0:r.widget)===i.widgetName})),this.mineStateService.selectedMineArea$.asObservable().subscribe(function(o){i.state$.next(Object.assign(Object.assign({},i.state$.getValue()),{mine:o.value}))})}return(0,v.Z)(s,[{key:"watchForState",value:function(i){var o=this,a=this.getField(i),r=this.state$.asObservable().pipe((0,q.x)(function(p,d){return p.mine===d.mine&&p.widgetState===d.widgetState&&p[a]===d[a]}),(0,$.U)(function(p){var d,u;return o.isShow(p.mine,p[a])&&(null===(d=p.widgetState)||void 0===d?void 0:d.state)&&(null===(u=p.widgetState)||void 0===u?void 0:u.widget)===o.widgetName})),c=this.selectedPatterns$.pipe((0,j.h)(function(p){return p&&p.side===i}),(0,$.U)(function(p){return p.patterns}));return(0,K.aj)([c,r]).pipe((0,$.U)(function(p){var d=(0,Y.Z)(p,2);return{patterns:d[0],state:d[1]}}))}},{key:"selectPatterns",value:function(i,o){this.selectedPatterns$.next({side:o,patterns:i})}},{key:"isChartVisible",value:function(i){var o,a,r=this.state$.getValue(),c=this.getField(i);return this.isShow(r.mine,r[c])&&(null===(o=r.widgetState)||void 0===o?void 0:o.state)&&(null===(a=r.widgetState)||void 0===a?void 0:a.widget)===this.widgetName}},{key:"colorMapUpdated",value:function(i,o){var a=this.state$.getValue(),r={};"left"===o?r.colorMapLeft=i:r.colorMapRight=i,this.state$.next(Object.assign(Object.assign({},a),r))}},{key:"widgetStateChanged",value:function(i,o){var a=this.state$.getValue();this.state$.next(Object.assign(Object.assign({},a),{widgetState:{state:i,widget:o}}))}},{key:"getState",value:function(){return this.show$}},{key:"isShowOverall",value:function(i,o,a){return this.isShow(i,o)||this.isShow(i,a)}},{key:"isShow",value:function(i,o){try{return this.showFor[i][o]}catch(a){return!1}}},{key:"getField",value:function(i){return i===m.L.LEFT?"colorMapLeft":"colorMapRight"}}]),s}();return n.\u0275fac=function(t){return new(t||n)(e.LFG(g.Hj))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n}(),Ke=l(27221),ue=l(57676),qe=l(40520),ge=function(){var n=function(){function s(t,i,o){(0,h.Z)(this,s),this.httpClient=t,this.mineStateService=i,this.adapter=o}return(0,v.Z)(s,[{key:"getFragmentationChart",value:function(i){var o=this,a=this.mineStateService.getSelectedMineArea();return this.httpClient.post((0,ue.FP)(a,ue.mb.compareDistributionChart),{patternIds:i.map(function(r){return r.id})}).pipe((0,$.U)(function(r){return o.adapter.adapt(r)}),(0,Ke.K)(function(){return(0,se.of)([])}))}}]),s}();return n.\u0275fac=function(t){return new(t||n)(e.LFG(qe.eN),e.LFG(g.Hj),e.LFG(le))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n}(),O=l(78090),et=l(35204),tt=l(86411),k=l(77093),H=l(31307),nt=l(43772),at=l(94424),it=l.n(at),ot=l(40714),ve=l(43026),rt=l(8722),st=l(10787),ct=l(32418),lt=l(13914),pt=l(82304),he=l(47903),dt=l(20295),R=l(42585),mt=[O.dJ,g.I3,lt.i,g.ol,g.rn,O.nY,g.yU,g.c5,g.P2,g.NL,g.wP,g.$c,O._2,pt.C,he.nA,dt.y,he.Jq,g.$c,{provide:R.Hn,useValue:{scope:"compare-page",alias:"comparePageTranslation"},multi:!0},{provide:R.Hn,useValue:{scope:"distribution-column",alias:"distributionColumnTranslation"},multi:!0},{provide:R.Hn,useValue:{scope:"distribution-curve",alias:"curveTranslation"},multi:!0}],ut=l(18776),gt=l(48966),vt=l(52012),ht=l(20314),fe=l(18073),M=l(93075),Ce=l(52437),Se=l(25245),ye=l(9224),be=l(78029),ft=function(s,t){return{"icon-arrow-down":s,"icon-arrow-top":t}};function Ct(n,s){if(1&n){var t=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){e.CHM(t);var a=e.oxw();return a.gridZoomMenuOpen=!a.gridZoomMenuOpen}),e._UZ(1,"mat-icon",5),e.qZA()}if(2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngClass",e.WLB(1,ft,!i.gridZoomMenuOpen,i.gridZoomMenuOpen))}}function St(n,s){if(1&n){var t=e.EpF();e.TgZ(0,"div",6),e.NdJ("focusout",function(){return e.CHM(t),e.oxw().focusOut()}),e.TgZ(1,"mat-card")(2,"div")(3,"span",7),e._uU(4,"Grid Size:"),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e._UZ(7,"mat-slider",8),e.TgZ(8,"div")(9,"span"),e._uU(10,"Min(5 m)"),e.qZA(),e.TgZ(11,"span",9),e._uU(12,"Max(100 m)"),e.qZA()()()()}if(2&n){var i=e.oxw();e.xp6(6),e.hij("",i.gridZoomValue," m"),e.xp6(1),e.Q6J("min",i.minZoom)("max",i.maxZoom)("step",i.zoomStep)}}var yt=function(){var n=function(s){(0,w.Z)(i,s);var t=(0,D.Z)(i);function i(o,a){var r;return(0,h.Z)(this,i),(r=t.call(this)).polygonToolSelectionService=o,r.formBuilder=a,r.gridChange=new e.vpe,r.maxZoom=100,r.minZoom=5,r.zoomStep=1,r}return(0,v.Z)(i,[{key:"ngOnInit",value:function(){var a=this;this.gridForm=this.formBuilder.group(Ce._),this.gridChange.emit(Ce._),this.polygonToolSelectionService.polygonSelectionState$.pipe((0,T.R)(this.destroy$)).subscribe(function(r){a.gridChange.emit(Object.assign(Object.assign({},a.gridForm.value),{isGridSelectionDisable:r}))}),this.gridForm.valueChanges.subscribe(function(r){a.gridChange.emit(r)})}},{key:"ngOnDestroy",value:function(){(0,W.Z)((0,X.Z)(i.prototype),"ngOnDestroy",this).call(this),this.gridChange.emit({grid:!1,gridZoom:this.gridZoomValue})}},{key:"gridValue",get:function(){return this.gridForm.get("grid").value}},{key:"gridZoomValue",get:function(){return this.gridForm.get("gridZoom").value}},{key:"focusOut",value:function(){this.gridZoomMenuOpen=!1}}]),i}(_.eO);return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.nY),e.Y36(M.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["dabo-grid-menu"]],outputs:{gridChange:"gridChange"},features:[e.qOj],decls:5,vars:3,consts:[[1,"sync-menu-grid",3,"formGroup"],["formControlName","grid"],["mat-icon-button","",3,"click",4,"ngIf"],["class","sync-menu-grid_zoom",3,"focusout",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"icon",3,"ngClass"],[1,"sync-menu-grid_zoom",3,"focusout"],[1,"sync-menu-grid_spacing"],["formControlName","gridZoom",3,"min","max","step"],[1,"sync-menu-grid_max"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-checkbox",1),e._uU(2,"Grid"),e.qZA(),e.YNc(3,Ct,2,4,"button",2),e.YNc(4,St,13,4,"div",3),e.qZA()),2&t&&(e.Q6J("formGroup",i.gridForm),e.xp6(3),e.Q6J("ngIf",i.gridValue),e.xp6(1),e.Q6J("ngIf",i.gridZoomMenuOpen&&i.gridValue))},directives:[M.JL,M.sg,G.oG,M.JJ,M.u,C.O5,I.lW,Se.Hw,C.mk,ye.a8,be.pH],styles:[".sync-menu-grid[_ngcontent-%COMP%]{padding:0 30px;display:flex;align-items:center;height:100%;border-left:1px solid #ebeefc;border-right:1px solid #ebeefc;width:75px;position:relative}.sync-menu-grid_max[_ngcontent-%COMP%]{float:right}.sync-menu-grid_spacing[_ngcontent-%COMP%]{font-weight:500;margin-right:5px}.sync-menu-grid_zoom[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:24px;width:240px;position:absolute;top:64px;left:-55px}.sync-menu-grid_zoom[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{padding:5px 10px}"]}),n}();function bt(n,s){if(1&n&&(e.TgZ(0,"mat-checkbox",5),e._uU(1),e.qZA()),2&n){var t=s.$implicit;e.xp6(1),e.hij(" ",t("comparePageTranslation.sync_moves")," ")}}function Tt(n,s){if(1&n){var t=e.EpF();e.TgZ(0,"dabo-grid-menu",6),e.NdJ("gridChange",function(o){return e.CHM(t),e.oxw().onGridChange(o)}),e.qZA()}}var Mt=function(){var n=function(){function s(t,i,o){(0,h.Z)(this,s),this.compareService=t,this.formBuilder=i,this.mineStateService=o}return(0,v.Z)(s,[{key:"ngOnInit",value:function(){var i=this;this.syncForm=this.formBuilder.group({syncMoves:!0}),this.syncForm.valueChanges.subscribe(function(o){i.compareService.setSyncMenuOptions(Object.assign(Object.assign({},o),i.gridValue))})}},{key:"isRDO",get:function(){return _.ZA.isRDO(this.mineStateService.getSelectedMineArea())}},{key:"onGridChange",value:function(i){this.gridValue=i,this.compareService.setSyncMenuOptions(Object.assign(Object.assign({},this.syncForm.value),i))}}]),s}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(fe.z),e.Y36(M.qu),e.Y36(g.Hj))},n.\u0275cmp=e.Xpm({type:n,selectors:[["dabo-sync-menu"]],decls:5,vars:2,consts:[[3,"formGroup"],[1,"sync-menu-wrapper"],[1,"sync-menu-moves"],["formControlName","syncMoves",4,"transloco"],[3,"gridChange",4,"ngIf"],["formControlName","syncMoves"],[3,"gridChange"]],template:function(t,i){1&t&&(e.ynx(0,0),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,bt,2,1,"mat-checkbox",3),e.qZA(),e.YNc(4,Tt,1,0,"dabo-grid-menu",4),e.qZA(),e.BQk()),2&t&&(e.Q6J("formGroup",i.syncForm),e.xp6(4),e.Q6J("ngIf",i.isRDO))},directives:[M.JL,M.sg,R.KI,G.oG,M.JJ,M.u,C.O5,yt],styles:[".sync-menu-wrapper[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center}.sync-menu-wrapper[_ngcontent-%COMP%]   .sync-menu-moves[_ngcontent-%COMP%]{border-right:1px solid #ebeefc;padding:0 30px 0 15px;height:100%;display:flex;flex-direction:column;justify-content:center}.sync-menu-wrapper[_ngcontent-%COMP%]   dabo-grid-menu[_ngcontent-%COMP%]{height:100%}"]}),n}(),Pt=l(9338),Te=l(85899),_t=l(49982),xt=l(9112),Ot=l(23322),Zt=l(82768),Ft=l(93804),Lt=l(6492),At=["mapComponent"],wt=["chartWrapper"];function Dt(n,s){1&n&&e.GkF(0)}var Et=function(){return{value:1}};function kt(n,s){if(1&n&&(e.TgZ(0,"div",7)(1,"div",8)(2,"div",9),e._UZ(3,"dabo-mine-switcher")(4,"h2",10),e.qZA(),e.TgZ(5,"div",11)(6,"button",12),e._UZ(7,"span",13)(8,"span",14),e.qZA(),e.TgZ(9,"mat-menu",15,16)(11,"dabo-tree-navigation",17),e.NdJ("click",function(r){return r.stopPropagation()}),e.qZA()()(),e.TgZ(12,"div",18)(13,"span",19),e._UZ(14,"dabo-sync-menu"),e.qZA()()(),e.YNc(15,Dt,1,0,"ng-container",20),e.qZA()),2&n){var t=e.MAs(10),i=e.oxw(),o=e.MAs(4);e.xp6(6),e.Q6J("matMenuTriggerFor",t),e.xp6(2),e.Q6J("translocoParams",e.DdM(8,Et)),e.xp6(3),e.Q6J("mineArea",i.mineSite)("controlsSetting",i.controls)("isSimpleTree",!0),e.xp6(2),e.ekj("rdo-btn-container",i.isRDO),e.xp6(2),e.Q6J("ngTemplateOutlet",o)}}function Rt(n,s){if(1&n){var t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(a){return e.CHM(t),e.oxw(2).resetTrees(a)}),e._uU(1),e.qZA()}if(2&n){var i=s.$implicit;e.xp6(1),e.hij(" ",i("comparePageTranslation.reset_all")," ")}}function Nt(n,s){1&n&&e.GkF(0)}var It=function(){return{value:2}};function Gt(n,s){if(1&n&&(e.TgZ(0,"div",21),e._UZ(1,"span",22),e.TgZ(2,"div",23)(3,"div",24)(4,"button",12),e._UZ(5,"span",13)(6,"span",14),e.qZA(),e.TgZ(7,"mat-menu",15,25)(9,"dabo-tree-navigation",17),e.NdJ("click",function(r){return r.stopPropagation()}),e.qZA()()(),e.TgZ(10,"div",26),e.YNc(11,Rt,2,1,"button",27),e.qZA()(),e.YNc(12,Nt,1,0,"ng-container",20),e.qZA()),2&n){var t=e.MAs(8),i=e.oxw(),o=e.MAs(4);e.xp6(4),e.Q6J("matMenuTriggerFor",t),e.xp6(2),e.Q6J("translocoParams",e.DdM(6,It)),e.xp6(3),e.Q6J("mineArea",i.mineSite)("controlsSetting",i.controls)("isSimpleTree",!0),e.xp6(3),e.Q6J("ngTemplateOutlet",o)}}function Yt(n,s){1&n&&e._UZ(0,"span",22)}function $t(n,s){1&n&&e._UZ(0,"mat-progress-bar",35)}function Ht(n,s){if(1&n){var t=e.EpF();e.TgZ(0,"dabo-map-mode-toggle",36),e.NdJ("updateMapSettingsEmitter",function(a){return e.CHM(t),e.oxw(2).updateMapSettings(a)}),e.qZA()}if(2&n){var i=e.oxw(2);e.Q6J("mapSettings",i.settings)("mine",i.mineSite)}}function Jt(n,s){if(1&n){var t=e.EpF();e.TgZ(0,"div",29),e.NdJ("fullScreenEmitter",function(){return e.CHM(t),e.oxw().resizeMap()}),e.YNc(1,Yt,1,0,"span",30),e.YNc(2,$t,1,0,"mat-progress-bar",31),e.TgZ(3,"dabo-map",32,33),e.NdJ("isShovelOpEventEnabled",function(a){return e.CHM(t),e.oxw().shovelOpEventEnabled(a)})("mapLoaded",function(a){return e.CHM(t),e.oxw().mapLoaded(a)})("selectedVisibility",function(a){return e.CHM(t),e.oxw().onSelectedVisibilityChange(a)}),e.qZA(),e.YNc(5,Ht,1,2,"dabo-map-mode-toggle",34),e.qZA()}if(2&n){var i=e.oxw();e.Q6J("defaultScreen","patterns-container-fullscreen")("fullscreen","patterns-container"),e.xp6(1),e.Q6J("ngIf",i.side===i.sidesEnum.RIGHT),e.xp6(1),e.Q6J("ngIf",i.settings.loading),e.xp6(1),e.Q6J("settings",i.settings)("compareSide",i.side),e.xp6(2),e.Q6J("ngIf",i.settings.controlsVisible)}}function Ut(n,s){if(1&n&&(e.TgZ(0,"div",37)(1,"dabo-widget-collapsible",38),e._UZ(2,"dabo-distribution-per-hole",39,40),e.qZA()()),2&n){var t=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("widgetIcon","icon-kpi")("widgetTitle",t.title)("widgetSubtitle",t.subTitle)("isExpandedByDefault",!i.isHVC)("isHeaderTitleVisible",i.side===i.sidesEnum.LEFT)("componentName","distribution-per-hole"),e.xp6(1),e.Q6J("side",i.side)}}function jt(n,s){if(1&n){var t=e.EpF();e.TgZ(0,"div",37)(1,"dabo-widget-collapsible",41),e.NdJ("stateChanged",function(r){return e.CHM(t),e.oxw().widgetStateChanged(r,"distribution-charts")}),e.ALo(2,"async"),e.TgZ(3,"div",42),e._UZ(4,"dabo-distribution-chart-container",43,44),e.qZA()()()}if(2&n){var i=e.MAs(5),o=e.oxw();e.xp6(1),e.Q6J("widgetTitle",i.getDistributionLabel(e.lcZ(2,7,o.mapStateService.selectedColorMap$)))("isHeaderTitleVisible",o.side===o.sidesEnum.LEFT)("componentName","distribution-charts")("isExpandedByDefault",!o.isHVC),e.xp6(3),e.Q6J("side",o.side)("selectionMode",o.polygonSelectionChart)("isChartShown",o.isChartShown)}}var Vt=function(s,t){return{left:s,right:t}},Qt=function(){var n=function(s){(0,w.Z)(i,s);var t=(0,D.Z)(i);function i(o,a,r,c,p,d,u,y,F,L,A,N,f){var b;return(0,h.Z)(this,i),(b=t.call(this,a,r,p,c,u,F,N,L,f)).compareService=o,b.treeStateService=d,b.mapApiService=y,b.dialog=A,b.googleAnalyticsForPatternSelectionService=f,b.deselectPatternEmitter=new e.vpe,b.patternSelected=new e.vpe,b.colorMapSelected=new e.vpe,b.widgetCollapsableStateChanged=new e.vpe,b.controls={details:!1,controls:!1,reset:!0},b.sidesEnum=m.L,b.collapsibleWidgetTypesEnum=st.Z,b}return(0,v.Z)(i,[{key:"isHVC",get:function(){return _.ZA.isHVC(this.mineStateService.getSelectedMineArea())}},{key:"isRDO",get:function(){return _.ZA.isRDO(this.mineStateService.getSelectedMineArea())}},{key:"ngOnInit",value:function(){(0,W.Z)((0,X.Z)(i.prototype),"ngOnInit",this).call(this),this.subscribeOnSelectingPolygons(),this.subscribeOnSelectingMineArea(),this.subscribeOnSelectingPatterns(),this.subscribeChartUpdates(),this.subscribeOnColorMapChange()}},{key:"widgetStateChanged",value:function(a,r){this.widgetCollapsableStateChanged.emit({state:a,widget:r})}},{key:"resetTrees",value:function(a){var r=this;this.dialog.open(ut.YV,{panelClass:["modal-base","modal--reset"],data:{messageTranslationKey:"patternsTreeTranslation.reset.message"},restoreFocus:!1}).afterClosed().pipe((0,j.h)(function(c){return c}),(0,T.R)(this.destroy$)).subscribe(function(){return r.treeStateService.resetTree$.next(a)})}},{key:"mapLoaded",value:function(a){this.map=a,this.compareService.mapsLoaded$.next(Object.assign(Object.assign({},this.compareService.mapsLoaded$.value),(0,S.Z)({},this.side,!0)))}},{key:"resizeMap",value:function(){var a=this;setTimeout(function(){return a.map.resize()})}},{key:"subscribeOnSelectingPolygons",value:function(){var a=this;this.patternsService.polygons$.pipe((0,H.T)(1),(0,T.R)(this.destroy$)).subscribe(function(r){a.compareService.setNoSelectedPatternsError(a.side,r),r?(a.compareService.chartState$.next(Object.assign(Object.assign({},a.compareService.chartState),{isShown:!_.ZA.isCDA(a.mineSite)})),a.isChartShown=!0):(a.isChartShown=!1,a.deselectPatternEmitter.emit())})}},{key:"subscribeOnSelectingPatterns",value:function(){var a=this;this.patternsService.selectedPolygons$.pipe((0,H.T)(1),(0,T.R)(this.destroy$)).subscribe(function(){it().getItem("tree_view_".concat(a.mineSite)).then(function(r){a.selectedPatterns=a.patternsService.getSelectedPatternsNames(r),a.patternSelected.emit(a.selectedPatterns),a.cdr.markForCheck()})})}},{key:"subscribeOnSelectingMineArea",value:function(){var a=this;this.mineStateService.selectedMineArea$.pipe((0,T.R)(this.destroy$)).subscribe(function(r){a.settings.controlsVisible=!1,a.mineSite=r.value,a.compareService.chartState$.next(Object.assign(Object.assign({},a.compareService.chartState),{isShown:!1})),a.mapStateService.selectedColorMap$.next(null)})}},{key:"subscribeChartUpdates",value:function(){var a=this;(0,K.aj)([this.mapStateService.selectedColorMap$,this.patternsService.selectedPolygons$]).pipe((0,nt.map)(function(r){var c=(0,Y.Z)(r,2),d=c[1];return(0,ot.XA)(c[0])&&a.settings.controlsVisible&&d.size>0})).subscribe(function(r){return a.hasChartFunctionality=r}),this.subscribeOnChartSelection()}},{key:"subscribeOnColorMapChange",value:function(){var a=this;this.mapStateService.selectedColorMap$.pipe((0,T.R)(this.destroy$)).subscribe(function(r){a.colorMapSelected.emit(r),a.compareService.setNoSelectionFunctionalityError({noSelectedHoles:!1,isNoSelectionFunctionality:!a.polygonToolSelectionService.isPolygonToolAvailable(r,a.mineSite),colorMap:r},a.side)})}}]),i}(ct.c);return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.zY),e.Y36(e.sBO),e.Y36(g.I3),e.Y36(g.$A),e.Y36(g.Hj),e.Y36(g.bC),e.Y36(g.c5),e.Y36(g.P2),e.Y36(g.wP),e.Y36(O.v2),e.Y36(gt.uw),e.Y36(O.nY),e.Y36(O.Hn))},n.\u0275cmp=e.Xpm({type:n,selectors:[["dabo-compare-side"]],viewQuery:function(t,i){var o;1&t&&(e.Gf(At,5,ve.G),e.Gf(wt,5,rt.Ik)),2&t&&(e.iGM(o=e.CRH())&&(i.mapComponent=o.first),e.iGM(o=e.CRH())&&(i.chartWrapper=o.first))},inputs:{side:"side"},outputs:{deselectPatternEmitter:"deselectPatternEmitter",patternSelected:"patternSelected",colorMapSelected:"colorMapSelected",widgetCollapsableStateChanged:"widgetCollapsableStateChanged"},features:[e._Bn(mt),e.qOj],decls:11,vars:14,consts:[[1,"compare-wrapper"],["class","compare-container left",4,"ngIf"],["class","compare-container right",4,"ngIf"],["pattern",""],[3,"side","kpiPatterns"],[1,"distribution-charts-wrapper",3,"ngClass"],["class","chart",4,"ngIf"],[1,"compare-container","left"],["fxLayout","row","fxLayoutAlign","center",1,"page-block__header","page-block__header--complex"],["fxLayout","row","fxLayoutAlign","stretch center",1,"mine-switcher"],["transloco","title.comparing",1,"page-title","page-title--basic"],[1,"mg-right-view-btn","btn-container"],["mat-button","",1,"btn-compare","btn-compare-list",3,"matMenuTriggerFor"],[1,"icon","icon-list"],["transloco","comparePageTranslation.view",1,"btn-label",3,"translocoParams"],[1,"compare-tree-container"],["leftTree",""],[3,"mineArea","controlsSetting","isSimpleTree","click"],[1,"sync-btn","sync-btn-offset"],["fxLayoutAlign","stretch",1,"btn-container"],[4,"ngTemplateOutlet"],[1,"compare-container","right"],[1,"map-divider"],["fxLayout","row","fxLayoutAlign","center",1,"page-block__header","page-block__header--complex","pd0"],[1,"mg-left-view-btn","btn-container"],["rightTree",""],["fxLayoutAlign","center center",1,"btn-container","btn-container--end","no-border"],["mat-button","","class","btn-compare btn btn--outline",3,"click",4,"transloco"],["mat-button","",1,"btn-compare","btn","btn--outline",3,"click"],["fullscreen","",3,"defaultScreen","fullscreen","fullScreenEmitter"],["class","map-divider",4,"ngIf"],["class","progress-bar","color","primary","mode","indeterminate",4,"ngIf"],[3,"settings","compareSide","isShovelOpEventEnabled","mapLoaded","selectedVisibility"],["mapComponent",""],[3,"mapSettings","mine","updateMapSettingsEmitter",4,"ngIf"],["color","primary","mode","indeterminate",1,"progress-bar"],[3,"mapSettings","mine","updateMapSettingsEmitter"],[1,"chart"],["fxFlex","100%",1,"teck-basic-card","distribution-charts",3,"widgetIcon","widgetTitle","widgetSubtitle","isExpandedByDefault","isHeaderTitleVisible","componentName"],["widgetBody","",3,"side"],["distributionPerHoleComponent",""],["widgetIcon","icon-kpi",3,"widgetTitle","isHeaderTitleVisible","componentName","isExpandedByDefault","stateChanged"],["widgetBody",""],[3,"side","selectionMode","isChartShown"],["chartWrapper",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,kt,16,9,"div",1),e.YNc(2,Gt,13,7,"div",2),e.qZA(),e.YNc(3,Jt,6,7,"ng-template",null,3,e.W1O),e._UZ(5,"dabo-selected-patterns",4),e.TgZ(6,"div",5),e.YNc(7,Ut,4,7,"div",6),e.ALo(8,"async"),e.YNc(9,jt,6,9,"div",6),e.ALo(10,"async"),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",i.side===i.sidesEnum.LEFT),e.xp6(1),e.Q6J("ngIf",i.side===i.sidesEnum.RIGHT),e.xp6(3),e.Q6J("side",i.side)("kpiPatterns",i.selectedPatterns),e.xp6(1),e.Q6J("ngClass",e.WLB(11,Vt,i.side===i.sidesEnum.LEFT,i.side===i.sidesEnum.RIGHT)),e.xp6(1),e.Q6J("ngIf",i.isHVC&&e.lcZ(8,7,i.compareService.chartState$).isShown),e.xp6(2),e.Q6J("ngIf",e.lcZ(10,9,i.compareService.chartState$).isShown))},directives:[C.O5,k.xw,k.Wh,vt.p,R.KI,I.lW,J.p6,J.VK,ht.I,Mt,C.tP,Pt.S,Te.pW,ve.G,_t.q,xt.R,C.mk,Ot.oO,Zt._,k.yH,Ft.h,Lt.I],pipes:[C.Ov],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-expansion-panel-header .mat-content .ng-star-inserted>.header__title{padding-top:4px;padding-left:5px}[_nghost-%COMP%]     .mat-expansion-panel-body{padding:0}[_nghost-%COMP%]     .mat-expansion-panel-body>dabo-distribution-chart-wrapper>.distribution-chart-wrapper>.chart-title{position:absolute;top:15px}  .compare-tree-container.mat-menu-panel{width:276px;height:366px;overflow-x:hidden;background-color:#f6f7f7}  .compare-tree-container.mat-menu-panel .mat-menu-content:not(:empty){padding:0;height:100%}  .compare-tree-container.mat-menu-panel mat-tree-node:not(.action-node) .leaf-node .label__group{width:185px}  .compare-tree-container.mat-menu-panel ::-webkit-scrollbar{display:none}.btn-container[_ngcontent-%COMP%]{border-left:1px solid #ebeefc;border-right:1px solid #ebeefc;font-weight:500;z-index:2}.btn-container--end[_ngcontent-%COMP%]{position:absolute;right:0;height:100%;margin-right:10px;min-width:88px}.btn-label[_ngcontent-%COMP%]{margin-left:5px}.btn-compare[_ngcontent-%COMP%]{width:100%;height:100%}.btn-compare-list[_ngcontent-%COMP%]{padding:0 26px}.tree-view-wrapper[_ngcontent-%COMP%]{height:180px}.map-divider[_ngcontent-%COMP%]{width:5px;position:absolute;height:inherit;margin-left:-4px;background-color:#fff;z-index:3}.patterns[_ngcontent-%COMP%]{width:100%}.patterns-container[_ngcontent-%COMP%]{height:580px;position:relative;z-index:0}.patterns-container-fullscreen[_ngcontent-%COMP%]{position:relative;height:calc(100vh - 69px);z-index:0}.progress-bar[_ngcontent-%COMP%]{position:absolute;z-index:2}.compare-wrapper[_ngcontent-%COMP%], .compare-container[_ngcontent-%COMP%]{width:100%}.compare-container.left[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{margin-left:20px}.compare-container.right[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{margin-right:20px}.distribution-charts-wrapper[_ngcontent-%COMP%]{margin-top:20px}.distribution-charts-wrapper.left[_ngcontent-%COMP%]{margin-left:16px}.distribution-charts-wrapper.right[_ngcontent-%COMP%]{margin-right:16px}.sync-btn[_ngcontent-%COMP%]{position:absolute;z-index:1;height:100%}.sync-btn-offset[_ngcontent-%COMP%]{left:100%}.sync-btn[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]{width:100%;height:100%;margin-left:-50%}.sync-btn[_ngcontent-%COMP%]   .btn-container.rdo-btn-container[_ngcontent-%COMP%]{margin-left:-26%;border-right:none}@media screen and (max-width: 1080px){.sync-btn[_ngcontent-%COMP%]   .btn-container.rdo-btn-container[_ngcontent-%COMP%]{margin-left:-51%}}.mine-switcher[_ngcontent-%COMP%]{width:288px;position:absolute;left:20px;top:13px}.page-block__header[_ngcontent-%COMP%]{justify-content:center;position:relative}.page-block__header--complex[_ngcontent-%COMP%]{padding:0}.chart[_ngcontent-%COMP%]{background-color:#fff;margin-top:20px}@media screen and (max-width: 1023px){.btn-container[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{padding:0 16px}}"]}),n}(),Bt=l(83515),Q=l(23178),Me=l(17489),Pe=l(52031),zt=l(22451),Wt=l(48924),Xt=l(69933),Kt=Z.C.PLOT_BORDER_COLOR,B=Z.C.SHUTTLE_GRAY,_e=function(s){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return+s.toFixed(t)},qt=function(n){(0,w.Z)(t,n);var s=(0,D.Z)(t);function t(i,o,a){var r;return(0,h.Z)(this,t),(r=s.call(this)).data=i,r.plotLines=a,r.options=new Pe.rc,r.tooltipFormatter=function(){var c,p,d,u=this.point,y=_.Ov.transformToMineUTCTimeZone(de.q.HVC,u.lastDugDate,zt.a.DEFAULT),F=null===(c=u.patterns)||void 0===c?void 0:c.map(function(L){return"<div>".concat(L,"</div>")}).join(" ");return"<div class='fragmentation-per-date-chart-tooltip'>\n     <div>Fragmentation ".concat(null===(p=u.type)||void 0===p?void 0:p.toUpperCase(),": ").concat(_e(u.x)," mm</div>\n     <div>Density: ").concat(_e(u.y,4),"</div>\n     <div>").concat((null===(d=u.patterns)||void 0===d?void 0:d.length)>1?"Patterns":"Pattern",":</div>\n     ").concat(F,"\n     <div>Last Dug Date: ").concat(y,"</div></div>\n    ")},r}return(0,v.Z)(t,[{key:"buildChartOptions",value:function(){return this.options.setTooltip({formatter:this.tooltipFormatter})}},{key:"prepareChartOptions",value:function(){return this.setCommonOptions(),this.commonOptions.mergeOptions(this.buildChartOptions()),this.commonOptions}},{key:"setCommonOptions",value:function(){this.commonOptions=(new Pe.rc).setChart({type:"area",height:400,plotBorderColor:Kt,plotBorderWidth:1,spacing:[5,15,15,10]}).setTitle({text:this.buildTitle(),style:{fontSize:"12px",fontWeight:"bold"}}).setLegend({itemStyle:{fontWeight:"normal"},symbolHeight:12,symbolWidth:15,symbolRadius:0}).setPlotOptions({area:{pointStart:0,label:{style:{color:B}},marker:{enabled:!1,symbol:"circle",radius:2,states:{hover:{enabled:!0}}}}}).setTooltip({useHTML:!0,animation:!1,stickOnContact:!0,style:{pointerEvents:"auto"}}).setXAxis({gridLineWidth:1,min:0,title:{text:"Size, mm",style:{color:B}},plotLines:[Object.assign({},this.plotLines.leftAvg),Object.assign({},this.plotLines.rightAvg)]}).setYAxis(Object.assign(Object.assign({},Wt.axisStylingConfig),{minorTicks:!1,title:{text:"Density",style:{color:B}},labels:{style:{color:B}}})).setSeries(this.data)}}]),t}(Xt.N),xe=x.P20,Oe=x.P50,Ze=x.P80,en=Z.C.SHULTLE_GRAY_TRANSPARENT,tn=Z.C.SHUTTLE_GRAY,nn=Z.C.BUTTERFLY_BLUE,an=Z.C.BUTTERFLY_BLUE_TRANSPARENT,Fe=Z.C.BRIGHT_CYAN,Le=Z.C.CADET,on=[{label:"P20",value:xe},{label:"P50",value:Oe},{label:"P80",value:Ze}],ie=function(s,t,i){return t===m.L.LEFT?{type:"area",name:"Fragmentation ".concat(i.toUpperCase()," (View 1)"),lineColor:nn,color:an,index:0,data:s}:{type:"area",color:en,lineColor:tn,name:"Fragmentation ".concat(i.toUpperCase()," (View 2)"),index:1,data:s}},z=function(s,t,i){return t===m.L.LEFT?{width:1,dashStyle:"Dash",zIndex:100,color:Fe,value:we(s[0],i),id:"0"}:{width:1,dashStyle:"Dash",zIndex:100,color:Le,value:we(s[1],i),id:"1"}},Ae=function(s,t){return{type:"line",dashStyle:"ShortDash",marker:{enabled:!1},id:t===m.L.LEFT?"avg-view-1":"avg-view-2",color:t===m.L.LEFT?Fe:Le,name:t===m.L.LEFT?"Average (View 1)":"Average (View 2)",events:{legendItemClick:function(){var o,a;this.visible?null===(o=this.chart.xAxis[0])||void 0===o||o.removePlotLine(t===m.L.LEFT?"0":"1"):null===(a=this.chart.xAxis[0])||void 0===a||a.addPlotLine(z(s.data[t],t,s.selectedMode))}}}},we=function(s,t){var i,o=((0,S.Z)(i={},xe,"avgP20"),(0,S.Z)(i,Oe,"avgP50"),(0,S.Z)(i,Ze,"avgP80"),i);return null==s?void 0:s[o[t]]},De=function(){var n=function(){function s(){var t;(0,h.Z)(this,s),this.densityFields=((0,S.Z)(t={},x.P20,"densityP20"),(0,S.Z)(t,x.P50,"densityP50"),(0,S.Z)(t,x.P80,"densityP80"),t)}return(0,v.Z)(s,[{key:"adaptDataItems",value:function(i,o){var a=this;return i.map(function(r){return Object.assign(Object.assign({},r),{x:r[a.densityFields[o]],y:r[o],type:o})})}}]),s}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n}(),rn=["chartContainer"],sn=function(s){return{active:s}};function cn(n,s){if(1&n){var t=e.EpF();e.ynx(0),e.TgZ(1,"button",10),e.NdJ("click",function(){var c=e.CHM(t).$implicit;return e.oxw(2).changeMetricType(c.value)}),e._uU(2),e.qZA(),e.BQk()}if(2&n){var i=s.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(2,sn,i.value===o.selectedMode)),e.xp6(1),e.hij(" ",i.label," ")}}function ln(n,s){if(1&n&&(e.TgZ(0,"div",7)(1,"div",8),e.YNc(2,cn,3,4,"ng-container",9),e.qZA()()),2&n){var t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.modes)("ngForTrackBy",t.trackByFn)}}function pn(n,s){if(1&n&&e._UZ(0,"div",11),2&n){var t=e.oxw();e.Q6J("chart",t.chart)}}function dn(n,s){1&n&&e._UZ(0,"dabo-no-data-message",12)}var mn=function(){var n=function(s){(0,w.Z)(i,s);var t=(0,D.Z)(i);function i(o,a,r){var c,p;return(0,h.Z)(this,i),(p=t.call(this)).stateService=o,p.dataAdapterService=a,p.customEventService=r,p.modes=on,p.widgetName="Fragmentation Comparison",p.data=((0,S.Z)(c={},m.L.LEFT,null),(0,S.Z)(c,m.L.RIGHT,null),c),p.selectedMode=p.stateService.getSelectedType(),p.stateService.getStream().pipe((0,H.T)(1),(0,T.R)(p.destroy$)).subscribe(function(d){p.selectedMode=d,p.setLocalData(p.leftSide,m.L.LEFT),p.setLocalData(p.rightSide,m.L.RIGHT),p.changeChartSeriesData(m.L.LEFT),p.changeChartSeriesData(m.L.RIGHT)}),p}return(0,v.Z)(i,[{key:"ngOnChanges",value:function(a){var r,c,p,d;(null===(r=a.leftSide)||void 0===r?void 0:r.currentValue)&&(this.setLocalData(a.leftSide.currentValue,m.L.LEFT),this.changeChartSeriesData(m.L.LEFT)),(null===(c=a.rightSide)||void 0===c?void 0:c.currentValue)&&(this.setLocalData(a.rightSide.currentValue,m.L.RIGHT),this.changeChartSeriesData(m.L.RIGHT)),this.checkNoData(),!this.noDataCase&&((null===(p=a.leftSide)||void 0===p?void 0:p.currentValue.length)||(null===(d=a.rightSide)||void 0===d?void 0:d.currentValue.length))&&this.buildChart()}},{key:"trackByFn",value:function(a,r){return r.value}},{key:"changeMetricType",value:function(a){this.stateService.updateType(a),this.sendGoogleAnalyticsEvent(a)}},{key:"setLocalData",value:function(a,r){a&&(this.data[r]=this.dataAdapterService.adaptDataItems(a,this.selectedMode))}},{key:"changeChartSeriesData",value:function(a){var r,c,p,d;if(null===(c=null===(r=this.chart)||void 0===r?void 0:r.ref)||void 0===c?void 0:c.series){var u=a===m.L.LEFT?0:1,y=ie(this.data[a],a,this.selectedMode),F=z(this.data[a],a,this.selectedMode);this.chart.ref.series[u].setData(y.data,!1,!1),this.chart.ref.series[u].update(y,!1),this.chart.ref.xAxis[0].options.plotLines.some(function(L){return L.id==="".concat(u)})&&(null===(p=this.chart.ref.xAxis[0])||void 0===p||p.removePlotLine("".concat(u)),null===(d=this.chart.ref.xAxis[0])||void 0===d||d.addPlotLine(F)),this.chart.ref.redraw(!0)}}},{key:"buildChart",value:function(){var a=ie(this.data[m.L.LEFT],m.L.LEFT,this.selectedMode),r=ie(this.data[m.L.RIGHT],m.L.RIGHT,this.selectedMode),c=Ae(this,m.L.LEFT),p=Ae(this,m.L.RIGHT),d={leftAvg:z(this.data[m.L.LEFT],m.L.LEFT,this.selectedMode),rightAvg:z(this.data[m.L.RIGHT],m.L.RIGHT,this.selectedMode)},u=new qt([a,r,c,p],{type:this.selectedMode},d);this.chart=new Q.kL(u.prepareChartOptions().build()),this.sendGoogleAnalyticsEvent(this.selectedMode)}},{key:"checkNoData",value:function(){this.noDataCase=(0,Me.isEmpty)(this.leftSide)&&(0,Me.isEmpty)(this.rightSide),this.stateService.updateNoDataState(this.noDataCase)}},{key:"sendGoogleAnalyticsEvent",value:function(a){var r=a.toUpperCase();this.customEventService.event(ne.R.WIDGET_DISPLAYED,{widget_name:this.widgetName,metric_applied:r})}}]),i}(_.eO);return n.\u0275fac=function(t){return new(t||n)(e.Y36(V),e.Y36(De),e.Y36(g.qL))},n.\u0275cmp=e.Xpm({type:n,selectors:[["dabo-fragmentation-comparison-chart"]],viewQuery:function(t,i){var o;1&t&&e.Gf(rn,7),2&t&&e.iGM(o=e.CRH())&&(i.chartContainer=o.first)},inputs:{leftSide:"leftSide",rightSide:"rightSide"},features:[e.qOj,e.TTD],decls:9,vars:3,consts:[[1,"fragmentation-comparison-chart"],[1,"title-container"],[1,"title-label"],["class","modes",4,"ngIf"],[1,"chart-wrapper"],[3,"chart",4,"ngIf","ngIfElse"],["noData",""],[1,"modes"],[1,"button-group","button-group--small-rounded"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"button-group__item",3,"ngClass","click"],[3,"chart"],[1,"chart"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"Fragmentation Comparison"),e.qZA()(),e.YNc(4,ln,3,2,"div",3),e.TgZ(5,"div",4),e.YNc(6,pn,1,1,"div",5),e.qZA(),e.YNc(7,dn,1,0,"ng-template",null,6,e.W1O),e.qZA()),2&t){var o=e.MAs(8);e.xp6(4),e.Q6J("ngIf",!i.noDataCase),e.xp6(2),e.Q6J("ngIf",!i.noDataCase)("ngIfElse",o)}},directives:[C.O5,C.sg,C.mk,Q.Dm],styles:[".fragmentation-comparison-chart[_ngcontent-%COMP%]{min-width:1200px;max-width:1200px}.fragmentation-comparison-chart[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:16px}.fragmentation-comparison-chart[_ngcontent-%COMP%]   .title-label[_ngcontent-%COMP%]{color:#282d32;font-size:12px;font-weight:500}.fragmentation-comparison-chart[_ngcontent-%COMP%]   .modes[_ngcontent-%COMP%]{display:flex;justify-content:center}"],changeDetection:0}),n}(),Ee=[{avgP20:null,avgP50:null,avgP80:null}],ke=function(){var n=function(){function s(t){(0,h.Z)(this,s),this.adapter=t,this.defaultPipes=[{token:"customNumber",args:"1.0-2"},{token:"detectNullValue"}],this.rowsConfig=[{key:"avgP20",label:"Avg. Fragmentation P20, mm:",pipes:this.defaultPipes},{key:"avgP50",label:"Avg. Fragmentation P50, mm:",pipes:this.defaultPipes},{key:"avgP80",label:"Avg. Fragmentation P80, mm:",pipes:this.defaultPipes}]}return(0,v.Z)(s,[{key:"transformFragmentationData",value:function(i,o){var a=this.adapter.adapt(i),r=this.adapter.adapt(o);return this.rowsConfig.map(function(c){var p={left:null==a?void 0:a[null==c?void 0:c.key]},d={right:null==r?void 0:r[null==c?void 0:c.key]};return Object.assign(Object.assign(Object.assign({},c),p),d)})}}]),s}();return n.\u0275fac=function(t){return new(t||n)(e.LFG(pe))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n}(),P=l(88279),un=l(31497);function gn(n,s){1&n&&(e.TgZ(0,"th",10),e._uU(1,"Metrics"),e.qZA())}function vn(n,s){if(1&n&&(e.TgZ(0,"spann",13),e._uU(1),e.qZA()),2&n){var t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.label," ")}}function hn(n,s){if(1&n&&(e.TgZ(0,"spann",13),e._uU(1),e.qZA()),2&n){var t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.label," ")}}function fn(n,s){if(1&n&&(e.TgZ(0,"spann",13),e._uU(1),e.qZA()),2&n){var t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.label," ")}}function Cn(n,s){if(1&n&&(e.TgZ(0,"spann",13),e._uU(1),e.qZA()),2&n){var t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.label," ")}}function Sn(n,s){if(1&n&&(e.TgZ(0,"td",11),e.YNc(1,vn,2,1,"spann",12),e.YNc(2,hn,2,1,"spann",12),e.YNc(3,fn,2,1,"spann",12),e.YNc(4,Cn,2,1,"spann",12),e.qZA()),2&n){var t=s.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf","avgP20"===t.key&&"p20"===i.selectedMode),e.xp6(1),e.Q6J("ngIf","avgP50"===t.key&&"p50"===i.selectedMode),e.xp6(1),e.Q6J("ngIf","avgP80"===t.key&&"p80"===i.selectedMode),e.xp6(1),e.Q6J("ngIf","avgP20"!==t.key&&"avgP50"!==t.key&&"avgP80"!==t.key)}}function yn(n,s){1&n&&(e.TgZ(0,"th",10),e._uU(1,"View 1"),e.qZA())}function bn(n,s){if(1&n&&(e.TgZ(0,"spann",13),e._uU(1),e.ALo(2,"dynamicPipe"),e.qZA()),2&n){var t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.left,t.pipes)," ")}}function Tn(n,s){if(1&n&&(e.TgZ(0,"spann",13),e._uU(1),e.ALo(2,"dynamicPipe"),e.qZA()),2&n){var t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.left,t.pipes)," ")}}function Mn(n,s){if(1&n&&(e.TgZ(0,"spann",13),e._uU(1),e.ALo(2,"dynamicPipe"),e.qZA()),2&n){var t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.left,t.pipes)," ")}}function Pn(n,s){if(1&n&&(e.TgZ(0,"spann",13),e._uU(1),e.ALo(2,"dynamicPipe"),e.qZA()),2&n){var t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.left,t.pipes)," ")}}function _n(n,s){if(1&n&&(e.TgZ(0,"td",11),e.YNc(1,bn,3,4,"spann",12),e.YNc(2,Tn,3,4,"spann",12),e.YNc(3,Mn,3,4,"spann",12),e.YNc(4,Pn,3,4,"spann",12),e.qZA()),2&n){var t=s.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf","avgP20"===t.key&&"p20"===i.selectedMode),e.xp6(1),e.Q6J("ngIf","avgP50"===t.key&&"p50"===i.selectedMode),e.xp6(1),e.Q6J("ngIf","avgP80"===t.key&&"p80"===i.selectedMode),e.xp6(1),e.Q6J("ngIf","avgP20"!==t.key&&"avgP50"!==t.key&&"avgP80"!==t.key)}}function xn(n,s){1&n&&(e.TgZ(0,"th",10),e._uU(1,"View 2"),e.qZA())}function On(n,s){if(1&n&&(e.TgZ(0,"spann",13),e._uU(1),e.ALo(2,"dynamicPipe"),e.qZA()),2&n){var t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.right,t.pipes)," ")}}function Zn(n,s){if(1&n&&(e.TgZ(0,"spann",13),e._uU(1),e.ALo(2,"dynamicPipe"),e.qZA()),2&n){var t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.right,t.pipes)," ")}}function Fn(n,s){if(1&n&&(e.TgZ(0,"spann",13),e._uU(1),e.ALo(2,"dynamicPipe"),e.qZA()),2&n){var t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.right,t.pipes)," ")}}function Ln(n,s){if(1&n&&(e.TgZ(0,"spann",13),e._uU(1),e.ALo(2,"dynamicPipe"),e.qZA()),2&n){var t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.right,t.pipes)," ")}}function An(n,s){if(1&n&&(e.TgZ(0,"td",11),e.YNc(1,On,3,4,"spann",12),e.YNc(2,Zn,3,4,"spann",12),e.YNc(3,Fn,3,4,"spann",12),e.YNc(4,Ln,3,4,"spann",12),e.qZA()),2&n){var t=s.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf","avgP20"===t.key&&"p20"===i.selectedMode),e.xp6(1),e.Q6J("ngIf","avgP50"===t.key&&"p50"===i.selectedMode),e.xp6(1),e.Q6J("ngIf","avgP80"===t.key&&"p80"===i.selectedMode),e.xp6(1),e.Q6J("ngIf","avgP20"!==t.key&&"avgP50"!==t.key&&"avgP80"!==t.key)}}function wn(n,s){1&n&&e._UZ(0,"mat-header-row")}function Dn(n,s){1&n&&e._UZ(0,"mat-row")}function En(n,s){if(1&n&&(e.TgZ(0,"div",1)(1,"mat-table",2),e.ynx(2,3),e.YNc(3,gn,2,0,"th",4),e.YNc(4,Sn,5,4,"td",5),e.BQk(),e.ynx(5,6),e.YNc(6,yn,2,0,"th",4),e.YNc(7,_n,5,4,"td",5),e.BQk(),e.ynx(8,7),e.YNc(9,xn,2,0,"th",4),e.YNc(10,An,5,4,"td",5),e.BQk(),e.YNc(11,wn,1,0,"mat-header-row",8),e.YNc(12,Dn,1,0,"mat-row",9),e.qZA()()),2&n){var t=e.oxw();e.xp6(1),e.Q6J("dataSource",t.dataFields),e.xp6(10),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}var kn=function(){var n=function(s){(0,w.Z)(i,s);var t=(0,D.Z)(i);function i(o,a,r){var c;return(0,h.Z)(this,i),(c=t.call(this)).tableDataService=o,c.stateService=a,c.cdr=r,c.leftSideData$=new E.X(Ee),c.rightSideData$=new E.X(Ee),c.displayedColumns=["label","left","right"],c.noDataCase=c.stateService.isNoData(),c.selectedMode=c.stateService.getSelectedType(),c.stateService.getNoDataStream().pipe((0,H.T)(1),(0,T.R)(c.destroy$)).subscribe(function(p){c.noDataCase=p,c.cdr.markForCheck()}),c.stateService.getStream().pipe((0,H.T)(1),(0,T.R)(c.destroy$)).subscribe(function(p){c.selectedMode=p,c.cdr.markForCheck()}),c}return(0,v.Z)(i,[{key:"ngOnChanges",value:function(a){var r,c,p,d;(null===(r=a.leftSide)||void 0===r?void 0:r.currentValue)&&(this.updateLeftSideData(null===(c=a.leftSide)||void 0===c?void 0:c.currentValue),this.dataFields=this.tableDataService.transformFragmentationData(a.leftSide.currentValue,this.getRightSideData())),(null===(p=a.rightSide)||void 0===p?void 0:p.currentValue)&&(this.updateRightSideData(null===(d=a.rightSide)||void 0===d?void 0:d.currentValue),this.dataFields=this.tableDataService.transformFragmentationData(this.getLeftSideData(),a.rightSide.currentValue))}},{key:"getLeftSideData",value:function(){return this.leftSideData$.getValue()}},{key:"updateLeftSideData",value:function(a){this.leftSideData$.next(a)}},{key:"getRightSideData",value:function(){return this.rightSideData$.getValue()}},{key:"updateRightSideData",value:function(a){this.rightSideData$.next(a)}}]),i}(_.eO);return n.\u0275fac=function(t){return new(t||n)(e.Y36(ke),e.Y36(V),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["dabo-fragmentation-comparison-table"]],inputs:{leftSide:"leftSide",rightSide:"rightSide"},features:[e.qOj,e.TTD],decls:1,vars:1,consts:[["class","table",4,"ngIf"],[1,"table"],["aria-label","fragmentation-comparison-table",3,"dataSource"],["matColumnDef","label"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","left"],["matColumnDef","right"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["class","content-item",4,"ngIf"],[1,"content-item"]],template:function(t,i){1&t&&e.YNc(0,En,13,3,"div",0),2&t&&e.Q6J("ngIf",!i.noDataCase)},directives:[C.O5,P.BZ,P.w1,P.fO,P.ge,P.Dz,P.ev,P.as,P.XQ,P.nj,P.Gk],pipes:[un.e],styles:[".table[_ngcontent-%COMP%]{margin-bottom:6px}.table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{white-space:nowrap;background-color:inherit;border:rgba(88,107,122,.1) 1px solid;min-width:500px;width:100%;overflow-x:auto}.table[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]{min-height:auto;justify-content:space-between;border:none}.table[_ngcontent-%COMP%]   .cdk-header-cell[_ngcontent-%COMP%]{font-size:12px;line-height:14px;color:#586b7ad9;font-weight:400;border-bottom:none;padding-top:10px;margin-bottom:10px}.table[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]{color:#000000e6;text-align:left;font-weight:400;font-size:13px;line-height:21px}.table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td.mat-footer-cell[_ngcontent-%COMP%]{border-bottom-style:none}.table[_ngcontent-%COMP%]   .cdk-column-label[_ngcontent-%COMP%]{min-width:240px;text-align:left}.table[_ngcontent-%COMP%]   .cdk-column-left[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   .cdk-column-right[_ngcontent-%COMP%]{min-width:130px;text-align:left}"],changeDetection:0}),n}(),Rn=["left"],Nn=["right"];function In(n,s){if(1&n&&(e.TgZ(0,"div",8)(1,"dabo-chart-container",9),e._UZ(2,"dabo-fragmentation-comparison-chart",10)(3,"dabo-fragmentation-comparison-table",10),e.qZA()()),2&n){var t=e.oxw();e.xp6(1),e.Q6J("loading",t.fragmentationChartLoading),e.xp6(1),e.Q6J("leftSide",t.comparisonData[t.sideType.LEFT])("rightSide",t.comparisonData[t.sideType.RIGHT]),e.xp6(1),e.Q6J("leftSide",t.comparisonData[t.sideType.LEFT])("rightSide",t.comparisonData[t.sideType.RIGHT])}}var Re=m.L.LEFT,Ne=m.L.RIGHT,Ie=Ve.K.COMPARING,Yn=[{path:"",component:function(){var n=function(s){(0,w.Z)(i,s);var t=(0,D.Z)(i);function i(o,a,r,c,p,d,u,y,F,L){var A,N,f;return(0,h.Z)(this,i),(f=t.call(this)).compareService=o,f.titleService=a,f.mineStateService=r,f.mainTreeDataService=c,f.pagePermissionService=p,f.comparisonChartState=d,f.comparisonChartApiService=u,f.cdr=y,f.customEventService=F,f.router=L,f.comparisonData=((0,S.Z)(A={},m.L.LEFT,[]),(0,S.Z)(A,m.L.RIGHT,[]),A),f.fragmentationChartLoading=!0,f.isPatternsSelected=((0,S.Z)(N={},m.L.LEFT,!1),(0,S.Z)(N,m.L.RIGHT,!1),N),f.sideType=m.L,f}return(0,v.Z)(i,[{key:"ngOnInit",value:function(){var a=this;this.titleService.setTitle(Ie),this.mineStateService.selectedMineArea$.pipe((0,q.x)(function(r,c){return r.value===c.value}),(0,ee.w)(function(r){var c=r.value;if(a.pagePermissionService.canAccess(Ie)){var p="Loading ".concat(c.toUpperCase()," tree");return a.mainTreeDataService.setTree(c,p)}return a.mainTreeDataService.treeData=[],(0,se.of)({})}),(0,T.R)(this.destroy$)).subscribe(function(){a.customEventService.event(ne.R.DEFAULT_STATE_COLLECTOR,{page_url:a.router.url})}),this.fetchData(m.L.LEFT),this.fetchData(m.L.RIGHT)}},{key:"ngAfterViewInit",value:function(){var a=this;this.compareService.mapsLoaded$.pipe((0,j.h)(function(r){return r.left&&r.right}),(0,ee.w)(function(){return a.compareService.syncMenuOptions$}),(0,T.R)(this.destroy$)).subscribe(function(r){var c;a.syncMenu=null!==(c=a.syncMenu)&&void 0!==c?c:new Be({options:r,maps:[a.left.map,a.right.map]}),a.syncMenu.gridResolve(r),a.syncMenu.syncMovesResolve(r)}),this.compareService.polygonTool.subscribe(function(r){r.side===Re?a.right.mapComponent.duplicate(a.right.map,r):r.side===Ne&&a.left.mapComponent.duplicate(a.left.map,r)}),this.subscribeOnColorMapsChanges()}},{key:"ngOnDestroy",value:function(){var a,r,c;(0,W.Z)((0,X.Z)(i.prototype),"ngOnDestroy",this).call(this),this.compareService.mapsLoaded$.next(((0,S.Z)(a={},Re,!1),(0,S.Z)(a,Ne,!1),a)),this.compareService.setSyncMenuOptions({syncMoves:!0,grid:!1}),this.syncMenu.removeEventsHandlers(),this.sendSelectColorMapEvent(null===(r=this.left)||void 0===r?void 0:r.colorMap,null===(c=this.right)||void 0===c?void 0:c.colorMap)}},{key:"widgetCollapsableStateChanged",value:function(a){this.comparisonChartState.widgetStateChanged(a.state,a.widget)}},{key:"patternsSelected",value:function(a,r){this.checkPatternSelectedState(r,a),this.comparisonChartState.selectPatterns(a,r)}},{key:"colorMapSelected",value:function(a,r){this.comparisonChartState.colorMapUpdated(a,r)}},{key:"updateChartState",value:function(){(this.left||this.right)&&!this.left.isChartShown&&!this.right.isChartShown&&this.compareService.chartState$.next(Object.assign(Object.assign({},this.compareService.chartState),{isShown:!1}))}},{key:"focusOut",value:function(){var a,r;this.sendSelectColorMapEvent(null===(a=this.left)||void 0===a?void 0:a.colorMap,null===(r=this.right)||void 0===r?void 0:r.colorMap)}},{key:"startChartLoading",value:function(){this.fragmentationChartLoading=!0,this.cdr.markForCheck()}},{key:"fetchData",value:function(a){var r=this;this.comparisonChartState.watchForState(a).pipe((0,te.b)(function(c){return r.checkPatternSelectedState(a,c.patterns)}),(0,te.b)(function(c){return r.checkNoSideData(a,c.state)}),(0,j.h)(function(c){return c.patterns.length>0&&c.state}),(0,te.b)(function(){return r.startChartLoading()}),(0,ee.w)(function(c){return r.comparisonChartApiService.getFragmentationChart(c.patterns)}),(0,T.R)(this.destroy$)).subscribe(function(c){r.fragmentationChartLoading=!1,r.comparisonData[a]=c,r.cdr.markForCheck()})}},{key:"checkNoSideData",value:function(a,r){(!this.isPatternsSelected[a]||!r)&&this.setNoSideData(a)}},{key:"setNoSideData",value:function(a){this.comparisonData[a]=[],this.cdr.markForCheck()}},{key:"checkPatternSelectedState",value:function(a,r){this.isPatternsSelected[a]=r.length>0}},{key:"subscribeOnColorMapsChanges",value:function(){var a=this;(0,K.aj)([this.left.mapStateService.colorMapChangedPairwise$().pipe((0,ce.O)([null])),this.right.mapStateService.colorMapChangedPairwise$().pipe((0,ce.O)([null]))]).pipe((0,T.R)(this.destroy$)).subscribe(function(r){var c=(0,Y.Z)(r,2),d=(0,Y.Z)(c[0],1)[0],u=(0,Y.Z)(c[1],1);a.sendSelectColorMapEvent(d,u[0])})}},{key:"sendSelectColorMapEvent",value:function(a,r){(a||r)&&this.customEventService.event(ne.R.COLOR_MAP_COMBINATIONS,{view1:null!=a?a:"empty",view2:null!=r?r:"empty"})}}]),i}(_.eO);return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.zY),e.Y36(g.yD),e.Y36(g.Hj),e.Y36(et.U),e.Y36(g.GO),e.Y36(me),e.Y36(ge),e.Y36(e.sBO),e.Y36(g.qL),e.Y36(U.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["dabo-compare-page"]],viewQuery:function(t,i){var o;1&t&&(e.Gf(Rn,5),e.Gf(Nn,5)),2&t&&(e.iGM(o=e.CRH())&&(i.left=o.first),e.iGM(o=e.CRH())&&(i.right=o.first))},features:[e._Bn([me,ge,le]),e.qOj],decls:10,vars:3,consts:[["daboPageVisibility","",1,"compare-page",3,"focusOutEmitter"],["fxFlex","","fxLayoutAlign","row","id","map-container"],["fxLayoutAlign","column",1,"view-wrapper"],["side","left",3,"deselectPatternEmitter","patternSelected","colorMapSelected","widgetCollapsableStateChanged"],["left",""],["side","right",3,"deselectPatternEmitter","patternSelected","colorMapSelected"],["right",""],["class","comparison-chart-wrapper",4,"ngIf"],[1,"comparison-chart-wrapper"],[3,"loading"],[3,"leftSide","rightSide"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("focusOutEmitter",function(){return i.focusOut()}),e.TgZ(1,"div",1)(2,"div",2)(3,"dabo-compare-side",3,4),e.NdJ("deselectPatternEmitter",function(){return i.updateChartState()})("patternSelected",function(a){return i.patternsSelected(a,i.sideType.LEFT)})("colorMapSelected",function(a){return i.colorMapSelected(a,i.sideType.LEFT)})("widgetCollapsableStateChanged",function(a){return i.widgetCollapsableStateChanged(a)}),e.qZA()(),e.TgZ(5,"div",2)(6,"dabo-compare-side",5,6),e.NdJ("deselectPatternEmitter",function(){return i.updateChartState()})("patternSelected",function(a){return i.patternsSelected(a,i.sideType.RIGHT)})("colorMapSelected",function(a){return i.colorMapSelected(a,i.sideType.RIGHT)}),e.qZA()()()(),e.YNc(8,In,4,5,"div",7),e.ALo(9,"async")),2&t&&(e.xp6(8),e.Q6J("ngIf",e.lcZ(9,1,i.comparisonChartState.getState())&&(i.isPatternsSelected[i.sideType.LEFT]||i.isPatternsSelected[i.sideType.RIGHT])))},directives:[tt.D,k.yH,k.Wh,Qt,C.O5,Bt.S,mn,kn],pipes:[C.Ov],styles:[".view-wrapper[_ngcontent-%COMP%]{width:50%}.comparison-chart-wrapper[_ngcontent-%COMP%]{margin:0 16px;background-color:#fff;display:flex;justify-content:center}.comparison-chart-wrapper[_ngcontent-%COMP%]   dabo-fragmentation-comparison-chart[_ngcontent-%COMP%], .comparison-chart-wrapper[_ngcontent-%COMP%]   dabo-fragmentation-comparison-table[_ngcontent-%COMP%]{display:flex;justify-content:center}"],changeDetection:0}),n}()},{path:"**",redirectTo:""}],$n=function(){var n=(0,v.Z)(function s(){(0,h.Z)(this,s)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[U.Bz.forChild(Yn)],U.Bz]}),n}(),Hn=l(29772),Ge=l(42155),Jn=l(29029),Ye=l(1302),$e=l(94579),He=l(70167),Un=l(16410),jn=l(70375),Je=l(38385),Vn=function(){var n=(0,v.Z)(function s(){(0,h.Z)(this,s)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Se.Ps,be.KP,ye.QW,M.UX,G.p9,C.ez,I.ot]]}),n}(),Qn=l(66270),Bn=l(73885),oe=l(32807),Ue=function(){var n=(0,v.Z)(function s(){(0,h.Z)(this,s)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[{provide:Q.mA,useFactory:function(){return[Qn,Bn]}},De,V],imports:[[C.ez,Q.SD,oe.q]]}),n}(),zn=l(89936),je=function(){var n=(0,v.Z)(function s(){(0,h.Z)(this,s)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[ke,pe,V],imports:[[C.ez,oe.q,zn.d,P.p0]]}),n}(),Wn=function(){var n=(0,v.Z)(function s(){(0,h.Z)(this,s)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[g.e8,Jn.j],imports:[[C.ez,Un.L,Ye.o,Ge.o9,k.ae,Je.PatternsModule,M.UX,U.Bz,Te.Cv,$e.R,I.ot,G.p9,J.Tx,Hn.AV,He.n,jn._,R.y4,Ue,je,Vn]]}),n}(),Xn=function(){var n=(0,v.Z)(function s(){(0,h.Z)(this,s)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[fe.z,O._2],imports:[[Ge.o9,C.ez,$n,Wn,$e.R,I.ot,J.Tx,He.n,G.p9,Je.PatternsModule,Ue,je,oe.q,Ye.o]]}),n}()}}]);