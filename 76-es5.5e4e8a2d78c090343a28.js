(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{"F/BS":function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");class u{constructor(l){l.addLoaderWithPrefixedTranslations("/cabinet/custom-reports/fs-trend-report","")}}var i=e("pMnS"),o=e("t68o"),s=e("zbXB"),r=e("GsI2"),d=e("eliu"),a=e("0Xvm"),c=e("VOAG"),p=e("aYrz"),h=e("HOtD"),m=e("bZzr"),f=e("646r"),g=e("19u4"),v=e("vNrE"),b=e("SVse"),w=e("TSSN"),D=e("RHbX"),T=e("Xrj0"),C=e("iInd"),k=e("jqm9"),_=e("/kTj"),R=e("Asqg"),M=e("1Elx"),x=e("zeHk"),I=e("+bil"),y=e("S+vS"),O=e("ChPW"),S=e("M5gX"),Y=e("hfps"),F=e("eeq/"),N=e("mvzq"),E=e("t1ag"),V=e("K5C0"),j=e("+2T5"),G=e("/Mbv"),B=e("98QR"),L=e("V4Wx"),P=e("zp2H"),A=e("v67E"),U=e("2v1Z"),z=e("bUbq"),$=e("sFX2"),q=e("NxlO"),X=e("XpwZ"),K=e("Cfvw");e("8Gnb");class W{constructor(l,n,e){this.FsTrendReportApi=l,this.dialog=n,this.translate=e,this.onSaved=new t.EventEmitter,this.dataInput=null,this.colsGridInput=[],this.inputLoading=!1,this.isSubmited=!1,this.subs=[]}set sub(l){this.subs.push(l)}ngOnDestroy(){this.subs.forEach(l=>l.unsubscribe())}show(){this.modal.showModal()}setInputView(l,n,e){this.inputLoading=!0,this.dataInput=[],this.colsGridInput=[],this.docId=l,this.dateIndex=n,this.storeId=e,this.sub=this.translate.get(["header-col1.line_description"]).subscribe(t=>{this.colsGridInput.push({text:"ln",field:"ln",hide:!0}),this.colsGridInput.push({text:t["header-col1.line_description"],field:"ld"}),this.colsGridInput.push({text:"MTD",field:"MTD",decimalNumber:!0,editable:!0,formattedNumber:!0}),this.colsGridInput.push({text:"YTD",field:"YTD",decimalNumber:!0,editable:!0,formattedNumber:!0}),this.colsGridInput[0].supressMove=!0;const u=this.FsTrendReportApi.getInputLines(l,e,n);Object(K.a)(u).subscribe(l=>{l.data.forEach(l=>{const n=[];n.push({field:"ln",value:l.ln}),n.push({field:"ld",value:l.ld}),n.push({field:"MTD",value:l.MTD,editable:!0}),n.push({field:"YTD",value:l.YTD,editable:!0}),this.dataInput.push(n)}),this.inputLoading=!1})})}onCancelInput(){this.modal.closeModal()}onSaveInput(){let l;this.isSubmited=!0,l=this.griddrillinput.getGridEditedData("MTD");const n=[];l.forEach(l=>{let e;e=this.dataInput.filter(n=>"ln"===n[0].field&&+n[0].value==+l.ln&&(+n[2].value!=+l.MTD||+n[3].value!=+l.YTD)),e.length&&n.push({ln:l.ln,MTD:parseFloat(l.MTD.toString().replace(/,/g,"")),YTD:parseFloat(l.YTD.toString().replace(/,/g,""))})}),n.length?this.FsTrendReportApi.updateBudgetInput("input",this.docId,this.storeId,this.dateIndex,n).then(l=>{l&&(this.sub=this.translate.get("messages.input-saved-success").subscribe(l=>this.dialog.success(l)),this.isSubmited=!1,this.onSaved.emit(!0),this.modal.closeModal())}).catch(l=>{this.isSubmited=!1,this.dialog.alert(l.message)}):this.isSubmited=!1}}var H=e("f2Qm");class Z extends H.a{constructor(l){super(l),this.api=l}getStoreGroups(){return this.api.call("GET","/storegroups").then(l=>l).catch(this.handleError)}getCalendar(){return this.api.call("GET","/kpi/month").then(l=>l).catch(this.handleError)}getReport(l,n,e,t,u){const i=[];return i.push({key:"busseg",value:l}),i.push({key:"dateid",value:n}),i.push({key:"comp",value:e}),i.push({key:"docid",value:t}),i.push({key:"storeid",value:u}),this.api.call("GET","/fstrendreport",i).then(l=>l).catch(this.handleError)}getViewTrend(l,n,e,t,u){const i=[];return i.push({key:"busseg",value:l}),i.push({key:"dateid",value:n}),i.push({key:"comp",value:t}),i.push({key:"storeid",value:e}),i.push({key:"docid",value:u}),this.api.call("GET","/fstrendreport/viewtrend",i).then(l=>l).catch(this.handleError)}getSideBySide(l,n,e,t){const u=[];return u.push({key:"busseg",value:l}),u.push({key:"dateid",value:n}),u.push({key:"comp",value:e}),u.push({key:"docid",value:t}),this.api.call("GET","/fstrendreport/sidebyside",u).then(l=>l).catch(this.handleError)}getDrillDetail(l,n,e,t){const u=[];return u.push({key:"storeid",value:l}),u.push({key:"dateid",value:n}),u.push({key:"docline",value:e}),u.push({key:"docid",value:t}),this.api.call("GET","/fstrendreport/drilldetail",u).then(l=>l).catch(this.handleError)}getStores(){return this.api.call("GET","/fstrendreport/stores").then(l=>l).catch(this.handleError)}getReports(){return this.api.call("GET","/fstrendreport/getrepts").then(l=>l).catch(this.handleError)}getInputLines(l,n,e){const t=[];return t.push({key:"storeid",value:n}),t.push({key:"dateindex",value:e}),t.push({key:"docid",value:l}),this.api.call("GET","/fstrendreport/getinputlines",t).then(l=>l).catch(this.handleError)}updateBudgetInput(l,n,e,t,u){return this.api.call("PUT","/fstrendreports/".concat(n),{type:l,docId:n,storeId:e,dateIndex:t,valuesGrid:u}).then(l=>l).catch(this.handleError)}handleError(l){return Promise.reject(l)}}var Q=t["\u0275crt"]({encapsulation:0,styles:[[".app-input-report-line-modal .c_modal{height:525px;width:700px}  .app-input-report-line-modal .c_modal .c_modal__body{position:relative}.modal-header[_ngcontent-%COMP%]{height:20px;display:flex;justify-content:space-between;margin-bottom:10px}.report-line-input-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{clear:both;display:inline-block;width:50%}.report-line-input-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .report-line-input-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{float:right;width:50%}.report-line-input-form[_ngcontent-%COMP%]   .small-12[_ngcontent-%COMP%]{padding:2px 0}.save-btn[_ngcontent-%COMP%]{position:absolute;right:20px}.add-text-input[_ngcontent-%COMP%]{width:100%;margin:10px 0;height:30px}.testing[_ngcontent-%COMP%]{font-size:50px}"]],data:{}});function J(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"ag-grid",[["style","height: 100%"]],null,[["window","resize"]],(function(l,n,e){var u=!0;return"window:resize"===n&&(u=!1!==t["\u0275nov"](l,5).onResize()&&u),u}),R.b,R.a)),t["\u0275prd"](512,null,b.f,b.f,[t.LOCALE_ID]),t["\u0275prd"](512,null,M.a,M.a,[]),t["\u0275prd"](512,null,x.a,x.a,[I.a,y.a,O.a,w.j]),t["\u0275prd"](512,null,S.a,S.a,[]),t["\u0275did"](5,770048,[[2,4],["griddrillinput",4]],0,Y.a,[b.d,b.f,M.a,F.a,x.a,N.a,S.a,E.b,w.j,V.a,_.b,j.a],{data:[0,"data"],headers:[1,"headers"],showCount:[2,"showCount"],formattedValues:[3,"formattedValues"],idGrid:[4,"idGrid"]},null)],(function(l,n){var e=n.component;l(n,5,0,e.dataInput,e.colsGridInput,!1,!0,"grillInput")}),null)}function ll(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","c__table"],["style","height:100%"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,J)),t["\u0275did"](2,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,!n.component.inputLoading)}),null)}function nl(l){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{modal:0}),t["\u0275qud"](671088640,2,{griddrillinput:0}),(l()(),t["\u0275eld"](2,0,null,null,19,"app-modal",[["class","app-input-report-line-modal"]],null,null,null,P.b,P.a)),t["\u0275prd"](512,null,A.a,A.a,[_.b]),t["\u0275did"](4,1228800,[[1,4]],0,U.a,[A.a,b.d,t.ElementRef,t.Renderer2,_.b],{modalTitle:[0,"modalTitle"]},null),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](6,0,null,0,11,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,10,"div",[["class","content__section-header"],["style","width: 100%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,9,"table",[["style","width: 100%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,7,"td",[["style","text-align: right;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,2,"button",[["class","btn btn--primary btn--small-2"],["style","width: 100px"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSaveInput()&&t),t}),null,null)),(l()(),t["\u0275ted"](13,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](15,0,null,null,2,"button",[["class","btn btn--alert btn--small-2"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelInput()&&t),t}),null,null)),(l()(),t["\u0275ted"](16,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](18,0,null,0,3,"div",[["style","height:92%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,2,"div",[["class","content__section_body"],["style","height:100%"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ll)),t["\u0275did"](21,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform("drilldown-line-input.modal.title")),"")),l(n,21,0,!e.inputLoading&&e.dataInput)}),(function(l,n){l(n,12,0,n.component.isSubmited),l(n,13,0,t["\u0275unv"](n,13,0,t["\u0275nov"](n,14).transform("drilldown-line-input.save-button"))),l(n,16,0,t["\u0275unv"](n,16,0,t["\u0275nov"](n,17).transform("drilldown-line-input.cancel-button")))}))}var el=e("EwA9"),tl=e("Qq/Z"),ul=e("cMRB"),il=e("itXk"),ol=e("wd/R"),sl=(e("pFkP"),e("OrbI"),e("w+fh")),rl=e("aR35");const dl=window.amplitude;class al{constructor(l,n,e,t,u,i,o,s,r,d,a,c,p){this.FsTrendReportApi=l,this.coreCache=n,this.route=e,this.router=t,this.dialog=u,this.session=i,this.format=o,this.window=s,this.agGridPdf=r,this.excel=d,this.tracking=a,this.translate=c,this.instanceAppSettingsApi=p,this.loading=!1,this.reportTitle="Fs Trend Report",this.dateUrl="",this.storegroups=[],this.mainData=[],this.colsgrid=[],this.dataBudget=null,this.colsGridBudget=[],this.drillDataControl=[],this.drillColsGrid=[],this.selectedMonth=null,this.selectedYear=0,this.monthpickerOpened=!1,this.monthpickerYears=[],this.stores=[],this.hasOneStore=!1,this.yearsMap=[],this.storegroupsWithoutAll=[],this.monthpickerValue=(new Date).getTime().toString(),this.dropdownStoregroupOpened=!1,this.dropdownStoreOpened=!1,this.dropdownComparisonOpened=!1,this.dropdownComparison1Opened=!1,this.dropdownReportOpened=!1,this.selectedStoregroup={groupIndex:0,name:"All",slno:"",stores:[]},this.instanceSettings=X.b,this.byStore=!0,this.viewTrend=!1,this.isSubmited=!1,this.budgetLoading=!1,this.drillLoading=!1,this.i18nBs=ul.b,this.subs=[],this.editBudget=!1}set sub(l){this.subs.push(l)}get cabinetUrl(){return rl.a.cabinetUrl}ngOnInit(){this.currentUser=this.session.getCurrentUser(),this.editBudget=this.currentUser.AccessLevel>79,this.comparison={name:"MTD",value:"MTD",items:[{name:"MTD",value:"MTD"},{name:"YTD",value:"YTD"}]},this.comparison1={name:"Default",value:"0",items:[{name:"Default",value:"0"},{name:"With GP%",value:"1"},{name:"MTD/YTD",value:"2"}]},isNaN(parseInt(this.monthpickerValue,10))&&(this.monthpickerValue="0");const l=this,n=Object(K.a)(this.FsTrendReportApi.getStores()),e=Object(K.a)(this.FsTrendReportApi.getReports());this.sub=Object(il.b)(this.route.params,n,this.instanceAppSettingsApi.settings$,e).subscribe(([n,e,t,u])=>{let i=n.date;if(i||(i=""),this.dateUrl=i,this.instanceSettings=t,this.stores=e.map(l=>sl.a.fromJson(l)),e.length&&(this.store={name:this.stores[0][this.instanceSettings.storeNameType],id:e[0].StoreID}),this.hasOneStore=e.length<=1,u.data.length){this.report={name:u.data[0].label,value:u.data[0].data,items:[]};for(const l of u.data)this.report.items.push({name:l.label,value:l.data})}this.FsTrendReportApi.getCalendar().then(n=>{const e=[],t=[];n.forEach(l=>{const n=new Date(l.date_from),t=n.getFullYear();void 0===e[t]&&(e[t]={title:t.toString(),months:[]}),l.url=ol(n).format("MM_YYYY"),e[t].months.unshift(l)});for(const l of Object.keys(e))e[l].months.length&&t.push(e[l]);if(l.monthpickerYears=t,this.yearsMap=t.map(l=>l.title),""!==this.dateUrl){const[l,n]=this.dateUrl.split("_"),e=this.yearsMap.indexOf(n);this.selectedYear=-1!==e?e:t.length-1}else this.selectedYear=t.length-1;const u=e.length-1,o=u>=0?e[u].months.length-1:null;let s;if(null!==o&&(s=e[u].months[o]),!i){this.dateUrl=s.date_from;const l=new Date(this.dateUrl);this.selectedYear=this.selectedYear;const n="".concat(this.cabinetUrl,"/custom-reports/fs-trend-report/")+"".concat(ol(l).format("MM_YYYY"));return this.router.navigate([n])}if(this.selectedMonth=this.checkDate(i,e),this.dateUrl=i,null===this.selectedMonth)return this.selectedMonth=s,this.dateUrl=this.selectedMonth.date_from,this.router.navigate(["".concat(this.cabinetUrl,"/custom-reports/fs-trend-report/")+this.selectedMonth.url]);if(e.forEach(l=>{l.months.forEach(l=>{const n=new Date(l.date_from),e=ol(n).format("MM_YYYY");l.url="".concat(this.cabinetUrl,"/custom-reports/fs-trend-report/")+"".concat(ol(n).format("MM_YYYY")),e===i&&(this.selectedMonth=l)})}),""!==i){const[l,n]=i.split("_");this.monthpickerValue=new Date("".concat(l,"/01/").concat(n)).getTime().toString()}else this.monthpickerValue=(new Date).getTime().toString();this.setTopLinks(),this.loadPage(),this.FsTrendReportApi.getStoreGroups().then(l=>(this.storegroups=l,this.sub=this.translate.get("business-segment-filter.all").subscribe(l=>this.storegroups.unshift(new ul.a(0,l))),l))})}),dl.getInstance().logEvent("Custom Reports_page_load",{reportName:"FS Trend",eventName:"page load",eventValue:!0})}windowClick(l){this.dropdownStoregroupOpened&&!l.target.closest(".storegroup-select-box")&&(this.dropdownStoregroupOpened=!1),this.monthpickerOpened&&!l.target.closest(".monthpicker-wrapper")&&(this.monthpickerOpened=!1),this.dropdownReportOpened&&!l.target.closest(".report-select-box")&&(this.dropdownReportOpened=!1),this.dropdownStoreOpened&&!l.target.closest(".store-select-box")&&(this.dropdownStoreOpened=!1),this.dropdownComparisonOpened&&!l.target.closest(".comparison-select-box")&&(this.dropdownComparisonOpened=!1),this.dropdownComparison1Opened&&!l.target.closest(".comparison1-select-box")&&(this.dropdownComparison1Opened=!1)}checkDate(l,n){let e=null;return n.forEach(n=>{n.months.forEach(n=>{n.url.indexOf(l)>-1&&!e&&(e=n)})}),e}onModalSetupInit(l){this.budgetModal=l}drillDownModalInit(l){this.drillModal=l}onModalSetupClose(){this.dataBudget=null}toggleStoregroupDropdown(){this.dropdownStoregroupOpened=!this.dropdownStoregroupOpened}toggleStoreDropdown(){this.dropdownStoreOpened=!this.dropdownStoreOpened}toggleReportDropdown(){this.dropdownReportOpened=!this.dropdownReportOpened}toggleComparisonDropdown(){this.dropdownComparisonOpened=!this.dropdownComparisonOpened}toggleComparison1Dropdown(){this.dropdownComparison1Opened=!this.dropdownComparison1Opened}setTopLinks(){if(""!==this.dateUrl){const[l,n]=this.dateUrl.split("_");this.monthpickerValue=new Date("".concat(l,"/01/").concat(n)).getTime().toString()}else this.monthpickerValue=(new Date).getTime().toString()}setStoregroup(l){this.selectedStoregroup=l,this.dropdownStoregroupOpened=!1,this.loadPage()}setMonth(l){this.selectedMonth=l,this.monthpickerOpened=!1;const n=new Date(this.selectedMonth.date_from);this.dateUrl=String((n.getMonth()+1).toString().replace(/^([0-9])$/,"0$1")+"_"+n.getFullYear())}setReport(l){this.report.name=l.name,this.report.value=l.value,this.dropdownReportOpened=!1,this.loadPage()}setComparison(l){this.comparison.name=l.name,this.comparison.value=l.value,this.dropdownComparisonOpened=!1,this.loadPage()}setComparison1(l){this.comparison1.name=l.name,this.comparison1.value=l.value,this.dropdownComparison1Opened=!1,this.loadPage()}setStore(l){this.store.name=this.stores.filter(n=>n.StoreID===l.id)[0][this.instanceSettings.storeNameType],this.store.id=l.id,this.dropdownStoreOpened=!1,this.loadPage()}toggleMonthpicker(){this.monthpickerOpened=!this.monthpickerOpened}byStoreToggle(l){this.byStore=l.target.checked,this.viewTrend=!1,this.loadPage()}viewTrendToggle(l){this.viewTrend=l.target.checked,this.byStore=!1,this.loadPage()}prevYear(){this.selectedYear--}nextYear(){this.selectedYear++}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}onExcelExport(){this.sub=this.translate.get("header.report-title").subscribe(l=>{this.maingrid.exportDataAsXls(l)})}onPDFExport(){console.log("PDF export")}onBsFormInit(l){this.bsForm=l}drillExcelExport(){this.sub=this.translate.get("header.report-title").subscribe(l=>{this.griddrill.exportDataAsXls(l)})}drillPDFExport(){}openBsForm(){this.dropdownStoregroupOpened=!1,this.bsForm.showModal()}closeBsForm(){this.bsForm1._setSegment(0,null)}onCancelBudget(){this.budgetModal.closeModal()}openBudget(){this.setBudgetView(),this.budgetModal.showModal()}openInput(){this.inputReportLineModal.setInputView(+this.report.value,parseInt(this.selectedMonth.dateindex,10),this.store.id),this.inputReportLineModal.show()}onSaveInput(){this.loadPage()}onSaveBudget(){let l;this.isSubmited=!0,l=this.griddrillbudget.getGridEditedData("MTD");const n=[];l.forEach(l=>{let e;e=this.dataBudget.filter(n=>"ln"===n[0].field&&+n[0].value==+l.ln&&(+n[2].value!=+l.MTD||+n[3].value!=+l.YTD)),e.length&&n.push({ln:l.ln,MTD:parseFloat(l.MTD.toString().replace(/,/g,"")),YTD:parseFloat(l.YTD.toString().replace(/,/g,""))})}),n.length?this.FsTrendReportApi.updateBudgetInput("budget",+this.report.value,this.store.id,parseInt(this.selectedMonth.dateindex,10),n).then(l=>{l&&(this.sub=this.translate.get("messages.budget-saved-success").subscribe(l=>this.dialog.success(l)),this.isSubmited=!1,this.loadPage(),this.budgetModal.closeModal())}).catch(l=>{this.isSubmited=!1,this.dialog.alert(l.message)}):this.isSubmited=!1}openDrillDetail(l){this.viewTrend||this.byStore||(l.rowItem.lt&&"fs"===l.rowItem.lt?(this.drillDetail(+l.rowItem.ln),this.sub=this.translate.get("drill-down-modal.title").subscribe(n=>{this.drillModal.modalTitle=n+" ["+l.rowItem.ld+"]"}),this.drillModal.showModal()):l.rowItem.lt&&"calc"===l.rowItem.lt&&(this.sub=this.translate.get("messages.calculated-item").subscribe(l=>this.dialog.warning(l))))}mainView(){this.loading=!0,this.mainData=[];const l=this.FsTrendReportApi.getReport(0,parseInt(this.selectedMonth.dateindex,10),this.comparison.value,+this.report.value,this.store.id);Object(K.a)(l).subscribe(l=>{this.colsgrid=[],this.sub=this.translate.get(["header-col1.line_description"]).subscribe(l=>{this.colsgrid.push({text:l["header-col1.line_description"],field:"ld"}),this.colsgrid.push({text:"MTD"===this.comparison.value?"MTD":"YTD",field:"MTD"===this.comparison.value?"MTD":"YTD",decimalNumber:!0,numberOfDecimals:0}),this.colsgrid.push({text:"Ratio",field:"MTDGP",decimalNumber:!0,numberOfDecimals:0}),this.colsgrid.push({text:"MTD"===this.comparison.value?"MTDLY":"YTDLY",field:"MTD"===this.comparison.value?"MTDLY":"YTDLY",decimalNumber:!0,numberOfDecimals:0}),this.colsgrid.push({text:"$ Diff",field:"MTD"===this.comparison.value?"varM":"varY",decimalNumber:!0,numberOfDecimals:0}),this.colsgrid.push({text:"% Diff",field:"MTD"===this.comparison.value?"perM":"perY",decimalNumber:!0,numberOfDecimals:2}),this.colsgrid.push({text:"Target",field:"MTD"===this.comparison.value?"budMTD":"budYTD",decimalNumber:!0,numberOfDecimals:0}),this.colsgrid.push({text:"$ Diff",field:"MTD"===this.comparison.value?"varBudMTD":"varBudYTD",decimalNumber:!0,numberOfDecimals:0}),this.colsgrid.push({text:"% Diff",field:"MTD"===this.comparison.value?"perBudMTD":"perBudYTD",decimalNumber:!0,numberOfDecimals:2}),this.colsgrid[0].decimalNumber=!1,this.colsgrid[0].supressMove=!0,this.colsgrid[0].pinned=!0});let n=[];for(const e of l.data){for(const l of Object.keys(e)){const t={isnumber:!1,value:"",field:l,bold:!1,isBudgetLine:!0};"title"===e.lt?"ld"!==l?(t.value="",t.isBudgetLine=!1):t.value=e[l]:e[l]&&!isNaN(e[l])&&e[l].indexOf(".")>0?(t.isnumber=!0,t.value="cnt"===e.lf?parseInt(e[l].toString().replace(/,/g,""),10):"per"===e.lf||l.toLowerCase().indexOf("per")>=0?this.formatNumber(100*parseFloat(e[l].toString().replace(/,/g,""))):this.formatNumber(parseFloat(e[l].toString().replace(/,/g,"")))):!isNaN(e[l])&&e[l]&&"0"!==e[l].substring(0,1)?(t.isnumber=!0,t.value=e[l]):(t.isnumber=!1,t.value=e[l]),t.field=l,t.bold="bold"===e.font||"title"===e.lt,n.push(t)}n.push({field:"sign",value:this.getSignFormat(e.lf)}),this.mainData.push(n),n=[]}this.loading=!1},l=>{this.loading=!1,this.dialog.alert(l.message)})}drillDetail(l){this.drillLoading=!0,this.drillDataControl=[];const n=this.FsTrendReportApi.getDrillDetail(this.store.id,parseInt(this.selectedMonth.dateindex,10),l,+this.report.value);Object(K.a)(n).subscribe(l=>{this.drillColsGrid=[],this.sub=this.translate.get(["drill-col.gl","drill-col.ld","drill-col.fs","drill-col.accT","drill-col.amtMTD","drill-col.amtYTD","drill-col.cMTD","drill-col.cYTD"]).subscribe(l=>{this.drillColsGrid.push({text:l["drill-col.gl"],field:"gl"}),this.drillColsGrid.push({text:l["drill-col.ld"],field:"ld"}),this.drillColsGrid.push({text:l["drill-col.accT"],field:"accT"}),this.drillColsGrid.push({text:l["drill-col.amtMTD"],field:"amtMTD",decimalNumber:!0,numberOfDecimals:0}),this.drillColsGrid.push({text:l["drill-col.amtYTD"],field:"amtYTD",decimalNumber:!0,numberOfDecimals:0}),this.drillColsGrid.push({text:l["drill-col.cMTD"],field:"cMTD"}),this.drillColsGrid.push({text:l["drill-col.cYTD"],field:"cYTD"})});let n=[];this.drillDown={amount:0,amountYTD:0,count:0,countYTD:0};for(const e of l.data){for(const l of Object.keys(e)){const t={isnumber:!1,value:"",field:l,bold:!1};e[l]&&!isNaN(e[l])&&e[l].indexOf(".")>0?(t.isnumber=!0,t.value="per"===e.lf||l.toLowerCase().indexOf("per")>=0?this.formatNumber(100*parseFloat(e[l].toString().replace(/,/g,""))):this.formatNumber(parseFloat(e[l].toString().replace(/,/g,"")))):!isNaN(e[l])&&e[l]&&"0"!==e[l].substring(0,1)?(t.isnumber=!0,t.value=e[l]):(t.isnumber=!1,t.value=e[l]),t.field=l,n.push(t)}this.drillDataControl.push(n),n=[],this.drillDown.amount+=+e.amtMTD,this.drillDown.amountYTD+=+e.amtYTD,this.drillDown.count+=+e.cMTD,this.drillDown.countYTD+=+e.cYTD}this.drillLoading=!1},l=>{this.drillLoading=!1,this.dialog.alert(l.message)})}showViewTrend(){this.loading=!0,this.mainData=[];const l=this.FsTrendReportApi.getViewTrend(0,parseInt(this.selectedMonth.dateindex,10),this.store.id,this.comparison.value,+this.report.value);Object(K.a)(l).subscribe(l=>{this.colsgrid=[],this.sub=this.translate.get(["header-col1.line_description","header-col1.target","header-col1.total"]).subscribe(n=>{this.colsgrid.push({text:n["header-col1.line_description"],field:"ld"}),this.colsgrid.push({text:n["header-col1.target"],field:"MTD"===this.comparison.value?"budMTD":"budYTD",decimalNumber:!0,numberOfDecimals:0});for(const e of Object.keys(l.labels))this.colsgrid.push({field:e,text:l.labels[e],pinned:!1,decimalNumber:!0,numberOfDecimals:0,editable:("budMTD"===e||"budYTD"===e)&&this.editBudget,formattedNumber:("budMTD"===e||"budYTD"===e)&&this.editBudget});this.colsgrid.push({text:n["header-col1.total"],field:"sTot",decimalNumber:!0,numberOfDecimals:0}),this.colsgrid[0].decimalNumber=!1,this.colsgrid[0].supressMove=!0,this.colsgrid[0].pinned=!0});let n=[];for(const e of l.data){for(const l of Object.keys(e)){const t={isnumber:!1,value:"",field:l,bold:!1};"title"===e.lt?t.value="ld"!==l?"":e[l]:e[l]&&!isNaN(e[l])&&e[l].indexOf(".")>0?(t.isnumber=!0,t.value="per"===e.lf||l.toLowerCase().indexOf("per")>=0?this.formatNumber(100*parseFloat(e[l].toString().replace(/,/g,""))):this.formatNumber(parseFloat(e[l].toString().replace(/,/g,"")))):!isNaN(e[l])&&e[l]&&"0"!==e[l].substring(0,1)?(t.isnumber=!0,t.value=e[l]):(t.isnumber=!1,t.value=e[l]),t.field=l,t.bold="bold"===e.font||"title"===e.lt,n.push(t)}n.push({field:"sign",value:this.getSignFormat(e.lf)}),this.mainData.push(n),n=[]}this.loading=!1},l=>{this.loading=!1,this.dialog.alert(l.message)})}setDeafaultCols(l,n){this.sub=this.translate.get(["header-col1.line_description","header-col1.target","header-col1.total"]).subscribe(n=>{this.colsgrid.push({text:n["header-col1.line_description"],field:"ld"}),this.colsgrid.push({text:n["header-col1.total"],field:"MTD"===this.comparison.value?"sTot":"yTot",decimalNumber:!0,numberOfDecimals:0,pinned:!0,supressMove:!0}),this.colsgrid.push({text:n["header-col1.target"],field:"MTD"===this.comparison.value?"budMTD":"budYTD",decimalNumber:!0,hide:!0,numberOfDecimals:0});for(const e of Object.keys(l.stores))this.colsgrid.push({field:("MTD"===this.comparison.value?"s":"y")+(+e+1),text:l.stores[e].storename,pinned:!1,decimalNumber:!0,numberOfDecimals:0});this.colsgrid[0].decimalNumber=!1,this.colsgrid[0].supressMove=!0,this.colsgrid[0].pinned=!0})}setChildrenCols(l,n){this.sub=this.translate.get(["header-col1.line_description","header-col1.target"]).subscribe(n=>{if(this.colsgrid.push({text:n["header-col1.line_description"],field:"ld",children:[]}),l.stores)for(const e of Object.keys(l.stores))this.colsgrid.push({text:l.stores[e].storename,children:[{headerName:"MTD",field:"s"+(+e+1),decimalNumber:!0,numberOfDecimals:0,width:100},{headerName:"1"===this.comparison1.value?"%GP":"YTD",field:"1"===this.comparison1.value?"MTD"===this.comparison.value?"mGP"+(+e+1):"yGP"+(+e+1):"y"+(+e+1),decimalNumber:!0,width:100,numberOfDecimals:0,sign:"1"===this.comparison1.value?"%":""}]});this.colsgrid[0].decimalNumber=!1,this.colsgrid[0].supressMove=!0,this.colsgrid[0].pinned=!0})}byStoreView(){this.loading=!0,this.mainData=[];const l=this.FsTrendReportApi.getSideBySide(this.selectedStoregroup.groupIndex,parseInt(this.selectedMonth.dateindex,10),this.comparison.value,+this.report.value);Object(K.a)(l).subscribe(l=>{this.colsgrid=[],"0"===this.comparison1.value?this.setDeafaultCols(l):this.setChildrenCols(l);let n=[];for(const e of l.data){for(const l of Object.keys(e)){const t={isnumber:!1,value:"",field:l,bold:!1};"title"===e.lt1?t.value="ld"===l?e[l]:"":e[l]&&!isNaN(e[l])&&e[l].indexOf(".")>0?(t.isnumber=!0,t.value="per"===e.lf||l.toLowerCase().indexOf("per")>=0?this.formatNumber(100*parseFloat(e[l].toString().replace(/,/g,""))):this.formatNumber(parseFloat(e[l].toString().replace(/,/g,"")))):!isNaN(e[l])&&e[l]&&"0"!==e[l].substring(0,1)?(t.isnumber=!0,t.value=e[l]):(t.isnumber=!1,t.value=e[l]),t.field=l,t.bold="bold"===e.font||"title"===e.lt,n.push(t)}n.push({field:"sign",value:this.getSignFormat(e.lf)}),this.mainData.push(n),n=[]}this.loading=!1},l=>{this.loading=!1,this.dialog.alert(l.message)})}setBudgetView(){this.budgetLoading=!0,this.dataBudget=[],this.colsGridBudget=[],this.sub=this.translate.get(["header-col1.line_description"]).subscribe(l=>{this.colsGridBudget.push({text:l["header-col1.line_description"],field:"ld"}),this.colsGridBudget.push({text:"ln",field:"ln",hide:!0}),this.colsGridBudget.push({text:"MTD",field:"MTD",decimalNumber:!0,editable:!0,formattedNumber:!0}),this.colsGridBudget.push({text:"YTD",field:"YTD",decimalNumber:!0,editable:!0,formattedNumber:!0}),this.colsGridBudget[0].decimalNumber=!1,this.colsGridBudget[0].supressMove=!0,this.colsGridBudget[0].pinned=!0,this.mainData.forEach(l=>{const n=[];let e=!0;for(const t of l)"ld"===t.field&&(n.push({field:"ld",value:t.value}),""===t.value&&(e=!1)),"ln"===t.field&&n.push({field:"ln",value:t.value}),"budMTD"===t.field&&n.push({field:"MTD",value:t.value,editable:e}),"budYTD"===t.field&&n.push({field:"YTD",value:t.value,editable:e});this.dataBudget.push(n)}),this.budgetLoading=!1})}loadPage(){this.viewTrend||this.byStore?this.viewTrend?this.showViewTrend():this.byStore&&this.byStoreView():this.mainView()}formatNumber(l){return this.format.transform(l,0,0)}getSignFormat(l){switch(l){case"per":return"%";case"amt":default:return""}}}var cl=e("yK5/"),pl=e("Ntwu"),hl=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]     .c_modal{width:70%;height:80%}[_nghost-%COMP%]     .c_modal__dialog{height:100%}[_nghost-%COMP%]     .c_modal__content{height:100%}"]],data:{}});function ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-menu-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.setReport(l.context.$implicit)&&t),t}),null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,(function(l,n){l(n,2,0,null==n.context.$implicit?null:n.context.$implicit.name)}))}function fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","c_dropdown-std_menu"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["style","height: auto; max-height: 20pc; overflow-y: auto;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ml)),t["\u0275did"](3,278528,null,0,b.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,3,0,n.component.report.items)}),null)}function gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"label",[["class","c_checkbox by-store-checkbox"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","c_checkbox-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](4,0,null,null,2,"div",[["class","c_checkbox-toggle"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.byStoreToggle(e)&&t),t}),null,null)),(l()(),t["\u0275eld"](6,0,null,null,0,"div",[["class","c_checkbox-toggle-view"]],null,null,null,null,null))],null,(function(l,n){var e=n.component;l(n,2,0,t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform("filters.by-store"))),l(n,5,0,e.byStore)}))}function vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-loader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"app-loader",[],[[8,"className",0]],null,null,D.b,D.a)),t["\u0275did"](2,49152,null,0,T.a,[],null,null)],null,(function(l,n){l(n,1,0,t["\u0275nov"](n,2).cssClassByType)}))}function bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-menu-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.setStoregroup(l.context.$implicit)&&t),t}),null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,(function(l,n){l(n,2,0,n.context.$implicit.name)}))}function wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","c_dropdown-std_menu"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,8,"div",[["style","height: auto; max-height: 20pc; overflow-y: auto;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,vl)),t["\u0275did"](3,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,bl)),t["\u0275did"](5,278528,null,0,b.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](6,0,null,null,3,"div",[["class","dropdown-menu-item dropdown-menu-actions"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,2,"button",[["class","btn btn--empty btn--color-primary btn--small"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openBsForm()&&t),t}),null,null)),(l()(),t["\u0275ted"](8,null,[""," "])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,3,0,!e.storegroups.length),l(n,5,0,e.storegroups)}),(function(l,n){var e=n.component;l(n,8,0,t["\u0275unv"](n,8,0,t["\u0275nov"](n,9).transform(e.i18nBs+"business-segment-filter.add-new")))}))}function Dl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","c_dropdown-std less-border storegroup-select-box"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","c_dropdown-std_value"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggleStoregroupDropdown()&&t),t}),null,null)),(l()(),t["\u0275eld"](2,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](6,null,[" ",""])),(l()(),t["\u0275eld"](7,0,null,null,0,"span",[["class","icon-arrow-s-down"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,wl)),t["\u0275did"](9,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,9,0,n.component.dropdownStoregroupOpened)}),(function(l,n){var e=n.component;l(n,4,0,t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform(e.i18nBs+"business-segment-filter.label"))),l(n,6,0,null==e.selectedStoregroup?null:e.selectedStoregroup.name)}))}function Tl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-menu-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.setStore(l.context.$implicit)&&t),t}),null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,(function(l,n){l(n,2,0,null==n.context.$implicit?null:n.context.$implicit.name)}))}function Cl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","c_dropdown-std_menu"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["style","height: auto; max-height: 20pc; overflow-y: auto;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Tl)),t["\u0275did"](3,278528,null,0,b.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,3,0,n.component.stores)}),null)}function kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","c_dropdown-std less-border store-select-box"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","c_dropdown-std_value"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggleStoreDropdown()&&t),t}),null,null)),(l()(),t["\u0275eld"](2,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",": "])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,null,0,"span",[["class","icon-arrow-s-down"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Cl)),t["\u0275did"](9,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,9,0,n.component.dropdownStoreOpened)}),(function(l,n){var e=n.component;l(n,4,0,t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform("header.report-store-label"))),l(n,6,0,null==e.store?null:e.store.name)}))}function _l(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","monthpicker-loader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"app-loader",[],[[8,"className",0]],null,null,D.b,D.a)),t["\u0275did"](2,49152,null,0,T.a,[],null,null)],null,(function(l,n){l(n,1,0,t["\u0275nov"](n,2).cssClassByType)}))}function Rl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","monthpicker-month-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,8,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0,i=l.component;return"click"===n&&(u=!1!==t["\u0275nov"](l,2).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),"click"===n&&(u=!1!==i.setMonth(l.context.$implicit)&&u),u}),null,null)),t["\u0275did"](2,671744,[[8,4]],0,C.r,[C.o,C.a,b.k],{routerLink:[0,"routerLink"]},null),t["\u0275pad"](3,1),t["\u0275did"](4,1720320,null,2,C.q,[C.o,t.ElementRef,t.Renderer2,[2,C.p],[2,C.r]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),t["\u0275qud"](603979776,7,{links:1}),t["\u0275qud"](603979776,8,{linksWithHrefs:1}),t["\u0275pod"](7,{exact:0}),(l()(),t["\u0275ted"](8,null,["",""])),t["\u0275ppd"](9,2)],(function(l,n){var e=l(n,3,0,n.context.$implicit.url);l(n,2,0,e);var t=l(n,7,0,!0);l(n,4,0,t,"active")}),(function(l,n){l(n,1,0,t["\u0275nov"](n,2).target,t["\u0275nov"](n,2).href);var e=t["\u0275unv"](n,8,0,l(n,9,0,t["\u0275nov"](n.parent.parent.parent,0),n.context.$implicit.date_from,"MMM"));l(n,8,0,e)}))}function Ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"div",[["class","monthpicker-year"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","monthpicker-year-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"button",[["class","prev-year"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.prevYear()&&t),t}),null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"span",[["class","icon-arrow-s-left"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"span",[["class","year-title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["",""])),(l()(),t["\u0275eld"](6,0,null,null,1,"button",[["class","next-year"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.nextYear()&&t),t}),null,null)),(l()(),t["\u0275eld"](7,0,null,null,0,"span",[["class","icon-arrow-s-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,2,"div",[["class","monthpicker-year-months"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Rl)),t["\u0275did"](10,278528,null,0,b.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,10,0,n.context.$implicit.months)}),(function(l,n){var e=n.component;l(n,0,0,n.context.index!=e.selectedYear),l(n,2,0,0===e.selectedYear),l(n,5,0,n.context.$implicit.title),l(n,6,0,e.selectedYear==e.monthpickerYears.length-1)}))}function xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","c_dropdown-std_menu monthpicker"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,_l)),t["\u0275did"](2,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ml)),t["\u0275did"](4,278528,null,0,b.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,2,0,!e.monthpickerYears.length),l(n,4,0,e.monthpickerYears)}),null)}function Il(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-menu-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.setComparison(l.context.$implicit)&&t),t}),null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,(function(l,n){l(n,2,0,n.context.$implicit.name)}))}function yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","c_dropdown-std_menu"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["style","height: auto; max-height: 20pc; overflow-y: auto;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Il)),t["\u0275did"](3,278528,null,0,b.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,3,0,n.component.comparison.items)}),null)}function Ol(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-menu-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.setComparison1(l.context.$implicit)&&t),t}),null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,(function(l,n){l(n,2,0,n.context.$implicit.name)}))}function Sl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","c_dropdown-std_menu"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["style","height: auto; max-height: 20pc; overflow-y: auto;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ol)),t["\u0275did"](3,278528,null,0,b.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,3,0,n.component.comparison1.items)}),null)}function Yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","c_dropdown-std less-border comparison1-select-box"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","c_dropdown-std_value"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggleComparison1Dropdown()&&t),t}),null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["",""])),(l()(),t["\u0275eld"](4,0,null,null,0,"span",[["class","icon-arrow-s-down"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Sl)),t["\u0275did"](6,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,6,0,n.component.dropdownComparison1Opened)}),(function(l,n){l(n,3,0,n.component.comparison1.name)}))}function Fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn--primary btn--small-2"],["style","width: 100px"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openBudget()&&t),t}),null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("drilldown-budget.edit-button")))}))}function Nl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn--primary btn--small-2"],["style","width: 100px"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openInput()&&t),t}),null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("drilldown-input.edit-button")))}))}function El(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[],[[8,"hidden",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onExcelExport()&&t),t}),null,null)),(l()(),t["\u0275eld"](1,16777216,null,null,2,"i",[["class","material-icons"],["tooltipTheme","dark-auto"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var u=!0;return"focusin"===n&&(u=!1!==t["\u0275nov"](l,2).show()&&u),"mouseenter"===n&&(u=!1!==t["\u0275nov"](l,2).show()&&u),"focusout"===n&&(u=!1!==t["\u0275nov"](l,2).hide()&&u),"mouseleave"===n&&(u=!1!==t["\u0275nov"](l,2).hide()&&u),u}),null,null)),t["\u0275did"](2,147456,null,0,k.a,[t.ViewContainerRef,t.ComponentFactoryResolver,t.ChangeDetectorRef,_.b],{content:[0,"content"],tooltipTheme:[1,"tooltipTheme"]},null),(l()(),t["\u0275ted"](-1,null,["file_download"]))],(function(l,n){l(n,2,0,t["\u0275nov"](n.parent,75),"dark-auto")}),(function(l,n){l(n,0,0,n.component.loading)}))}function Vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","c__table-row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","c__table-cell c__table-loading"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"app-loader",[],[[8,"className",0]],null,null,D.b,D.a)),t["\u0275did"](3,49152,null,0,T.a,[],null,null)],null,(function(l,n){l(n,2,0,t["\u0275nov"](n,3).cssClassByType)}))}function jl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"ag-grid",[["style","height:100%"]],null,[[null,"openDetailsClick"],["window","resize"]],(function(l,n,e){var u=!0,i=l.component;return"window:resize"===n&&(u=!1!==t["\u0275nov"](l,5).onResize()&&u),"openDetailsClick"===n&&(u=!1!==i.openDrillDetail(e)&&u),u}),R.b,R.a)),t["\u0275prd"](512,null,b.f,b.f,[t.LOCALE_ID]),t["\u0275prd"](512,null,M.a,M.a,[]),t["\u0275prd"](512,null,x.a,x.a,[I.a,y.a,O.a,w.j]),t["\u0275prd"](512,null,S.a,S.a,[]),t["\u0275did"](5,770048,[[5,4],["maingrid",4]],0,Y.a,[b.d,b.f,M.a,F.a,x.a,N.a,S.a,E.b,w.j,V.a,_.b,j.a],{data:[0,"data"],headers:[1,"headers"],showTotal:[2,"showTotal"],showCount:[3,"showCount"],allowSort:[4,"allowSort"],formattedValues:[5,"formattedValues"],autoFitColumns:[6,"autoFitColumns"],idGrid:[7,"idGrid"]},{openDetailsClick:"openDetailsClick"})],(function(l,n){var e=n.component;l(n,5,0,e.mainData,e.colsgrid,!1,!1,!1,!1,!1,"maingridp")}),null)}function Gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","content__section_body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","c__table"],["style","height: calc(100vh - 216px);"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,jl)),t["\u0275did"](3,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,3,0,!n.component.loading)}),null)}function Bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"ag-grid",[["style","height: 100%"]],null,[["window","resize"]],(function(l,n,e){var u=!0;return"window:resize"===n&&(u=!1!==t["\u0275nov"](l,5).onResize()&&u),u}),R.b,R.a)),t["\u0275prd"](512,null,b.f,b.f,[t.LOCALE_ID]),t["\u0275prd"](512,null,M.a,M.a,[]),t["\u0275prd"](512,null,x.a,x.a,[I.a,y.a,O.a,w.j]),t["\u0275prd"](512,null,S.a,S.a,[]),t["\u0275did"](5,770048,[[2,4],["griddrillbudget",4]],0,Y.a,[b.d,b.f,M.a,F.a,x.a,N.a,S.a,E.b,w.j,V.a,_.b,j.a],{data:[0,"data"],headers:[1,"headers"],showCount:[2,"showCount"],formattedValues:[3,"formattedValues"],idGrid:[4,"idGrid"]},null)],(function(l,n){var e=n.component;l(n,5,0,e.dataBudget,e.colsGridBudget,!1,!0,"grillBudget")}),null)}function Ll(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","c__table"],["style","height:100%"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Bl)),t["\u0275did"](2,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,!n.component.budgetLoading)}),null)}function Pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.drillExcelExport()&&t),t}),null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","icon-file-excel"]],null,null,null,null,null))],null,(function(l,n){var e=n.component;l(n,0,0,!e.drillDataControl.length||e.drillLoading)}))}function Al(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.drillPDFExport()&&t),t}),null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","icon-file-pdf"]],null,null,null,null,null))],null,(function(l,n){var e=n.component;l(n,0,0,!e.drillDataControl.length||e.drillLoading)}))}function Ul(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","c__table"],["style","height:100%;display: grid"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,8,"ag-grid",[],null,[["window","resize"]],(function(l,n,e){var u=!0;return"window:resize"===n&&(u=!1!==t["\u0275nov"](l,9).onResize()&&u),u}),R.b,R.a)),t["\u0275prd"](512,null,b.D,b.E,[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](3,278528,null,0,b.q,[b.D],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](4,{height:0,width:1}),t["\u0275prd"](512,null,b.f,b.f,[t.LOCALE_ID]),t["\u0275prd"](512,null,M.a,M.a,[]),t["\u0275prd"](512,null,x.a,x.a,[I.a,y.a,O.a,w.j]),t["\u0275prd"](512,null,S.a,S.a,[]),t["\u0275did"](9,770048,[[3,4],["griddrill",4]],0,Y.a,[b.d,b.f,M.a,F.a,x.a,N.a,S.a,E.b,w.j,V.a,_.b,j.a],{data:[0,"data"],headers:[1,"headers"],showTotal:[2,"showTotal"],showCount:[3,"showCount"],idGrid:[4,"idGrid"]},null)],(function(l,n){var e=n.component,t=l(n,4,0,"100%","99%");l(n,3,0,t),l(n,9,0,e.drillDataControl,e.drillColsGrid,!1,!1,"maingrid3")}),null)}function zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","c__table-row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","c__table-cell c__table-loading"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"app-loader",[],[[8,"className",0]],null,null,D.b,D.a)),t["\u0275did"](3,49152,null,0,T.a,[],null,null)],null,(function(l,n){l(n,2,0,t["\u0275nov"](n,3).cssClassByType)}))}function $l(l){return t["\u0275vid"](0,[t["\u0275pid"](0,b.e,[t.LOCALE_ID]),t["\u0275pid"](0,M.a,[]),t["\u0275qud"](402653184,1,{inputReportLineModal:0}),t["\u0275qud"](671088640,2,{griddrillbudget:0}),t["\u0275qud"](671088640,3,{griddrill:0}),t["\u0275qud"](402653184,4,{drillDownModal:0}),t["\u0275qud"](671088640,5,{maingrid:0}),t["\u0275qud"](402653184,6,{bsForm1:0}),(l()(),t["\u0275eld"](8,0,null,null,49,"div",[["class","page__actions_bar page__actions_bar--aligned"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,0,"div",[["class","align-left"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,47,"div",[["class","align-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,46,"div",[["class","content__section-header__actions"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,9,"div",[["class","c_dropdown-std less-border report-select-box"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,6,"div",[["class","c_dropdown-std_value"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggleReportDropdown()&&t),t}),null,null)),(l()(),t["\u0275eld"](14,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](16,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](18,null,[" ",""])),(l()(),t["\u0275eld"](19,0,null,null,0,"span",[["class","icon-arrow-s-down"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,fl)),t["\u0275did"](21,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,gl)),t["\u0275did"](23,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](24,0,null,null,6,"label",[["class","c_checkbox by-store-checkbox"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,2,"div",[["class","c_checkbox-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](26,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](28,0,null,null,2,"div",[["class","c_checkbox-toggle"]],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.viewTrendToggle(e)&&t),t}),null,null)),(l()(),t["\u0275eld"](30,0,null,null,0,"div",[["class","c_checkbox-toggle-view"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Dl)),t["\u0275did"](32,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,kl)),t["\u0275did"](34,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](35,0,null,null,10,"div",[["class","c_dropdown-std monthpicker-wrapper less-border"]],null,null,null,null,null)),(l()(),t["\u0275eld"](36,0,null,null,7,"div",[["class","c_dropdown-std_value"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggleMonthpicker()&&t),t}),null,null)),(l()(),t["\u0275eld"](37,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](38,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](39,null,["",""])),t["\u0275ppd"](40,2),(l()(),t["\u0275ted"](41,null,[" "," "])),t["\u0275ppd"](42,2),(l()(),t["\u0275eld"](43,0,null,null,0,"span",[["class","icon-arrow-s-down"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,xl)),t["\u0275did"](45,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](46,0,null,null,9,"div",[["class","c_dropdown-std less-border comparison-select-box"]],null,null,null,null,null)),(l()(),t["\u0275eld"](47,0,null,null,6,"div",[["class","c_dropdown-std_value"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggleComparisonDropdown()&&t),t}),null,null)),(l()(),t["\u0275eld"](48,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](49,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](50,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](52,null,[" ",""])),(l()(),t["\u0275eld"](53,0,null,null,0,"span",[["class","icon-arrow-s-down"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,yl)),t["\u0275did"](55,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Yl)),t["\u0275did"](57,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](58,0,null,null,19,"div",[["class","content__section"]],null,null,null,null,null)),(l()(),t["\u0275eld"](59,0,null,null,18,"div",[["class","content__section-header content__section-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](60,0,null,null,3,"h3",[["class","content__section-heading"],["style","float: left;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](61,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](62,null,[""," "])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](64,0,null,null,13,"div",[["style","float: right"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Fl)),t["\u0275did"](66,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0\xa0 "])),(l()(),t["\u0275and"](16777216,null,null,1,null,Nl)),t["\u0275did"](69,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0\xa0 "])),(l()(),t["\u0275and"](16777216,null,null,1,null,El)),t["\u0275did"](72,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](73,0,null,null,4,"app-tooltip-content",[["style","width:75px"]],[[1,"role",0],[8,"className",0],[2,"tooltip--with-header",null],[4,"top","px"],[4,"left","px"],[2,"in",null],[2,"fade",null]],[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var u=!0;return"focusin"===n&&(u=!1!==t["\u0275nov"](l,75).mouseIn()&&u),"mouseenter"===n&&(u=!1!==t["\u0275nov"](l,75).mouseIn()&&u),"focusout"===n&&(u=!1!==t["\u0275nov"](l,75).mouseOut()&&u),"mouseleave"===n&&(u=!1!==t["\u0275nov"](l,75).mouseOut()&&u),u}),h.c,h.a)),t["\u0275prd"](512,null,G.a,G.a,[_.b]),t["\u0275did"](75,4440064,[["tooltipUnits",4]],0,B.a,[t.ElementRef,G.a,L.a,b.d,t.Renderer2,t.ChangeDetectorRef,_.b],null,null),(l()(),t["\u0275ted"](76,1,[" "," "])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](78,0,null,null,2,"div",[["class","c__table"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Vl)),t["\u0275did"](80,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Gl)),t["\u0275did"](82,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](83,0,null,null,5,"app-modal",[["class","modal-bs-form"]],null,[[null,"onInit"],[null,"close"]],(function(l,n,e){var t=!0,u=l.component;return"onInit"===n&&(t=!1!==u.onBsFormInit(e)&&t),"close"===n&&(t=!1!==u.closeBsForm()&&t),t}),P.b,P.a)),t["\u0275prd"](512,null,A.a,A.a,[_.b]),t["\u0275did"](85,1228800,null,0,U.a,[A.a,b.d,t.ElementRef,t.Renderer2,_.b],{modalTitle:[0,"modalTitle"]},{close:"close",onInit:"onInit"}),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](87,0,null,0,1,"bs-form",[],null,null,null,z.b,z.a)),t["\u0275did"](88,770048,[[6,4]],0,$.a,[j.a,q.a,y.a,w.j,X.a],{stores:[0,"stores"],segments:[1,"segments"]},null),(l()(),t["\u0275eld"](89,0,null,null,19,"app-modal",[["class","modal-generic"]],null,[[null,"onInit"],[null,"close"]],(function(l,n,e){var t=!0,u=l.component;return"onInit"===n&&(t=!1!==u.onModalSetupInit(e)&&t),"close"===n&&(t=!1!==u.onModalSetupClose()&&t),t}),P.b,P.a)),t["\u0275prd"](512,null,A.a,A.a,[_.b]),t["\u0275did"](91,1228800,null,0,U.a,[A.a,b.d,t.ElementRef,t.Renderer2,_.b],{modalTitle:[0,"modalTitle"]},{close:"close",onInit:"onInit"}),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](93,0,null,0,11,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](94,0,null,null,10,"div",[["class","content__section-header"],["style","width: 100%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](95,0,null,null,9,"table",[["style","width: 100%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](96,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](97,0,null,null,7,"td",[["style","text-align: right;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](98,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](99,0,null,null,2,"button",[["class","btn btn--primary btn--small-2"],["style","width: 100px"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSaveBudget()&&t),t}),null,null)),(l()(),t["\u0275ted"](100,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](102,0,null,null,2,"button",[["class","btn btn--alert btn--small-2"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelBudget()&&t),t}),null,null)),(l()(),t["\u0275ted"](103,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](105,0,null,0,3,"div",[["style","height:92%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](106,0,null,null,2,"div",[["class","content__section_body"],["style","height:100%"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ll)),t["\u0275did"](108,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](109,0,null,null,1,"app-input-report-line-modal",[],null,[[null,"onSaved"]],(function(l,n,e){var t=!0;return"onSaved"===n&&(t=!1!==l.component.onSaveInput()&&t),t}),nl,Q)),t["\u0275did"](110,180224,[[1,4]],0,W,[Z,y.a,w.j],null,{onSaved:"onSaved"}),(l()(),t["\u0275eld"](111,0,null,null,46,"app-modal",[["class","modal-generic"],["modalTitle",""]],null,[[null,"onInit"]],(function(l,n,e){var t=!0;return"onInit"===n&&(t=!1!==l.component.drillDownModalInit(e)&&t),t}),P.b,P.a)),t["\u0275prd"](512,null,A.a,A.a,[_.b]),t["\u0275did"](113,1228800,[[4,4],["drillDownModal",4]],0,U.a,[A.a,b.d,t.ElementRef,t.Renderer2,_.b],{modalTitle:[0,"modalTitle"]},{onInit:"onInit"}),(l()(),t["\u0275eld"](114,0,null,0,36,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](115,0,null,null,35,"div",[["class","small-12 medium-8 column overall-results"]],null,null,null,null,null)),(l()(),t["\u0275eld"](116,0,null,null,34,"table",[],null,null,null,null,null)),(l()(),t["\u0275eld"](117,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](118,0,null,null,4,"td",[["colspan","4"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Pl)),t["\u0275did"](120,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Al)),t["\u0275did"](122,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](123,0,null,null,14,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](124,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](125,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](127,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](128,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](129,null,["",""])),t["\u0275ppd"](130,2),(l()(),t["\u0275eld"](131,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](132,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](134,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](135,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](136,null,["",""])),t["\u0275ppd"](137,2),(l()(),t["\u0275eld"](138,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](139,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](140,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](142,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](143,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](144,null,["",""])),(l()(),t["\u0275eld"](145,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](146,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](148,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](149,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](150,null,["",""])),(l()(),t["\u0275eld"](151,0,null,0,3,"div",[["style","height:85%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](152,0,null,null,2,"div",[["class","content__section_body"],["style","height:100%;max-height:none"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ul)),t["\u0275did"](154,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](155,0,null,0,2,"div",[["class","c__table"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,zl)),t["\u0275did"](157,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,21,0,e.dropdownReportOpened),l(n,23,0,!e.hasOneStore),l(n,32,0,e.byStore),l(n,34,0,!e.byStore||e.viewTrend),l(n,45,0,e.monthpickerOpened),l(n,55,0,e.dropdownComparisonOpened),l(n,57,0,e.byStore),l(n,66,0,!e.byStore&&!e.viewTrend),l(n,69,0,!e.byStore&&!e.viewTrend),l(n,72,0,null==e.currentUser?null:e.currentUser.isExportExcelAvailable),l(n,75,0),l(n,80,0,e.loading),l(n,82,0,!e.loading),l(n,85,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,85,0,t["\u0275nov"](n,86).transform(e.i18nBs+"business-segment-form.title")),"")),l(n,88,0,e.stores,e.storegroupsWithoutAll),l(n,91,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,91,0,t["\u0275nov"](n,92).transform("drilldown-budget.modal.title")),"")),l(n,108,0,!e.budgetLoading&&e.dataBudget),l(n,113,0,""),l(n,120,0,null==e.currentUser?null:e.currentUser.isExportExcelAvailable),l(n,122,0,null==e.currentUser?null:e.currentUser.isExportPdfAvailable),l(n,154,0,!e.drillLoading),l(n,157,0,e.drillLoading)}),(function(l,n){var e=n.component;l(n,16,0,t["\u0275unv"](n,16,0,t["\u0275nov"](n,17).transform("header.report-reports-label"))),l(n,18,0,null==e.report?null:e.report.name),l(n,26,0,t["\u0275unv"](n,26,0,t["\u0275nov"](n,27).transform("filters.view-trend"))),l(n,29,0,e.viewTrend);var u=t["\u0275unv"](n,39,0,l(n,40,0,t["\u0275nov"](n,0),e.monthpickerValue,"MMMM"));l(n,39,0,u);var i=t["\u0275unv"](n,41,0,l(n,42,0,t["\u0275nov"](n,0),e.monthpickerValue,"y"));l(n,41,0,i),l(n,50,0,t["\u0275unv"](n,50,0,t["\u0275nov"](n,51).transform("header.report-comparison-label"))),l(n,52,0,e.comparison.name),l(n,62,0,t["\u0275unv"](n,62,0,t["\u0275nov"](n,63).transform("header.report-title"))),l(n,73,0,t["\u0275nov"](n,75).role,t["\u0275nov"](n,75).hostClass,t["\u0275nov"](n,75).withHeader,t["\u0275nov"](n,75).top,t["\u0275nov"](n,75).left,t["\u0275nov"](n,75).isIn,t["\u0275nov"](n,75).isFade),l(n,76,0,t["\u0275unv"](n,76,0,t["\u0275nov"](n,77).transform("header-icons.download-excel"))),l(n,99,0,e.isSubmited),l(n,100,0,t["\u0275unv"](n,100,0,t["\u0275nov"](n,101).transform("drilldown-budget.save-button"))),l(n,103,0,t["\u0275unv"](n,103,0,t["\u0275nov"](n,104).transform("drilldown-budget.cancel-button"))),l(n,125,0,t["\u0275unv"](n,125,0,t["\u0275nov"](n,126).transform("drill-down-modal.table.column.amount")));var o=t["\u0275unv"](n,129,0,l(n,130,0,t["\u0275nov"](n,1),null==e.drillDown?null:e.drillDown.amount,0));l(n,129,0,o),l(n,132,0,t["\u0275unv"](n,132,0,t["\u0275nov"](n,133).transform("drill-down-modal.table.column.amountYTD")));var s=t["\u0275unv"](n,136,0,l(n,137,0,t["\u0275nov"](n,1),null==e.drillDown?null:e.drillDown.amountYTD,0));l(n,136,0,s),l(n,140,0,t["\u0275unv"](n,140,0,t["\u0275nov"](n,141).transform("drill-down-modal.table.column.count"))),l(n,144,0,null==e.drillDown?null:e.drillDown.count),l(n,146,0,t["\u0275unv"](n,146,0,t["\u0275nov"](n,147).transform("drill-down-modal.table.column.countYTD"))),l(n,150,0,null==e.drillDown?null:e.drillDown.countYTD)}))}var ql=t["\u0275ccf"]("ng-component",al,(function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"ng-component",[],null,[["window","click"]],(function(l,n,e){var u=!0;return"window:click"===n&&(u=!1!==t["\u0275nov"](l,5).windowClick(e)&&u),u}),$l,hl)),t["\u0275prd"](135680,null,U.a,U.a,[A.a,b.d,t.ElementRef,t.Renderer2,_.b]),t["\u0275prd"](4608,null,q.a,q.a,[el.a,tl.a]),t["\u0275prd"](512,null,M.a,M.a,[]),t["\u0275prd"](512,null,x.a,x.a,[I.a,y.a,O.a,w.j]),t["\u0275did"](5,245760,null,0,al,[Z,cl.a,C.a,C.o,y.a,j.a,M.a,pl.a,x.a,N.a,O.a,w.j,X.a],null,null)],(function(l,n){l(n,5,0)}),null)}),{},{},[]),Xl=e("s7LF"),Kl=e("QQfA"),Wl=e("IP0z"),Hl=e("s6ns"),Zl=e("POq0"),Ql=e("821u"),Jl=e("Xd0L"),ln=e("/HVE"),nn=e("IheW"),en=e("TUN4"),tn=e("Mc5n"),un=e("hOhj"),on=e("butG"),sn=e("iTUp"),rn=e("oiVm"),dn=e("Fbhx"),an=e("aBBA"),cn=e("cUpR"),pn=e("Fwaw"),hn=e("zMNK"),mn=e("5GAg"),fn=e("l0Bn"),gn=e("kPC6"),vn=e("SXLW"),bn=e("tdaM"),wn=e("0sx3"),Dn=e("FFHx"),Tn=e("l/h6"),Cn=e("/Lwf"),kn=e("yotz"),_n=e("T3zS");e.d(n,"FsTrendReportModuleNgFactory",(function(){return Rn}));var Rn=t["\u0275cmf"](u,[],(function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,o.a,s.b,s.a,r.a,d.a,a.a,c.a,p.a,h.b,m.a,f.a,g.a,v.a,ql]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,b.p,b.o,[t.LOCALE_ID,[2,b.G]]),t["\u0275mpd"](4608,Xl.F,Xl.F,[]),t["\u0275mpd"](4608,el.a,el.a,[_.b]),t["\u0275mpd"](4608,q.a,q.a,[el.a,tl.a]),t["\u0275mpd"](4608,Kl.c,Kl.c,[Kl.i,Kl.e,t.ComponentFactoryResolver,Kl.h,Kl.f,t.Injector,t.NgZone,b.d,Wl.b,[2,b.j]]),t["\u0275mpd"](5120,Kl.j,Kl.k,[Kl.c]),t["\u0275mpd"](5120,Hl.c,Hl.d,[Kl.c]),t["\u0275mpd"](135680,Hl.e,Hl.e,[Kl.c,t.Injector,[2,b.j],[2,Hl.b],Hl.c,[3,Hl.e],Kl.e]),t["\u0275mpd"](4608,Zl.c,Zl.c,[]),t["\u0275mpd"](4608,Ql.i,Ql.i,[]),t["\u0275mpd"](5120,Ql.a,Ql.b,[Kl.c]),t["\u0275mpd"](4608,Jl.a,Jl.v,[[2,Jl.f],ln.a]),t["\u0275mpd"](4608,nn.k,nn.q,[b.d,t.PLATFORM_ID,nn.o]),t["\u0275mpd"](4608,nn.r,nn.r,[nn.k,nn.p]),t["\u0275mpd"](5120,nn.a,(function(l){return[l]}),[nn.r]),t["\u0275mpd"](4608,nn.n,nn.n,[]),t["\u0275mpd"](6144,nn.l,null,[nn.n]),t["\u0275mpd"](4608,nn.j,nn.j,[nn.l]),t["\u0275mpd"](6144,nn.b,null,[nn.j]),t["\u0275mpd"](4608,nn.f,nn.m,[nn.b,t.Injector]),t["\u0275mpd"](4608,nn.c,nn.c,[nn.f]),t["\u0275mpd"](4608,en.a,en.a,[_.b]),t["\u0275mpd"](4608,tn.f,tn.f,[b.d,t.NgZone,un.i,tn.h]),t["\u0275mpd"](4608,Z,Z,[on.a]),t["\u0275mpd"](1073742336,b.c,b.c,[]),t["\u0275mpd"](1073742336,Xl.E,Xl.E,[]),t["\u0275mpd"](1073742336,Xl.m,Xl.m,[]),t["\u0275mpd"](1073742336,C.s,C.s,[[2,C.x],[2,C.o]]),t["\u0275mpd"](1073742336,w.g,w.g,[]),t["\u0275mpd"](1073742336,sn.a,sn.a,[]),t["\u0275mpd"](1073742336,rn.a,rn.a,[]),t["\u0275mpd"](1073742336,dn.a,dn.a,[an.a]),t["\u0275mpd"](1073742336,Wl.a,Wl.a,[]),t["\u0275mpd"](1073742336,Jl.l,Jl.l,[[2,Jl.d],[2,cn.f]]),t["\u0275mpd"](1073742336,ln.b,ln.b,[]),t["\u0275mpd"](1073742336,Jl.u,Jl.u,[]),t["\u0275mpd"](1073742336,pn.c,pn.c,[]),t["\u0275mpd"](1073742336,hn.g,hn.g,[]),t["\u0275mpd"](1073742336,un.f,un.f,[]),t["\u0275mpd"](1073742336,Kl.g,Kl.g,[]),t["\u0275mpd"](1073742336,Hl.k,Hl.k,[]),t["\u0275mpd"](1073742336,Zl.d,Zl.d,[]),t["\u0275mpd"](1073742336,mn.a,mn.a,[]),t["\u0275mpd"](1073742336,Ql.j,Ql.j,[]),t["\u0275mpd"](1073742336,Jl.w,Jl.w,[]),t["\u0275mpd"](1073742336,Jl.n,Jl.n,[]),t["\u0275mpd"](1073742336,nn.e,nn.e,[]),t["\u0275mpd"](1073742336,nn.d,nn.d,[]),t["\u0275mpd"](1073742336,fn.a,fn.a,[]),t["\u0275mpd"](1073742336,gn.a,gn.a,[]),t["\u0275mpd"](1073742336,vn.AgGridModule,vn.AgGridModule,[]),t["\u0275mpd"](1073742336,bn.a,bn.a,[]),t["\u0275mpd"](1073742336,wn.a,wn.a,[]),t["\u0275mpd"](1073742336,Dn.a,Dn.a,[]),t["\u0275mpd"](1073742336,Tn.a,Tn.a,[an.a]),t["\u0275mpd"](1073742336,tn.g,tn.g,[]),t["\u0275mpd"](1073742336,Cn.a,Cn.a,[]),t["\u0275mpd"](1073742336,kn.b,kn.b,[]),t["\u0275mpd"](1073742336,_n.a,_n.a,[]),t["\u0275mpd"](1073742336,u,u,[an.a]),t["\u0275mpd"](256,Jl.e,Jl.i,[]),t["\u0275mpd"](256,nn.o,"XSRF-TOKEN",[]),t["\u0275mpd"](256,nn.p,"X-XSRF-TOKEN",[]),t["\u0275mpd"](1024,C.m,(function(){return[[{path:"",pathMatch:"full",component:al},{path:":date",component:al}]]}),[])])}))}}]);