(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"9oLD":function(e,t,s){"use strict";s.d(t,"a",(function(){return h}));var i=s("2Vo4"),a=s("pLZG"),r=s("fFD9"),n=s("lJxs"),l=s("UXun"),o=s("SxV6"),d=s("vkgz"),c=s("LL99"),u=s("pCim"),p=s("Ou10");class h{constructor(e,t,s,a){this.translate=e,this.dataApi=t,this.authService=s,this.instanceAppSettingsApi=a,this.isHAG=!1,this._value$=new i.a(void 0),this._filtersDef$=new i.a(void 0),this._visibleFilters$=new i.a([]),this._stores$=new i.a(void 0),this._dates$=new i.a(void 0),this._reports$=new i.a(void 0),this._reportsTree$=new i.a(void 0),this._selectedGroup$=new i.a(void 0),this._selectedStore$=new i.a(void 0),this._selectedDate$=new i.a(void 0),this._selectedReport$=new i.a(void 0),this._selectedOpsFilter$=new i.a(void 0),this._selectedAccView$=new i.a(void 0),this._showGross$=new i.a(void 0),this._viewTypeFilter$=new i.a(void 0),this._currentPage$=new i.a(void 0),this._isAcc$=new i.a(void 0),this.subs=[],this.initStreams()}set sub(e){this.subs.push(e)}init(){this.initSubscriptions()}destroy(){this.subs.forEach(e=>e.unsubscribe()),this.subs=[],this._value$.next(void 0),this._filtersDef$.next(void 0),this._stores$.next(void 0),this._dates$.next(void 0),this._reports$.next(void 0),this._reportsTree$.next(void 0),this._selectedGroup$.next(void 0),this._selectedStore$.next(void 0),this._selectedDate$.next(void 0),this._selectedReport$.next(void 0),this._selectedOpsFilter$.next(void 0),this._selectedAccView$.next(void 0),this._viewTypeFilter$.next(void 0),this._showGross$.next(void 0)}setCurrentPage(e){this._currentPage$.next(e)}showFilters(e){this._visibleFilters$.next(e),this.showHideDateRangeFilter(),this.showHideViewFilter(),this.showHideOpsFilter()}updateFilter(e){switch(e.name){case"store":this.updateStore({store:e.value});break;case"date":this.updateDate({date:e.value});break;default:this.updateValue({[e.name]:e.value})}}updateStore(e){if(!e.store){const t=this._stores$.getValue();e.store=t[0].value}this.updateValue(e)}updateDate(e){const t=this._dates$.getValue(),[s,i]=e.date.split("-"),a=t.find(e=>+e.year==+s&&+e.month==+i);a&&this.updateValue({date:e.date,dateIndex:a.dateIndex})}updateValue(e){const t=this._value$.getValue(),s=t?t.clone(e):new u.a(e);this.updateStreams(t,s),this._value$.next(s)}setCurrentId(e){this.currentId=e,this._showGross$.next(e)}getFiltersListItems(){return Object(c.d)(this._filtersDef$.getValue(),this._value$.getValue(),this._visibleFilters$.getValue())}setViewTypeFilter(e){this._viewTypeFilter$.next(e)}isSalesReport(e){return-1!==[u.c.New,u.c.Used,u.c.UsedWholesale,u.c.NewDt,u.c.Ten,u.c.MiscellaneousDeals,u.c.Twelve,u.c.Thirteenth].indexOf(e)}isAccTotalsReport(e){return-1!==[u.c.New,u.c.Used,u.c.UsedWholesale].indexOf(e)}isAccReport(e){return-1!==[u.c.New,u.c.Used,u.c.UsedWholesale,u.c.NewDt,u.c.MiscellaneousDeals].indexOf(e)}onBsChange(e){const t=this._filtersDef$.getValue(),s=this._selectedGroup$.getValue(),i=t.find(e=>"group"===e.name);switch(e.eventType){case"create":i.items.push({label:e.name,value:e.groupIndex});break;case"update":const t=i.items.find(t=>+t.value==+e.prevGroupIndex);t&&(t.label=e.name,t.value=e.groupIndex),+s==+e.prevGroupIndex&&this.updateValue({group:e.groupIndex});break;case"delete":i.items=i.items.filter(t=>+t.value!=+e.groupIndex),+s==+e.groupIndex&&this.updateValue({group:i.items[0]&&i.items[0].value})}this._filtersDef$.next(t)}initStreams(){this.currentUser=this.authService.getCurrentUser(),this.isHAG=this.currentUser.instance_name.indexOf("HAG")>=0,this.selectedGroup$=this._selectedGroup$.pipe(Object(a.a)(e=>!!e)),this.selectedStore$=this._selectedStore$.pipe(Object(a.a)(e=>!!e)),this.selectedDate$=this._selectedDate$.pipe(Object(a.a)(e=>!!e)),this.selectedReport$=this._selectedReport$.pipe(Object(a.a)(e=>!!e)),this.selectedOpsFilter$=this._selectedOpsFilter$.pipe(Object(a.a)(e=>!!e)),this.selectedAccView$=this._selectedAccView$.asObservable(),this.viewTypeFilter$=this._viewTypeFilter$.asObservable(),this.showGross$=this._showGross$.asObservable(),this.isAcc$=this._isAcc$.asObservable(),this.reports$=this._reports$.pipe(Object(a.a)(e=>!!e)),this.dates$=this._dates$.pipe(Object(a.a)(e=>!!e)),this.reportsTree$=this._reportsTree$.pipe(Object(a.a)(e=>!!e)),this.stores$=this._stores$.pipe(Object(a.a)(e=>!!e)),this.filtersDef$=this._filtersDef$.pipe(Object(a.a)(e=>!!e),Object(r.a)(this._visibleFilters$),Object(n.a)(([e,t])=>e.filter(e=>-1!==t.indexOf(e.name))),Object(l.a)(1)),this.value$=this._value$.pipe(Object(r.a)(this.filtersDef$.pipe(Object(o.a)())),Object(a.a)(([e,t])=>!!t&&!!e),Object(n.a)(([e])=>e))}updateStreams(e,t){e?(e.group!==t.group&&this._selectedGroup$.next(t.group),e.store!==t.store&&this._selectedStore$.next(t.store),e.date!==t.date&&this._selectedDate$.next(t.date),e.report!==t.report&&this._selectedReport$.next(t.report),e.opsfilter!==t.opsfilter&&this._selectedOpsFilter$.next(t.opsfilter),e.view!==t.view&&this._selectedAccView$.next(t.view)):(this._selectedGroup$.next(t.group),this._selectedStore$.next(t.store),this._selectedDate$.next(t.date),this._selectedReport$.next(t.report),this._selectedOpsFilter$.next(t.opsfilter),this._selectedAccView$.next(t.view)),this.showHideDateRangeFilter(),this.showHideViewFilter(),this.showHideOpsFilter()}showHideDateRangeFilter(){if(this._currentPage$.getValue()!==u.b.ByStore)return;const e=this._selectedReport$.getValue();let t=this._visibleFilters$.getValue();this.isSalesReport(e)?-1===t.indexOf("dateRange")&&t.push("dateRange"):t=t.filter(e=>"dateRange"!==e),"6"!==e||this.isHAG?t=t.filter(e=>"opsfilter"!==e):-1===t.indexOf("opsfilter")&&t.push("opsfilter"),this._visibleFilters$.next(t)}showHideViewFilter(){const e=this._currentPage$.getValue();if(!this._isAcc$.getValue()||e!==u.b.ByStore)return;const t=this._selectedReport$.getValue();let s=this._visibleFilters$.getValue();this.isSalesReport(t)?-1===s.indexOf("view")&&s.push("view"):s=s.filter(e=>"view"!==e),this._visibleFilters$.next(s)}showHideOpsFilter(){if(this._currentPage$.getValue()!==u.b.Summary)return;const e=this._selectedReport$.getValue();let t=this._visibleFilters$.getValue();"6"!==e||this.isHAG?t=t.filter(e=>"opsfilter"!==e):-1===t.indexOf("opsfilter")&&t.push("opsfilter"),this._visibleFilters$.next(t)}initSubscriptions(){this.sub=this.dataApi.getStoreGroups().pipe(Object(r.a)(this.dataApi.getStores(),this.dataApi.getDates(),this.dataApi.getReports(),this.dataApi.isAccClient(),this.instanceAppSettingsApi.getByType("pages.all.main"),this.translate.get(["filters-group.business-segment.label","filters-group.business-segment.item.all.label","filters-group.store.label","filters-group.opsfilter.label","filters-group.store.item.all.label","filters-group.period.label","filters-group.report.label","filters-group.view.label","filters-group.view.item.summary","filters-group.view.item.accounting","filters-group.view.item.fi-only","filters-group.view.item.fi-only-not-delivered","filters-group.view.item.fi-only-acc-variance"].map(e=>p.a+e)),this.dataApi.getOpsFilters()),Object(n.a)(([e,t,s,i,a,r,n,l])=>{e.unshift({label:n[p.a+"filters-group.business-segment.item.all.label"],value:c.a});const o=t.map(e=>({label:e[r?r.storeNameType:"name"],value:String(e.id)})),d=l.map(e=>({label:String(e.FilterName),value:String(e.FilterID)})),u=s.map(e=>{const[t,s,i]=String(e.date_from).split("/"),[a,r,n]=String(e.date_to).split("/");return{month:t,year:i,label:e.label,shortName:e.title,abbrev:e.title_abrew,dateIndex:String(e.dateindex),date:"".concat(i,"-").concat(t,"-").concat(s),dateFrom:"".concat(i,"-").concat(t,"-").concat(s),dateTo:"".concat(n,"-").concat(a,"-").concat(r)}}),h=i.map(e=>({label:e.Name,value:e.Value})),m=i.reduce((e,t)=>(e[t.IdCategory]||(e[t.IdCategory]={label:t.Category,value:t.IdCategory,data:[]}),e[t.IdCategory].data.push({label:t.Name,value:t.Value}),e),{});return{storeGroups:e,stores:o,dates:u,reports:h,reportsTree:Object.keys(m).map(e=>m[e]),accItems:a?this.getAccViewFilterItems(n):null,t:n,opsFilterList:d}}),Object(d.a)(({storeGroups:e,stores:t,dates:s,reports:i,accItems:a,opsFilterList:r})=>this.updateValue({group:e[0].value,store:t[0].value,date:s[0].date,dateIndex:s[0].dateIndex,dateRange:s[0].dateFrom+"|"+s[0].dateTo,report:i[0].value,view:a&&a[0].value,opsfilter:this.isHAG?r[0].value:r[1].value}))).subscribe(({storeGroups:e,stores:t,dates:s,reports:i,reportsTree:a,accItems:r,t:n,opsFilterList:l})=>{this._stores$.next(t),this._dates$.next(s),this._reports$.next(i),this._reportsTree$.next(a),this._isAcc$.next(!!r);const o=[Object(c.f)("group",e,n[p.a+"filters-group.business-segment.label"],null,!0),Object(c.f)("store",t,n[p.a+"filters-group.store.label"],null,null,!0),Object(c.e)("date",n[p.a+"filters-group.period.label"],c.b.DateMonth,s[s.length-1].dateFrom,s[0].dateTo),Object(c.e)("dateRange",n[p.a+"filters-group.period.label"],c.b.DateRange,s[s.length-1].dateFrom,s[0].dateTo),Object(c.f)("report",i,n[p.a+"filters-group.report.label"]),Object(c.f)("opsfilter",l,n[p.a+"filters-group.opsfilter.label"])];r&&o.push(Object(c.f)("view",r,n[p.a+"filters-group.view.label"])),this._filtersDef$.next(o)})}getAccViewFilterItems(e){return[{label:e[p.a+"filters-group.view.item.summary"],value:u.d.Summary},{label:e[p.a+"filters-group.view.item.accounting"],value:u.d.Accounting},{label:e[p.a+"filters-group.view.item.fi-only"],value:u.d.FiOnly},{label:e[p.a+"filters-group.view.item.fi-only-not-delivered"],value:u.d.FiOnlyNotDelivered},{label:e[p.a+"filters-group.view.item.fi-only-acc-variance"],value:u.d.FiOnlyAccVariance}]}}},Ou10:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));const i="cabinet.operations."},VHTt:function(e,t,s){"use strict";var i=function(e){return e[e.XLS=0]="XLS",e[e.PDF=1]="PDF",e}({}),a=s("2Vo4"),r=s("PqYM"),n=s("EY2u"),l=s("lJxs"),o=s("eIep"),d=s("vkgz"),c=s("GyhO"),u=s("nYR2");class p{get decrementer(){return()=>this.decrement()}get incrementor(){return()=>this.increment()}get resetter(){return()=>this.reset()}constructor(e=0){this._value$=new a.a(e),this.value$=this._value$.asObservable(),this.is$=this._value$.pipe(Object(l.a)(e=>Boolean(e)))}increment(){this._value$.next(this._value$.getValue()+1)}decrement(){const e=this._value$.getValue();this._value$.next(e>0?e-1:0)}reset(){this._value$.next(0)}streamJoiner(e=!1){return t=>{return(e?Object(r.a)(0).pipe((s=n.a,Object(o.a)(()=>s))):n.a).pipe(Object(d.a)(()=>{},void 0,this.incrementor),function(...e){return t=>t.lift.call(Object(c.a)(t,...e))}(t),Object(u.a)(this.decrementer));var s}}}var h=s("6LW8");s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return p})),s.d(t,"c",(function(){return h.a}))},l9U8:function(e,t,s){"use strict";s.r(t);var i=s("8Y7J"),a=s("Ou10");class r{constructor(e){e.addLoaderWithPrefixedTranslations("/cabinet/operations",a.a)}}var n=s("pMnS"),l=s("t68o"),o=s("zbXB"),d=s("SZ0J"),c=s("iInd"),u=s("SVse"),p=s("rWV4"),h=s("/HVE"),m=s("Xd0L"),g=s("5GAg"),v=s("omvX"),f=s("TSSN"),b=s("bUbq"),C=s("sFX2"),O=s("+2T5"),w=s("NxlO"),S=s("S+vS"),$=s("XpwZ"),_=s("uNm5"),y=s("5uTj"),F=s("mIlg"),x=s("W0XV");class I{constructor(e){this.filterData=e,this.sourceText="OPERATIONS",this.addBusinessSeg=new i.EventEmitter,this.subs=[]}set sub(e){this.subs.push(e)}ngOnInit(){this.setupStreams()}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}onFilterChange(e){this.filterData.updateFilter(e),this.filterData.setCurrentId(e.value)}onAddItem(e){switch(e.name){case"group":this.addBusinessSeg.emit()}}setupStreams(){this.sub=this.filterData.filtersDef$.subscribe(e=>this.filters=e),this.sub=this.filterData.value$.subscribe(e=>this.snapshot=e)}}var D=s("9oLD"),R=i["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}"]],data:{}});function A(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"app-filters-group",[],null,[[null,"filterChange"],[null,"addItem"]],(function(e,t,s){var i=!0,a=e.component;return"filterChange"===t&&(i=!1!==a.onFilterChange(s)&&i),"addItem"===t&&(i=!1!==a.onAddItem(s)&&i),i}),F.b,F.a)),i["\u0275did"](1,638976,null,0,x.a,[O.a],{filters:[0,"filters"],snapshot:[1,"snapshot"],sourceName:[2,"sourceName"]},{filterChange:"filterChange",addItem:"addItem"})],(function(e,t){var s=t.component;e(t,1,0,s.filters,s.snapshot,s.sourceText)}),null)}var T=s("Rlre"),N=s("IP0z"),V=s("hOhj"),j=s("JA3b"),P=s("JItt"),U=s("zp2H"),k=s("v67E"),B=s("/kTj"),M=s("2v1Z"),G=s("cMRB"),L=s("wd/R"),E=s("zZFd");const H=window.amplitude;class q{constructor(e,t){this.filterData=e,this.dataApi=t,this.i18n=a.a,this.i18nBs=G.b,this.tabs=["summary","details","by-store"]}ngOnInit(){this.sourceText="OPERATIONS",this.filterData.init(),console.log("operations page loaded .."),H.getInstance().logEvent("operations_page_load",{eventName:"page load",eventValue:!0}),this.dataApi.getLastRefreshedTime({reportSection:E.a.Operations}).subscribe(e=>{if(e&&e.UpdatedTime){const t=L.utc(e.UpdatedTime,"YYYY-MM-DD hh:mm");this.lastRefreshed=t.local().format("MMM DD YYYY hh:mm A")}else this.lastRefreshed=null})}ngOnDestroy(){this.filterData.destroy()}openBsFormModal(){this.bsFormModal.showModal()}onBsChange(e){this.bsFormModal.closeModal(),this.filterData.onBsChange(e)}}var J=s("xxE9"),Y=i["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}app-content-header[_ngcontent-%COMP%]     .heading{margin-bottom:33px}.btn-open-form[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;text-transform:uppercase}"]],data:{}});function Z(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,8,"a",[["class","mat-tab-link"],["mat-tab-link",""],["routerLinkActive",""]],[[1,"target",0],[8,"href",4],[1,"aria-current",0],[1,"aria-disabled",0],[1,"tabIndex",0],[2,"mat-tab-disabled",null],[2,"mat-tab-label-active",null]],[[null,"click"]],(function(e,t,s){var a=!0;return"click"===t&&(a=!1!==i["\u0275nov"](e,1).onClick(s.button,s.ctrlKey,s.metaKey,s.shiftKey)&&a),a}),null,null)),i["\u0275did"](1,671744,[[4,4]],0,c.r,[c.o,c.a,u.j],{routerLink:[0,"routerLink"]},null),i["\u0275pad"](2,1),i["\u0275did"](3,1720320,[["rla",4]],2,c.q,[c.o,i.ElementRef,i.Renderer2,[2,c.p],[2,c.r]],{routerLinkActive:[0,"routerLinkActive"]},null),i["\u0275qud"](603979776,3,{links:1}),i["\u0275qud"](603979776,4,{linksWithHrefs:1}),i["\u0275did"](6,147456,[[2,4]],0,p.j,[p.k,i.ElementRef,i.NgZone,h.a,[2,m.k],[8,null],g.h,[2,v.a]],{active:[0,"active"]},null),(e()(),i["\u0275ted"](7,null,[" "," "])),i["\u0275pid"](131072,f.i,[f.j,i.ChangeDetectorRef])],(function(e,t){var s=e(t,2,0,t.context.$implicit);e(t,1,0,s),e(t,3,0,""),e(t,6,0,i["\u0275nov"](t,3).isActive)}),(function(e,t){var s=t.component;e(t,0,0,i["\u0275nov"](t,1).target,i["\u0275nov"](t,1).href,i["\u0275nov"](t,6).active?"page":null,i["\u0275nov"](t,6).disabled,i["\u0275nov"](t,6).tabIndex,i["\u0275nov"](t,6).disabled,i["\u0275nov"](t,6).active),e(t,7,0,i["\u0275unv"](t,7,0,i["\u0275nov"](t,8).transform(s.i18n+"header.tab."+t.context.$implicit+".label")))}))}function z(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"bs-form",[],null,[[null,"bsChange"]],(function(e,t,s){var i=!0;return"bsChange"===t&&(i=!1!==e.component.onBsChange(s)&&i),i}),b.b,b.a)),i["\u0275did"](1,770048,null,0,C.a,[O.a,w.a,S.a,f.j,$.a],{loadData:[0,"loadData"],sourceName:[1,"sourceName"]},{bsChange:"bsChange"})],(function(e,t){e(t,1,0,!0,t.component.sourceText)}),null)}function W(e){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{bsFormModal:0}),(e()(),i["\u0275eld"](1,0,null,null,12,"app-content-header",[],null,null,null,_.b,_.a)),i["\u0275prd"](512,null,u.B,u.C,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](3,278528,null,0,u.l,[u.B],{ngClass:[0,"ngClass"]},null),i["\u0275pad"](4,1),i["\u0275did"](5,114688,null,0,y.a,[],{caption:[0,"caption"],lastRefreshed:[1,"lastRefreshed"]},null),i["\u0275pid"](131072,f.i,[f.j,i.ChangeDetectorRef]),(e()(),i["\u0275eld"](7,0,null,0,1,"app-operations-filters-group",[],null,[[null,"addBusinessSeg"]],(function(e,t,s){var i=!0;return"addBusinessSeg"===t&&(i=!1!==e.component.openBsFormModal()&&i),i}),A,R)),i["\u0275did"](8,245760,null,0,I,[D.a],null,{addBusinessSeg:"addBusinessSeg"}),(e()(),i["\u0275eld"](9,0,null,0,4,"nav",[["class","mat-tab-nav-bar mat-tab-header"],["mat-tab-nav-bar",""]],[[2,"mat-tab-header-pagination-controls-enabled",null],[2,"mat-tab-header-rtl",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null]],null,null,T.e,T.c)),i["\u0275did"](10,7520256,null,1,p.k,[i.ElementRef,[2,N.b],i.NgZone,i.ChangeDetectorRef,V.i,[2,h.a],[2,v.a]],null,null),i["\u0275qud"](603979776,2,{_items:1}),(e()(),i["\u0275and"](16777216,null,0,1,null,Z)),i["\u0275did"](13,278528,null,0,u.m,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),i["\u0275eld"](14,0,null,null,6,"app-content-body",[],null,null,null,j.b,j.a)),i["\u0275prd"](512,null,u.B,u.C,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2]),i["\u0275did"](16,278528,null,0,u.l,[u.B],{ngClass:[0,"ngClass"]},null),i["\u0275pad"](17,1),i["\u0275did"](18,114688,null,0,P.a,[],null,null),(e()(),i["\u0275eld"](19,16777216,null,0,1,"router-outlet",[],null,null,null,null,null)),i["\u0275did"](20,212992,null,0,c.t,[c.b,i.ViewContainerRef,i.ComponentFactoryResolver,[8,null],i.ChangeDetectorRef],null,null),(e()(),i["\u0275eld"](21,0,null,null,5,"app-modal",[["class","modal-bs-form"]],null,null,null,U.b,U.a)),i["\u0275prd"](512,null,k.a,k.a,[B.b]),i["\u0275did"](23,1228800,[[1,4],["bsFormModal",4]],0,M.a,[k.a,u.d,i.ElementRef,i.Renderer2,B.b],{modalTitle:[0,"modalTitle"]},null),i["\u0275pid"](131072,f.i,[f.j,i.ChangeDetectorRef]),(e()(),i["\u0275and"](16777216,null,0,1,null,z)),i["\u0275did"](26,16384,null,0,u.n,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var s=t.component,a=e(t,4,0,"content-header-size-1");e(t,3,0,a),e(t,5,0,i["\u0275unv"](t,5,0,i["\u0275nov"](t,6).transform(s.i18n+"header.caption")),s.lastRefreshed),e(t,8,0),e(t,13,0,s.tabs);var r=e(t,17,0,"content-body-size-1");e(t,16,0,r),e(t,18,0),e(t,20,0),e(t,23,0,i["\u0275unv"](t,23,0,i["\u0275nov"](t,24).transform(s.i18nBs+"business-segment-form.title"))),e(t,26,0,i["\u0275nov"](t,23).displayed)}),(function(e,t){e(t,9,0,i["\u0275nov"](t,10)._showPaginationControls,"rtl"==i["\u0275nov"](t,10)._getLayoutDirection(),"warn"!==i["\u0275nov"](t,10).color&&"accent"!==i["\u0275nov"](t,10).color,"accent"===i["\u0275nov"](t,10).color,"warn"===i["\u0275nov"](t,10).color)}))}var X=i["\u0275ccf"]("ng-component",q,(function(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,W,Y)),i["\u0275did"](1,245760,null,0,q,[D.a,J.a],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),K=s("POq0"),Q=s("s7LF"),ee=s("EwA9"),te=s("Qq/Z"),se=s("Mc5n"),ie=s("QQfA"),ae=s("JjoW"),re=s("s6ns"),ne=s("821u"),le=s("8CZ8"),oe=s("cUpR"),de=s("zMNK"),ce=s("FIJs"),ue=s("aBBA"),pe=s("gQiY"),he=s("iTUp"),me=s("oiVm"),ge=s("Fbhx"),ve=s("/Lwf"),fe=s("yotz"),be=s("T3zS"),Ce=s("HsOI"),Oe=s("oapL"),we=s("ZwOa"),Se=s("Fwaw"),$e=s("Xitx"),_e=s("wN6G"),ye=s("Gi4r"),Fe=s("IkVo"),xe=s("LH5O");class Ie{}const De=()=>Promise.all([s.e(1),s.e(2),s.e(5),s.e(10),s.e(13),s.e(0),s.e(52)]).then(s.bind(null,"V2X4")).then(e=>e.SummaryModuleNgFactory),Re=()=>Promise.all([s.e(1),s.e(2),s.e(5),s.e(0),s.e(46)]).then(s.bind(null,"BW8j")).then(e=>e.DetailsModuleNgFactory),Ae=()=>Promise.all([s.e(1),s.e(2),s.e(5),s.e(8),s.e(10),s.e(13),s.e(0),s.e(63)]).then(s.bind(null,"Exwp")).then(e=>e.ByStoreModuleNgFactory);s.d(t,"OperationsModuleNgFactory",(function(){return Te}));var Te=i["\u0275cmf"](r,[],(function(e){return i["\u0275mod"]([i["\u0275mpd"](512,i.ComponentFactoryResolver,i["\u0275CodegenComponentFactoryResolver"],[[8,[n.a,l.a,o.b,o.a,d.e,d.d,d.c,X]],[3,i.ComponentFactoryResolver],i.NgModuleRef]),i["\u0275mpd"](4608,u.p,u.o,[i.LOCALE_ID,[2,u.G]]),i["\u0275mpd"](4608,K.c,K.c,[]),i["\u0275mpd"](4608,Q.F,Q.F,[]),i["\u0275mpd"](4608,ee.a,ee.a,[B.b]),i["\u0275mpd"](4608,w.a,w.a,[ee.a,te.a]),i["\u0275mpd"](4608,se.f,se.f,[u.d,i.NgZone,V.i,se.h]),i["\u0275mpd"](4608,ie.c,ie.c,[ie.i,ie.e,i.ComponentFactoryResolver,ie.h,ie.f,i.Injector,i.NgZone,u.d,N.b,[2,u.i]]),i["\u0275mpd"](5120,ie.j,ie.k,[ie.c]),i["\u0275mpd"](5120,ae.a,ae.b,[ie.c]),i["\u0275mpd"](4608,m.b,m.b,[]),i["\u0275mpd"](5120,re.c,re.d,[ie.c]),i["\u0275mpd"](135680,re.e,re.e,[ie.c,i.Injector,[2,u.i],[2,re.b],re.c,[3,re.e],ie.e]),i["\u0275mpd"](4608,ne.i,ne.i,[]),i["\u0275mpd"](5120,ne.a,ne.b,[ie.c]),i["\u0275mpd"](4608,m.a,m.v,[[2,m.f],h.a]),i["\u0275mpd"](4608,le.p,le.p,[]),i["\u0275mpd"](5120,le.b,le.c,[ie.c]),i["\u0275mpd"](4608,le.a,le.g,[[2,le.e],h.a]),i["\u0275mpd"](4608,J.a,J.a,[te.a]),i["\u0275mpd"](4608,D.a,D.a,[f.j,J.a,O.a,$.a]),i["\u0275mpd"](1073742336,u.c,u.c,[]),i["\u0275mpd"](1073742336,c.s,c.s,[[2,c.x],[2,c.o]]),i["\u0275mpd"](1073742336,N.a,N.a,[]),i["\u0275mpd"](1073742336,m.l,m.l,[[2,m.d],[2,oe.f]]),i["\u0275mpd"](1073742336,de.g,de.g,[]),i["\u0275mpd"](1073742336,h.b,h.b,[]),i["\u0275mpd"](1073742336,m.u,m.u,[]),i["\u0275mpd"](1073742336,K.d,K.d,[]),i["\u0275mpd"](1073742336,g.a,g.a,[]),i["\u0275mpd"](1073742336,p.l,p.l,[]),i["\u0275mpd"](1073742336,f.g,f.g,[]),i["\u0275mpd"](1073742336,ce.a,ce.a,[ue.a]),i["\u0275mpd"](1073742336,pe.a,pe.a,[]),i["\u0275mpd"](1073742336,Q.E,Q.E,[]),i["\u0275mpd"](1073742336,Q.m,Q.m,[]),i["\u0275mpd"](1073742336,he.a,he.a,[]),i["\u0275mpd"](1073742336,me.a,me.a,[]),i["\u0275mpd"](1073742336,ge.a,ge.a,[ue.a]),i["\u0275mpd"](1073742336,se.g,se.g,[]),i["\u0275mpd"](1073742336,ve.a,ve.a,[]),i["\u0275mpd"](1073742336,fe.b,fe.b,[]),i["\u0275mpd"](1073742336,be.a,be.a,[]),i["\u0275mpd"](1073742336,Ce.e,Ce.e,[]),i["\u0275mpd"](1073742336,V.f,V.f,[]),i["\u0275mpd"](1073742336,ie.g,ie.g,[]),i["\u0275mpd"](1073742336,m.s,m.s,[]),i["\u0275mpd"](1073742336,m.q,m.q,[]),i["\u0275mpd"](1073742336,ae.d,ae.d,[]),i["\u0275mpd"](1073742336,Oe.c,Oe.c,[]),i["\u0275mpd"](1073742336,we.c,we.c,[]),i["\u0275mpd"](1073742336,Se.c,Se.c,[]),i["\u0275mpd"](1073742336,re.k,re.k,[]),i["\u0275mpd"](1073742336,ne.j,ne.j,[]),i["\u0275mpd"](1073742336,m.w,m.w,[]),i["\u0275mpd"](1073742336,m.n,m.n,[]),i["\u0275mpd"](1073742336,$e.a,$e.a,[]),i["\u0275mpd"](1073742336,le.q,le.q,[]),i["\u0275mpd"](1073742336,le.h,le.h,[]),i["\u0275mpd"](1073742336,le.t,le.t,[]),i["\u0275mpd"](1073742336,_e.a,_e.a,[]),i["\u0275mpd"](1073742336,ye.c,ye.c,[]),i["\u0275mpd"](1073742336,Fe.a,Fe.a,[]),i["\u0275mpd"](1073742336,xe.a,xe.a,[]),i["\u0275mpd"](1073742336,Ie,Ie,[]),i["\u0275mpd"](1073742336,r,r,[ue.a]),i["\u0275mpd"](256,m.e,m.i,[]),i["\u0275mpd"](256,le.d,le.f,[]),i["\u0275mpd"](1024,c.m,(function(){return[[{path:"",component:q,children:[{path:"summary",loadChildren:De},{path:"details",loadChildren:Re},{path:"by-store",loadChildren:Ae},{path:"",redirectTo:"summary",pathMatch:"full"}]}]]}),[])])}))},pCim:function(e,t,s){"use strict";var i=function(e){return e.BySalesperson="SalesmenName",e.ByMake="Make",e.ByModel="Model",e.ByCustomer="fullname",e}({}),a=function(e){return e.New="1",e.Used="2",e.UsedWholesale="3",e.NewDt="9",e.Ten="10",e.MiscellaneousDeals="11",e.Twelve="12",e.Thirteenth="13",e}({}),r=function(e){return e.Summary="Summary",e.Details="Details",e.ByStore="By Store",e}({}),n=function(e){return e.Summary="1",e.Accounting="2",e.FiOnly="3",e.FiOnlyNotDelivered="4",e.FiOnlyAccVariance="5",e}({}),l=s("tFIl");let o=(()=>{class e extends l.a{constructor(e={}){super();const t=new.target.valuePublicFieldNames;this.fillAll(e,t)}clone(e={}){return super.clone(e)}}return e.valuePublicFieldNames=["group","store","date","dateIndex","dateRange","report","view","opsfilter"],e})();s.d(t,"e",(function(){return i})),s.d(t,"c",(function(){return a})),s.d(t,"b",(function(){return r})),s.d(t,"d",(function(){return n})),s.d(t,"a",(function(){return o}))},xxE9:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var i=s("lJxs"),a=s("VHTt");class r{constructor(e){this.api=e}getStoreGroups(){return this.api.get("storegroups").pipe(Object(i.a)(e=>e.map(e=>({label:e.name,value:e.groupIndex}))))}getStores(){return this.api.get("stores").pipe(Object(i.a)(e=>e.map(e=>a.c.fromJson(e))))}getDates(){return this.api.get("kpi/month")}getReports(){return this.api.get("dtoperations/opsreports").pipe(Object(i.a)(e=>e.data))}getOpsFilters(){return this.api.get("dtoperations/opsfilters").pipe(Object(i.a)(e=>e.data))}getSummary(e){return this.api.get("dtoperations",{params:{busseg:e.group,reportid:e.report,opsfilter:e.opsfilter}})}getReportsTrendData(e){return this.api.get("dtoperations/chartreporttrend",{params:{busSeg:e.group,opsfilter:e.opsfilter}})}getStoreTrendData(e){return this.api.get("dtoperations/charttrendstore",{params:{storeid:e.store,reportid:e.report}})}getDetails(e){return this.api.get("dtoperations/getsummary",{params:{BusSeg:e.group,dateIndex:e.dateIndex,strField:"1"}})}getByStore(e){return this.api.get("dtoperations/opsgetdetails",{params:{storeid:e.store,reportid:e.report,acccol:e.view,rangeDates:e.dateRange.replace(/-/g,""),monthsRange:e.monthsRange,opsfilter:e.opsfilter}})}isAccClient(){return this.api.get("dtoperations/useacctopsfilter").pipe(Object(i.a)(e=>e&&!!+e.num))}getDetailsByControl(e){return this.api.get("dtoperations/opsgetdetailsbycontrol",{params:{storeid:e.store,reportid:e.report,control:e.control,bystock:e.byStock}})}getDetailsBalance(e){return this.api.get("dtoperations/opsgetbalancedetails",{params:{storeid:e.store,reportid:e.report,dateindex:e.dateIndex,dateRange:e.dateRange}})}saveTotalFields(e){return this.api.put("dtoperations/".concat(e.report),{reportid:e.report,type:"totalfields",values:e.fields.map(e=>({datafield:e.field,totalfield:String(+e.visible)}))})}getLastRefreshedTime(e){return this.api.get("nrttimestamp",{params:{reportSection:e.reportSection}})}}},zZFd:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var i=function(e){return e.Docs="Docs",e.Operations="Operations",e.Schedules="Schedules",e.ServiceTech="ServiceTech",e.ServiceAdvisor="ServiceAdvisor",e.CustomReports="CustomReports",e.ExpenseManagement="ExpenseManagement",e["OCC-New"]="OCC-New",e["OCC-New-Inventory"]="OCC-New-Inventory",e["OCC-New-Inventory-NewAgingAnalysis"]="OCC-New-Inventory-NewAgingAnalysis",e["OCC-New-NewContest-NewSalesContest"]="OCC-New-NewContest-NewSalesContest",e["OCC-New-NewSales"]="OCC-New-NewSales",e["OCC-New-NewSalesContest"]="OCC-New-NewSalesContest",e["OCC-New-NewSales-NewByModel"]="OCC-New-NewSales-NewByModel",e["OCC-Service&Parts"]="OCC-Service&Parts",e["OCC-Service&Parts-OpenPartTickets"]="OCC-Service&Parts-OpenPartTickets",e["OCC-Service&Parts-OpenPartTickets-OpenPartTickets"]="OCC-Service&Parts-OpenPartTickets-OpenPartTickets",e["OCC-Service&Parts-OpenROs"]="OCC-Service&Parts-OpenROs",e["OCC-Service&Parts-OpenROs-OpenROs"]="OCC-Service&Parts-OpenROs-OpenROs",e["OCC-Service&Parts-ServiceAdvisorContest"]="OCC-Service&Parts-ServiceAdvisorContest",e["OCC-Service&Parts-ServiceAdvisorContest-ServiceAdvisor"]="OCC-Service&Parts-ServiceAdvisorContest-ServiceAdvisor",e["OCC-Service&Parts-ServiceDetail"]="OCC-Service&Parts-ServiceDetail",e["OCC-Service&Parts-TechnicianContest"]="OCC-Service&Parts-TechnicianContest",e["OCC-Service&Parts-TechnicianContest-technicianContest"]="OCC-Service&Parts-TechnicianContest-technicianContest",e["OCC-Tracking Section"]="OCC-Tracking Section",e["OCC-Used"]="OCC-Used",e["OCC-Used-Inventory"]="OCC-Used-Inventory",e["OCC-Used-Inventory-UsedAgingAnalysis"]="OCC-Used-Inventory-UsedAgingAnalysis",e["OCC-Used-UsedContest-UsedSalesContest"]="OCC-Used-UsedContest-UsedSalesContest",e["OCC-Used-UsedSales"]="OCC-Used-UsedSales",e["OCC-Used-UsedSalesContest"]="OCC-Used-UsedSalesContest",e["OCC-Used-UsedSales-UsedByModel"]="OCC-Used-UsedSales-UsedByModel",e["OCC-F&I"]="OCC-F&I",e["OCC-F&I-AgingAnalysis-CIT"]="OCC-F&I-AgingAnalysis-CIT",e["OCC-F&I-F&IContest"]="OCC-F&I-F&IContest",e["OCC-F&I-F&IPerformance"]="OCC-F&I-F&IPerformance",e}({})}}]);