(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{"7Dhi":function(l,n,e){"use strict";e.d(n,"a",(function(){return t}));class t{transform(l,n=["+"]){if(!Array.isArray(l))return l;if(!l.length)return l;if(!Array.isArray(n)||Array.isArray(n)&&1===n.length){const e=Array.isArray(n)?n[0]:n,o="-"===e.substr(0,1);if(e&&"-"!==e&&"+"!==e){const n="+"===e.substr(0,1)||"-"===e.substr(0,1)?e.substr(1):e;return l.sort((l,e)=>o?-t._orderByComparator(l[n],e[n]):t._orderByComparator(l[n],e[n]))}return o?l.sort().reverse():l.sort()}return l.sort((l,e)=>{for(const o of n){const n="-"===o.substr(0,1),a="+"===o.substr(0,1)||"-"===o.substr(0,1)?o.substr(1):o,i=n?-t._orderByComparator(l[a],e[a]):t._orderByComparator(l[a],e[a]);if(0!=+i)return i}return 0})}static _orderByComparator(l,n){if(null===l&&(l=0),null===n&&(n=0),isNaN(parseFloat(l))||!isFinite(l)||isNaN(parseFloat(n))||!isFinite(n)){if(l.toLowerCase()<n.toLowerCase())return-1;if(l.toLowerCase()>n.toLowerCase())return 1}else{if(parseFloat(l)<parseFloat(n))return-1;if(parseFloat(l)>parseFloat(n))return 1}return 0}}},OrbI:function(l,n,e){"use strict";e("0sx3"),e("zeHk");var t=e("/ynw");e.d(n,"a",(function(){return t.a})),e("TUN4")},QVnB:function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");class o{constructor(l){l.addLoaderWithPrefixedTranslations("/cabinet/custom-reports/floor-plan","")}}var a=e("pMnS"),i=e("t68o"),r=e("zbXB"),d=e("GsI2"),u=e("eliu"),s=e("0Xvm"),c=e("VOAG"),p=e("aYrz"),m=e("tfhy"),f=e("HOtD"),h=e("RHbX"),g=e("Xrj0"),v=e("bujt"),b=e("Fwaw"),C=e("5GAg"),w=e("omvX"),x=e("TSSN"),_=e("oveR"),y=e("hNGQ"),I=e("+dxm"),D=e("jIY6"),R=e("jqm9"),O=e("/kTj"),U=e("SVse"),T=e("/Mbv"),P=e("98QR"),k=e("V4Wx"),M=e("S5eV"),q=e("zeHk"),F=e("+bil"),E=e("S+vS"),A=e("ChPW"),N=e("Lxd7"),S=e("IqdZ"),j=e("eeq/"),L=e("TUN4"),V=e("K5C0"),G=e("mvzq"),Y=e("+2T5"),z=e("mrSG"),B=e("nYR2"),X=e("wd/R"),H=e("BTBr"),Z=e("/gN3");class ${constructor(l,n,e,t,o,a,i){this.floorPlanApi=l,this.agGridPdf=n,this.excel=e,this.tracking=t,this.translate=o,this.dialog=a,this.session=i,this.uploadId=0,this.rowData=[],this.columnDefs=[],this.loading=!1,this.selectedUploadInfo={},this.gridOptions={suppressMultiSort:!1,animateRows:!0,overlayLoadingTemplate:'<div class="progress progress--indeterminate">\n        <div class="progress--indeterminate__inner">\n            <div class="progress--indeterminate__left-half">\n                <div class="progress--circle progress--indeterminate__circle--left"></div>\n            </div>\n            <div class="progress--indeterminate__right-half">\n                <div class="progress--circle progress--indeterminate__circle--right"></div>\n            </div>\n        </div>'},this.subs=[]}set sub(l){this.subs.push(l)}ngOnInit(){this.currentUser=this.session.getCurrentUser()}ngOnChanges(){this.viewPreview()}viewPreview(){this.loading=!0,this.selectedUploadInfo=this.uploadInfo,this.rowData=[],this.sub=this.floorPlanApi.getUploadPreview(this.uploadId).pipe(Object(B.a)(()=>this.loading=!1)).subscribe(l=>{l.data.length>0&&l.data.forEach(l=>{for(const n of Object.keys(l)){const e=l[n];if("col9"===n||"col10"===n){const t=parseFloat(e);l[n]=t.toFixed(2)}}}),this.rowData=[...l.data],this.columnDefs=[],l.labels.forEach(n=>{for(const e of Object.keys(n)){const t=n[e];let o;o="col9"===e||"col10"===e?Z.c.NumberRange:Z.c.String,l.segments.indexOf(e)>-1&&this.columnDefs.push(new Z.a({field:e,name:t,width:150,filter:o}))}}),this.loading=!1},l=>this.dialog.alert(l.message))}ngOnDestroy(){this.subs.forEach(l=>l.unsubscribe())}excelExport(){return z.__awaiter(this,void 0,void 0,(function*(){const l=this.selectedUploadInfo,n=X().format("MM-DD-YYYY"),e=(l,n)=>this.translate.get(l,n).toPromise(),t=(yield e("header.export.excel.filter.preview"))+"-"+l.reportName+"-"+n,o=[{label:yield e("header.export.excel.filter.report"),value:this.reportTitle},{label:yield e("header.export.excel.filter.preview"),value:l.reportName},{label:yield e("header.export.excel.filter.store-name"),value:l.storeName},{label:yield e("header.export.excel.filter.report-date"),value:l.reportDate}];this.table.exportDataAsXls(t,o),this.trackAction(H.a.ExportXls,H.d.Preview,yield this.getTrackingParams(),this.table.grid)}))}trackAction(l,n,e,t){this.tracking.log({page:H.b.CustomReports,section:"Floor Plan Preview",subSection:n,event:l||H.a.Load,params:e,grid:t})}getTrackingParams(){return z.__awaiter(this,void 0,void 0,(function*(){const l=(l,n)=>this.translate.get(l,n).toPromise();return[{label:yield l("body.details.label.report-name"),value:this.selectedUploadInfo.reportName},{label:yield l("body.details.label.store-name"),value:this.selectedUploadInfo.storeName},{label:yield l("body.details.label.report-date"),value:this.selectedUploadInfo.reportDate}]}))}}var W=e("lJxs");class J{constructor(l){this.api=l}getUploads(){return this.api.get("floorplanrecs").pipe(Object(W.a)(l=>({data:l.data,labels:l.labels,segments:l.segments.base})))}getUpload(l=0){return this.api.get("floorplanrecs",{params:{uploadId:l}}).pipe(Object(W.a)(l=>({b0:l.b0,b1:l.b1,b2:l.b2,b3:l.b3})))}getUploadPreview(l=0){return this.api.get("floorplanrec/preview",{params:{uploadId:l}}).pipe(Object(W.a)(l=>({data:l.data,labels:l.labels,segments:l.segments.base})))}getComments(l=""){return this.api.get("floorplanrec/comment",{params:{VehSerialN:l}}).pipe(Object(W.a)(l=>({data:l.data,labels:l.labels,segments:l.segments.base})))}deleteUpload(l=0){return this.api.delete("floorplanrecs/".concat(l))}addComment(l="",n=""){return this.api.post("floorplanrec/comment",{comment:n,VehSerialN:l}).pipe(Object(W.a)(l=>({data:l.data,labels:l.labels,segments:l.segments.base})))}getGetMonths(){return this.api.get("floorplanrec/getmonth")}addReport(l=1,n="",e="",t=0,o=0){return this.api.post("floorplanrec/upload",{format:l,filedata:n,uploadName:e,dateindex:t,storeid:o})}}var K=t["\u0275crt"]({encapsulation:0,styles:[["app-default-grid[_ngcontent-%COMP%]{height:100%;width:100%}.header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between}.c__table[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.totals-container[_ngcontent-%COMP%]{height:auto;width:50%;border-radius:2px;background-color:#fff}.totals-box[_ngcontent-%COMP%]{width:100%;display:flex;flex-flow:row wrap;justify-content:flex-start}.total-item[_ngcontent-%COMP%]{padding:14px 11px;flex-basis:16%;-ms-flex:auto;position:relative;box-sizing:border-box;flex-grow:1;margin:0}.total-item[_ngcontent-%COMP%]:last-child{border-right:0 solid rgba(0,0,0,.12)}.total-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:0;margin:0;width:100%;display:inline-block;color:rgba(0,0,0,.87);font-family:Roboto;font-size:14.95px;font-weight:500;letter-spacing:.12px;line-height:18px}.total-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:rgba(0,0,0,.6);font-family:Roboto;font-size:12px;font-weight:500;letter-spacing:.2px;line-height:16px}@media (max-width:750px){.total-item[_ngcontent-%COMP%]{padding:14px 11px;flex-basis:50%;-ms-flex:auto;position:relative;box-sizing:border-box;flex-grow:0;margin:0}}"]],data:{}});function Q(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["class","right"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.excelExport()&&t),t}),null,null)),(l()(),t["\u0275eld"](1,16777216,null,null,2,"i",[["class","material-icons"],["tooltipTheme","dark-auto"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var o=!0;return"focusin"===n&&(o=!1!==t["\u0275nov"](l,2).show()&&o),"mouseenter"===n&&(o=!1!==t["\u0275nov"](l,2).show()&&o),"focusout"===n&&(o=!1!==t["\u0275nov"](l,2).hide()&&o),"mouseleave"===n&&(o=!1!==t["\u0275nov"](l,2).hide()&&o),o}),null,null)),t["\u0275did"](2,147456,null,0,R.a,[t.ViewContainerRef,t.ComponentFactoryResolver,t.ChangeDetectorRef,O.b],{content:[0,"content"],tooltipTheme:[1,"tooltipTheme"]},null),(l()(),t["\u0275ted"](-1,null,["file_download"]))],(function(l,n){l(n,2,0,t["\u0275nov"](n.parent,30),"dark-auto")}),null)}function ll(l){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{table:0}),(l()(),t["\u0275eld"](1,0,null,null,35,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,30,"div",[["class","header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,22,"div",[["class","totals-container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,21,"div",[["class","totals-box"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,6,"div",[["class","total-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,5,"h3",[],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""])),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](10,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275ted"](11,null,[" "," "])),(l()(),t["\u0275eld"](12,0,null,null,6,"div",[["class","total-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,5,"h3",[],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](15,null,["",""])),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](17,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275ted"](18,null,[" "," "])),(l()(),t["\u0275eld"](19,0,null,null,6,"div",[["class","total-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,5,"h3",[],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](22,null,["",""])),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](24,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275ted"](25,null,[" "," "])),(l()(),t["\u0275and"](16777216,null,null,1,null,Q)),t["\u0275did"](27,16384,null,0,U.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](28,0,null,null,4,"app-tooltip-content",[["style","width:75px"]],[[1,"role",0],[8,"className",0],[2,"tooltip--with-header",null],[4,"top","px"],[4,"left","px"],[2,"in",null],[2,"fade",null]],[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var o=!0;return"focusin"===n&&(o=!1!==t["\u0275nov"](l,30).mouseIn()&&o),"mouseenter"===n&&(o=!1!==t["\u0275nov"](l,30).mouseIn()&&o),"focusout"===n&&(o=!1!==t["\u0275nov"](l,30).mouseOut()&&o),"mouseleave"===n&&(o=!1!==t["\u0275nov"](l,30).mouseOut()&&o),o}),f.c,f.a)),t["\u0275prd"](512,null,T.a,T.a,[O.b]),t["\u0275did"](30,4440064,[["tooltipUnits",4]],0,P.a,[t.ElementRef,T.a,k.a,U.d,t.Renderer2,t.ChangeDetectorRef,O.b],null,null),(l()(),t["\u0275ted"](31,1,[" "," "])),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](33,0,null,null,3,"div",[["class","c__table"]],null,null,null,null,null)),(l()(),t["\u0275eld"](34,0,null,null,2,"app-default-grid",[],null,null,null,M.b,M.a)),t["\u0275prd"](512,null,q.a,q.a,[F.a,E.a,A.a,x.j,N.a]),t["\u0275did"](36,4964352,[[1,4],["table",4]],0,S.a,[j.a,q.a,L.a,V.a,G.a,O.b,Y.a],{data:[0,"data"],columns:[1,"columns"],customGridOptions:[2,"customGridOptions"],loading:[3,"loading"]},null)],(function(l,n){var e=n.component;l(n,27,0,null==e.currentUser?null:e.currentUser.isExportExcelAvailable),l(n,30,0),l(n,36,0,e.rowData,e.columnDefs,e.gridOptions,e.loading)}),(function(l,n){var e=n.component;l(n,8,0,t["\u0275unv"](n,8,0,t["\u0275nov"](n,9).transform("body.details.label.report-name"))),l(n,11,0,null==e.selectedUploadInfo?null:e.selectedUploadInfo.reportName),l(n,15,0,t["\u0275unv"](n,15,0,t["\u0275nov"](n,16).transform("body.details.label.store-name"))),l(n,18,0,null==e.selectedUploadInfo?null:e.selectedUploadInfo.storeName),l(n,22,0,t["\u0275unv"](n,22,0,t["\u0275nov"](n,23).transform("body.details.label.report-date"))),l(n,25,0,null==e.selectedUploadInfo?null:e.selectedUploadInfo.reportDate),l(n,28,0,t["\u0275nov"](n,30).role,t["\u0275nov"](n,30).hostClass,t["\u0275nov"](n,30).withHeader,t["\u0275nov"](n,30).top,t["\u0275nov"](n,30).left,t["\u0275nov"](n,30).isIn,t["\u0275nov"](n,30).isFade),l(n,31,0,t["\u0275unv"](n,31,0,t["\u0275nov"](n,32).transform("header-icons.download-excel")))}))}var nl=e("Rlre"),el=e("rWV4");class tl{constructor(){this.exportXls=!1,this.onExport=new t.EventEmitter}excelExport(){this.onExport.emit()}}var ol=t["\u0275crt"]({encapsulation:0,styles:[[".totals-container[_ngcontent-%COMP%]{height:auto;width:30%;border-radius:2px;background-color:#fff}.totals-box[_ngcontent-%COMP%]{width:100%;display:flex;flex-flow:row wrap;justify-content:flex-start}.total-item[_ngcontent-%COMP%]{padding:14px 11px;flex-basis:16%;-ms-flex:auto;position:relative;box-sizing:border-box;flex-grow:1;margin:0}.total-item[_ngcontent-%COMP%]:last-child{border-right:0 solid rgba(0,0,0,.12)}.total-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:0;margin:0;width:100%;display:inline-block;color:rgba(0,0,0,.87);font-family:Roboto;font-size:14.95px;font-weight:500;letter-spacing:.12px;line-height:18px}.total-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:rgba(0,0,0,.6);font-family:Roboto;font-size:12px;font-weight:500;letter-spacing:.2px;line-height:16px}@media (max-width:750px){.total-item[_ngcontent-%COMP%]{padding:14px 11px;flex-basis:50%;-ms-flex:auto;position:relative;box-sizing:border-box;flex-grow:0;margin:0}}.header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between}.right[_ngcontent-%COMP%]{padding:15px}"]],data:{}});function al(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["class","right"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.excelExport()&&t),t}),null,null)),(l()(),t["\u0275eld"](1,16777216,null,null,2,"i",[["class","material-icons"],["tooltipTheme","dark-auto"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var o=!0;return"focusin"===n&&(o=!1!==t["\u0275nov"](l,2).show()&&o),"mouseenter"===n&&(o=!1!==t["\u0275nov"](l,2).show()&&o),"focusout"===n&&(o=!1!==t["\u0275nov"](l,2).hide()&&o),"mouseleave"===n&&(o=!1!==t["\u0275nov"](l,2).hide()&&o),o}),null,null)),t["\u0275did"](2,147456,null,0,R.a,[t.ViewContainerRef,t.ComponentFactoryResolver,t.ChangeDetectorRef,O.b],{content:[0,"content"],tooltipTheme:[1,"tooltipTheme"]},null),(l()(),t["\u0275ted"](-1,null,["file_download"]))],(function(l,n){l(n,2,0,t["\u0275nov"](n.parent,21),"dark-auto")}),null)}function il(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,23,"div",[["class","header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,15,"div",[["class","totals-container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,14,"div",[["class","totals-box"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,6,"div",[["class","total-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,5,"h3",[],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](8,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,[" "," "])),(l()(),t["\u0275eld"](10,0,null,null,6,"div",[["class","total-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,5,"h3",[],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,["",""])),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](15,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275ted"](16,null,[" "," "])),(l()(),t["\u0275and"](16777216,null,null,1,null,al)),t["\u0275did"](18,16384,null,0,U.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](19,0,null,null,4,"app-tooltip-content",[["style","width:75px"]],[[1,"role",0],[8,"className",0],[2,"tooltip--with-header",null],[4,"top","px"],[4,"left","px"],[2,"in",null],[2,"fade",null]],[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var o=!0;return"focusin"===n&&(o=!1!==t["\u0275nov"](l,21).mouseIn()&&o),"mouseenter"===n&&(o=!1!==t["\u0275nov"](l,21).mouseIn()&&o),"focusout"===n&&(o=!1!==t["\u0275nov"](l,21).mouseOut()&&o),"mouseleave"===n&&(o=!1!==t["\u0275nov"](l,21).mouseOut()&&o),o}),f.c,f.a)),t["\u0275prd"](512,null,T.a,T.a,[O.b]),t["\u0275did"](21,4440064,[["tooltipUnits",4]],0,P.a,[t.ElementRef,T.a,k.a,U.d,t.Renderer2,t.ChangeDetectorRef,O.b],null,null),(l()(),t["\u0275ted"](22,1,[" "," "])),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef])],(function(l,n){l(n,18,0,n.component.exportXls),l(n,21,0)}),(function(l,n){var e=n.component;l(n,6,0,t["\u0275unv"](n,6,0,t["\u0275nov"](n,7).transform("body.details.label.store-name"))),l(n,9,0,null==e.selectedUploadInfo?null:e.selectedUploadInfo.storeName),l(n,13,0,t["\u0275unv"](n,13,0,t["\u0275nov"](n,14).transform("body.details.label.report-date"))),l(n,16,0,null==e.selectedUploadInfo?null:e.selectedUploadInfo.reportDate),l(n,19,0,t["\u0275nov"](n,21).role,t["\u0275nov"](n,21).hostClass,t["\u0275nov"](n,21).withHeader,t["\u0275nov"](n,21).top,t["\u0275nov"](n,21).left,t["\u0275nov"](n,21).isIn,t["\u0275nov"](n,21).isFade),l(n,22,0,t["\u0275unv"](n,22,0,t["\u0275nov"](n,23).transform("header-icons.download-excel")))}))}var rl=e("zp2H"),dl=e("v67E"),ul=e("2v1Z"),sl=e("s7LF");class cl{constructor(l,n,e,o){this.fb=l,this.authService=n,this.excel=e,this.translate=o,this.loading=!1,this.vin="",this.comment=new t.EventEmitter}ngOnInit(){this.currentUser=this.authService.getCurrentUser(),this.initForm()}onSubmitAddComment({text:l}){this.comment.emit({vin:this.vin,text:l})}reset(){this.form.reset()}exportData(){return z.__awaiter(this,void 0,void 0,(function*(){const l=(l,n)=>this.translate.get(l,n).toPromise(),n=X().format("MM-DD-YYYY"),e=yield l("modal.comments-history.export.excel.file-name-template",{reportTitle:this.report.title,reportName:this.report.name,vin:this.vin,date:n}),t=[{label:yield l("modal.comments-history.export.excel.filter.report"),value:this.report.title},{label:yield l("modal.comments-history.export.excel.filter.preview"),value:this.report.name},{label:yield l("modal.comments-history.export.excel.filter.vin"),value:this.vin}];this.commentsGrid.exportDataAsXls(e,t)}))}initForm(){this.form=this.fb.group({text:["",[sl.D.required]]})}}var pl=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;min-width:500px;max-width:100%}.resize-active   [_nghost-%COMP%], .resized   [_nghost-%COMP%]{min-width:initial}[_nghost-%COMP%]   .c__table[_ngcontent-%COMP%]{display:block}"]],data:{}});function ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-loader",[],[[8,"className",0]],null,null,h.b,h.a)),t["\u0275did"](1,49152,null,0,g.a,[],null,null)],null,(function(l,n){l(n,0,0,t["\u0275nov"](n,1).cssClassByType)}))}function fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","small-12 medium-6 column text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"button",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.exportData()&&t),t}),null,null)),(l()(),t["\u0275eld"](2,16777216,null,null,2,"i",[["class","material-icons"],["tooltipTheme","dark-auto"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var o=!0;return"focusin"===n&&(o=!1!==t["\u0275nov"](l,3).show()&&o),"mouseenter"===n&&(o=!1!==t["\u0275nov"](l,3).show()&&o),"focusout"===n&&(o=!1!==t["\u0275nov"](l,3).hide()&&o),"mouseleave"===n&&(o=!1!==t["\u0275nov"](l,3).hide()&&o),o}),null,null)),t["\u0275did"](3,147456,null,0,R.a,[t.ViewContainerRef,t.ComponentFactoryResolver,t.ChangeDetectorRef,O.b],{content:[0,"content"],tooltipTheme:[1,"tooltipTheme"]},null),(l()(),t["\u0275ted"](-1,null,["file_download"])),(l()(),t["\u0275eld"](5,0,null,null,4,"app-tooltip-content",[["style","width:75px"]],[[1,"role",0],[8,"className",0],[2,"tooltip--with-header",null],[4,"top","px"],[4,"left","px"],[2,"in",null],[2,"fade",null]],[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var o=!0;return"focusin"===n&&(o=!1!==t["\u0275nov"](l,7).mouseIn()&&o),"mouseenter"===n&&(o=!1!==t["\u0275nov"](l,7).mouseIn()&&o),"focusout"===n&&(o=!1!==t["\u0275nov"](l,7).mouseOut()&&o),"mouseleave"===n&&(o=!1!==t["\u0275nov"](l,7).mouseOut()&&o),o}),f.c,f.a)),t["\u0275prd"](512,null,T.a,T.a,[O.b]),t["\u0275did"](7,4440064,[["tooltipUnits",4]],0,P.a,[t.ElementRef,T.a,k.a,U.d,t.Renderer2,t.ChangeDetectorRef,O.b],null,null),(l()(),t["\u0275ted"](8,1,[" "," "])),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef])],(function(l,n){l(n,3,0,t["\u0275nov"](n,7),"dark-auto"),l(n,7,0)}),(function(l,n){l(n,5,0,t["\u0275nov"](n,7).role,t["\u0275nov"](n,7).hostClass,t["\u0275nov"](n,7).withHeader,t["\u0275nov"](n,7).top,t["\u0275nov"](n,7).left,t["\u0275nov"](n,7).isIn,t["\u0275nov"](n,7).isFade),l(n,8,0,t["\u0275unv"](n,8,0,t["\u0275nov"](n,9).transform("header-icons.download-excel")))}))}function hl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","small-12 medium-6 column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["",":"])),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](5,null,[" ",""])),(l()(),t["\u0275and"](16777216,null,null,1,null,fl)),t["\u0275did"](7,16384,null,0,U.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,7,0,null==e.currentUser?null:e.currentUser.isExportExcelAvailable)}),(function(l,n){var e=n.component;l(n,3,0,t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform("modal.comments-history.label.vin"))),l(n,5,0,e.vin)}))}function gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class",""],["style","height: 200px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"app-default-grid",[["style","height: 100%; width: 100%;"]],null,null,null,M.b,M.a)),t["\u0275prd"](512,null,q.a,q.a,[F.a,E.a,A.a,x.j,N.a]),t["\u0275did"](3,4964352,[[1,4],["commentsGrid",4]],0,S.a,[j.a,q.a,L.a,V.a,G.a,O.b,Y.a],{data:[0,"data"],columns:[1,"columns"],customGridOptions:[2,"customGridOptions"]},null)],(function(l,n){var e=n.component;l(n,3,0,e.comments.data,e.comments.header,e.comments.option)}),null)}function vl(l){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{commentsGrid:0}),(l()(),t["\u0275and"](16777216,null,null,1,null,ml)),t["\u0275did"](2,16384,null,0,U.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,hl)),t["\u0275did"](4,16384,null,0,U.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,gl)),t["\u0275did"](6,16384,null,0,U.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](7,0,null,null,18,"form",[["class","add-comment-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,e){var o=!0,a=l.component;return"submit"===n&&(o=!1!==t["\u0275nov"](l,9).onSubmit(e)&&o),"reset"===n&&(o=!1!==t["\u0275nov"](l,9).onReset()&&o),"ngSubmit"===n&&(o=!1!==a.onSubmitAddComment(a.form.value)&&o),o}),null,null)),t["\u0275did"](8,16384,null,0,sl.I,[],null,null),t["\u0275did"](9,540672,null,0,sl.k,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,sl.d,null,[sl.k]),t["\u0275did"](11,16384,null,0,sl.t,[[4,sl.d]],null,null),(l()(),t["\u0275eld"](12,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,2,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](14,null,["",":"])),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](16,0,null,null,5,"textarea",[["class","form-control"],["formControlName","text"],["name",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t["\u0275nov"](l,17)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t["\u0275nov"](l,17).onTouched()&&o),"compositionstart"===n&&(o=!1!==t["\u0275nov"](l,17)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t["\u0275nov"](l,17)._compositionEnd(e.target.value)&&o),o}),null,null)),t["\u0275did"](17,16384,null,0,sl.e,[t.Renderer2,t.ElementRef,[2,sl.a]],null,null),t["\u0275prd"](1024,null,sl.q,(function(l){return[l]}),[sl.e]),t["\u0275did"](19,671744,null,0,sl.i,[[3,sl.d],[8,null],[8,null],[6,sl.q],[2,sl.G]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,sl.r,null,[sl.i]),t["\u0275did"](21,16384,null,0,sl.s,[[4,sl.r]],null,null),(l()(),t["\u0275eld"](22,0,null,null,3,"div",[["class","submit-wrapper"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,2,"button",[["class","btn btn--primary"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),t["\u0275ted"](24,null,["",""])),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,2,0,e.loading),l(n,4,0,!e.loading),l(n,6,0,!e.loading),l(n,9,0,e.form),l(n,19,0,"text")}),(function(l,n){var e=n.component;l(n,7,0,t["\u0275nov"](n,11).ngClassUntouched,t["\u0275nov"](n,11).ngClassTouched,t["\u0275nov"](n,11).ngClassPristine,t["\u0275nov"](n,11).ngClassDirty,t["\u0275nov"](n,11).ngClassValid,t["\u0275nov"](n,11).ngClassInvalid,t["\u0275nov"](n,11).ngClassPending),l(n,14,0,t["\u0275unv"](n,14,0,t["\u0275nov"](n,15).transform("modal.comments-history.form.field.comment-text.name"))),l(n,16,0,t["\u0275nov"](n,21).ngClassUntouched,t["\u0275nov"](n,21).ngClassTouched,t["\u0275nov"](n,21).ngClassPristine,t["\u0275nov"](n,21).ngClassDirty,t["\u0275nov"](n,21).ngClassValid,t["\u0275nov"](n,21).ngClassInvalid,t["\u0275nov"](n,21).ngClassPending),l(n,23,0,e.form.invalid),l(n,24,0,t["\u0275unv"](n,24,0,t["\u0275nov"](n,25).transform("modal.comments-history.form.button.submit.name")))}))}var bl=e("1Elx"),Cl=(e("f7ga"),e("B+uT"));e("pFkP");class wl{constructor(l,n,e,t,o,a,i,r){this.floorPlanApi=l,this.agGridPdf=n,this.excel=e,this.tracking=t,this.translate=o,this.dialog=a,this.session=i,this.formatNumber=r,this.uploadId=0,this.rowData=[],this.columnDefs=[],this.loading=!1,this.selectedUploadInfo={},this.gridOptions={defaultColDef:{filter:!0,sortable:!0,resizable:!0},suppressMultiSort:!1,animateRows:!0},this.summary=[],this.activeTab=0,this.debitsAmount=0,this.creditsAmount=0,this.differencesAmount=0,this.b1={},this.b2={},this.b3={},this.rowViewData1=[],this.columnViewDefs1=[],this.rowViewData2=[],this.columnViewDefs2=[],this.rowViewData3=[],this.columnViewDefs3=[],this.vin="",this.commentsLoading=!1,this.rowCommentsData=[],this.columnCommentsDefs=[],this.creditIndexes=["0","1000","1005"],this.differenceIndexes=["1001"],this.dateFields=["createdDate","commentTime","Days","GLdate"],this.subs=[]}set sub(l){this.subs.push(l)}ngOnInit(){this.currentUser=this.session.getCurrentUser(),this.reportTitle=this.translate.instant("header.title")}ngOnChanges(){this.viewReport()}viewReport(){this.loading=!0,this.selectedUploadInfo=this.uploadInfo,this.summary=[],this.sub=this.floorPlanApi.getUpload(this.uploadId).pipe(Object(B.a)(()=>this.loading=!1)).subscribe(l=>z.__awaiter(this,void 0,void 0,(function*(){l.b0.data.forEach(l=>{let n;n=this.creditIndexes.indexOf(l.Indx)>-1?{title:l.ld,credit:this.formatNumber.formatValue(l.amt,!1,!1),debit:"",difference:""}:this.differenceIndexes.indexOf(l.Indx)>-1?{title:l.ld,credit:"",debit:"",difference:this.formatNumber.formatValue(l.amt,!1,!1)}:{title:l.ld,credit:"",debit:this.formatNumber.formatValue(l.amt,!1,!1),difference:""},this.summary.push(n)}),this.debitsAmount=l.b1.data.length,this.creditsAmount=l.b2.data.length,this.differencesAmount=l.b3.data.length,this.b1=l.b1,this.b2=l.b2,this.b3=l.b3,this.rowViewData1=this.getFormattedData(this.b1.data),this.columnViewDefs1=this.getColumnDefs(this.b1.labels,this.b1.segments.base),this.rowViewData2=this.getFormattedData(this.b2.data),this.columnViewDefs2=this.getColumnDefs(this.b2.labels,this.b2.segments.base),this.rowViewData3=this.getFormattedData(this.b3.data),this.columnViewDefs3=this.getColumnDefs(this.b3.labels,this.b3.segments.base),this.trackAction(H.a.Load,H.d.Details,yield this.getTrackingParams())})),l=>console.log(l))}changeTab(l=1){this.activeTab!==l&&(this.activeTab=l)}ngOnDestroy(){this.subs.forEach(l=>l.unsubscribe())}onCellClicked(l){this.vin=l.data.VehSerialN,this.commentsListModal.showModal(),this.commentsLoading=!0,this.sub=this.floorPlanApi.getComments(this.vin).pipe(Object(B.a)(()=>this.commentsLoading=!1)).subscribe(l=>{this.rowCommentsData=this.getFormattedData(l.data),this.columnCommentsDefs=this.getColumnDefs(l.labels,l.segments)},l=>this.dialog.alert(l.message))}onCommentsListInit(l){this.commentsListModal=l}onCommentAdd(l){let n;this.commentsLoading=!0,this.floorPlanApi.addComment(l.vin,l.text).pipe(Object(B.a)(()=>this.commentsLoading=!1)).subscribe(()=>{n={commentIndex:null,comments:l.text,commentTime:X().format("YYYY-MM-DD HH:mm"),userName:this.currentUser.user_name},this.rowCommentsData=[n,...this.rowCommentsData],this.commentsList.reset()},l=>this.dialog.alert(l.message))}detailsExcelExport(){return z.__awaiter(this,void 0,void 0,(function*(){const l=X().format("MM-DD-YYYY"),n=this.reportTitle+"-"+this.selectedUploadInfo.reportName+"-"+l,e={processCellCallback:l=>l.value,suppressTextAsCDATA:!0},t=this.info1Grid.agGrid.api.getDataAsExcel(e),o=this.info2Grid.agGrid.api.getDataAsExcel(e),a=this.info3Grid.agGrid.api.getDataAsExcel(e),i=t.search(/<Row>(?:.|\s)+?<\/Row>/),r=o.search(/<Row>(?:.|\s)+?<\/Row>/),d=a.search(/<Row>(?:.|\s)+?<\/Row>/),u=t.search(/<\/Table>/),s=o.search(/<\/Table>/),c=a.search(/<\/Table>/),p=this.rowTag(""),m=this.rowTag(this.cellTag(this.dataTag("Report Name:"))+this.cellTag(this.dataTag(this.selectedUploadInfo.reportName)))+this.rowTag(this.cellTag(this.dataTag("Store Name:"))+this.cellTag(this.dataTag(this.selectedUploadInfo.storeName)))+this.rowTag(this.cellTag(this.dataTag("Report date:"))+this.cellTag(this.dataTag(this.selectedUploadInfo.reportDate))),f=this.rowTag(this.cellTag(this.dataTag("Statement And GL Do Not Match: Count: ".concat(this.debitsAmount)))),h=this.rowTag(this.cellTag(this.dataTag("On GL, Not On Statement: Count: ".concat(this.creditsAmount)))),g=this.rowTag(this.cellTag(this.dataTag("On Statement, Not GL Total: Count: ".concat(this.differencesAmount))));let v="";this.summary.forEach(l=>{v+=this.rowTag(this.cellTag(this.dataTag(l.title))+this.cellTag(this.dataTag(l.debit))+this.cellTag(this.dataTag(l.credit))+this.cellTag(this.dataTag(l.difference)))});const b=t.slice(0,i)+m+p+v+p+f+t.slice(i,u)+p+h+o.slice(r,s)+p+g+a.slice(d,c)+"</Table></Worksheet></Workbook>";(new Cl.a).download("".concat(n,".xls"),new Blob([b],{type:"application/vnd.ms-excel"})),this.trackAction(H.a.ExportXls,H.d.Details,yield this.getTrackingParams())}))}rowTag(l){return"<Row>".concat(l,"</Row>")}cellTag(l){return"<Cell>".concat(l,"</Cell>")}dataTag(l,n="String"){return'<Data ss:Type="'.concat(n,'">').concat(l,"</Data>")}trackAction(l,n,e,t){this.tracking.log({page:H.b.CustomReports,section:"Floor Plan Preview",subSection:n,event:l||H.a.Load,params:e,grid:t})}getTrackingParams(){return z.__awaiter(this,void 0,void 0,(function*(){const l=(l,n)=>this.translate.get(l,n).toPromise();return[{label:yield l("body.details.label.report-name"),value:this.selectedUploadInfo.reportName},{label:yield l("body.details.label.store-name"),value:this.selectedUploadInfo.storeName},{label:yield l("body.details.label.report-date"),value:this.selectedUploadInfo.reportDate}]}))}getColumnDefs(l,n){const e=[];return l.length>0&&l.forEach(l=>{for(const t of Object.keys(l)){let o;o=l[t].toString().toLowerCase().indexOf("amt")>=0||l[t].toString().toLowerCase().indexOf("year")>=0?Z.c.NumberRange:Z.c.String;const a=this.translate.instant("grid.column.caption."+l[t].toString().toLowerCase());n.indexOf(t)>-1&&e.push(new Z.a({field:t,name:a,minWidth:150,filter:o}))}}),e}getFormattedData(l){if(l.length>0){let n=[];for(const e of l)for(const l of Object.keys(e)){const t=e[l];Array.isArray(t)?(e[l+"|total"]=t[0],e[l]=this.formatNumber.formatValue(t,!1,!1),n.push({field:l})):this.dateFields.indexOf(l)>-1&&(e[l]=X(t).format("YYYY-MM-DD HH:mm"))}n=n.map(n=>n=Object.assign({},n,{total:l.reduce((l,e)=>l+ +e[n.field+"|total"],0)})),l.push(n.reduce((l,n)=>Object.assign({},l,{[n.field]:this.formatNumber.formatValue([n.total,"$"],!1,!1)}),{VehSerialN:"Totals"}))}return l}}var xl=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{box-sizing:border-box;display:block;height:100%}  .mat-tab-body-wrapper{flex-grow:1;padding:10px}  .mat-tab-header{background-color:#004e9a!important}app-default-grid[_ngcontent-%COMP%]{height:80%;width:100%}.header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between}.c__table[_ngcontent-%COMP%]{height:calc(100vh - 150px);width:100%}#tab-group[_ngcontent-%COMP%]{height:100%}#tab-group[_ngcontent-%COMP%]   mat-tab-body[_ngcontent-%COMP%]{flex-grow:1}"]],data:{}});function _l(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"tr",[["class","c__table-row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"td",[["class","c__table-cell"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,1,"td",[["class","c__table-cell"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275eld"](5,0,null,null,1,"td",[["class","c__table-cell"]],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,null,1,"td",[["class","c__table-cell"]],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""]))],null,(function(l,n){l(n,2,0,n.context.$implicit.title),l(n,4,0,n.context.$implicit.debit),l(n,6,0,n.context.$implicit.credit),l(n,8,0,n.context.$implicit.difference)}))}function yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","content__section_body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","section-loader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"app-loader",[],[[8,"className",0]],null,null,h.b,h.a)),t["\u0275did"](3,49152,null,0,g.a,[],null,null)],null,(function(l,n){l(n,2,0,t["\u0275nov"](n,3).cssClassByType)}))}function Il(l){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{info1Grid:0}),t["\u0275qud"](402653184,2,{info2Grid:0}),t["\u0275qud"](402653184,3,{info3Grid:0}),t["\u0275qud"](402653184,4,{commentsList:0}),(l()(),t["\u0275eld"](4,0,null,null,49,"div",[["class","c__table"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,48,"mat-tab-group",[["class","mat-tab-group"],["id","tab-group"]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],null,null,nl.d,nl.b)),t["\u0275did"](6,3325952,null,1,el.f,[t.ElementRef,t.ChangeDetectorRef,[2,el.a],[2,w.a]],{color:[0,"color"],backgroundColor:[1,"backgroundColor"]},null),t["\u0275qud"](603979776,5,{_tabs:1}),(l()(),t["\u0275eld"](8,16777216,null,null,12,"mat-tab",[],null,null,null,nl.f,nl.a)),t["\u0275did"](9,770048,[[5,4]],2,el.c,[t.ViewContainerRef],{textLabel:[0,"textLabel"]},null),t["\u0275qud"](603979776,6,{templateLabel:0}),t["\u0275qud"](335544320,7,{_explicitContent:0}),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](13,0,null,0,1,"app-reportdetails-info",[],null,[[null,"onExport"]],(function(l,n,e){var t=!0;return"onExport"===n&&(t=!1!==l.component.detailsExcelExport()&&t),t}),il,ol)),t["\u0275did"](14,49152,null,0,tl,[],{selectedUploadInfo:[0,"selectedUploadInfo"],exportXls:[1,"exportXls"]},{onExport:"onExport"}),(l()(),t["\u0275eld"](15,0,null,0,3,"table",[["class","docs-table"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,_l)),t["\u0275did"](18,278528,null,0,U.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,yl)),t["\u0275did"](20,16384,null,0,U.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](21,16777216,null,null,10,"mat-tab",[],null,null,null,nl.f,nl.a)),t["\u0275did"](22,770048,[[5,4]],2,el.c,[t.ViewContainerRef],{textLabel:[0,"textLabel"]},null),t["\u0275qud"](603979776,8,{templateLabel:0}),t["\u0275qud"](335544320,9,{_explicitContent:0}),t["\u0275pod"](25,{debitsAmount:0}),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](27,0,null,0,1,"app-reportdetails-info",[],null,[[null,"onExport"]],(function(l,n,e){var t=!0;return"onExport"===n&&(t=!1!==l.component.detailsExcelExport()&&t),t}),il,ol)),t["\u0275did"](28,49152,null,0,tl,[],{selectedUploadInfo:[0,"selectedUploadInfo"],exportXls:[1,"exportXls"]},{onExport:"onExport"}),(l()(),t["\u0275eld"](29,0,null,0,2,"app-default-grid",[],null,[[null,"cellClick"]],(function(l,n,e){var t=!0;return"cellClick"===n&&(t=!1!==l.component.onCellClicked(e)&&t),t}),M.b,M.a)),t["\u0275prd"](512,null,q.a,q.a,[F.a,E.a,A.a,x.j,N.a]),t["\u0275did"](31,4964352,[[1,4],["showInfo1",4]],0,S.a,[j.a,q.a,L.a,V.a,G.a,O.b,Y.a],{data:[0,"data"],columns:[1,"columns"],customGridOptions:[2,"customGridOptions"]},{cellClick:"cellClick"}),(l()(),t["\u0275eld"](32,16777216,null,null,10,"mat-tab",[],null,null,null,nl.f,nl.a)),t["\u0275did"](33,770048,[[5,4]],2,el.c,[t.ViewContainerRef],{textLabel:[0,"textLabel"]},null),t["\u0275qud"](603979776,10,{templateLabel:0}),t["\u0275qud"](335544320,11,{_explicitContent:0}),t["\u0275pod"](36,{creditsAmount:0}),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](38,0,null,0,1,"app-reportdetails-info",[],null,[[null,"onExport"]],(function(l,n,e){var t=!0;return"onExport"===n&&(t=!1!==l.component.detailsExcelExport()&&t),t}),il,ol)),t["\u0275did"](39,49152,null,0,tl,[],{selectedUploadInfo:[0,"selectedUploadInfo"],exportXls:[1,"exportXls"]},{onExport:"onExport"}),(l()(),t["\u0275eld"](40,0,null,0,2,"app-default-grid",[],null,[[null,"cellClick"]],(function(l,n,e){var t=!0;return"cellClick"===n&&(t=!1!==l.component.onCellClicked(e)&&t),t}),M.b,M.a)),t["\u0275prd"](512,null,q.a,q.a,[F.a,E.a,A.a,x.j,N.a]),t["\u0275did"](42,4964352,[[2,4],["showInfo2",4]],0,S.a,[j.a,q.a,L.a,V.a,G.a,O.b,Y.a],{data:[0,"data"],columns:[1,"columns"],customGridOptions:[2,"customGridOptions"]},{cellClick:"cellClick"}),(l()(),t["\u0275eld"](43,16777216,null,null,10,"mat-tab",[],null,null,null,nl.f,nl.a)),t["\u0275did"](44,770048,[[5,4]],2,el.c,[t.ViewContainerRef],{textLabel:[0,"textLabel"]},null),t["\u0275qud"](603979776,12,{templateLabel:0}),t["\u0275qud"](335544320,13,{_explicitContent:0}),t["\u0275pod"](47,{differencesAmount:0}),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](49,0,null,0,1,"app-reportdetails-info",[],null,[[null,"onExport"]],(function(l,n,e){var t=!0;return"onExport"===n&&(t=!1!==l.component.detailsExcelExport()&&t),t}),il,ol)),t["\u0275did"](50,49152,null,0,tl,[],{selectedUploadInfo:[0,"selectedUploadInfo"],exportXls:[1,"exportXls"]},{onExport:"onExport"}),(l()(),t["\u0275eld"](51,0,null,0,2,"app-default-grid",[],null,[[null,"cellClick"]],(function(l,n,e){var t=!0;return"cellClick"===n&&(t=!1!==l.component.onCellClicked(e)&&t),t}),M.b,M.a)),t["\u0275prd"](512,null,q.a,q.a,[F.a,E.a,A.a,x.j,N.a]),t["\u0275did"](53,4964352,[[3,4],["showInfo3",4]],0,S.a,[j.a,q.a,L.a,V.a,G.a,O.b,Y.a],{data:[0,"data"],columns:[1,"columns"],customGridOptions:[2,"customGridOptions"]},{cellClick:"cellClick"}),(l()(),t["\u0275eld"](54,0,null,null,7,"app-modal",[["class","modal-comments-list"]],null,[[null,"onInit"]],(function(l,n,e){var t=!0;return"onInit"===n&&(t=!1!==l.component.onCommentsListInit(e)&&t),t}),rl.b,rl.a)),t["\u0275prd"](512,null,dl.a,dl.a,[O.b]),t["\u0275did"](56,1228800,[["modalCommentsList",4]],0,ul.a,[dl.a,U.d,t.ElementRef,t.Renderer2,O.b],{modalTitle:[0,"modalTitle"]},{onInit:"onInit"}),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](58,0,null,0,3,"comments-list",[],null,[[null,"comment"]],(function(l,n,e){var t=!0;return"comment"===n&&(t=!1!==l.component.onCommentAdd(e)&&t),t}),vl,pl)),t["\u0275did"](59,114688,[[4,4],["commentsList",4]],0,cl,[sl.f,Y.a,G.a,x.j],{loading:[0,"loading"],vin:[1,"vin"],comments:[2,"comments"],report:[3,"report"]},{comment:"comment"}),t["\u0275pod"](60,{data:0,header:1,option:2}),t["\u0275pod"](61,{title:0,name:1})],(function(l,n){var e=n.component;l(n,6,0,"primary","primary"),l(n,9,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,9,0,t["\u0275nov"](n,12).transform("body.details.button.summary")),"")),l(n,14,0,e.selectedUploadInfo,null==e.currentUser?null:e.currentUser.isExportExcelAvailable),l(n,18,0,e.summary),l(n,20,0,e.loading);var o=t["\u0275inlineInterpolate"](1," ",t["\u0275unv"](n,22,0,t["\u0275nov"](n,26).transform("body.details.button.debits-amount",l(n,25,0,e.debitsAmount))),"");l(n,22,0,o),l(n,28,0,e.selectedUploadInfo,null==e.currentUser?null:e.currentUser.isExportExcelAvailable),l(n,31,0,e.rowViewData1,e.columnViewDefs1,e.gridOptions);var a=t["\u0275inlineInterpolate"](1," ",t["\u0275unv"](n,33,0,t["\u0275nov"](n,37).transform("body.details.button.credits-amount",l(n,36,0,e.creditsAmount))),"");l(n,33,0,a),l(n,39,0,e.selectedUploadInfo,null==e.currentUser?null:e.currentUser.isExportExcelAvailable),l(n,42,0,e.rowViewData2,e.columnViewDefs2,e.gridOptions);var i=t["\u0275inlineInterpolate"](1," ",t["\u0275unv"](n,44,0,t["\u0275nov"](n,48).transform("body.details.button.differences-amount",l(n,47,0,e.differencesAmount))),"");l(n,44,0,i),l(n,50,0,e.selectedUploadInfo,null==e.currentUser?null:e.currentUser.isExportExcelAvailable),l(n,53,0,e.rowViewData3,e.columnViewDefs3,e.gridOptions),l(n,56,0,t["\u0275unv"](n,56,0,t["\u0275nov"](n,57).transform("modal.comments-history.caption")));var r=e.commentsLoading,d=e.vin,u=l(n,60,0,e.rowCommentsData,e.columnCommentsDefs,e.gridOptions),s=l(n,61,0,e.reportTitle,e.selectedUploadInfo.reportName);l(n,59,0,r,d,u,s)}),(function(l,n){l(n,5,0,t["\u0275nov"](n,6).dynamicHeight,"below"===t["\u0275nov"](n,6).headerPosition)}))}var Dl=e("uNm5"),Rl=e("5uTj"),Ol=e("JA3b"),Ul=e("JItt"),Tl=e("MlvX"),Pl=e("Xd0L"),kl=e("dJrM"),Ml=e("HsOI"),ql=e("IP0z"),Fl=e("/HVE"),El=e("Azqq"),Al=e("JjoW"),Nl=e("hOhj"),Sl=e("ZwOa"),jl=e("oapL"),Ll=e("fFD9"),Vl=e("XpwZ");class Gl{constructor(l,n,e,o,a){this.fb=l,this.session=n,this.coreCache=e,this.instanceAppSettingsApi=o,this.dialog=a,this.loading=!1,this.months=[],this.addUpload=new t.EventEmitter,this.onClose=new t.EventEmitter,this.fileData="",this.fileLoaded=!1,this.uploadFormats=[{id:1,name:"modal.upload-csv.form.field.select-format.item.general"}],this.stores=[],this.instanceSettings=Vl.b,this.subs=[]}set sub(l){this.subs.push(l)}ngOnInit(){this.initForm(),this.sub=this.session.currentUser$.pipe(Object(Ll.a)(this.instanceAppSettingsApi.settings$,this.coreCache.storesById$)).subscribe(([l,n,e])=>{this.instanceSettings=n,this.stores=[];for(const t of l.stores){const l=e.get(+t.StoreID);this.stores.push(l)}})}ngOnDestroy(){this.subs.forEach(l=>l.unsubscribe())}onSubmitUpload(l){this.addUpload.emit({format:l.formatId,fileData:this.fileData,reportName:l.reportName,dateIndex:l.maxDate,storeId:l.storeId})}onChange(l){this.fileLoaded=!1;const n=l.target.files;if(0!==l.target.files.length){if("application/vnd.ms-excel"!==n[0].type)return this.dialog.error("Invalid file type"),this.fileData=null,this.fileLoaded=!1,void(l.target.value="");if(n.length>0){const l=new FileReader;l.onload=()=>{this.fileData=l.result,this.fileLoaded=!0},l.readAsDataURL(n[0])}}}onCancel(){this.onClose.emit()}initForm(){this.form=this.fb.group({storeId:["",[sl.D.required]],formatId:["",[sl.D.required]],maxDate:["",[sl.D.required]],reportName:["",[sl.D.required]]})}}var Yl=e("yK5/"),zl=t["\u0275crt"]({encapsulation:0,styles:[[".floor-plan-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;width:125px}mat-form-field[_ngcontent-%COMP%]{margin:0 10px}.file[_ngcontent-%COMP%]{width:100%;border:none;padding:0}.rightColumn[_ngcontent-%COMP%]{float:right}.filecontainer[_ngcontent-%COMP%]{display:inline-flex;padding-left:25px}"]],data:{}});function Bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-loader",[],[[8,"className",0]],null,null,h.b,h.a)),t["\u0275did"](1,49152,null,0,g.a,[],null,null)],null,(function(l,n){l(n,0,0,t["\u0275nov"](n,1).cssClassByType)}))}function Xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(l,n,e){var o=!0;return"click"===n&&(o=!1!==t["\u0275nov"](l,1)._selectViaInteraction()&&o),"keydown"===n&&(o=!1!==t["\u0275nov"](l,1)._handleKeydown(e)&&o),o}),Tl.b,Tl.a)),t["\u0275did"](1,8568832,[[10,4]],0,Pl.p,[t.ElementRef,t.ChangeDetectorRef,[2,Pl.j],[2,Pl.o]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](2,0,["",""]))],(function(l,n){l(n,1,0,n.context.$implicit.id)}),(function(l,n){var e=n.component;l(n,0,0,t["\u0275nov"](n,1)._getTabIndex(),t["\u0275nov"](n,1).selected,t["\u0275nov"](n,1).multiple,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).id,t["\u0275nov"](n,1)._getAriaSelected(),t["\u0275nov"](n,1).disabled.toString(),t["\u0275nov"](n,1).disabled),l(n,2,0,n.context.$implicit[e.instanceSettings.storeNameType])}))}function Hl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(l,n,e){var o=!0;return"click"===n&&(o=!1!==t["\u0275nov"](l,1)._selectViaInteraction()&&o),"keydown"===n&&(o=!1!==t["\u0275nov"](l,1)._handleKeydown(e)&&o),o}),Tl.b,Tl.a)),t["\u0275did"](1,8568832,[[22,4]],0,Pl.p,[t.ElementRef,t.ChangeDetectorRef,[2,Pl.j],[2,Pl.o]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](2,0,["",""])),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,n.context.$implicit.id)}),(function(l,n){l(n,0,0,t["\u0275nov"](n,1)._getTabIndex(),t["\u0275nov"](n,1).selected,t["\u0275nov"](n,1).multiple,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).id,t["\u0275nov"](n,1)._getAriaSelected(),t["\u0275nov"](n,1).disabled.toString(),t["\u0275nov"](n,1).disabled),l(n,2,0,t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform(n.context.$implicit.name)))}))}function Zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(l,n,e){var o=!0;return"click"===n&&(o=!1!==t["\u0275nov"](l,1)._selectViaInteraction()&&o),"keydown"===n&&(o=!1!==t["\u0275nov"](l,1)._handleKeydown(e)&&o),o}),Tl.b,Tl.a)),t["\u0275did"](1,8568832,[[34,4]],0,Pl.p,[t.ElementRef,t.ChangeDetectorRef,[2,Pl.j],[2,Pl.o]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](2,0,["",""]))],(function(l,n){l(n,1,0,n.context.$implicit.dateindex)}),(function(l,n){l(n,0,0,t["\u0275nov"](n,1)._getTabIndex(),t["\u0275nov"](n,1).selected,t["\u0275nov"](n,1).multiple,t["\u0275nov"](n,1).active,t["\u0275nov"](n,1).id,t["\u0275nov"](n,1)._getAriaSelected(),t["\u0275nov"](n,1).disabled.toString(),t["\u0275nov"](n,1).disabled),l(n,2,0,n.context.$implicit.label)}))}function $l(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,128,"form",[["class","floor-plan-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,e){var o=!0,a=l.component;return"submit"===n&&(o=!1!==t["\u0275nov"](l,2).onSubmit(e)&&o),"reset"===n&&(o=!1!==t["\u0275nov"](l,2).onReset()&&o),"ngSubmit"===n&&(o=!1!==a.onSubmitUpload(a.form.value)&&o),o}),null,null)),t["\u0275did"](1,16384,null,0,sl.I,[],null,null),t["\u0275did"](2,540672,null,0,sl.k,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,sl.d,null,[sl.k]),t["\u0275did"](4,16384,null,0,sl.t,[[4,sl.d]],null,null),(l()(),t["\u0275eld"](5,0,null,null,54,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,53,"div",[["class","small-12 column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,52,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,25,"mat-form-field",[["class","filter-group-item mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,kl.b,kl.a)),t["\u0275did"](9,7520256,null,9,Ml.c,[t.ElementRef,t.ChangeDetectorRef,[2,Pl.h],[2,ql.b],[2,Ml.a],Fl.a,t.NgZone,[2,w.a]],null,null),t["\u0275qud"](603979776,1,{_controlNonStatic:0}),t["\u0275qud"](335544320,2,{_controlStatic:0}),t["\u0275qud"](603979776,3,{_labelChildNonStatic:0}),t["\u0275qud"](335544320,4,{_labelChildStatic:0}),t["\u0275qud"](603979776,5,{_placeholderChild:0}),t["\u0275qud"](603979776,6,{_errorChildren:1}),t["\u0275qud"](603979776,7,{_hintChildren:1}),t["\u0275qud"](603979776,8,{_prefixChildren:1}),t["\u0275qud"](603979776,9,{_suffixChildren:1}),(l()(),t["\u0275eld"](19,0,null,1,14,"mat-select",[["class","mat-select"],["formControlName","storeId"],["required",""],["role","listbox"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"keydown"],[null,"focus"],[null,"blur"]],(function(l,n,e){var o=!0;return"keydown"===n&&(o=!1!==t["\u0275nov"](l,26)._handleKeydown(e)&&o),"focus"===n&&(o=!1!==t["\u0275nov"](l,26)._onFocus()&&o),"blur"===n&&(o=!1!==t["\u0275nov"](l,26)._onBlur()&&o),o}),El.b,El.a)),t["\u0275prd"](6144,null,Pl.j,null,[Al.c]),t["\u0275did"](21,16384,null,0,sl.B,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,sl.p,(function(l){return[l]}),[sl.B]),t["\u0275did"](23,671744,null,0,sl.i,[[3,sl.d],[6,sl.p],[8,null],[8,null],[2,sl.G]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,sl.r,null,[sl.i]),t["\u0275did"](25,16384,null,0,sl.s,[[4,sl.r]],null,null),t["\u0275did"](26,2080768,null,3,Al.c,[Nl.i,t.ChangeDetectorRef,t.NgZone,Pl.b,t.ElementRef,[2,ql.b],[2,sl.u],[2,sl.k],[2,Ml.c],[6,sl.r],[8,null],Al.a,C.j],{placeholder:[0,"placeholder"],required:[1,"required"]},null),t["\u0275qud"](603979776,10,{options:1}),t["\u0275qud"](603979776,11,{optionGroups:1}),t["\u0275qud"](603979776,12,{customTrigger:0}),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),t["\u0275prd"](2048,[[1,4],[2,4]],Ml.d,null,[Al.c]),(l()(),t["\u0275and"](16777216,null,1,1,null,Xl)),t["\u0275did"](33,278528,null,0,U.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](34,0,null,null,25,"mat-form-field",[["class","filter-group-item mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,kl.b,kl.a)),t["\u0275did"](35,7520256,null,9,Ml.c,[t.ElementRef,t.ChangeDetectorRef,[2,Pl.h],[2,ql.b],[2,Ml.a],Fl.a,t.NgZone,[2,w.a]],null,null),t["\u0275qud"](603979776,13,{_controlNonStatic:0}),t["\u0275qud"](335544320,14,{_controlStatic:0}),t["\u0275qud"](603979776,15,{_labelChildNonStatic:0}),t["\u0275qud"](335544320,16,{_labelChildStatic:0}),t["\u0275qud"](603979776,17,{_placeholderChild:0}),t["\u0275qud"](603979776,18,{_errorChildren:1}),t["\u0275qud"](603979776,19,{_hintChildren:1}),t["\u0275qud"](603979776,20,{_prefixChildren:1}),t["\u0275qud"](603979776,21,{_suffixChildren:1}),(l()(),t["\u0275eld"](45,0,null,1,14,"mat-select",[["class","mat-select"],["formControlName","formatId"],["required",""],["role","listbox"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"keydown"],[null,"focus"],[null,"blur"]],(function(l,n,e){var o=!0;return"keydown"===n&&(o=!1!==t["\u0275nov"](l,52)._handleKeydown(e)&&o),"focus"===n&&(o=!1!==t["\u0275nov"](l,52)._onFocus()&&o),"blur"===n&&(o=!1!==t["\u0275nov"](l,52)._onBlur()&&o),o}),El.b,El.a)),t["\u0275prd"](6144,null,Pl.j,null,[Al.c]),t["\u0275did"](47,16384,null,0,sl.B,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,sl.p,(function(l){return[l]}),[sl.B]),t["\u0275did"](49,671744,null,0,sl.i,[[3,sl.d],[6,sl.p],[8,null],[8,null],[2,sl.G]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,sl.r,null,[sl.i]),t["\u0275did"](51,16384,null,0,sl.s,[[4,sl.r]],null,null),t["\u0275did"](52,2080768,null,3,Al.c,[Nl.i,t.ChangeDetectorRef,t.NgZone,Pl.b,t.ElementRef,[2,ql.b],[2,sl.u],[2,sl.k],[2,Ml.c],[6,sl.r],[8,null],Al.a,C.j],{placeholder:[0,"placeholder"],required:[1,"required"]},null),t["\u0275qud"](603979776,22,{options:1}),t["\u0275qud"](603979776,23,{optionGroups:1}),t["\u0275qud"](603979776,24,{customTrigger:0}),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),t["\u0275prd"](2048,[[13,4],[14,4]],Ml.d,null,[Al.c]),(l()(),t["\u0275and"](16777216,null,1,1,null,Hl)),t["\u0275did"](59,278528,null,0,U.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](60,0,null,null,50,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](61,0,null,null,49,"div",[["class","small-12 column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](62,0,null,null,48,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](63,0,null,null,25,"mat-form-field",[["class","filter-group-item mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,kl.b,kl.a)),t["\u0275did"](64,7520256,null,9,Ml.c,[t.ElementRef,t.ChangeDetectorRef,[2,Pl.h],[2,ql.b],[2,Ml.a],Fl.a,t.NgZone,[2,w.a]],null,null),t["\u0275qud"](603979776,25,{_controlNonStatic:0}),t["\u0275qud"](335544320,26,{_controlStatic:0}),t["\u0275qud"](603979776,27,{_labelChildNonStatic:0}),t["\u0275qud"](335544320,28,{_labelChildStatic:0}),t["\u0275qud"](603979776,29,{_placeholderChild:0}),t["\u0275qud"](603979776,30,{_errorChildren:1}),t["\u0275qud"](603979776,31,{_hintChildren:1}),t["\u0275qud"](603979776,32,{_prefixChildren:1}),t["\u0275qud"](603979776,33,{_suffixChildren:1}),(l()(),t["\u0275eld"](74,0,null,1,14,"mat-select",[["class","mat-select"],["formControlName","maxDate"],["required",""],["role","listbox"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"keydown"],[null,"focus"],[null,"blur"]],(function(l,n,e){var o=!0;return"keydown"===n&&(o=!1!==t["\u0275nov"](l,81)._handleKeydown(e)&&o),"focus"===n&&(o=!1!==t["\u0275nov"](l,81)._onFocus()&&o),"blur"===n&&(o=!1!==t["\u0275nov"](l,81)._onBlur()&&o),o}),El.b,El.a)),t["\u0275prd"](6144,null,Pl.j,null,[Al.c]),t["\u0275did"](76,16384,null,0,sl.B,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,sl.p,(function(l){return[l]}),[sl.B]),t["\u0275did"](78,671744,null,0,sl.i,[[3,sl.d],[6,sl.p],[8,null],[8,null],[2,sl.G]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,sl.r,null,[sl.i]),t["\u0275did"](80,16384,null,0,sl.s,[[4,sl.r]],null,null),t["\u0275did"](81,2080768,null,3,Al.c,[Nl.i,t.ChangeDetectorRef,t.NgZone,Pl.b,t.ElementRef,[2,ql.b],[2,sl.u],[2,sl.k],[2,Ml.c],[6,sl.r],[8,null],Al.a,C.j],{placeholder:[0,"placeholder"],required:[1,"required"]},null),t["\u0275qud"](603979776,34,{options:1}),t["\u0275qud"](603979776,35,{optionGroups:1}),t["\u0275qud"](603979776,36,{customTrigger:0}),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),t["\u0275prd"](2048,[[25,4],[26,4]],Ml.d,null,[Al.c]),(l()(),t["\u0275and"](16777216,null,1,1,null,Zl)),t["\u0275did"](88,278528,null,0,U.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](89,0,null,null,21,"mat-form-field",[["class","full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,kl.b,kl.a)),t["\u0275did"](90,7520256,null,9,Ml.c,[t.ElementRef,t.ChangeDetectorRef,[2,Pl.h],[2,ql.b],[2,Ml.a],Fl.a,t.NgZone,[2,w.a]],null,null),t["\u0275qud"](603979776,37,{_controlNonStatic:0}),t["\u0275qud"](335544320,38,{_controlStatic:0}),t["\u0275qud"](603979776,39,{_labelChildNonStatic:0}),t["\u0275qud"](335544320,40,{_labelChildStatic:0}),t["\u0275qud"](603979776,41,{_placeholderChild:0}),t["\u0275qud"](603979776,42,{_errorChildren:1}),t["\u0275qud"](603979776,43,{_hintChildren:1}),t["\u0275qud"](603979776,44,{_prefixChildren:1}),t["\u0275qud"](603979776,45,{_suffixChildren:1}),(l()(),t["\u0275eld"](100,0,null,1,10,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","reportName"],["id","Lastname"],["matInput",""],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t["\u0275nov"](l,101)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t["\u0275nov"](l,101).onTouched()&&o),"compositionstart"===n&&(o=!1!==t["\u0275nov"](l,101)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t["\u0275nov"](l,101)._compositionEnd(e.target.value)&&o),"blur"===n&&(o=!1!==t["\u0275nov"](l,108)._focusChanged(!1)&&o),"focus"===n&&(o=!1!==t["\u0275nov"](l,108)._focusChanged(!0)&&o),"input"===n&&(o=!1!==t["\u0275nov"](l,108)._onInput()&&o),o}),null,null)),t["\u0275did"](101,16384,null,0,sl.e,[t.Renderer2,t.ElementRef,[2,sl.a]],null,null),t["\u0275did"](102,16384,null,0,sl.B,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,sl.p,(function(l){return[l]}),[sl.B]),t["\u0275prd"](1024,null,sl.q,(function(l){return[l]}),[sl.e]),t["\u0275did"](105,671744,null,0,sl.i,[[3,sl.d],[6,sl.p],[8,null],[6,sl.q],[2,sl.G]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,sl.r,null,[sl.i]),t["\u0275did"](107,16384,null,0,sl.s,[[4,sl.r]],null,null),t["\u0275did"](108,999424,null,0,Sl.b,[t.ElementRef,Fl.a,[6,sl.r],[2,sl.u],[2,sl.k],Pl.b,[8,null],jl.a,t.NgZone],{id:[0,"id"],placeholder:[1,"placeholder"],required:[2,"required"],type:[3,"type"]},null),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),t["\u0275prd"](2048,[[37,4],[38,4]],Ml.d,null,[Sl.b]),(l()(),t["\u0275eld"](111,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](112,0,null,null,5,"div",[["class","small-12 column filecontainer"]],null,null,null,null,null)),(l()(),t["\u0275eld"](113,0,null,null,4,"div",[["class","form-group rightColumn"]],null,null,null,null,null)),(l()(),t["\u0275eld"](114,0,null,null,2,"label",[["for","file"]],null,null,null,null,null)),(l()(),t["\u0275ted"](115,null,["",":*"])),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](117,0,null,null,0,"input",[["accept",".csv"],["class","input__text form-control file"],["id","file"],["required",""],["type","file"]],null,[[null,"change"]],(function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.onChange(e)&&t),t}),null,null)),(l()(),t["\u0275eld"](118,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](119,0,null,null,9,"div",[["class","small-12 column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](120,0,null,null,8,"div",[["class","rightColumn"]],null,null,null,null,null)),(l()(),t["\u0275eld"](121,0,null,null,3,"button",[["color","warn"],["mat-button",""],["type","reset"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancel()&&t),t}),v.b,v.a)),t["\u0275did"](122,180224,null,0,b.b,[t.ElementRef,C.h,[2,w.a]],{color:[0,"color"]},null),(l()(),t["\u0275ted"](123,0,["",""])),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](125,0,null,null,3,"button",[["color","primary"],["mat-button",""],["type","submit"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,v.b,v.a)),t["\u0275did"](126,180224,null,0,b.b,[t.ElementRef,C.h,[2,w.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(l()(),t["\u0275ted"](127,0,["",""])),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,2,0,e.form),l(n,21,0,""),l(n,23,0,"storeId"),l(n,26,0,t["\u0275unv"](n,26,0,t["\u0275nov"](n,30).transform("modal.upload-csv.form.field.select-store.name")),""),l(n,33,0,e.stores),l(n,47,0,""),l(n,49,0,"formatId"),l(n,52,0,t["\u0275unv"](n,52,0,t["\u0275nov"](n,56).transform("modal.upload-csv.form.field.select-format.name")),""),l(n,59,0,e.uploadFormats),l(n,76,0,""),l(n,78,0,"maxDate"),l(n,81,0,t["\u0275unv"](n,81,0,t["\u0275nov"](n,85).transform("modal.upload-csv.form.field.max-date.name")),""),l(n,88,0,e.months),l(n,102,0,""),l(n,105,0,"reportName"),l(n,108,0,"Lastname",t["\u0275unv"](n,108,1,t["\u0275nov"](n,109).transform("modal.upload-csv.form.field.report-name.name")),"","text"),l(n,122,0,"warn"),l(n,126,0,e.form.invalid||!e.fileLoaded,"primary")}),(function(l,n){l(n,0,0,t["\u0275nov"](n,4).ngClassUntouched,t["\u0275nov"](n,4).ngClassTouched,t["\u0275nov"](n,4).ngClassPristine,t["\u0275nov"](n,4).ngClassDirty,t["\u0275nov"](n,4).ngClassValid,t["\u0275nov"](n,4).ngClassInvalid,t["\u0275nov"](n,4).ngClassPending),l(n,8,1,["standard"==t["\u0275nov"](n,9).appearance,"fill"==t["\u0275nov"](n,9).appearance,"outline"==t["\u0275nov"](n,9).appearance,"legacy"==t["\u0275nov"](n,9).appearance,t["\u0275nov"](n,9)._control.errorState,t["\u0275nov"](n,9)._canLabelFloat,t["\u0275nov"](n,9)._shouldLabelFloat(),t["\u0275nov"](n,9)._hasFloatingLabel(),t["\u0275nov"](n,9)._hideControlPlaceholder(),t["\u0275nov"](n,9)._control.disabled,t["\u0275nov"](n,9)._control.autofilled,t["\u0275nov"](n,9)._control.focused,"accent"==t["\u0275nov"](n,9).color,"warn"==t["\u0275nov"](n,9).color,t["\u0275nov"](n,9)._shouldForward("untouched"),t["\u0275nov"](n,9)._shouldForward("touched"),t["\u0275nov"](n,9)._shouldForward("pristine"),t["\u0275nov"](n,9)._shouldForward("dirty"),t["\u0275nov"](n,9)._shouldForward("valid"),t["\u0275nov"](n,9)._shouldForward("invalid"),t["\u0275nov"](n,9)._shouldForward("pending"),!t["\u0275nov"](n,9)._animationsEnabled]),l(n,19,1,[t["\u0275nov"](n,21).required?"":null,t["\u0275nov"](n,25).ngClassUntouched,t["\u0275nov"](n,25).ngClassTouched,t["\u0275nov"](n,25).ngClassPristine,t["\u0275nov"](n,25).ngClassDirty,t["\u0275nov"](n,25).ngClassValid,t["\u0275nov"](n,25).ngClassInvalid,t["\u0275nov"](n,25).ngClassPending,t["\u0275nov"](n,26).id,t["\u0275nov"](n,26).tabIndex,t["\u0275nov"](n,26)._getAriaLabel(),t["\u0275nov"](n,26)._getAriaLabelledby(),t["\u0275nov"](n,26).required.toString(),t["\u0275nov"](n,26).disabled.toString(),t["\u0275nov"](n,26).errorState,t["\u0275nov"](n,26).panelOpen?t["\u0275nov"](n,26)._optionIds:null,t["\u0275nov"](n,26).multiple,t["\u0275nov"](n,26)._ariaDescribedby||null,t["\u0275nov"](n,26)._getAriaActiveDescendant(),t["\u0275nov"](n,26).disabled,t["\u0275nov"](n,26).errorState,t["\u0275nov"](n,26).required,t["\u0275nov"](n,26).empty]),l(n,34,1,["standard"==t["\u0275nov"](n,35).appearance,"fill"==t["\u0275nov"](n,35).appearance,"outline"==t["\u0275nov"](n,35).appearance,"legacy"==t["\u0275nov"](n,35).appearance,t["\u0275nov"](n,35)._control.errorState,t["\u0275nov"](n,35)._canLabelFloat,t["\u0275nov"](n,35)._shouldLabelFloat(),t["\u0275nov"](n,35)._hasFloatingLabel(),t["\u0275nov"](n,35)._hideControlPlaceholder(),t["\u0275nov"](n,35)._control.disabled,t["\u0275nov"](n,35)._control.autofilled,t["\u0275nov"](n,35)._control.focused,"accent"==t["\u0275nov"](n,35).color,"warn"==t["\u0275nov"](n,35).color,t["\u0275nov"](n,35)._shouldForward("untouched"),t["\u0275nov"](n,35)._shouldForward("touched"),t["\u0275nov"](n,35)._shouldForward("pristine"),t["\u0275nov"](n,35)._shouldForward("dirty"),t["\u0275nov"](n,35)._shouldForward("valid"),t["\u0275nov"](n,35)._shouldForward("invalid"),t["\u0275nov"](n,35)._shouldForward("pending"),!t["\u0275nov"](n,35)._animationsEnabled]),l(n,45,1,[t["\u0275nov"](n,47).required?"":null,t["\u0275nov"](n,51).ngClassUntouched,t["\u0275nov"](n,51).ngClassTouched,t["\u0275nov"](n,51).ngClassPristine,t["\u0275nov"](n,51).ngClassDirty,t["\u0275nov"](n,51).ngClassValid,t["\u0275nov"](n,51).ngClassInvalid,t["\u0275nov"](n,51).ngClassPending,t["\u0275nov"](n,52).id,t["\u0275nov"](n,52).tabIndex,t["\u0275nov"](n,52)._getAriaLabel(),t["\u0275nov"](n,52)._getAriaLabelledby(),t["\u0275nov"](n,52).required.toString(),t["\u0275nov"](n,52).disabled.toString(),t["\u0275nov"](n,52).errorState,t["\u0275nov"](n,52).panelOpen?t["\u0275nov"](n,52)._optionIds:null,t["\u0275nov"](n,52).multiple,t["\u0275nov"](n,52)._ariaDescribedby||null,t["\u0275nov"](n,52)._getAriaActiveDescendant(),t["\u0275nov"](n,52).disabled,t["\u0275nov"](n,52).errorState,t["\u0275nov"](n,52).required,t["\u0275nov"](n,52).empty]),l(n,63,1,["standard"==t["\u0275nov"](n,64).appearance,"fill"==t["\u0275nov"](n,64).appearance,"outline"==t["\u0275nov"](n,64).appearance,"legacy"==t["\u0275nov"](n,64).appearance,t["\u0275nov"](n,64)._control.errorState,t["\u0275nov"](n,64)._canLabelFloat,t["\u0275nov"](n,64)._shouldLabelFloat(),t["\u0275nov"](n,64)._hasFloatingLabel(),t["\u0275nov"](n,64)._hideControlPlaceholder(),t["\u0275nov"](n,64)._control.disabled,t["\u0275nov"](n,64)._control.autofilled,t["\u0275nov"](n,64)._control.focused,"accent"==t["\u0275nov"](n,64).color,"warn"==t["\u0275nov"](n,64).color,t["\u0275nov"](n,64)._shouldForward("untouched"),t["\u0275nov"](n,64)._shouldForward("touched"),t["\u0275nov"](n,64)._shouldForward("pristine"),t["\u0275nov"](n,64)._shouldForward("dirty"),t["\u0275nov"](n,64)._shouldForward("valid"),t["\u0275nov"](n,64)._shouldForward("invalid"),t["\u0275nov"](n,64)._shouldForward("pending"),!t["\u0275nov"](n,64)._animationsEnabled]),l(n,74,1,[t["\u0275nov"](n,76).required?"":null,t["\u0275nov"](n,80).ngClassUntouched,t["\u0275nov"](n,80).ngClassTouched,t["\u0275nov"](n,80).ngClassPristine,t["\u0275nov"](n,80).ngClassDirty,t["\u0275nov"](n,80).ngClassValid,t["\u0275nov"](n,80).ngClassInvalid,t["\u0275nov"](n,80).ngClassPending,t["\u0275nov"](n,81).id,t["\u0275nov"](n,81).tabIndex,t["\u0275nov"](n,81)._getAriaLabel(),t["\u0275nov"](n,81)._getAriaLabelledby(),t["\u0275nov"](n,81).required.toString(),t["\u0275nov"](n,81).disabled.toString(),t["\u0275nov"](n,81).errorState,t["\u0275nov"](n,81).panelOpen?t["\u0275nov"](n,81)._optionIds:null,t["\u0275nov"](n,81).multiple,t["\u0275nov"](n,81)._ariaDescribedby||null,t["\u0275nov"](n,81)._getAriaActiveDescendant(),t["\u0275nov"](n,81).disabled,t["\u0275nov"](n,81).errorState,t["\u0275nov"](n,81).required,t["\u0275nov"](n,81).empty]),l(n,89,1,["standard"==t["\u0275nov"](n,90).appearance,"fill"==t["\u0275nov"](n,90).appearance,"outline"==t["\u0275nov"](n,90).appearance,"legacy"==t["\u0275nov"](n,90).appearance,t["\u0275nov"](n,90)._control.errorState,t["\u0275nov"](n,90)._canLabelFloat,t["\u0275nov"](n,90)._shouldLabelFloat(),t["\u0275nov"](n,90)._hasFloatingLabel(),t["\u0275nov"](n,90)._hideControlPlaceholder(),t["\u0275nov"](n,90)._control.disabled,t["\u0275nov"](n,90)._control.autofilled,t["\u0275nov"](n,90)._control.focused,"accent"==t["\u0275nov"](n,90).color,"warn"==t["\u0275nov"](n,90).color,t["\u0275nov"](n,90)._shouldForward("untouched"),t["\u0275nov"](n,90)._shouldForward("touched"),t["\u0275nov"](n,90)._shouldForward("pristine"),t["\u0275nov"](n,90)._shouldForward("dirty"),t["\u0275nov"](n,90)._shouldForward("valid"),t["\u0275nov"](n,90)._shouldForward("invalid"),t["\u0275nov"](n,90)._shouldForward("pending"),!t["\u0275nov"](n,90)._animationsEnabled]),l(n,100,1,[t["\u0275nov"](n,102).required?"":null,t["\u0275nov"](n,107).ngClassUntouched,t["\u0275nov"](n,107).ngClassTouched,t["\u0275nov"](n,107).ngClassPristine,t["\u0275nov"](n,107).ngClassDirty,t["\u0275nov"](n,107).ngClassValid,t["\u0275nov"](n,107).ngClassInvalid,t["\u0275nov"](n,107).ngClassPending,t["\u0275nov"](n,108)._isServer,t["\u0275nov"](n,108).id,t["\u0275nov"](n,108).placeholder,t["\u0275nov"](n,108).disabled,t["\u0275nov"](n,108).required,t["\u0275nov"](n,108).readonly&&!t["\u0275nov"](n,108)._isNativeSelect||null,t["\u0275nov"](n,108)._ariaDescribedby||null,t["\u0275nov"](n,108).errorState,t["\u0275nov"](n,108).required.toString()]),l(n,115,0,t["\u0275unv"](n,115,0,t["\u0275nov"](n,116).transform("modal.upload-csv.form.field.select-file.name"))),l(n,121,0,t["\u0275nov"](n,122).disabled||null,"NoopAnimations"===t["\u0275nov"](n,122)._animationMode),l(n,123,0,t["\u0275unv"](n,123,0,t["\u0275nov"](n,124).transform("modal.upload-csv.form.button.cancel.name"))),l(n,125,0,t["\u0275nov"](n,126).disabled||null,"NoopAnimations"===t["\u0275nov"](n,126)._animationMode),l(n,127,0,t["\u0275unv"](n,127,0,t["\u0275nov"](n,128).transform("modal.upload-csv.form.button.upload.name")))}))}function Wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,Bl)),t["\u0275did"](1,16384,null,0,U.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,$l)),t["\u0275did"](3,16384,null,0,U.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,1,0,e.loading),l(n,3,0,!e.loading)}),null)}var Jl=e("itXk");e("OrbI");const Kl=window.amplitude;class Ql{constructor(l,n,e,t,o,a,i,r,d,u,s,c,p){this.floorPlanApi=l,this.coreCache=n,this.instanceAppSettingsApi=e,this.dialog=t,this.session=o,this.formatNumber=a,this.topNav=i,this.window=r,this.agGridPdf=d,this.excel=u,this.tracking=s,this.translate=c,this.confirmDialog=p,this.loading=!0,this.reportTitle="",this.selectedUpload=0,this.selectedUploadInfo={},this.showPreview=!1,this.rowData=[],this.columnDefs=[],this.gridOptions={defaultColDef:{filter:!0,sortable:!0,resizable:!0},suppressMultiSort:!1,animateRows:!0,getContextMenuItems:l=>this.getContextMenuItems.call(this,l),sideBar:!1,getMainMenuItems:l=>{const n=[],e=["toolPanel"];return l.defaultItems.forEach(l=>{e.indexOf(l)<0&&n.push(l)}),n},overlayLoadingTemplate:'<div class="progress progress--indeterminate">\n        <div class="progress--indeterminate__inner">\n            <div class="progress--indeterminate__left-half">\n                <div class="progress--circle progress--indeterminate__circle--left"></div>\n            </div>\n            <div class="progress--indeterminate__right-half">\n                <div class="progress--circle progress--indeterminate__circle--right"></div>\n            </div>\n        </div>'},this.rowUploadsData=[],this.columnUploadsDefs=[],this.showDetails=!1,this.newUploadLoading=!1,this.months=[],this.uploadsInfo=[],this.dateFields=["createdDate","commentTime","Days","GLdate"],this.instanceSettings=Vl.b,this.subs=[]}set sub(l){this.subs.push(l)}ngOnInit(){this.currentUser=this.session.getCurrentUser(),this.reportTitle=this.translate.instant("header.title"),this.getUploads(),this.topNav.clearLinks(),Kl.getInstance().logEvent("Custom Reports_page_load",{reportName:"Floor Plan",eventName:"page load",eventValue:!0})}onResize(){this.resizeUploadsGrid()}ngOnDestroy(){this.subs.forEach(l=>l.unsubscribe())}getTrackingParams(){return z.__awaiter(this,void 0,void 0,(function*(){const l=(l,n)=>this.translate.get(l,n).toPromise();return[{label:yield l("body.details.label.report-name"),value:this.selectedUploadInfo.reportName},{label:yield l("body.details.label.store-name"),value:this.selectedUploadInfo.storeName},{label:yield l("body.details.label.report-date"),value:this.selectedUploadInfo.reportDate}]}))}getUploads(){this.sub=Object(Jl.b)(this.floorPlanApi.getUploads(),this.instanceAppSettingsApi.settings$,this.coreCache.storesById$).subscribe(([l,n,e])=>z.__awaiter(this,void 0,void 0,(function*(){this.storesIndex=e,this.instanceSettings=n;for(const n of l.data){const l=this.storesIndex.get(+n.storeid);n.storeName=l[this.instanceSettings.storeNameType],this.uploadsInfo[n.uploadId]={reportName:n.uploadName,storeName:n.storeName,reportDate:n.reptDate}}this.rowUploadsData=this.getFormattedData(l.data),this.columnUploadsDefs=this.getColumnDefs(l.labels,l.segments),this.columnUploadsDefs.push({field:"rpd",headerName:"",cellRenderer:this.getVerticalMenu,width:50,cellStyle:{textAlign:"center"}}),this.trackAction(),this.loading=!1,this.resizeUploadsGrid()})),l=>this.dialog.alert(l.message))}onFilterChanged(){this.trackAction(H.a.Load,null,null,this.uploadsGrid)}onNewUploadFormInit(l){this.newUploadModal=l}onPreviewInit(l){this.previewModal=l}onDetailsInit(l){this.detailsModal=l}removeReport(l){return z.__awaiter(this,void 0,void 0,(function*(){const n=(l,n)=>this.translate.get(l,n).toPromise(),e={title:yield n("messages.label.remove"),text:yield n("messages.label.areyousure"),cancelBtnText:yield n("messages.label.cancel"),okBtnText:yield n("messages.label.ok")};this.sub=this.confirmDialog.openDialog(e).subscribe(n=>{"YES"===n&&(this.loading=!0,this.floorPlanApi.deleteUpload(l).pipe(Object(B.a)(()=>this.loading=!1)).subscribe(()=>{const n=this.rowUploadsData.filter(n=>+n.uploadId!=+l);this.rowUploadsData=n,this.resizeUploadsGrid(),this.dialog.success()},l=>this.dialog.alert(l.message)))})}))}excelExport(){return z.__awaiter(this,void 0,void 0,(function*(){const l=this.selectedUploadInfo,n=X().format("MM-DD-YYYY"),e=this.reportTitle+"-"+l.reportName+"-"+n,t=(l,n)=>this.translate.get(l,n).toPromise(),o=[{label:yield t("header.export.excel.filter.report"),value:this.reportTitle},{label:yield t("header.export.excel.filter.preview"),value:l.reportName},{label:yield t("header.export.excel.filter.store-name"),value:l.storeName},{label:yield t("header.export.excel.filter.report-date"),value:l.reportDate}];this.excel.exportAgGrid(this.grid,e,o),this.trackAction(H.a.ExportXls,H.d.Preview,yield this.getTrackingParams(),this.grid)}))}uploadsExcelExport(){return z.__awaiter(this,void 0,void 0,(function*(){const l=X().format("MM-DD-YYYY"),n=this.reportTitle+"-"+l,e=[{label:yield((l,n)=>this.translate.get("header.uploads-export.both.filter.report",void 0).toPromise())(),value:this.reportTitle}];this.trackAction(H.a.ExportXls,null,null,this.uploadsGrid),this.excel.exportAgGrid(this.uploadsGrid,n,e)}))}getContextMenuItems(l){return[{name:this.translate.instant("header.caption.details"),action:()=>{this.selectedUpload=l.node.data.uploadId,this.selectedUploadInfo=JSON.parse(JSON.stringify(this.uploadsInfo[this.selectedUpload])),this.detailsModal.showModal()},cssClasses:["bold"],icon:'<i class="material-icons md-18">edit</i>'},{name:this.translate.instant("header.caption.preview"),action:()=>{this.selectedUpload=l.node.data.uploadId,this.selectedUploadInfo=JSON.parse(JSON.stringify(this.uploadsInfo[this.selectedUpload])),this.previewModal.showModal()},cssClasses:["bold"],icon:'<i class="material-icons md-18">visibility</i>'},{name:this.translate.instant("header.caption.delete"),action:()=>{this.removeReport(l.node.data.uploadId)},cssClasses:["bold"],icon:'<i class="material-icons md-18">delete</i>'}]}onClick(l){const n=l.node,e=l.column,t=l.event,o=l.value;"rpd"===e.colId&&l.api.context.beanWrappers.rowRenderer.beanInstance.rowCompsByIndex[l.rowIndex].getRenderedCellForColumn(e).beans.contextMenuFactory.showMenu(n,e,o,t)}onCloseUpload(){this.newUpload.form.reset(),this.newUploadModal.closeModal()}onUploadAdd(l){this.newUploadLoading=!0,this.sub=this.floorPlanApi.addReport(l.format,l.fileData,l.reportName,l.dateIndex,l.storeId).pipe(Object(B.a)(()=>this.newUploadLoading=!1)).subscribe(()=>{this.newUploadModal.closeModal(),this.newUpload.form.reset(),this.loading=!0,this.newUploadLoading=!1,this.getUploads()},l=>this.dialog.error(l&&l.error&&l.error.message))}openUploadForm(){this.newUploadLoading=!0,this.newUpload.form.reset(),this.newUploadModal.showModal(),this.sub=this.floorPlanApi.getGetMonths().pipe(Object(B.a)(()=>this.newUploadLoading=!1)).subscribe(l=>{this.months=l},l=>this.dialog.alert(l.message))}uploadsPDFExport(){return z.__awaiter(this,void 0,void 0,(function*(){const l=[],n=X().format("MM-DD-YYYY"),e=this.reportTitle+"-"+n;l.push({label:yield((l,n)=>this.translate.get("header.uploads-export.both.filter.report",void 0).toPromise())(),value:this.reportTitle}),this.agGridPdf.generate(this.uploadsGrid,e,l,null,{invisible:["rpd"]},()=>{this.loading=!1,this.trackAction(H.a.ExportPdf,null,null,this.uploadsGrid),this.resizeUploadsGrid()})}))}resizeUploadsGrid(){setTimeout(()=>{this.uploadsGrid&&this.uploadsGrid.api.sizeColumnsToFit()},100)}getVerticalMenu(l){return'<button  class="btn--empty btn--color-primary"\n            ><i class="material-icons">more_vert</i></button>'}trackAction(l,n,e,t){this.tracking.log({page:H.b.CustomReports,section:this.reportTitle,subSection:n,event:l||H.a.Load,params:e,grid:t})}getColumnDefs(l,n){const e=[];return l.length>0&&l.forEach(l=>{for(const t of Object.keys(l)){const o=this.translate.instant(l[t]).toString().toUpperCase();n.indexOf(t)>-1&&e.push({field:t,headerName:o,minWidth:150})}}),e}getFormattedData(l){if(l.length>0)for(const n of l)for(const l of Object.keys(n)){const e=n[l];Array.isArray(e)?n[l]=this.formatNumber.formatValue(e,!1,!1):this.dateFields.indexOf(l)>-1&&(n[l]=X(e).format("YYYY-MM-DD HH:mm"))}return l}}var ln=e("nutA"),nn=e("Ntwu"),en=e("4asF"),tn=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]   app-loader[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.upload-button[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;text-transform:uppercase}.floor-plan[_ngcontent-%COMP%]{height:100%;background-color:#fff;box-shadow:2px 2px 5px 1px #c1bebe}.floor-plan-top-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;padding:15px 20px;height:70px;border-bottom:1px solid #ddd}.floor-plan-top-control[_ngcontent-%COMP%]:not(:last-of-type){margin-right:20px}.floor-plan-grid[_ngcontent-%COMP%]{height:calc(100% - 70px)}.floor-plan-grid[_ngcontent-%COMP%]   ag-grid-angular[_ngcontent-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]     .ag-bl-overlay{background-color:rgba(0,0,0,.05)}[_nghost-%COMP%]     .progress{display:inline-block;width:24px;height:24px}[_nghost-%COMP%]     .progress--circle{box-sizing:border-box;width:24px;height:24px;border-radius:50%;border:3px solid #004e9a}[_nghost-%COMP%]     .progress--indeterminate{-webkit-animation:2.25s linear infinite rotate;animation:2.25s linear infinite rotate}[_nghost-%COMP%]     .progress--indeterminate__inner{-webkit-animation:5s infinite sporadic-rotate;animation:5s infinite sporadic-rotate;display:inline-block;width:24px;height:24px}[_nghost-%COMP%]     .progress--indeterminate__left-half{position:absolute;top:0;width:12px;height:24px;overflow:hidden;left:0}[_nghost-%COMP%]     .progress--indeterminate__right-half{position:absolute;top:0;width:12px;height:24px;overflow:hidden;right:0}[_nghost-%COMP%]     .progress--indeterminate__circle--left{-webkit-animation:1.25s infinite animate-left-circle,5s linear infinite left-circle-colors;animation:1.25s infinite animate-left-circle,5s linear infinite left-circle-colors}[_nghost-%COMP%]     .progress--indeterminate__circle--right{-webkit-animation:1.25s infinite animate-right-circle,5s linear infinite right-circle-colors;animation:1.25s infinite animate-right-circle,5s linear infinite right-circle-colors;position:relative;right:100%}@-webkit-keyframes rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}[_nghost-%COMP%]     .material-icons.md-18{font-size:18px;padding-top:10px}  .modal-preview .c_modal{width:80%;height:90%}  .modal-details .c_modal{width:100%;height:100%}  .modal-upload .c_modal{width:50%;height:50%}  .modal-details .c_modal__body{margin:0 0 10px;padding:0}.bold[_ngcontent-%COMP%]{font-weight:700}  .ag-header-cell-resize{visibility:hidden}"]],data:{}});function on(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-loader",[],[[8,"className",0]],null,null,h.b,h.a)),t["\u0275did"](1,49152,null,0,g.a,[],null,null)],null,(function(l,n){l(n,0,0,t["\u0275nov"](n,1).cssClassByType)}))}function an(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["class","upload-button"],["color","primary"],["mat-raised-button",""]],[[8,"hidden",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openUploadForm()&&t),t}),v.b,v.a)),t["\u0275did"](1,180224,null,0,b.b,[t.ElementRef,C.h,[2,w.a]],{color:[0,"color"]},null),(l()(),t["\u0275ted"](2,0,["",""])),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,"primary")}),(function(l,n){l(n,0,0,n.component.loading,t["\u0275nov"](n,1).disabled||null,"NoopAnimations"===t["\u0275nov"](n,1)._animationMode),l(n,2,0,t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform("header.button.upload-csv")))}))}function rn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","floor-plan-top-control"]],[[8,"hidden",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.uploadsExcelExport()&&t),t}),null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["file_download"]))],null,(function(l,n){l(n,0,0,n.component.loading)}))}function dn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","floor-plan-top-control"]],[[8,"hidden",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.uploadsPDFExport()&&t),t}),null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["picture_as_pdf"]))],null,(function(l,n){l(n,0,0,n.component.loading)}))}function un(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,16777216,null,null,4,"ag-grid-angular",[["appAgGridDragScroll",""],["class","ag-theme-material"],["style","height: 100%; width: 100%;"]],null,[[null,"filterChanged"],[null,"cellClicked"]],(function(l,n,e){var t=!0,o=l.component;return"filterChanged"===n&&(t=!1!==o.onFilterChanged()&&t),"cellClicked"===n&&(t=!1!==o.onClick(e)&&t),t}),_.b,_.a)),t["\u0275prd"](512,null,y.AngularFrameworkOverrides,y.AngularFrameworkOverrides,[t.NgZone]),t["\u0275prd"](512,null,I.AngularFrameworkComponentWrapper,I.AngularFrameworkComponentWrapper,[]),t["\u0275did"](3,4898816,[[2,4],["showUploads",4]],1,D.AgGridAngular,[t.ElementRef,t.ViewContainerRef,y.AngularFrameworkOverrides,I.AngularFrameworkComponentWrapper,t.ComponentFactoryResolver],{gridOptions:[0,"gridOptions"],rowData:[1,"rowData"],columnDefs:[2,"columnDefs"],suppressContextMenu:[3,"suppressContextMenu"]},{cellClicked:"cellClicked",filterChanged:"filterChanged"}),t["\u0275qud"](603979776,4,{columns:1}),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){var e=n.component;l(n,3,0,e.gridOptions,e.rowUploadsData,e.columnUploadsDefs,!0)}),null)}function sn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-preview-floor-plan",[],null,null,null,ll,K)),t["\u0275did"](1,770048,null,0,$,[J,q.a,G.a,A.a,x.j,E.a,Y.a],{uploadId:[0,"uploadId"],uploadInfo:[1,"uploadInfo"]},null)],(function(l,n){var e=n.component;l(n,1,0,e.selectedUpload,e.selectedUploadInfo)}),null)}function cn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"app-details-floor-plan",[],null,null,null,Il,xl)),t["\u0275prd"](512,null,bl.a,bl.a,[]),t["\u0275did"](2,770048,null,0,wl,[J,q.a,G.a,A.a,x.j,E.a,Y.a,bl.a],{uploadId:[0,"uploadId"],uploadInfo:[1,"uploadInfo"]},null)],(function(l,n){var e=n.component;l(n,2,0,e.selectedUpload,e.selectedUploadInfo)}),null)}function pn(l){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{newUpload:0}),t["\u0275qud"](671088640,2,{uploadsGrid:0}),t["\u0275qud"](671088640,3,{grid:0}),(l()(),t["\u0275and"](16777216,null,null,1,null,on)),t["\u0275did"](4,16384,null,0,U.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](5,0,null,null,7,"app-content-header",[],null,null,null,Dl.b,Dl.a)),t["\u0275prd"](512,null,U.B,U.C,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](7,278528,null,0,U.l,[U.B],{ngClass:[0,"ngClass"]},null),t["\u0275pad"](8,1),t["\u0275did"](9,114688,null,0,Rl.a,[],{caption:[0,"caption"]},null),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,0,1,null,an)),t["\u0275did"](12,16384,null,0,U.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](13,0,null,null,13,"app-content-body",[],null,null,null,Ol.b,Ol.a)),t["\u0275prd"](512,null,U.B,U.C,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](15,278528,null,0,U.l,[U.B],{ngClass:[0,"ngClass"]},null),t["\u0275pad"](16,1),t["\u0275did"](17,114688,null,0,Ul.a,[],null,null),(l()(),t["\u0275eld"](18,0,null,0,8,"div",[["class","floor-plan"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,4,"div",[["class","floor-plan-top-controls"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,rn)),t["\u0275did"](21,16384,null,0,U.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,dn)),t["\u0275did"](23,16384,null,0,U.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](24,0,null,null,2,"div",[["class","floor-plan-grid"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,un)),t["\u0275did"](26,16384,null,0,U.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](27,0,null,null,5,"app-modal",[["class","modal-new-upload"]],null,[[null,"onInit"]],(function(l,n,e){var t=!0;return"onInit"===n&&(t=!1!==l.component.onNewUploadFormInit(e)&&t),t}),rl.b,rl.a)),t["\u0275prd"](512,null,dl.a,dl.a,[O.b]),t["\u0275did"](29,1228800,[["modalNewUploadForm",4]],0,ul.a,[dl.a,U.d,t.ElementRef,t.Renderer2,O.b],{modalTitle:[0,"modalTitle"]},{onInit:"onInit"}),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](31,0,null,0,1,"app-upload-form",[],null,[[null,"onClose"],[null,"addUpload"]],(function(l,n,e){var t=!0,o=l.component;return"onClose"===n&&(t=!1!==o.onCloseUpload()&&t),"addUpload"===n&&(t=!1!==o.onUploadAdd(e)&&t),t}),Wl,zl)),t["\u0275did"](32,245760,[[1,4],["newUpload",4]],0,Gl,[sl.f,Y.a,Yl.a,Vl.a,E.a],{loading:[0,"loading"],months:[1,"months"]},{addUpload:"addUpload",onClose:"onClose"}),(l()(),t["\u0275eld"](33,0,null,null,5,"app-modal",[["class","modal-preview"]],null,[[null,"onInit"]],(function(l,n,e){var t=!0;return"onInit"===n&&(t=!1!==l.component.onPreviewInit(e)&&t),t}),rl.b,rl.a)),t["\u0275prd"](512,null,dl.a,dl.a,[O.b]),t["\u0275did"](35,1228800,[["previewModal",4]],0,ul.a,[dl.a,U.d,t.ElementRef,t.Renderer2,O.b],{modalTitle:[0,"modalTitle"]},{onInit:"onInit"}),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,0,1,null,sn)),t["\u0275did"](38,16384,null,0,U.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](39,0,null,null,5,"app-modal",[["class","modal-details"]],null,[[null,"onInit"]],(function(l,n,e){var t=!0;return"onInit"===n&&(t=!1!==l.component.onDetailsInit(e)&&t),t}),rl.b,rl.a)),t["\u0275prd"](512,null,dl.a,dl.a,[O.b]),t["\u0275did"](41,1228800,[["detailsModal",4]],0,ul.a,[dl.a,U.d,t.ElementRef,t.Renderer2,O.b],{modalTitle:[0,"modalTitle"],modalPreTitle:[1,"modalPreTitle"]},{onInit:"onInit"}),t["\u0275pid"](131072,x.i,[x.j,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,0,1,null,cn)),t["\u0275did"](44,16384,null,0,U.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,e.loading);var o=l(n,8,0,"content-header-size-3");l(n,7,0,o),l(n,9,0,t["\u0275unv"](n,9,0,t["\u0275nov"](n,10).transform("header.title"))),l(n,12,0,!e.showPreview&&!e.showDetails);var a=l(n,16,0,"content-body-size-3");l(n,15,0,a),l(n,17,0),l(n,21,0,(null==e.currentUser?null:e.currentUser.isExportExcelAvailable)&&!e.showPreview&&!e.showDetails),l(n,23,0,(null==e.currentUser?null:e.currentUser.isExportPdfAvailable)&&!e.showPreview&&!e.showDetails),l(n,26,0,!e.loading&&!e.showPreview&&!e.showDetails),l(n,29,0,t["\u0275unv"](n,29,0,t["\u0275nov"](n,30).transform("modal.upload-csv.caption"))),l(n,32,0,e.newUploadLoading,e.months),l(n,35,0,t["\u0275unv"](n,35,0,t["\u0275nov"](n,36).transform("header.export.excel.filter.preview"))),l(n,38,0,e.selectedUploadInfo&&0!==e.selectedUpload),l(n,41,0,null==e.selectedUploadInfo?null:e.selectedUploadInfo.reportName,t["\u0275unv"](n,41,1,t["\u0275nov"](n,42).transform("header.modal.caption.details"))),l(n,44,0,e.selectedUploadInfo&&0!==e.selectedUpload)}),null)}var mn=t["\u0275ccf"]("ng-component",Ql,(function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"ng-component",[],null,[["window","resize"]],(function(l,n,e){var o=!0;return"window:resize"===n&&(o=!1!==t["\u0275nov"](l,3).onResize()&&o),o}),pn,tn)),t["\u0275prd"](512,null,bl.a,bl.a,[]),t["\u0275prd"](512,null,q.a,q.a,[F.a,E.a,A.a,x.j,N.a]),t["\u0275did"](3,245760,null,0,Ql,[J,Yl.a,Vl.a,E.a,Y.a,bl.a,ln.a,nn.a,q.a,G.a,A.a,x.j,en.a],null,null)],(function(l,n){l(n,3,0)}),null)}),{},{},[]),fn=e("POq0"),hn=e("QQfA"),gn=e("s6ns"),vn=e("821u"),bn=e("IheW"),Cn=e("Mc5n"),wn=e("Qq/Z"),xn=e("iInd"),_n=e("zMNK"),yn=e("cUpR"),In=e("FIJs"),Dn=e("aBBA"),Rn=e("gQiY"),On=e("l0Bn"),Un=e("kPC6"),Tn=e("SXLW"),Pn=e("tdaM"),kn=e("0sx3"),Mn=e("81ID"),qn=e("FFHx"),Fn=e("oiVm"),En=e("/Lwf"),An=e("yotz"),Nn=e("T3zS");e.d(n,"FloorPlanModuleNgFactory",(function(){return Sn}));var Sn=t["\u0275cmf"](o,[],(function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[a.a,i.a,r.b,r.a,d.a,u.a,s.a,c.a,p.a,m.a,f.b,mn]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,U.p,U.o,[t.LOCALE_ID,[2,U.G]]),t["\u0275mpd"](4608,sl.f,sl.f,[]),t["\u0275mpd"](4608,sl.F,sl.F,[]),t["\u0275mpd"](4608,fn.c,fn.c,[]),t["\u0275mpd"](4608,Pl.b,Pl.b,[]),t["\u0275mpd"](4608,hn.c,hn.c,[hn.i,hn.e,t.ComponentFactoryResolver,hn.h,hn.f,t.Injector,t.NgZone,U.d,ql.b,[2,U.i]]),t["\u0275mpd"](5120,hn.j,hn.k,[hn.c]),t["\u0275mpd"](5120,Al.a,Al.b,[hn.c]),t["\u0275mpd"](5120,gn.c,gn.d,[hn.c]),t["\u0275mpd"](135680,gn.e,gn.e,[hn.c,t.Injector,[2,U.i],[2,gn.b],gn.c,[3,gn.e],hn.e]),t["\u0275mpd"](4608,vn.i,vn.i,[]),t["\u0275mpd"](5120,vn.a,vn.b,[hn.c]),t["\u0275mpd"](4608,Pl.a,Pl.v,[[2,Pl.f],Fl.a]),t["\u0275mpd"](4608,bn.k,bn.q,[U.d,t.PLATFORM_ID,bn.o]),t["\u0275mpd"](4608,bn.r,bn.r,[bn.k,bn.p]),t["\u0275mpd"](5120,bn.a,(function(l){return[l]}),[bn.r]),t["\u0275mpd"](4608,bn.n,bn.n,[]),t["\u0275mpd"](6144,bn.l,null,[bn.n]),t["\u0275mpd"](4608,bn.j,bn.j,[bn.l]),t["\u0275mpd"](6144,bn.b,null,[bn.j]),t["\u0275mpd"](4608,bn.f,bn.m,[bn.b,t.Injector]),t["\u0275mpd"](4608,bn.c,bn.c,[bn.f]),t["\u0275mpd"](4608,L.a,L.a,[O.b]),t["\u0275mpd"](4608,en.a,en.a,[gn.e]),t["\u0275mpd"](4608,Cn.f,Cn.f,[U.d,t.NgZone,Nl.i,Cn.h]),t["\u0275mpd"](4608,J,J,[wn.a]),t["\u0275mpd"](1073742336,U.c,U.c,[]),t["\u0275mpd"](1073742336,sl.E,sl.E,[]),t["\u0275mpd"](1073742336,sl.A,sl.A,[]),t["\u0275mpd"](1073742336,xn.s,xn.s,[[2,xn.x],[2,xn.o]]),t["\u0275mpd"](1073742336,fn.d,fn.d,[]),t["\u0275mpd"](1073742336,Ml.e,Ml.e,[]),t["\u0275mpd"](1073742336,Fl.b,Fl.b,[]),t["\u0275mpd"](1073742336,jl.c,jl.c,[]),t["\u0275mpd"](1073742336,Sl.c,Sl.c,[]),t["\u0275mpd"](1073742336,ql.a,ql.a,[]),t["\u0275mpd"](1073742336,_n.g,_n.g,[]),t["\u0275mpd"](1073742336,Nl.f,Nl.f,[]),t["\u0275mpd"](1073742336,hn.g,hn.g,[]),t["\u0275mpd"](1073742336,Pl.l,Pl.l,[[2,Pl.d],[2,yn.f]]),t["\u0275mpd"](1073742336,Pl.u,Pl.u,[]),t["\u0275mpd"](1073742336,Pl.s,Pl.s,[]),t["\u0275mpd"](1073742336,Pl.q,Pl.q,[]),t["\u0275mpd"](1073742336,Al.d,Al.d,[]),t["\u0275mpd"](1073742336,b.c,b.c,[]),t["\u0275mpd"](1073742336,C.a,C.a,[]),t["\u0275mpd"](1073742336,el.l,el.l,[]),t["\u0275mpd"](1073742336,x.g,x.g,[]),t["\u0275mpd"](1073742336,In.a,In.a,[Dn.a]),t["\u0275mpd"](1073742336,Rn.a,Rn.a,[]),t["\u0275mpd"](1073742336,sl.m,sl.m,[]),t["\u0275mpd"](1073742336,gn.k,gn.k,[]),t["\u0275mpd"](1073742336,vn.j,vn.j,[]),t["\u0275mpd"](1073742336,Pl.w,Pl.w,[]),t["\u0275mpd"](1073742336,Pl.n,Pl.n,[]),t["\u0275mpd"](1073742336,bn.e,bn.e,[]),t["\u0275mpd"](1073742336,bn.d,bn.d,[]),t["\u0275mpd"](1073742336,On.a,On.a,[]),t["\u0275mpd"](1073742336,Un.a,Un.a,[]),t["\u0275mpd"](1073742336,Tn.AgGridModule,Tn.AgGridModule,[]),t["\u0275mpd"](1073742336,Pn.a,Pn.a,[]),t["\u0275mpd"](1073742336,kn.a,kn.a,[]),t["\u0275mpd"](1073742336,Mn.a,Mn.a,[]),t["\u0275mpd"](1073742336,qn.a,qn.a,[]),t["\u0275mpd"](1073742336,Fn.a,Fn.a,[]),t["\u0275mpd"](1073742336,Cn.g,Cn.g,[]),t["\u0275mpd"](1073742336,En.a,En.a,[]),t["\u0275mpd"](1073742336,An.b,An.b,[]),t["\u0275mpd"](1073742336,Nn.a,Nn.a,[]),t["\u0275mpd"](1073742336,o,o,[Dn.a]),t["\u0275mpd"](256,Pl.e,Pl.i,[]),t["\u0275mpd"](256,bn.o,"XSRF-TOKEN",[]),t["\u0275mpd"](256,bn.p,"X-XSRF-TOKEN",[]),t["\u0275mpd"](1024,xn.m,(function(){return[[{path:"",pathMatch:"full",component:Ql}]]}),[])])}))},oFlN:function(l,n,e){"use strict";e.d(n,"a",(function(){return t}));class t{transform(l,n,e){return n?l.filter(l=>-1!==e.map(n=>l[n]).join(" ").toLowerCase().indexOf(n.toLowerCase())):l}}},pFkP:function(l,n,e){"use strict";e("1Elx"),e("7Dhi"),e("oFlN"),e("rqc2"),e("iTUp")}}]);