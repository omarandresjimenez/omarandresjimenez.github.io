(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"5uTj":function(e,l,t){"use strict";t.d(l,"a",(function(){return a}));var n=t("8Y7J");class a{constructor(){this.backToClick=new n.EventEmitter}get hasBackToLink(){return!!this.backToClick.observers.length}ngOnInit(){}onBackToClick(){this.backToClick.emit()}}},FIJs:function(e,l,t){"use strict";t.d(l,"a",(function(){return n}));class n{constructor(e){e.addLoaderWithPrefixedTranslations("/cabinet/control-center","")}}},WDzC:function(e,l,t){"use strict";t.r(l);var n=t("8Y7J");class a{constructor(e){e.addLoaderWithPrefixedTranslations("/cabinet/control-center/sales-contest","")}}var i=t("pMnS"),o=t("t68o"),s=t("zbXB"),r=t("GsI2"),d=t("eliu"),u=t("0Xvm"),c=t("VOAG"),p=t("aYrz"),h=t("NcP4"),m=t("tfhy"),g=t("HOtD"),f=t("dJrM"),b=t("HsOI"),v=t("Xd0L"),y=t("IP0z"),C=t("/HVE"),w=t("omvX"),D=t("Azqq"),F=t("s7LF"),x=t("JjoW"),R=t("hOhj"),k=t("5GAg"),S=t("MlvX"),_=t("RHbX"),M=t("Xrj0"),T=t("oJZn"),I=t("pBi1"),P=t("TSSN"),O=t("SVse"),B=t("gavF"),G=t("QQfA"),A=t("2Q+G"),N=t("S5eV"),E=t("zeHk"),L=t("+bil"),V=t("S+vS"),q=t("ChPW"),j=t("Lxd7"),z=t("IqdZ"),U=t("eeq/"),J=t("TUN4"),K=t("K5C0"),$=t("mvzq"),W=t("/kTj"),X=t("+2T5"),Z=t("FpoO"),Y=t("JNvI"),H=t("pGru"),Q=t("YbeN"),ee=t("RiRU"),le=t("zXMq"),te=t("2Vgt"),ne=t("c1Wz"),ae=t("/9PS"),ie=t("ydjR"),oe=t("zp2H"),se=t("v67E"),re=t("2v1Z"),de=t("cs6G"),ue=t("aqJ9"),ce=t("uTUe"),pe=t("LRne"),he=t("JIr8"),me=t("UXun"),ge=t("f2Qm");class fe extends ge.a{constructor(e,l){super(e),this.api=e,this.dataCache=l}getStoreGroups(){return this.api.call("GET","/storegroups").then(e=>e).catch(this.handleError)}getMake(e,l,t){const n=[];return n.push({key:"storeid",value:e}),n.push({key:"groupIndex",value:l}),n.push({key:"dateid",value:t}),this.api.call("GET","/controlcenterdetail/getmake",n).then(e=>e).catch(this.handleError)}getCalendar(){return this.api.call("GET","/kpi/month").then(e=>e).catch(this.handleError)}getReport(e,l,t,n,a){const i=[];return i.push({key:"busseg",value:e}),i.push({key:"dateid",value:l}),i.push({key:"comp",value:t}),i.push({key:"docid",value:n}),i.push({key:"storeid",value:a}),this.api.call("GET","/fstrendreport",i).then(e=>e).catch(this.handleError)}getViewTrend(e,l,t,n,a){const i=[];return i.push({key:"busseg",value:e}),i.push({key:"dateid",value:l}),i.push({key:"comp",value:n}),i.push({key:"storeid",value:t}),i.push({key:"docid",value:a}),this.api.call("GET","/fstrendreport/viewtrend",i).then(e=>e).catch(this.handleError)}getSideBySide(e,l,t,n){const a=[];return a.push({key:"busseg",value:e}),a.push({key:"dateid",value:l}),a.push({key:"comp",value:t}),a.push({key:"docid",value:n}),this.api.call("GET","/fstrendreport/sidebyside",a).then(e=>e).catch(this.handleError)}getDrillDetail(e,l,t,n){const a=[];return a.push({key:"storeid",value:e}),a.push({key:"dateid",value:l}),a.push({key:"docline",value:t}),a.push({key:"docid",value:n}),this.api.call("GET","/fstrendreport/drilldetail",a).then(e=>e).catch(this.handleError)}getStores(){return this.api.call("GET","/stores").then(e=>e).catch(this.handleError)}getReports(){return this.api.call("GET","/fstrendreport/getrepts").then(e=>e).catch(this.handleError)}getsalescontestdata(e,l,t,n,a,i,o,s,r,d,u,c){s=JSON.stringify(s),r=JSON.stringify(r),c=JSON.stringify(c),u=JSON.stringify(u);const p=[];let h;if(h=d&&0!==d.length?JSON.stringify(d):null,p.push({key:"screen_id",value:e}),p.push({key:"section_id",value:l}),p.push({key:"sec_line",value:t}),p.push({key:"stock_type",value:n}),p.push({key:"date_index",value:a}),p.push({key:"storeid",value:i}),p.push({key:"groupIndex",value:o}),p.push({key:"statusType",value:s}),p.push({key:"dealType",value:r}),p.push({key:"storeids",value:h}),p.push({key:"dealTypeArr",value:u}),p.push({key:"statusTypeArr",value:c}),this.dataCache.existKey(JSON.stringify(p)))return this.dataCache.getKeyValue(JSON.stringify(p)).toPromise();const m=Object(pe.a)(this.api.call("GET","/controlcenterdetail/getinfo",p).then(e=>e).catch(this.handleError)).pipe(Object(he.a)(()=>(this.dataCache.cleanKeyValue(JSON.stringify(p)),Object(pe.a)([]))),Object(me.a)(1));return this.dataCache.setKey(JSON.stringify(p),m),m.toPromise()}getTechnicianReport(e,l,t,n,a){const i=[];let o;if(o=a&&0!==a.length?JSON.stringify(a):null,i.push({key:"dateIndex",value:e}),i.push({key:"type",value:l}),i.push({key:"storeid",value:t}),i.push({key:"groupIndex",value:n}),i.push({key:"storeids",value:o}),this.dataCache.existKey(JSON.stringify(i)))return this.dataCache.getKeyValue(JSON.stringify(i)).toPromise();const s=Object(pe.a)(this.api.call("GET","/controlcenterdetail/gettechnicianreport",i).then(e=>e).catch(this.handleError)).pipe(Object(he.a)(()=>(this.dataCache.cleanKeyValue(JSON.stringify(i)),Object(pe.a)([]))),Object(me.a)(1));return this.dataCache.setKey(JSON.stringify(i),s),s.toPromise()}getServiceAdvisorReport(e,l,t,n,a,i){const o=[];let s;if(s=i&&0!==i.length?JSON.stringify(i):null,o.push({key:"dateIndex",value:e}),o.push({key:"type",value:l}),o.push({key:"storeid",value:t}),o.push({key:"groupIndex",value:n}),o.push({key:"make",value:a}),o.push({key:"storeids",value:s}),this.dataCache.existKey(JSON.stringify(o)))return this.dataCache.getKeyValue(JSON.stringify(o)).toPromise();const r=Object(pe.a)(this.api.call("GET","/controlcenterdetail/getserviceadvisorreport",o).then(e=>e).catch(this.handleError)).pipe(Object(he.a)(()=>(this.dataCache.cleanKeyValue(JSON.stringify(o)),Object(pe.a)([]))),Object(me.a)(1));return this.dataCache.setKey(JSON.stringify(o),r),r.toPromise()}getsalescontestdetailsdata(e,l,t,n,a,i,o){a=JSON.stringify(a),i=JSON.stringify(i);const s=[];return s.push({key:"emp_num",value:e}),s.push({key:"emp_type",value:l}),s.push({key:"date_index",value:t}),s.push({key:"stockType",value:n}),s.push({key:"statusType",value:a}),s.push({key:"dealType",value:i}),s.push({key:"storeid",value:o}),this.api.call("GET","/controlcenterdetail/getsalesdetail",s).then(e=>e).catch(this.handleError)}getSalesAdvisorDetailsData(e,l,t){const n=[];return n.push({key:"storeid",value:e}),n.push({key:"dateIndex",value:l}),n.push({key:"saname",value:t}),this.api.call("GET","/controlcenterdetail/getserviceadvisordetail",n).then(e=>e).catch(this.handleError)}getTechnicianDetailsData(e,l,t){const n=[];return n.push({key:"storeid",value:e}),n.push({key:"dateIndex",value:l}),n.push({key:"techId",value:t}),this.api.call("GET","/controlcenterdetail/gettechnicianreportdetail",n).then(e=>e).catch(this.handleError)}updateSalesCountBudget(e,l,t,n,a,i,o,s,r,d,u,c){const p={};return p.salesMenCode=e,p.storeId=u,p.monthBudget=l,p.yearBudget=t,p.salesCountBudget=n,p.frontGrossBudget=a,p.backGrossBudget=i,p.sectionId=o,p.screenId=s,p.lastUpdateDate=r,p.idBudget=d,p.type="sales",p.stockType=c.replace(/'/g,""),this.api.call("POST","/controlcenterdetails",p).then(e=>e).catch(this.handleError)}updateTechBudget(e,l,t,n,a,i,o){const s={};return s.techId=e,s.monthBudget=l,s.yearBudget=t,s.lbrSalesBudget=n,s.storeId=a,s.idBudget=i,s.type="tech",s.LbrType=o,this.api.call("POST","/controlcenterdetails",s).then(e=>e).catch(this.handleError)}updateSABudget(e,l,t,n,a,i,o){const s={};return s.empId=+e,s.monthBudget=l,s.yearBudget=t,s.LbrPrtSalesBudget=n,s.storeId=a,s.idBudget=i,s.type="sa",s.Make=o,this.api.call("POST","/controlcenterdetails",s).then(e=>e).catch(this.handleError)}updateBudget(e,l,t,n){return this.api.call("PUT",`/fstrendreports/${e}`,{docId:e,storeId:l,dateIndex:t,valuesBudget:n}).then(e=>e).catch(this.handleError)}handleError(e){return console.log(e,"Error on service"),Promise.reject(e.error?e.error:e)}}var be=t("butG"),ve=t("4uHt"),ye=t("wd/R"),Ce=t("Cfvw"),we=t("itXk"),De=t("Kj3r"),Fe=t("zp1y");t("8Gnb");var xe=t("NAMS"),Re=t("VHTt"),ke=(t("w0+v"),t("/gN3")),Se=t("k48M");class _e{constructor(e,l,t,n,a,i,o,s,r,d,u,c,p,h){this.debug=e,this.router=l,this.route=t,this.translate=n,this.salescontestapi=a,this.formatter=i,this.changeDetectorRef=o,this.root=s,this.instanceAppSettingsApi=r,this.coreCache=d,this.sessionService=u,this.filterData=c,this.apiPerformaceService=p,this.dataApi=h,this.isCommentsView=!1,this.loading=!0,this.detailsLoading=!1,this.salesContestDetailsdata=[],this.tempData=[],this.screenId=8,this.sectionId=1,this.dateIndex=24,this.salesContestModalTitle="Details",this.drillDetailtitle="",this.newUsedSalesCount=0,this.stockType="NEW",this.positions=[],this.goals=[],this.empId=null,this.empType=10,this.type="A",this.columns=[],this.detailColumns=[],this.editableColumns=[],this.showAllColumns=!1,this.selectedGoal=1,this.editMode=!1,this.statusType="All",this.dealType="All",this.statusTypes=[],this.statusDeals=[],this.dealTypes=[],this.dealTypeDisplayValue=[],this.dealStatusDisplayValue=[],this.makeObj={Make:"All"},this.defaultType={name:"All",deal:"All"},this.currentDealType=[],this.currentStatus=[],this.filterName={},this.isDefaultFilter=!1,this.FilterNames=[],this.actionType="",this.editfilterName="",this.isFilterSaved=!1,this.filterListPresent=!1,this.deleteFilter={},this.hasAccess=!1,this.countFilter="all",this.agFilterTotalToggle=!1,this.gridOptions={suppressMultiSort:!1,animateRows:!0,enterMovesDownAfterEdit:!0,suppressClickEdit:!0,frameworkComponents:{customEditCellRenderer:Se.b,customEditCellEditor:Se.a},onModelUpdated:e=>this.onFilterChanged(e),aggFuncs:{sum:e=>{let l=0;if(e&&Array.isArray(e))return e.forEach(e=>l+=+e),l.toFixed(2)}},overlayLoadingTemplate:'<div class="progress progress--indeterminate">\n        <div class="progress--indeterminate__inner">\n            <div class="progress--indeterminate__left-half">\n                <div class="progress--circle progress--indeterminate__circle--left"></div>\n            </div>\n            <div class="progress--indeterminate__right-half">\n                <div class="progress--circle progress--indeterminate__circle--right"></div>\n            </div>\n        </div>'},this.subs=[],this.edited=!1,this.selectedBusiness=0,this.make="All",this.selectedStore=0,this.debug=e.factory(new.target.name,W.a.All),this.secLine=20}get commentType(){return xe.a.OperationControlCenter}get commentSubType(){return"sales-contest"}get hasTargetSwitcher(){return"tech"===this.typeReport?"A"===this.type&&this.currentUser.allowToEditBudget:"sa"===this.typeReport?"A"===this.type&&"All"===this.make&&this.currentUser.allowToEditBudget:this.currentUser.allowToEditBudget}get hasPositionFilter(){return"new"===this.typeReport||"used"===this.typeReport||"tech"===this.typeReport||"sa"===this.typeReport}get hasGoalTargetFilter(){return"tech"!==this.typeReport&&"sa"!==this.typeReport}get hasMakeFilter(){return"sa"===this.typeReport}get hasDealTypeFilter(){return"new"===this.typeReport||"used"===this.typeReport}get hasDealStatusFilter(){return"new"===this.typeReport||"used"===this.typeReport}set sub(e){this.subs.push(e)}ngOnInit(){this.currentUser=this.sessionService.getCurrentUser(),this.filterData.value$.destination.observers.length||this.filterData.init(),this.hasAccess=this.currentUser.AccessLevel>=80,this.currentDealType=this.getSessionStorageItems("currentDealType"),this.currentStatus=this.getSessionStorageItems("currentStatus"),this.statusDeals=this.getSessionStorageItems("statusDeals"),this.dealTypes=this.getSessionStorageItems("dealTypes"),this.allSelected.select(),this.dealStatusAll.select(),this.currentDealType=[],this.currentStatus=[],this.currentDealType.push(this.defaultType),this.currentDealType=this.dealTypes&&this.dealTypes.concat(this.currentDealType),this.currentStatus.push(this.defaultType),this.currentStatus=this.statusDeals&&this.statusDeals.concat(this.currentStatus),this.initDataFetcherSubscription(),this.getFilterValues(),this.stockType="fi"===this.typeReport?"'NEW','USED'":"'"+this.typeReport.toUpperCase()+"'",this.secLine="fi"===this.typeReport?30:20,this.commentParams={pageType:this.typeReport},this.allSelected.select(),this.dealStatusAll.select(),this.initData()}getByModelFilterChangeData(e){e&&!e.cleared?(this.isFilterSaved=!0,this.filterName=e?JSON.parse(JSON.stringify(e)):{},this.dealTypeDisplayValue=[],this.dealStatusDisplayValue=[],e.filterValue.dealType.find(e=>"All"===e)||e.filterValue.dealType.length===this.dealTypes.length?(this.currentDealType=this.dealTypes.map(e=>e),setTimeout(()=>{this.allSelected.select()},0)):(this.allSelected.deselect(),this.currentDealType=this.dealTypes.filter(l=>e.filterValue.dealType.includes(l.deal))),e.filterValue.dealStatus.find(e=>"All"===e)||e.filterValue.dealStatus.length===this.statusDeals.length?(this.currentStatus=this.statusDeals.map(e=>e),setTimeout(()=>{this.dealStatusAll.select()},0)):(this.dealStatusAll.deselect(),this.currentStatus=this.statusDeals.filter(l=>e.filterValue.dealStatus.includes(l.deal))),this.dealTypeDisplayValue=this.currentDealType.map(e=>e.dealType||"All"),this.dealStatusDisplayValue=this.currentStatus.map(e=>e.status||"All")):(this.filterName={},this.allSelected.select(),this.dealStatusAll.select(),this.currentDealType=[],this.currentStatus=[],this.currentDealType.push(this.defaultType.deal),this.dealTypes.forEach(e=>{this.currentDealType.push(e)}),this.currentStatus.push(this.defaultType.deal),this.statusDeals.forEach(e=>{this.currentStatus.push(e)})),this.updateGridData(this.screenId,this.sectionId,this.secLine,this.stockType,this.dateIndex,this.selectedStore,this.selectedBusiness,this.storeids)}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe()),this.debug.destroy()}onFilterChanged(e){if("tech"===this.typeReport.toLowerCase()&&!1===this.agFilterTotalToggle){const l=e.api.getModel();this.pinBottomRowForTechAdv(l)}else if("tech"===this.typeReport.toLowerCase()&&!0===this.agFilterTotalToggle)this.agFilterTotalToggle=!1;else if("sa"===this.typeReport.toLowerCase()&&!1===this.agFilterTotalToggle){const l=e.api.getModel();this.pinBottomRowForSAAdv(l)}else"sa"===this.typeReport.toLowerCase()&&!0===this.agFilterTotalToggle&&(this.agFilterTotalToggle=!1)}getFilterValues(){let e;"new"===this.typeReport?e=1:"used"===this.typeReport?e=2:"fi"===this.typeReport&&(e=3),this.apiPerformaceService.getOccFIgetSavedFilters(this.screenId,this.currentUser.instance_id,e).subscribe(e=>{if(e){this.filterListPresent=e.length>0,e.forEach(e=>{e.filterValue=JSON.parse(e.filterValue)});const l=this.getSessionStorageItems("selectedNewContestDetailFilter"),t=this.getSessionStorageItems("selectedUsedContestDetailFilter"),n=this.getSessionStorageItems("selectedFIMngrContestDetailFilter");"new"===this.typeReport?this.selectRequiredFilter(l,e):"used"===this.typeReport?this.selectRequiredFilter(t,e):"fi"===this.typeReport&&this.selectRequiredFilter(n,e),this.FilterNames=e,this.filterData.FilterNamesArr$.next(this.FilterNames),this.FilterNames&&this.FilterNames.forEach(e=>{e.selected&&this.getByModelFilterChangeData(e)})}})}getSessionStorageItems(e){return"undefined"!==sessionStorage.getItem(e)?JSON.parse(sessionStorage.getItem(e)):void 0}selectRequiredFilter(e,l){l.forEach(e?e.cleared?e=>{e.selected=!1}:l=>{l.selected=!1,e.id===l.id&&(l.selected=!0)}:e=>{e.selected=!1,"1"===e.isDefault&&(e.selected=!0)})}onSaveFilter(){this.actionType="Save",this.openFilterModal()}onEditFilter(e){this.editfilterName=e.filterName,this.isDefaultFilter=e.isDefault,this.actionType="Edit",this.openFilterModal()}onClearFilter(){this.onFilterSelect({cleared:!0}),this.filterName.filterName=""}onsaveFilterChange(e){this.apiPerformaceService.error$.subscribe(e=>{e?this.FIFiltersModal.showModal():this.FIFiltersModal.showModal(!1)}),this.getFilterValues(),this.onFilterSelect(e),"new"===this.typeReport?(this.FilterNames.forEach(l=>{l.id===e.id&&(l.filterName=e.filterName)}),e&&e.isDefault&&this.setObservables("selectedNewSummaryContestFilter",e)):"used"===this.typeReport&&(this.FilterNames.forEach(l=>{l.id===e.id&&(l.filterName=e.filterName)}),e&&e.isDefault&&this.setObservables("selectedUsedSummaryContestFilter",e))}onFilterSelect(e){"new"===this.typeReport?this.setObservables("selectedNewContestDetailFilter",e):"used"===this.typeReport?this.setObservables("selectedUsedContestDetailFilter",e):"fi"===this.typeReport&&this.setObservables("selectedFIMngrContestDetailFilter",e),this.getByModelFilterChangeData(e)}setObservables(e,l){l?sessionStorage.setItem(e,JSON.stringify(l)):sessionStorage.setItem(e,void 0)}openFilterModal(){let e;this.apiPerformaceService.error$.next(!1),this.FIFiltersModal.showModal(),"new"===this.typeReport?e=1:"used"===this.typeReport?e=2:"fi"===this.typeReport&&(e=3),this.filterInputObj={type:this.actionType,editName:this.editfilterName,id:this.filterName?this.filterName.id:"",filterName:this.filterName?this.filterName.filterName:"",isDefault:this.isDefaultFilter,dealType:this.currentDealType.map(e=>e.deal||"All"),dealStatus:this.currentStatus.map(e=>e.deal||"All"),pageType:this.typeReport,screenID:this.screenId,sectionID:e}}onDeleteFilter(e){this.deleteFilter=e,this.FIFiltersModal.showModal(!1),this.FIFilterDeleteModal.showModal()}onDeleteCancel(){this.FIFilterDeleteModal.showModal(!1)}onDeleteConfirm(){this.apiPerformaceService.getOccDeleteFilter(this.deleteFilter.id).then(e=>{200===e.status&&(this.onFilterSelect(void 0),this.getFilterValues(),this.FIFilterDeleteModal.showModal(!1),this.filterName="")})}onCloseClick(){this.FIFiltersModal.showModal(),this.FIFilterCloseModal.showModal()}onCloseConfirm(){this.FIFiltersModal.showModal(!1),this.FIFilterCloseModal.showModal(!1)}onCloseCancel(){this.FIFilterCloseModal.showModal(!1)}getMakeValues(){const e=Object(Ce.a)(this.salescontestapi.getMake(this.selectedStore,this.selectedBusiness,this.dateIndex));this.sub=e.subscribe(e=>{e&&(this.makes=e.data,this.makes.unshift({Make:"All"}),this.makeObj=this.makes[0])})}onMakeChange(e){this.make=e.Make,this.editMode=this.editMode&&"All"===this.make,this.updateGridDataSA(this.dateIndex,this.type,this.selectedStore,this.selectedBusiness,this.make,this.storeids).then(()=>{this.tableGrid.agGrid.columnApi.setColumnsVisible(["LbrPrtSalesBudget","LbrPrtSalesBudgetPercent"],"All"===this.make)})}get defaultAvatarUrl(){return"/assets/img/default-avatar-dark.svg"}onChangeTarget(e){switch(this.selectedGoal){case 1:this.tableGrid.agGrid.columnApi.setColumnsVisible(["salesCount","salesGoalPercent","salesCountBudget"],!0),this.tableGrid.agGrid.columnApi.setColumnsVisible(["frontGross","frontGoalPercent","frontGrossBudget","backGrossBudget","backGoalPercent"],!1);break;case 2:this.tableGrid.agGrid.columnApi.setColumnsVisible(["frontGross","frontGoalPercent","frontGrossBudget"],!0),this.tableGrid.agGrid.columnApi.setColumnsVisible(["salesCount","salesGoalPercent","salesCountBudget","backGross","backGrossBudget","backGoalPercent"],!1);break;case 3:this.tableGrid.agGrid.columnApi.setColumnsVisible(["backGross","backGoalPercent","backGrossBudget"],!0),this.tableGrid.agGrid.columnApi.setColumnsVisible(["salesCount","salesGoalPercent","salesCountBudget","frontGross","frontGrossBudget","frontGoalPercent"],!1)}this.fitTableColumns()}onModalInit(e){this.salesContestDetailsModal=e}toogleColumns(e=!0){const l=["salesCount","salesGoalPercent","frontGross","frontGoalPercent","backGross","backGoalPercent","totalGross","avgGross","volTracking","totalGrossTraking"];this.showAllColumns=e?!this.showAllColumns:this.showAllColumns,this.showAllColumns?(this.tableGrid.agGrid.columnApi.setColumnsVisible(["pvr90Days"],!1),this.tableGrid.agGrid.columnApi.setColumnsVisible(l,!0)):(this.tableGrid.agGrid.columnApi.setColumnsVisible(l,!1),this.tableGrid.agGrid.columnApi.setColumnsVisible(["pvr90Days"],!0),this.onChangeTarget(null))}initData(){this.sub=this.translate.get(["body.grid.filter.all","body.grid.filter.customer","body.grid.filter.internal","body.grid.filter.warranty","body.grid.filter.salesperson","body.grid.filter.salesmanager","drill.modalall.title","drill.modalsa.title","drill.modaltech.title","body.grid.filter.status-F","body.grid.filter.status-C","body.grid.filter.status-B","body.grid.filter.status-P","body.grid.filter.deal-R","body.grid.filter.deal-L","body.grid.filter.deal-W","body.grid.filter.deal-D"]).subscribe(e=>{switch("sa"===this.typeReport.toLowerCase()||"tech"===this.typeReport.toLowerCase()?this.positions.push({name:e["body.grid.filter.all"],value:"A"},{name:e["body.grid.filter.customer"],value:"C"},{name:e["body.grid.filter.internal"],value:"I"},{name:e["body.grid.filter.warranty"],value:"W"}):(this.positions.push({name:e["body.grid.filter.salesperson"],value:20},{name:e["body.grid.filter.salesmanager"],value:40}),this.statusType=e["body.grid.filter.all"],this.dealType=e["body.grid.filter.all"]),this.typeReport.toLowerCase()){case"tech":this.initDataTech(),this.drillDetailtitle=e["drill.modaltech.title"];break;case"sa":this.initDataSA(),this.drillDetailtitle=e["drill.modalsa.title"];break;default:this.initDataAll(),this.drillDetailtitle=e["drill.modalall.title"]}})}exportDataAs(e){switch(e){case Re.a.XLS:this.exportToExcel();break;case Re.a.PDF:this.exportToPDF()}}exportDetailsDataAs(e){switch(e){case Re.a.XLS:this.exportDetailsToExcel();break;case Re.a.PDF:this.exportDetailsToPDF()}}exportToPDF(){this.sub="new"===this.typeReport?this.translate.get("new-sales-contest.export.general.file-name.pdf").subscribe(e=>{this.tableGrid&&this.tableGrid.exportDataAsPdf(e,[],null,{pageOrientation:"landscape",max:10})}):"used"===this.typeReport?this.translate.get("used-sales-contest.export.general.file-name.pdf").subscribe(e=>{this.tableGrid&&this.tableGrid.exportDataAsPdf(e,[],null,{pageOrientation:"landscape",max:10})}):"fi"===this.typeReport?this.translate.get("fi-sales-contest.export.general.file-name.pdf").subscribe(e=>{this.tableGrid&&this.tableGrid.exportDataAsPdf(e,[],null,{pageOrientation:"landscape",max:10})}):"sa"===this.typeReport?this.translate.get("sa-sales-contest.export.general.file-name.pdf").subscribe(e=>{this.tableGrid&&this.tableGrid.exportDataAsPdf(e,[],null,{pageOrientation:"landscape",max:10})}):"tech"===this.typeReport?this.translate.get("tech-sales-contest.export.general.file-name.pdf").subscribe(e=>{this.tableGrid&&this.tableGrid.exportDataAsPdf(e,[],null,{pageOrientation:"landscape",max:10})}):this.translate.get("sales-contest.export.general.file-name.pdf").subscribe(e=>{this.tableGrid&&this.tableGrid.exportDataAsPdf(e,[],null,{pageOrientation:"landscape",max:10})})}exportDetailsToPDF(){this.sub=this.translate.get("sales-contest.export.details.general.file-name.pdf").subscribe(e=>{this.detailtableGrid&&this.detailtableGrid.exportDataAsPdf(this.salesContestModalTitle)})}exportToExcel(){this.sub="sa"===this.typeReport?this.translate.get("sa-contest.export.general.file-name.excel").subscribe(e=>{this.tableGrid&&this.tableGrid.exportDataAsXls(e,null,null,"sa")}):"tech"===this.typeReport?this.translate.get("tech-contest.export.general.file-name.excel").subscribe(e=>{this.tableGrid&&this.tableGrid.exportDataAsXls(e,null,null,"tech")}):"new"===this.typeReport?this.translate.get("new-sales-contest.export.general.file-name.excel").subscribe(e=>{this.tableGrid&&this.tableGrid.exportDataAsXls(e,null,null,"new")}):"used"===this.typeReport?this.translate.get("used-sales-contest.export.general.file-name.excel").subscribe(e=>{this.tableGrid&&this.tableGrid.exportDataAsXls(e,null,null,"used")}):"fi"===this.typeReport?this.translate.get("fi-sales-contest.export.general.file-name.excel").subscribe(e=>{this.tableGrid&&this.tableGrid.exportDataAsXls(e,null,null,"fi")}):this.translate.get("sales-contest.export.general.file-name.excel").subscribe(e=>{this.tableGrid&&this.tableGrid.exportDataAsXls(e,null,null,"other")})}exportDetailsToExcel(){this.sub=this.translate.get("sales-contest.export.details.general.file-name.excel").subscribe(e=>{this.detailtableGrid&&this.detailtableGrid.exportDataAsXls(this.salesContestModalTitle)})}toggleCommentsView(){this.isCommentsView=!this.isCommentsView}showEditableCols(e){this.editMode=e;const l=["salesCount","frontGross","backGross"];this.tableGrid.agGrid.columnDefs.forEach(t=>{e&&-1!==this.editableColumns.indexOf(t.field)?("sa"!==this.typeReport.toLowerCase()&&(t.editable=!0),t.hide=!1,t.cellEditor="customEditCellEditor"):e&&-1!==l.indexOf(t.field)?t.hide=!1:-1!==this.editableColumns.indexOf(t.field)&&"sa"!==this.typeReport.toLowerCase()&&(t.editable=!1)}),this.tableGrid.agGrid.api.setColumnDefs(this.tableGrid.agGrid.columnDefs),e?this.tableGrid.agGrid.columnApi.setColumnsVisible(["pvr90Days","salesGoalPercent","lbrSalePercentage","roCountPercent"],!1):(this.tableGrid.agGrid.columnApi.setColumnsVisible(["pvr90Days","salesGoalPercent","lbrSalePercentage","roCountPercent"],!0),this.edited?("tech"!==this.typeReport&&"sa"!==this.typeReport?this.updateGridData(this.screenId,this.sectionId,this.secLine,this.stockType,this.dateIndex,this.selectedStore,this.selectedBusiness,this.storeids).then(e=>this.toogleColumns(!1)):"tech"===this.typeReport?this.updateGridDataTech(this.dateIndex,this.type,this.selectedStore,this.selectedBusiness,this.storeids):this.updateGridDataSA(this.dateIndex,this.type,this.selectedStore,this.selectedBusiness,this.make,this.storeids),this.edited=!1):"tech"!==this.typeReport&&"sa"!==this.typeReport&&this.toogleColumns(!1))}updateGridData(e,l,t,n,a,i,o,s){this.loading=!0;let r=[],d=[];const u=this.allSelected.selected?"All":this.currentDealType.map(e=>e.deal),c=this.dealStatusAll.selected?"All":this.currentStatus.map(e=>e.deal);return r=this.getSessionStorageItems("currentDealType").map(e=>e.deal||"All"),d=this.getSessionStorageItems("currentStatus").map(e=>e.deal||"All"),new Promise((p,h)=>{this.salescontestapi.getsalescontestdata(e,l,t,n,a,i,o,c,u,s,r,d).then(e=>{this.sub=Object(we.b)(this.instanceAppSettingsApi.settings$,this.coreCache.storesById$).subscribe(([l,t])=>{e.data.map(e=>{const n=t.get(+e.storeId);e.storeName="TOTAL"===e.storeName?"TOTAL":n&&n[l.storeNameType]})}),this.pinnedBottomRowData=[],e.data.length&&"TOTAL"===e.data[e.data.length-1].storeName&&(1===e.data.length?e.data=[]:(this.pinnedBottomRowData=[],this.pinnedBottomRowData.push(e.data[e.data.length-1]))),this.salesContestdata=[],e.data.map(e=>{"TOTAL"!==e.storeName&&this.salesContestdata.push(e)}),this.loading=!1,this.changeDetectorRef&&this.changeDetectorRef.detectChanges(),p()}).catch(e=>{this.loading=!1,p()})})}onCellValueChanged(e){switch(this.typeReport.toLowerCase()){case"tech":this.onTechCellValueChanged(e);break;case"sa":this.onSaCellValueChanged(e);break;default:this.onSalesCellValueChanged(e)}}onSalesCellValueChanged(e){const l=e.data.empNum,t=e.data.storeId,n=e.data.monthBudget,a=e.data.yearBudget,i=null===e.data.salesCountBudget?0:e.data.salesCountBudget,o=null===e.data.frontGrossBudget?0:+e.data.frontGrossBudget.toString().replace(/,/g,""),s=null===e.data.backGrossBudget?0:+e.data.backGrossBudget.toString().replace(/,/g,""),r=ye().format("YYYY-MM-DD HH:MM:SS").toString();this.salescontestapi.updateSalesCountBudget(l,n,a,i,o,s,this.sectionId,this.screenId,r,e.data.idBudget,t,this.stockType).then(i=>{this.tableGrid.agGrid.rowData.filter(e=>+e.storeId==+t&&+e.monthBudget==+n&&+e.yearBudget==+a&&e.empNum===l)[0].idBudget=i.idBudget,this.pinnedBottomRowData[0].salesCountBudget=+e.newValue-+e.oldValue+ +this.pinnedBottomRowData[0].salesCountBudget,this.tableGrid.agGrid.api.refreshCells(),this.salesContestdata=this.tableGrid.agGrid.rowData,this.edited=!0,this.dataApi.cleanCache()})}onSelectChange(e,l){this.editMode=!1,"tech"===this.typeReport.toLocaleLowerCase()?(this.type=e,this.updateGridDataTech(this.dateIndex,this.type,this.selectedStore,this.selectedBusiness,this.storeids).then(e=>this.tableGrid.agGrid.columnApi.setColumnsVisible(["lbrSalePercentage","lbrsalebudgetpercentage","lbrSalesBudget"],"A"===this.type)),"tech"===this.typeReport.toLowerCase()&&"A"!==e&&(this.tableGrid.agGrid.columnDefs.forEach(e=>{-1!==this.editableColumns.indexOf(e.field)&&(e.editable=!1)}),this.tableGrid.agGrid.api.setColumnDefs(this.tableGrid.agGrid.columnDefs))):"sa"===this.typeReport.toLowerCase()?(this.type=e,this.updateGridDataSA(this.dateIndex,this.type,this.selectedStore,this.selectedBusiness,this.make,this.storeids).then(e=>this.tableGrid.agGrid.columnApi.setColumnsVisible(["LbrPrtSalesBudget","LbrPrtSalesBudgetPercent"],"A"===this.type))):("pos"===l&&(this.secLine=e),this.updateGridData(this.screenId,this.sectionId,this.secLine,this.stockType,this.dateIndex,this.selectedStore,this.selectedBusiness,this.storeids))}openSalesContestModal(e){e.data&&"PENDING"!==e.value&&(this.empId=e.data.empNum,this.empType=this.secLine,"name"===e.colDef.field?(this.salesContestModalTitle=this.drillDetailtitle+" "+e.data.name+" "+e.data.storeName,this.updateDetailsdata(this.empId,this.empType,this.dateIndex,e.data.storeId)):"saName"===e.colDef.field?(this.salesContestModalTitle=this.drillDetailtitle+" "+e.data.saName+" "+e.data.storeName,this.updateDetailsSAdata(e.data.storeId,this.dateIndex,e.data.empId)):"TechName"===e.colDef.field&&(this.salesContestModalTitle=this.drillDetailtitle+" "+e.data.TechName+" "+e.data.storeName,this.updateDetailsTechdata(e.data.storeId,this.dateIndex,e.data.techId)))}updateDetailsdata(e,l,t,n){this.detailsLoading=!0;const a=this.allSelected.selected?"All":this.currentDealType.map(e=>e.deal),i=this.dealStatusAll.selected?"All":this.currentStatus.map(e=>e.deal);this.salescontestapi.getsalescontestdetailsdata(e,l,t,this.stockType,i,a,n).then(e=>{this.tempData=e,this.salesContestDetailsdata=this.getDetailsFormattedData(e),this.newUsedSalesCount="new"===this.typeReport||"used"===this.typeReport?this.salesContestDetailsdata.reduce((e,l)=>e+parseFloat(l.Count),0):0,this.detailsLoading=!1,this.salesContestDetailsModal.showModal()}).catch(e=>{this.detailsLoading=!1})}updateDetailsSAdata(e,l,t){this.detailsLoading=!0,this.initSADrillColumns(),this.salescontestapi.getSalesAdvisorDetailsData(e,l,t).then(e=>{this.tempData=e,this.salesContestDetailsdata=e.data,this.detailsLoading=!1,this.salesContestDetailsModal.showModal(),this.countFilter="all"}).catch(e=>{this.detailsLoading=!1})}updateDetailsTechdata(e,l,t){this.detailsLoading=!0,this.initColumnsDrillTech(),this.salescontestapi.getTechnicianDetailsData(e,l,t).then(e=>{this.tempData=e,this.salesContestDetailsdata=e.data,this.detailsLoading=!1,this.salesContestDetailsModal.showModal(),this.countFilter="all"}).catch(e=>{this.detailsLoading=!1})}toggleAllSelection(e){"dealType"===e?this.allSelected.selected||this.currentDealType.length!==this.dealTypes.length?(this.currentDealType=[],this.currentDealType.push(this.defaultType.deal),this.dealTypes.forEach(e=>{this.currentDealType.push(e)})):this.currentDealType=[]:"dealstatus"===e&&(this.dealStatusAll.selected||this.currentStatus.length!==this.statusDeals.length?(this.currentStatus=[],this.currentStatus.push(this.defaultType.deal),this.statusDeals.forEach(e=>{this.currentStatus.push(e)})):this.currentStatus=[]),this.isFilterSaved=!1,this.filterName.filterName=this.translate.instant("general.filter.unsaved.label"),this.updateGridData(this.screenId,this.sectionId,this.secLine,this.stockType,this.dateIndex,this.selectedStore,this.selectedBusiness,this.storeids)}toggleSingleSelection(e){if("dealType"===e){if(this.dealTypeDisplayValue=this.currentDealType.map(e=>e.dealType),this.allSelected.selected){this.allSelected.deselect();const e=this.currentDealType.indexOf(this.defaultType.deal);e>=0&&this.currentDealType.splice(e,1)}this.currentDealType.length===this.dealTypes.length&&this.allSelected.select()}else if("dealstatus"===e){if(this.dealStatusDisplayValue=this.currentStatus.map(e=>e.status),this.dealStatusAll.selected){this.dealStatusAll.deselect();const e=this.currentStatus.indexOf(this.defaultType.deal);e>=0&&this.currentStatus.splice(e,1)}this.currentStatus.length===this.statusDeals.length&&this.dealStatusAll.select()}this.isFilterSaved=!1,this.filterName.filterName=this.translate.instant("general.filter.unsaved.label"),this.updateGridData(this.screenId,this.sectionId,this.secLine,this.stockType,this.dateIndex,this.selectedStore,this.selectedBusiness,this.storeids)}onCountOptionChange(){this.salesContestDetailsdata="all"===this.countFilter?this.tempData&&this.tempData.data:this.tempData&&this.tempData.data.filter(e=>+e.totalSales+ +e.totalCost!=0)}pinBottomRowForTechAdv(e){if(e&&e.rowsToDisplay){let l=0,t=[];if(e.rowsToDisplay.length>0){if(t=e.rowsToDisplay.map(e=>e.data),!t[0])return;l=Math.round(parseFloat(t[0].tothrs)/(8*parseFloat(t[0].productivity))),this.pinnedBottomRowData[0].UnBilledHrs=t.reduce((e,l)=>e+parseFloat(l.UnBilledHrs||0),0),this.pinnedBottomRowData[0].lbrCost=t.reduce((e,l)=>e+parseFloat(l.lbrCost||0),0),this.pinnedBottomRowData[0].lbrCostBudget=Math.max.apply(null,t.map(e=>e.lbrCostBudget||0)),this.pinnedBottomRowData[0].lbrGross=t.reduce((e,l)=>e+parseFloat(l.lbrGross||0),0),this.pinnedBottomRowData[0].lbrGrossBudget=Math.max.apply(null,t.map(e=>e.lbrGrossBudget||0)),this.pinnedBottomRowData[0].lbrSale=t.reduce((e,l)=>e+parseFloat(l.lbrSale||0),0),this.pinnedBottomRowData[0].lbrSalesBudget=Math.max.apply(null,t.map(e=>e.lbrSalesBudget||0)),this.pinnedBottomRowData[0].monthBudget=Math.max.apply(null,t.map(e=>e.monthBudget||0)),this.pinnedBottomRowData[0].totGP=t.reduce((e,l)=>e+parseFloat(l.totGP||0),0),this.pinnedBottomRowData[0].tothrs=t.reduce((e,l)=>e+parseFloat(l.tothrs||0),0),0===this.pinnedBottomRowData[0].tothrs?(this.pinnedBottomRowData[0].avgLbrSale=0,this.pinnedBottomRowData[0].avgLbrCost=0,this.pinnedBottomRowData[0].avgLbrGross=0,this.pinnedBottomRowData[0].avgtotGP=0):(this.pinnedBottomRowData[0].avgLbrSale=this.pinnedBottomRowData[0].lbrSale/this.pinnedBottomRowData[0].tothrs,this.pinnedBottomRowData[0].avgLbrCost=this.pinnedBottomRowData[0].lbrCost/this.pinnedBottomRowData[0].tothrs,this.pinnedBottomRowData[0].avgLbrGross=this.pinnedBottomRowData[0].lbrGross/this.pinnedBottomRowData[0].tothrs,this.pinnedBottomRowData[0].avgtotGP=this.pinnedBottomRowData[0].totGP/this.pinnedBottomRowData[0].tothrs),this.pinnedBottomRowData[0].productivity=0===l?0:this.pinnedBottomRowData[0].tothrs/(8*l),e.gridApi.setPinnedBottomRowData(this.pinnedBottomRowData)}else this.pinnedBottomRowData&&this.pinnedBottomRowData.length&&(Object.keys(this.pinnedBottomRowData[0]).filter(e=>"storeId"!==e).forEach(e=>this.pinnedBottomRowData[0][e]=""),e.gridApi.setPinnedBottomRowData(this.pinnedBottomRowData))}}pinBottomRowForSAAdv(e){if(this.agFilterTotalToggle=!0,e&&e.rowsToDisplay){let l=[];if(e.rowsToDisplay.length>0){if(l=e.rowsToDisplay.map(e=>e.data),!l[0])return;this.pinnedBottomRowData[0].cnt=l.reduce((e,l)=>e+parseFloat(l.cnt||0),0),this.pinnedBottomRowData[0].ls=l.reduce((e,l)=>e+parseFloat(l.ls||0),0),this.pinnedBottomRowData[0].ps=l.reduce((e,l)=>e+parseFloat(l.ps||0),0),this.pinnedBottomRowData[0].lsps=l.reduce((e,l)=>e+parseFloat(l.lsps||0),0),this.pinnedBottomRowData[0].hrs=l.reduce((e,l)=>e+parseFloat(l.hrs||0),0),this.pinnedBottomRowData[0].lg=l.reduce((e,l)=>e+parseFloat(l.lg||0),0),this.pinnedBottomRowData[0].pg=l.reduce((e,l)=>e+parseFloat(l.pg||0),0),this.pinnedBottomRowData[0].lpg=l.reduce((e,l)=>e+parseFloat(l.lpg||0),0),this.pinnedBottomRowData[0].totalGP=l.reduce((e,l)=>e+parseFloat(l.totalGP||0),0),this.pinnedBottomRowData[0].LbrPrtSalesBudget=l.reduce((e,l)=>e+parseFloat(l.LbrPrtSalesBudget||0),0),this.pinnedBottomRowData[0].psls=this.pinnedBottomRowData[0].ls&&0!=+this.pinnedBottomRowData[0].ls?this.pinnedBottomRowData[0].ps/+this.pinnedBottomRowData[0].ls:0,this.pinnedBottomRowData[0].LbrPrtSalesBudgetPercent=this.formatter.percentage((this.pinnedBottomRowData[0].LbrPrtSalesBudget&&0!=+this.pinnedBottomRowData[0].LbrPrtSalesBudget?this.pinnedBottomRowData[0].lsps/+this.pinnedBottomRowData[0].LbrPrtSalesBudget:0).toString()),this.pinnedBottomRowData[0].hrsPerRo2=this.pinnedBottomRowData[0].cnt&&0!=+this.pinnedBottomRowData[0].cnt?this.pinnedBottomRowData[0].hrs/+this.pinnedBottomRowData[0].cnt:0,this.pinnedBottomRowData[0].elr=this.pinnedBottomRowData[0].hrs&&0!=+this.pinnedBottomRowData[0].hrs?this.pinnedBottomRowData[0].ls/+this.pinnedBottomRowData[0].hrs:0,this.pinnedBottomRowData[0].lgppgp=this.pinnedBottomRowData[0].cnt&&0!=+this.pinnedBottomRowData[0].cnt?(this.pinnedBottomRowData[0].lg+this.pinnedBottomRowData[0].pg)/+this.pinnedBottomRowData[0].cnt:0,this.pinnedBottomRowData[0].lgPer=this.pinnedBottomRowData[0].ls&&0!=+this.pinnedBottomRowData[0].ls?this.pinnedBottomRowData[0].lg/+this.pinnedBottomRowData[0].ls:0,this.pinnedBottomRowData[0].pgPer=this.pinnedBottomRowData[0].ps&&0!=+this.pinnedBottomRowData[0].ps?this.pinnedBottomRowData[0].pg/+this.pinnedBottomRowData[0].ps:0,e.gridApi.setPinnedBottomRowData(this.pinnedBottomRowData)}}}initSADrillColumns(){this.detailColumns=[];const e={[ke.d.Money]:ke.c.NumberRange,[ke.d.Integer]:ke.c.NumberRange,[ke.d.Default]:ke.c.String,[ke.d.Date]:ke.c.DateRange};this.sub=this.translate.get(["drill.modal.sagrid.column.rotype","drill.modal.sagrid.column.labortype","drill.modal.sagrid.column.jdate","drill.modal.sagrid.column.custname","drill.modal.sagrid.column.ro","drill.modal.sagrid.column.laborsale","drill.modal.sagrid.column.laborcost","drill.modal.sagrid.column.laborgp","drill.modal.sagrid.column.miscsale","drill.modal.sagrid.column.misccost","drill.modal.sagrid.column.lubesale","drill.modal.sagrid.column.lubegp","drill.modal.sagrid.column.subletsale","drill.modal.sagrid.column.subletgp","drill.modal.sagrid.column.rosale","drill.modal.sagrid.column.rocost","drill.modal.sagrid.column.partssale","drill.modal.sagrid.column.partscost","drill.modal.sagrid.column.partsgp","drill.modal.sagrid.column.totalsales","drill.modal.sagrid.column.totalcost","drill.modal.sagrid.column.totalgp","drill.modal.sagrid.column.laborgppercent","drill.modal.sagrid.column.partsgppercent","drill.modal.sagrid.column.totalgppercent"]).subscribe(l=>{this.detailColumns.push({field:"custName",name:l["drill.modal.sagrid.column.custname"],filter:e[ke.d.Default]},{field:"jDate",name:l["drill.modal.sagrid.column.jdate"],labelFormat:ke.d.Date,filter:e[ke.d.Date]},{field:"roType",name:l["drill.modal.sagrid.column.labortype"],filter:e[ke.d.Default]},{field:"ro",name:l["drill.modal.sagrid.column.ro"],filter:e[ke.d.Integer]},{field:"laborSale",name:l["drill.modal.sagrid.column.laborsale"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"laborCost",name:l["drill.modal.sagrid.column.laborcost"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"laborGP",name:l["drill.modal.sagrid.column.laborgp"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"MiscSale",name:l["drill.modal.sagrid.column.miscsale"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"MiscGP",name:l["drill.modal.sagrid.column.misccost"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"LubeSale",name:l["drill.modal.sagrid.column.lubesale"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"LubeGP",name:l["drill.modal.sagrid.column.lubegp"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"SubletSale",name:l["drill.modal.sagrid.column.subletsale"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"SubletGP",name:l["drill.modal.sagrid.column.subletgp"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"RoSale",name:l["drill.modal.sagrid.column.rosale"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"RoGP",name:l["drill.modal.sagrid.column.rocost"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"partsSale",name:l["drill.modal.sagrid.column.partssale"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"partsGP",name:l["drill.modal.sagrid.column.partsgp"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"totalSales",name:l["drill.modal.sagrid.column.totalsales"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"totalGP",name:l["drill.modal.sagrid.column.totalgp"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"totalGPPercent",name:l["drill.modal.sagrid.column.totalgppercent"],labelFormat:ke.d.Percentage,filter:e[ke.d.Integer],align:1})})}initDataTech(){const e={[ke.d.Money]:ke.c.NumberRange,[ke.d.Money2]:ke.c.NumberRange,[ke.d.Integer]:ke.c.NumberRange,[ke.d.FloatWithOneDecimalPlace]:ke.c.NumberRange,[ke.d.Default]:ke.c.String,[ke.c.MultiChoice]:ke.c.MultiChoice};this.sub=this.translate.get(["body.grid.column.storename","body.grid.column.techname","body.grid.column.LbrType","body.grid.column.lbrsale","body.grid.column.productivity","body.grid.column.lbrcost","body.grid.column.lblgross","body.grid.column.totalhrs","body.grid.column.avglbrsale","body.grid.column.avglbrcost","body.grid.column.avglblgross","body.grid.column.unbilledhrs","body.grid.column.lbrsalebudget","body.grid.column.lbrsalebudgetpercentage"]).subscribe(l=>{this.columns.push({field:"storeName",name:l["body.grid.column.storename"],labelFormat:ke.d.Default,filter:e[ke.c.MultiChoice],align:0,pinned:"left"},{field:"TechName",name:l["body.grid.column.techname"],labelFormat:ke.d.Default,filter:e[ke.c.MultiChoice],cellRenderer:e=>""===e.value?this.formatUserAvatar.call(this,e,!1,!1):this.formatUserAvatar.call(this,e,!0,!0),align:0,pinned:"left"},{field:"LbrType",name:l["body.grid.column.LbrType"],labelFormat:ke.d.Default,cellRenderer:e=>this.formatSaleType.call(this,e.data&&e.data.LbrType),filter:e[ke.c.MultiChoice],align:1},{field:"lbrSale",name:l["body.grid.column.lbrsale"],labelFormat:ke.d.Money2,filter:e[ke.d.Money2],align:1,aggFunc:"sum"},{field:"totGP",name:"Total GP",labelFormat:ke.d.Money2,filter:e[ke.d.Money2],align:1,aggFunc:"sum"},{field:"tothrs",name:l["body.grid.column.totalhrs"],labelFormat:ke.d.FloatWithOneDecimalPlace,filter:e[ke.d.FloatWithOneDecimalPlace],align:1,aggFunc:"sum"},{field:"lbrSalesBudget",name:l["body.grid.column.lbrsalebudget"],labelFormat:ke.d.FloatWithOneDecimalPlace,filter:e[ke.d.FloatWithOneDecimalPlace],editable:e=>this.editMode&&"0"!==e.data.storeId,hide:"A"!==this.type,cellRenderer:"customEditCellRenderer",cellEditor:"customEditCellEditor",align:1,aggFunc:"sum"},{field:"lbrSalePercentage",name:l["body.grid.column.lbrsalebudgetpercentage"],labelFormat:ke.d.Percentage,filter:e[ke.d.Integer],hide:"A"!==this.type,valueGetter:({data:e})=>e?this.calculateGoal(e.tothrs,e.lbrSalesBudget):"",align:1},{field:"productivity",name:l["body.grid.column.productivity"],labelFormat:ke.d.Percentage,filter:e[ke.d.Integer],align:1},{field:"lbrCost",name:l["body.grid.column.lbrcost"],labelFormat:ke.d.Money2,filter:e[ke.d.Money2],align:1,hide:this.showAllColumns,aggFunc:"sum"},{field:"lbrGross",name:l["body.grid.column.lblgross"],labelFormat:ke.d.Money2,filter:e[ke.d.Money2],align:1,aggFunc:"sum"},{field:"avgLbrSale",name:l["body.grid.column.avglbrsale"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1,aggFunc:"sum"},{field:"avgLbrCost",name:l["body.grid.column.avglbrcost"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1,aggFunc:"sum"},{field:"avgLbrGross",name:l["body.grid.column.avglblgross"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1,aggFunc:"sum"},{field:"avgtotGP",name:"Avg Total GP per hour",labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1,aggFunc:"sum"},{field:"UnBilledHrs",name:l["body.grid.column.unbilledhrs"],labelFormat:ke.d.FloatWithOneDecimalPlace,filter:e[ke.d.FloatWithOneDecimalPlace],align:1,aggFunc:"sum"}),this.editableColumns=["lbrSalesBudget"]})}initColumnsDrillTech(){const e={[ke.d.Money]:ke.c.NumberRange,[ke.d.Money2]:ke.c.NumberRange,[ke.d.Integer]:ke.c.NumberRange,[ke.d.FloatWithOneDecimalPlace]:ke.c.NumberRange,[ke.d.Default]:ke.c.String,[ke.c.MultiChoice]:ke.c.MultiChoice};this.detailColumns=[],this.sub=this.translate.get(["body.grid.column.ro","body.grid.column.LbrType","body.grid.column.lbrsale","body.grid.column.productivity","body.grid.column.lbrcost","body.grid.column.lblgross","body.grid.column.totalhrs","body.grid.column.avglbrsale","body.grid.column.avglbrcost","body.grid.column.avglblgross","body.grid.column.unbilledhrs"]).subscribe(l=>{this.detailColumns.push({field:"RO",name:l["body.grid.column.ro"],filter:e[ke.c.NumberRange],labelFormat:ke.d.Default,align:1},{field:"LbrType",name:l["body.grid.column.LbrType"],labelFormat:ke.d.Default,cellRenderer:e=>this.formatSaleType.call(this,e.data&&e.data.LbrType),filter:e[ke.c.MultiChoice],align:1},{field:"lbrSale",name:l["body.grid.column.lbrsale"],labelFormat:ke.d.Money2,filter:e[ke.d.Money2],align:1},{field:"tothrs",name:l["body.grid.column.totalhrs"],labelFormat:ke.d.FloatWithOneDecimalPlace,filter:e[ke.d.FloatWithOneDecimalPlace],align:1},{field:"productivity",name:l["body.grid.column.productivity"],labelFormat:ke.d.Percentage,filter:e[ke.d.Integer],align:1},{field:"lbrCost",name:l["body.grid.column.lbrcost"],labelFormat:ke.d.Money2,filter:e[ke.d.Money2],align:1,hide:this.showAllColumns},{field:"lbrGross",name:l["body.grid.column.lblgross"],labelFormat:ke.d.Money2,filter:e[ke.d.Money2],align:1},{field:"avgLbrSale",name:l["body.grid.column.avglbrsale"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"avgLbrCost",name:l["body.grid.column.avglbrcost"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"avgLbrGross",name:l["body.grid.column.avglblgross"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"UnBilledHrs",name:l["body.grid.column.unbilledhrs"],labelFormat:ke.d.FloatWithOneDecimalPlace,filter:e[ke.d.FloatWithOneDecimalPlace],align:1})})}initDataFetcherSubscription(){this.sub=this.filterData.filtersDef$.subscribe(e=>this.filters=e),this.sub=this.filterData.value$.pipe(Object(De.a)(100),Object(Fe.a)(this.filterData.storeGroups$)).subscribe(([e,l])=>{if(this.editMode=!1,this.selectedStore="groupId"===e.by?0:+e.groupOrStore,this.selectedBusiness="groupId"!==e.by?0:+e.groupOrStore,this.dateIndex=+e.date,"groupId"===e.by){const t=l.find(l=>+l.value==+e.groupOrStore);this.storeids=t&&t.data?t.data.map(e=>e.store_id):null}else this.storeids=null;switch(this.typeReport.toLowerCase()){case"tech":this.updateGridDataTech(this.dateIndex,this.type,this.selectedStore,this.selectedBusiness,this.storeids);break;case"sa":this.getMakeValues(),this.updateGridDataSA(this.dateIndex,this.type,this.selectedStore,this.selectedBusiness,this.make,this.storeids);break;default:0===Object.keys(this.filterName).length&&(this.allSelected.select(),this.dealStatusAll.select()),this.updateGridData(this.screenId,this.sectionId,this.secLine,this.stockType,this.dateIndex,this.selectedStore,this.selectedBusiness,this.storeids)}})}initDataSA(){const e={[ke.d.Money]:ke.c.NumberRange,[ke.d.Integer]:ke.c.NumberRange,[ke.d.Default]:ke.c.String,[ke.c.MultiChoice]:ke.c.MultiChoice};this.sub=this.translate.get(["body.grid.column.storename","body.grid.column.advisorname","body.grid.column.make","body.grid.column.rocount","body.grid.column.totalpartslaborsalesbudget","body.grid.column.totalpartslaborsalesbudgetper","body.grid.column.totallaborsales","body.grid.column.totalpartssales","body.grid.column.totalpartslaborsales","body.grid.column.partslaborratio","body.grid.column.flatratehours","body.grid.column.flatratehrsperro","body.grid.column.elr","body.grid.column.laborgp","body.grid.column.partsgp","body.grid.column.ptslabgp","body.grid.column.ptslabgpperro","body.grid.column.laborgppercen","body.grid.column.partsgppercen","drill.modal.sagrid.column.totalgp"]).subscribe(l=>{this.columns.push({field:"storeName",name:l["body.grid.column.storename"],labelFormat:ke.d.Default,filter:e[ke.c.MultiChoice],align:0,pinned:"left"},{field:"saName",name:l["body.grid.column.advisorname"],labelFormat:ke.d.Default,cellRenderer:e=>""===e.value?this.formatUserAvatar.call(this,e,!1,!1):this.formatUserAvatar.call(this,e,!0,!0),filter:e[ke.c.MultiChoice],align:0,pinned:"left"},{field:"Make",name:l["body.grid.column.make"],filter:e[ke.c.MultiChoice],align:1},{field:"cnt",name:l["body.grid.column.rocount"],labelFormat:ke.d.Integer,filter:e[ke.d.Integer],align:1,aggFunc:"sum"},{field:"ls",name:l["body.grid.column.totallaborsales"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1,aggFunc:"sum"},{field:"ps",name:l["body.grid.column.totalpartssales"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1,aggFunc:"sum"},{field:"lsps",name:l["body.grid.column.totalpartslaborsales"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1,aggFunc:"sum"},{field:"LbrPrtSalesBudget",name:l["body.grid.column.totalpartslaborsalesbudget"],labelFormat:ke.d.Money,filter:e[ke.d.Money],hide:"A"!==this.type,editable:e=>this.editMode&&"-1"!==e.data.storeId,cellRenderer:"customEditCellRenderer",cellEditor:"customEditCellEditor",align:1,aggFunc:"sum"},{field:"LbrPrtSalesBudgetPercent",name:l["body.grid.column.totalpartslaborsalesbudgetper"],labelFormat:ke.d.Default,filter:e[ke.d.Integer],hide:"A"!==this.type,valueGetter:e=>{if(e.data)return this.calculateGoal(e.data.lsps,e.data.LbrPrtSalesBudget)},align:1},{field:"psls",name:l["body.grid.column.partslaborratio"],labelFormat:ke.d.Percentage,filter:e[ke.d.Integer],align:1},{field:"hrs",name:l["body.grid.column.flatratehours"],labelFormat:ke.d.FloatWithOneDecimalPlace,filter:e[ke.d.Integer],align:1,aggFunc:"sum"},{field:"hrsPerRo2",name:l["body.grid.column.flatratehrsperro"],labelFormat:ke.d.FloatWithTwoDecimalPlaces,filter:e[ke.d.Integer],align:1,aggFunc:"sum"},{field:"elr",name:l["body.grid.column.elr"],labelFormat:ke.d.Money2,filter:e[ke.d.Money],align:1,aggFunc:"sum"},{field:"lg",name:l["body.grid.column.laborgp"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1,aggFunc:"sum"},{field:"pg",name:l["body.grid.column.partsgp"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1,aggFunc:"sum"},{field:"lpg",name:l["body.grid.column.ptslabgp"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1,aggFunc:"sum"},{field:"lgppgp",name:l["body.grid.column.ptslabgpperro"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1,aggFunc:"sum"},{field:"totalGP",name:l["drill.modal.sagrid.column.totalgp"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1,aggFunc:"sum"},{field:"lgPer",name:l["body.grid.column.laborgppercen"],labelFormat:ke.d.Percentage,filter:e[ke.d.Integer],align:1},{field:"pgPer",name:l["body.grid.column.partsgppercen"],labelFormat:ke.d.Percentage,filter:e[ke.d.Integer],align:1}),this.editableColumns=["LbrPrtSalesBudget"]})}initDataAll(){const e={[ke.d.Money]:ke.c.NumberRange,[ke.d.Integer]:ke.c.NumberRange,[ke.d.Default]:ke.c.String};this.secLine="fi"===this.typeReport?30:20,this.sub=this.translate.get(["body.grid.column.rank","body.grid.column.storename","body.grid.column.employee","body.grid.column.position","body.grid.column.salescount","body.grid.column.salescountbudget","body.grid.column.goalpercentage","body.grid.column.mtdpvr","body.grid.column.pvr90days","body.grid.column.frontgross","body.grid.column.frontgrossbudget","body.grid.column.backgross","body.grid.column.backgrossbudget","body.grid.column.totalgross","body.grid.column.avggross","body.grid.column.volumetracking","body.grid.column.totalgrosstracking","body.grid.column.frontgoalpercentage","body.grid.column.backgoalpercentage"]).subscribe(l=>{this.goals.push({value:1,label:l["body.grid.column.salescount"]},{value:2,label:l["body.grid.column.frontgross"]},{value:3,label:l["body.grid.column.backgross"]}),this.columns.push({field:"rankcurrent",name:l["body.grid.column.rank"],labelFormat:ke.d.Integer,filter:e[ke.d.Integer],cellRenderer:this.getRankTrend,align:2},{field:"storeName",name:l["body.grid.column.storename"],labelFormat:ke.d.Default,filter:e[ke.d.Default],align:0},{field:"name",name:l["body.grid.column.employee"],labelFormat:ke.d.Default,filter:e[ke.d.Default],cellRenderer:e=>this.formatUserAvatar.call(this,e,!0),align:0},{field:"pvr90Days",name:l["body.grid.column.pvr90days"],labelFormat:ke.d.Money,filter:e[ke.d.Integer],align:1,hide:this.showAllColumns,aggFunc:"sum"},{field:"salesCount",name:l["body.grid.column.salescount"],labelFormat:ke.d.Integer,filter:e[ke.d.Integer],align:2,aggFunc:"sum"},{field:"salesCountBudget",name:l["body.grid.column.salescountbudget"],labelFormat:ke.d.Integer,filter:e[ke.d.Integer],editable:e=>this.editMode&&"0"!==e.data.storeId,cellRenderer:"customEditCellRenderer",cellEditor:"customEditCellEditor",align:1,aggFunc:"sum"},{field:"salesGoalPercent",name:l["body.grid.column.goalpercentage"],labelFormat:ke.d.Percentage,filter:e[ke.d.Integer],valueGetter:e=>e.data?this.calculateGoal(e.data.salesCount,e.data.salesCountBudget):void 0,align:1,hide:this.showAllColumns},{field:"frontGross",name:l["body.grid.column.frontgross"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1,hide:!this.showAllColumns,aggFunc:"sum"},{field:"frontGrossBudget",name:l["body.grid.column.frontgrossbudget"],labelFormat:ke.d.Money,filter:e[ke.d.Money],editable:e=>this.editMode&&"0"!==e.data.storeId,hide:!this.showAllColumns,cellRenderer:"customEditCellRenderer",cellEditor:"customEditCellEditor",cellEditorParams:{showSaveButton:!1,regExp:/^[-+]?\d*$/},align:1},{field:"frontGoalPercent",name:l["body.grid.column.frontgoalpercentage"],labelFormat:ke.d.Percentage,filter:e[ke.d.Integer],valueGetter:({data:e})=>e?this.calculateGoalForGross(e.frontGross,e.frontGrossBudget):void 0,align:1,hide:!this.showAllColumns},{field:"backGross",name:l["body.grid.column.backgross"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1,hide:!this.showAllColumns,aggFunc:"sum"},{field:"backGrossBudget",name:l["body.grid.column.backgrossbudget"],labelFormat:ke.d.Money,filter:e[ke.d.Money],editable:e=>this.editMode&&"0"!==e.data.storeId,hide:!this.showAllColumns,cellRenderer:"customEditCellRenderer",cellEditor:"customEditCellEditor",cellEditorParams:{showSaveButton:!1,regExp:/^[-+]?\d*$/},align:1},{field:"backGoalPercent",name:l["body.grid.column.backgoalpercentage"],labelFormat:ke.d.Percentage,filter:e[ke.d.Integer],valueGetter:({data:e})=>e?this.calculateGoalForGross(e.backGross,e.backGrossBudget):void 0,align:1,hide:!this.showAllColumns},{field:"totalGross",name:l["body.grid.column.totalgross"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1,hide:!this.showAllColumns,aggFunc:"sum"},{field:"avgGross",name:l["body.grid.column.avggross"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1,hide:!this.showAllColumns},{field:"volTracking",name:l["body.grid.column.volumetracking"],labelFormat:ke.d.Money,filter:e[ke.d.Integer],align:1,hide:!this.showAllColumns,aggFunc:"sum"},{field:"totalGrossTraking",name:l["body.grid.column.totalgrosstracking"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1,hide:!this.showAllColumns,aggFunc:"sum"}),this.editableColumns=["salesCountBudget","frontGrossBudget","backGrossBudget"]}),this.sub=this.translate.get(["body.grid.column.deal","body.grid.column.entry","body.grid.column.stock","body.grid.column.stocktype","body.grid.column.vin","body.grid.column.stryear","body.grid.column.make","body.grid.column.model","body.grid.column.totalgross","body.grid.column.backgross","body.grid.column.frontgross","body.grid.column.count"]).subscribe(l=>{this.detailColumns.push({field:"deal",name:l["body.grid.column.deal"],labelFormat:ke.d.Default,filter:e[ke.d.Default],align:0},{field:"entry",name:l["body.grid.column.entry"],labelFormat:ke.d.Default,filter:e[ke.d.Default],align:0},{field:"Stock",name:l["body.grid.column.stock"],labelFormat:ke.d.Default,filter:e[ke.d.Default],align:0},{field:"StockType",name:l["body.grid.column.stocktype"],labelFormat:ke.d.Default,filter:e[ke.d.Default],align:0},{field:"VIN",name:l["body.grid.column.vin"],labelFormat:ke.d.Default,filter:e[ke.d.Default],align:0},{field:"strYear",name:l["body.grid.column.stryear"],labelFormat:ke.d.Default,filter:e[ke.d.Default],align:1},{field:"Make",name:l["body.grid.column.make"],labelFormat:ke.d.Default,filter:e[ke.d.Default],align:1},{field:"Model",name:l["body.grid.column.model"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"Count",name:l["body.grid.column.count"],labelFormat:ke.d.FloatWithTwoDecimalPlaces,align:1},{field:"frontGross",name:l["body.grid.column.frontgross"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"backGross",name:l["body.grid.column.backgross"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1},{field:"totalGross",name:l["body.grid.column.totalgross"],labelFormat:ke.d.Money,filter:e[ke.d.Money],align:1})})}updateGridDataTech(e,l,t,n,a){return this.loading=!0,new Promise((i,o)=>{this.salescontestapi.getTechnicianReport(e,l,t,n,a).then(e=>{this.sub=Object(we.b)(this.instanceAppSettingsApi.settings$,this.coreCache.storesById$).subscribe(([l,t])=>{e.data.map(e=>{if(-1==+e.storeId)e.storeName="TOTAL";else{const n=t.get(+e.storeId);e.storeName=n&&n[l.storeNameType]}"TOTAL"===e.TechName&&(e.TechName="")})}),this.pinnedBottomRowData=[],e.data.length&&"TOTAL"===e.data[e.data.length-1].storeName&&(1===e.data.length?e.data=[]:(this.pinnedBottomRowData=[],this.pinnedBottomRowData.push(e.data[e.data.length-1]))),this.salesContestdata=[],e.data.map(e=>{"TOTAL"!==e.storeName&&this.salesContestdata.push(e)}),this.loading=!1,this.changeDetectorRef&&this.changeDetectorRef.detectChanges(),i()}).catch(e=>{console.log(e),this.loading=!1,i()})})}updateGridDataSA(e,l,t,n,a,i){return this.loading=!0,this.makeVal=this.makes&&this.makes.find(e=>e.Make===a)?this.makes.find(e=>e.Make===a):{Make:"All"},this.make=this.makeVal.Make,new Promise((a,o)=>{this.salescontestapi.getServiceAdvisorReport(e,l,t,n,this.make,i).then(e=>{this.sub=Object(we.b)(this.instanceAppSettingsApi.settings$,this.coreCache.storesById$).subscribe(([l,t])=>{e.data.map(e=>{if(-1==+e.storeId)e.storeName="TOTAL";else{const n=t.get(+e.storeId);e.storeName=n&&n[l.storeNameType]}"TOTAL"===e.saName&&(e.saName="")})}),this.pinnedBottomRowData=[],e.data.length&&"TOTAL"===e.data[e.data.length-1].storeName&&(1===e.data.length?e.data=[]:(this.pinnedBottomRowData=[],this.pinnedBottomRowData.push(e.data[e.data.length-1]))),this.salesContestdata=[],e.data.map(e=>{"TOTAL"!==e.storeName&&this.salesContestdata.push(e)}),this.loading=!1,this.makeObj=this.makeVal,this.changeDetectorRef&&this.changeDetectorRef.detectChanges(),a()}).catch(e=>{console.log(e),this.loading=!1,a()})})}onTechCellValueChanged(e){const l=e.data.techId,t=e.data.storeId,n=e.data.monthBudget,a=e.data.yearBudget;this.salescontestapi.updateTechBudget(l,n,a,null===e.data.lbrSalesBudget?0:e.data.lbrSalesBudget,t,e.data.idBudget,e.data.LbrType).then(e=>{this.tableGrid.agGrid.rowData.filter(e=>+e.storeId==+t&&+e.monthBudget==+n&&+e.yearBudget==+a&&e.techId===l)[0].idBudget=e.idBudget,this.edited=!0,this.dataApi.cleanCache()})}onSaCellValueChanged(e){const l=e.data.empId,t=e.data.storeId,n=e.data.monthBudget,a=e.data.yearBudget;this.salescontestapi.updateSABudget(l,n,a,null===e.data.LbrPrtSalesBudget?0:e.data.LbrPrtSalesBudget,t,e.data.idBudget,e.data.Make).then(i=>{this.tableGrid.agGrid.rowData.filter(e=>+e.storeId==+t&&+e.monthBudget==+n&&+e.yearBudget==+a&&e.empId===l)[0].idBudget=i.idBudget,this.tableGrid.agGrid.rowData.forEach(l=>{"-1"===l.storeId&&(l.LbrPrtSalesBudget=+e.newValue-+e.oldValue+ +l.LbrPrtSalesBudget)}),this.tableGrid.agGrid.api.refreshCells(),this.salesContestdata=this.tableGrid.agGrid.rowData,this.edited=!0,this.dataApi.cleanCache()})}getValue(e,l){let t;return l=isNaN(l)||!l?0:l,!e||isNaN(e)||0===Math.floor(e)?100:0===Math.floor(l)?0:(t=+(100*l/e).toFixed(0),t/100)}fitTableColumns(){this.tableGrid.agGrid.gridOptions.api.sizeColumnsToFit()}getDetailsFormattedData(e){return e.length>0&&e.map(e=>{for(const l of Object.keys(e)){const t=e[l];t&&""!==t&&!isNaN(t)&&(t.toString().indexOf(".")>=0||t.toString().indexOf(","))}}),e}calculateGoal(e,l){if(e&&l){let t=(l&&0!=+l?(e?+e:0)/+l:0).toString();return t=this.formatter.percentage(t),t}}calculateGoalForGross(e,l){const t=(e=+e)-(l=+l);let n;return 0===l?"":(l>0?n=t/l:l<0&&(n=t/l*-1),n+1)}addDrilldown(e){return'<span class="iconDDE icon-plus icon-sm" style="cursor:pointer"></span> '+e.value}formatUserAvatar(e,l=!1,t=!0){let n="";return e&&e.value?(e.data&&(n='<div class="'+(t?"avatar":"avatar hide")+'"><img src="'+(e.data.avatarurl||this.defaultAvatarUrl)+'"></div>'),n+'<span class="'+((l=(!e.value||"PENDING"!==e.value)&&l)?"link":t?"":"hide")+'">'+(e.value?e.value:"")+"</span>"||""):""}formatSaleType(e){switch(e){case"C":return"Customer";case"I":return"Internal";case"W":return"Warranty";default:return"All"}}getRankTrend(e){let l="";return e&&e.data&&0!=+e.data.rankcurrent?(l=+e.data.rankcurrent<=+e.data.ranklast?`<span >${e.value}</span> <span tooltip class="icon-rank positive"></span>`:`<span >${e.value}</span> <span tooltip class="icon-rank negative"></span>`,l=l.replace("tooltip",`title="Prev rank: ${e.data.ranklast}"`),l):""}}var Me=t("iInd"),Te=t("dyEe"),Ie=t("XpwZ"),Pe=t("yK5/"),Oe=t("/wis"),Be=n["\u0275crt"]({encapsulation:0,styles:[[".grid-wrapper[_ngcontent-%COMP%]{width:100%;flex:1 1 100%;height:100%;max-width:100%;background-color:#fff;box-shadow:2px 2px 5px 1px #c1bebe}.top-controls-block[_ngcontent-%COMP%]{height:60px;display:flex;justify-content:space-between}.top-controls-block-left[_ngcontent-%COMP%]{width:calc(100% - 160px);flex:1 1 calc(100% - 160px);padding:20px 20px 10px;display:flex;align-items:center}.top-controls-block-right[_ngcontent-%COMP%]{width:160px;flex:1 0 160px;padding:20px 20px 10px;display:flex;align-items:center;justify-content:flex-end}.top-controls-block-heading[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#404040;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.filters-block[_ngcontent-%COMP%]{height:70px;padding:10px 20px 20px}.grid-block[_ngcontent-%COMP%]{display:flex;height:calc(100% - 60px - 70px)}.grid-block-content[_ngcontent-%COMP%]{width:calc(100% - 40px);flex:1 0 calc(100% - 40px);position:relative}.grid-block-content[_ngcontent-%COMP%]   app-default-grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;will-change:auto;transition:all .5s ease;transform:translate3d(0,0,0)}.grid-block-sidebar[_ngcontent-%COMP%]{width:40px;flex:0 0 40px;border-left:1px solid #ddd}.grid-block-more-info-trigger[_ngcontent-%COMP%]{display:block;height:60px;cursor:pointer;position:relative}.grid-block-more-info-trigger[_ngcontent-%COMP%]:before{content:'\\E5D4';font-family:\"Material Icons\";font-size:24px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.grid-block-more-info-trigger.opened[_ngcontent-%COMP%]:before{content:'\\E5D3'}.top-control-btn[_ngcontent-%COMP%]{color:#5b5b5b;cursor:pointer;margin-left:20px;margin-top:-2px;display:inline-block}.top-control-label[_ngcontent-%COMP%]{color:#747474;font-size:14px;margin-left:10px}.mat-checked[_ngcontent-%COMP%]   .top-control-label[_ngcontent-%COMP%]{color:#2196f3}.tabs-block[_ngcontent-%COMP%]{height:60px;padding:10px 20px 16px}.tab[_ngcontent-%COMP%]{display:inline-block;height:34px;line-height:34px;border-radius:17px;padding-left:15px;padding-right:15px;color:#404040;font-size:14px;font-weight:500;background-color:#e5e5e5;cursor:pointer}.tab.active[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]:hover{color:#3498db;background-color:#e2eff8}.tab[_ngcontent-%COMP%]:not(:last-child){margin-right:15px}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 0 10px;height:45px}.modal-header-right[_ngcontent-%COMP%]   .top-control-btn[_ngcontent-%COMP%]:last-child{margin-right:-4px}.modal-header.with-outer-padding-overwrite[_ngcontent-%COMP%]{margin-top:-19px;margin-left:-19px;margin-right:-19px;padding:10px 20px}.modal-header.with-padding[_ngcontent-%COMP%]{padding:10px 20px}.modal-body[_ngcontent-%COMP%]{height:calc(100% - 45px);position:relative}.modal-body.with-footer[_ngcontent-%COMP%]{height:calc(100% - 45px - 50px)}.modal-body.full-height[_ngcontent-%COMP%]{height:100%}.modal-body.with-min-size[_ngcontent-%COMP%]{min-width:850px;min-height:300px;margin-left:-19px;margin-right:-19px}.modal-body.with-outer-padding-overwrite[_ngcontent-%COMP%]{margin-left:-19px;margin-right:-19px;margin-bottom:-19px}.modal-body[_ngcontent-%COMP%]   app-default-grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}.modal-footer[_ngcontent-%COMP%]{height:50px;display:flex;align-items:center;justify-content:flex-end;background:#eee;margin:0 -19px -19px;padding:0 19px}.modal-footer-text[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#404040;padding-right:15px}.modal-footer-text.last[_ngcontent-%COMP%]{padding-left:15px;padding-right:0}.modal-footer-text.last[_ngcontent-%COMP%]:before{content:'|';position:relative;left:-13px}.modal-heading[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.fi-list[_ngcontent-%COMP%]{display:flex;margin:25px 0;padding:15px 0;border-bottom:1px solid #ddd}.fi-list.single[_ngcontent-%COMP%]{padding:5px 0;margin:0;border-bottom:0}.fi-list-item[_ngcontent-%COMP%]{width:33%;flex:0 0 33%;padding:0 5px}.single[_ngcontent-%COMP%]   .fi-list-item[_ngcontent-%COMP%]:nth-of-type(1){padding-left:0}.single[_ngcontent-%COMP%]   .fi-list-item[_ngcontent-%COMP%]:nth-of-type(3){padding-right:0}.penetration-list.horizontal[_ngcontent-%COMP%]{display:flex;align-items:center}.penetration-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin:25px 0;padding:15px 0 30px;border-bottom:1px solid #ddd}.horizontal[_ngcontent-%COMP%]   .penetration-item[_ngcontent-%COMP%]{width:50%;flex:0 0 50%;padding:10px 15px 10px 0;margin:0;border-bottom:none}.penetration-title[_ngcontent-%COMP%]{width:30%;flex:0 0 30%;font-size:14px;color:#404040;padding-right:5px;overflow:hidden;text-overflow:ellipsis}.penetration-graph[_ngcontent-%COMP%]{width:50%;flex:0 0 50%;padding:0 5px}.penetration-rank[_ngcontent-%COMP%]{width:20%;flex:0 0 20%;padding:0 5px;text-align:center}.chargeback[_ngcontent-%COMP%]{text-align:center;margin:50px 0 30px}.chargeback[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{margin:0 0 5px;font-size:20px;font-weight:600}.chargeback-value[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#404040}.control-btn-settings[_ngcontent-%COMP%]{display:inline-block;width:24px;height:24px;position:relative;cursor:pointer}.control-btn-settings[_ngcontent-%COMP%]:before{content:'\\e8b8';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#5b5b5b;font-size:24px;font-family:\"Material Icons\"}.drill-info[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;list-style:none;padding:0;margin:0}.drill-info-item[_ngcontent-%COMP%]{color:#404040;font-size:14px;margin-right:25px}.drill-info-label[_ngcontent-%COMP%]{font-weight:400}.drill-info-value[_ngcontent-%COMP%]{font-weight:500}[_nghost-%COMP%]{display:flex;height:calc(100% - 110px);padding:20px;margin:0 -20px;background-color:#f5f5f5}[_nghost-%COMP%]   app-occ-filters-group[_ngcontent-%COMP%]{display:inline-flex;margin-right:20px}[_nghost-%COMP%]   .filter-group-item[_ngcontent-%COMP%]{margin-right:20px}  .mat-primary .mat-pseudo-checkbox{width:18px;height:18px}.mat-primary[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate[_ngcontent-%COMP%],   .mat-primary .mat-pseudo-checkbox-checked{background:#ff4081;opacity:.87}  .mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#000}.filters-block-twoRows[_ngcontent-%COMP%]{height:110px;padding:10px 20px 20px}.grid-block-twoRows[_ngcontent-%COMP%]{display:flex;height:calc(100% - 60px - 110px)}.grid-block-twoRows-content[_ngcontent-%COMP%]{width:calc(100% - 40px);flex:1 0 calc(100% - 40px);position:relative}.grid-block-twoRows-content[_ngcontent-%COMP%]   app-default-grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;will-change:auto;transition:all .5s ease;transform:translate3d(0,0,0)}.grid-block-twoRows-sidebar[_ngcontent-%COMP%]{width:40px;flex:0 0 40px;border-left:1px solid #ddd}.grid-block-twoRows-more-info-trigger[_ngcontent-%COMP%]{display:block;height:60px;cursor:pointer;position:relative}.grid-block-twoRows-more-info-trigger[_ngcontent-%COMP%]:before{content:'\\E5D4';font-family:\"Material Icons\";font-size:24px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.grid-block-twoRows-more-info-trigger.opened[_ngcontent-%COMP%]:before{content:'\\E5D3'}  .FIFiltersModal .c_modal__header{height:55px!important}  .FIFiltersModal .c_modal__header .c_modal__title{font-size:20px!important;font-weight:500!important}  .FIFilterDeleteModal .c_modal__header{display:none}  .FIFilterDeleteModal{height:auto}  .FIFilterDeleteModal .modal-body{height:50px}  .mat-menu-panel .mat-menu-content{padding:0!important;max-height:256px}.mat-button[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-button_primary[_ngcontent-%COMP%]{background-color:#0e79cc;color:#fff;margin:8px;box-shadow:2px 2px 5px 1px #c1bebe}.mat-button_white[_ngcontent-%COMP%]{background-color:#fff;color:#0e79cc}.rightItems[_ngcontent-%COMP%]{float:right;display:block}.disabled[_ngcontent-%COMP%]{background-color:#ddd}.marginLeft[_ngcontent-%COMP%]{margin-left:20px}.filterNameClass[_ngcontent-%COMP%], .filterNameLabel[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#404040;margin-bottom:0;margin-right:10px;display:inline-block}.filterNameClass[_ngcontent-%COMP%]{opacity:.7}.edit-button[_ngcontent-%COMP%]{width:18px;height:18px;display:inline-block;cursor:pointer}.edit-button[_ngcontent-%COMP%]:before{content:'\\e3c9';font-family:\"Material Icons\";font-size:20px;color:#0e79cc}.clear-button[_ngcontent-%COMP%]{cursor:pointer;color:#0e79cc;font-weight:700;margin:9px 0 0 10px;vertical-align:top}.top-controls-block-left[_ngcontent-%COMP%]{flex:1 1 calc(100% - 200px)}.top-controls-block-right[_ngcontent-%COMP%]{flex:1 0 200px}[_nghost-%COMP%]     .grid-wrapper .loader--overlay{position:absolute;transform:translate(-50%,-50%);width:104%;height:100%;left:-2%;top:0;transform:none;z-index:10001}[_nghost-%COMP%]     .grid-wrapper .loader--overlay.c__loader{left:5%;top:50%}[_nghost-%COMP%]     .ag-theme-material .ag-cell-data-changed{background-color:transparent!important}"]],data:{}});function Ge(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"app-loader",[["type","overlay"]],[[8,"className",0]],null,null,_.b,_.a)),n["\u0275did"](1,49152,null,0,M.a,[],{type:[0,"type"]},null)],(function(e,l){e(l,1,0,"overlay")}),(function(e,l){e(l,0,0,n["\u0275nov"](l,1).cssClassByType)}))}function Ae(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,5,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"],[null,"focus"]],(function(e,l,t){var a=!0,i=e.component;return"focus"===l&&(a=!1!==n["\u0275nov"](e,2)._inputElement.nativeElement.focus()&&a),"change"===l&&(a=!1!==i.showEditableCols(t.checked)&&a),a}),T.b,T.a)),n["\u0275prd"](5120,null,F.q,(function(e){return[e]}),[I.b]),n["\u0275did"](2,1228800,null,0,I.b,[n.ElementRef,k.h,n.ChangeDetectorRef,[8,null],n.NgZone,I.a,[2,w.a],[2,y.b]],{checked:[0,"checked"]},{change:"change"}),(e()(),n["\u0275eld"](3,0,null,0,2,"span",[["class","top-control-label"]],null,null,null,null,null)),(e()(),n["\u0275ted"](4,null,["",""])),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef])],(function(e,l){e(l,2,0,l.component.editMode)}),(function(e,l){e(l,0,0,n["\u0275nov"](l,2).id,n["\u0275nov"](l,2).disabled?null:-1,n["\u0275nov"](l,2).checked,n["\u0275nov"](l,2).disabled,"before"==n["\u0275nov"](l,2).labelPosition,"NoopAnimations"===n["\u0275nov"](l,2)._animationMode),e(l,4,0,n["\u0275unv"](l,4,0,n["\u0275nov"](l,5).transform("sales-contest-label.budget")))}))}function Ne(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"span",[["class","filterNameClass"]],null,null,null,null,null)),(e()(),n["\u0275ted"](1,null,[' "','" ']))],null,(function(e,l){var t=l.component;e(l,1,0,"1"===t.filterName.isDefault?t.filterName.filterName+" (Default)":t.filterName.filterName)}))}function Ee(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"span",[["class","filterNameClass"]],null,null,null,null,null)),(e()(),n["\u0275ted"](1,null,[" "," "]))],null,(function(e,l){var t=l.component;e(l,1,0,null==t.filterName?null:t.filterName.filterName)}))}function Le(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,0,"button",[["class","edit-button"]],null,[[null,"click"]],(function(e,l,t){var n=!0,a=e.component;return"click"===l&&(n=!1!==a.onEditFilter(a.filterName)&&n),n}),null,null))],null,null)}function Ve(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"button",[["class","clear-button"]],null,[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onClearFilter()&&n),n}),null,null)),(e()(),n["\u0275ted"](1,null,["",""])),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef])],null,(function(e,l){e(l,1,0,n["\u0275unv"](l,1,0,n["\u0275nov"](l,2).transform("sales-contest.clear.label")))}))}function qe(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,11,"div",[["class","marginLeft"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,2,"h4",[["class","filterNameLabel"]],null,null,null,null,null)),(e()(),n["\u0275ted"](2,null,[""," : "])),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef]),(e()(),n["\u0275and"](16777216,null,null,1,null,Ne)),n["\u0275did"](5,16384,null,0,O.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,Ee)),n["\u0275did"](7,16384,null,0,O.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,Le)),n["\u0275did"](9,16384,null,0,O.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,Ve)),n["\u0275did"](11,16384,null,0,O.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var t=l.component;e(l,5,0,(null==t.filterName?null:t.filterName.filterName)&&t.isFilterSaved),e(l,7,0,(null==t.filterName?null:t.filterName.filterName)&&!t.isFilterSaved),e(l,9,0,""!=(null==t.filterName?null:t.filterName.filterName)&&t.isFilterSaved&&t.hasAccess),e(l,11,0,""!=(null==t.filterName?null:t.filterName.filterName)&&t.isFilterSaved)}),(function(e,l){e(l,2,0,n["\u0275unv"](l,2,0,n["\u0275nov"](l,3).transform("sales-contest.filteredby.label")))}))}function je(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,16777216,null,null,3,"button",[["aria-haspopup","true"],["class","top-control-btn"],["mat-button",""]],[[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(e,l,t){var a=!0;return"mousedown"===l&&(a=!1!==n["\u0275nov"](e,1)._handleMousedown(t)&&a),"keydown"===l&&(a=!1!==n["\u0275nov"](e,1)._handleKeydown(t)&&a),"click"===l&&(a=!1!==n["\u0275nov"](e,1)._handleClick(t)&&a),a}),null,null)),n["\u0275did"](1,1196032,null,0,B.g,[G.c,n.ElementRef,n.ViewContainerRef,B.c,[2,B.d],[8,null],[2,y.b],k.h],{menu:[0,"menu"]},null),(e()(),n["\u0275eld"](2,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["filter_list"])),(e()(),n["\u0275and"](0,null,null,0))],(function(e,l){e(l,1,0,n["\u0275nov"](l.parent,28))}),(function(e,l){e(l,0,0,n["\u0275nov"](l,1).menuOpen||null)}))}function ze(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,l,t){var a=!0,i=e.component;return"click"===l&&(a=!1!==n["\u0275nov"](e,1)._checkDisabled(t)&&a),"mouseenter"===l&&(a=!1!==n["\u0275nov"](e,1)._handleMouseEnter()&&a),"click"===l&&(a=!1!==i.onFilterSelect(e.context.$implicit)&&a),a}),A.c,A.a)),n["\u0275did"](1,180224,[[9,4],[10,4]],0,B.e,[n.ElementRef,O.d,k.h,[2,B.b]],null,null),(e()(),n["\u0275ted"](2,0,[" ",""]))],null,(function(e,l){e(l,0,0,n["\u0275nov"](l,1).role,n["\u0275nov"](l,1)._highlighted,n["\u0275nov"](l,1)._triggersSubmenu,n["\u0275nov"](l,1)._getTabIndex(),n["\u0275nov"](l,1).disabled.toString(),n["\u0275nov"](l,1).disabled||null),e(l,2,0,"1"===l.context.$implicit.isDefault?l.context.$implicit.filterName+" (Default)":l.context.$implicit.filterName)}))}function Ue(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(e,l,t){var a=!0;return"click"===l&&(a=!1!==n["\u0275nov"](e,1)._selectViaInteraction()&&a),"keydown"===l&&(a=!1!==n["\u0275nov"](e,1)._handleKeydown(t)&&a),a}),S.b,S.a)),n["\u0275did"](1,8568832,[[21,4]],0,v.p,[n.ElementRef,n.ChangeDetectorRef,[2,v.j],[2,v.o]],{value:[0,"value"]},null),(e()(),n["\u0275ted"](2,0,["",""]))],(function(e,l){e(l,1,0,l.context.$implicit.value)}),(function(e,l){e(l,0,0,n["\u0275nov"](l,1)._getTabIndex(),n["\u0275nov"](l,1).selected,n["\u0275nov"](l,1).multiple,n["\u0275nov"](l,1).active,n["\u0275nov"](l,1).id,n["\u0275nov"](l,1)._getAriaSelected(),n["\u0275nov"](l,1).disabled.toString(),n["\u0275nov"](l,1).disabled),e(l,2,0,l.context.$implicit.name)}))}function Je(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,23,"mat-form-field",[["class","filter-group-item mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,f.b,f.a)),n["\u0275did"](1,7520256,null,9,b.c,[n.ElementRef,n.ChangeDetectorRef,[2,v.h],[2,y.b],[2,b.a],C.a,n.NgZone,[2,w.a]],null,null),n["\u0275qud"](603979776,12,{_controlNonStatic:0}),n["\u0275qud"](335544320,13,{_controlStatic:0}),n["\u0275qud"](603979776,14,{_labelChildNonStatic:0}),n["\u0275qud"](335544320,15,{_labelChildStatic:0}),n["\u0275qud"](603979776,16,{_placeholderChild:0}),n["\u0275qud"](603979776,17,{_errorChildren:1}),n["\u0275qud"](603979776,18,{_hintChildren:1}),n["\u0275qud"](603979776,19,{_prefixChildren:1}),n["\u0275qud"](603979776,20,{_suffixChildren:1}),(e()(),n["\u0275eld"](11,0,null,1,12,"mat-select",[["class","mat-select"],["role","listbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(e,l,t){var a=!0,i=e.component;return"keydown"===l&&(a=!1!==n["\u0275nov"](e,16)._handleKeydown(t)&&a),"focus"===l&&(a=!1!==n["\u0275nov"](e,16)._onFocus()&&a),"blur"===l&&(a=!1!==n["\u0275nov"](e,16)._onBlur()&&a),"ngModelChange"===l&&(a=!1!==(i.defaultPos=t)&&a),"ngModelChange"===l&&(a=!1!==i.onSelectChange(t,"pos")&&a),a}),D.b,D.a)),n["\u0275prd"](6144,null,v.j,null,[x.c]),n["\u0275did"](13,671744,null,0,F.v,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,F.r,null,[F.v]),n["\u0275did"](15,16384,null,0,F.s,[[4,F.r]],null,null),n["\u0275did"](16,2080768,null,3,x.c,[R.i,n.ChangeDetectorRef,n.NgZone,v.b,n.ElementRef,[2,y.b],[2,F.u],[2,F.k],[2,b.c],[6,F.r],[8,null],x.a,k.j],{placeholder:[0,"placeholder"]},null),n["\u0275qud"](603979776,21,{options:1}),n["\u0275qud"](603979776,22,{optionGroups:1}),n["\u0275qud"](603979776,23,{customTrigger:0}),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef]),n["\u0275prd"](2048,[[12,4],[13,4]],b.d,null,[x.c]),(e()(),n["\u0275and"](16777216,null,1,1,null,Ue)),n["\u0275did"](23,278528,null,0,O.m,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,l){var t=l.component;e(l,13,0,t.defaultPos),e(l,16,0,n["\u0275unv"](l,16,0,n["\u0275nov"](l,20).transform("sales-contest.body.filter.position.label"))),e(l,23,0,t.positions)}),(function(e,l){e(l,0,1,["standard"==n["\u0275nov"](l,1).appearance,"fill"==n["\u0275nov"](l,1).appearance,"outline"==n["\u0275nov"](l,1).appearance,"legacy"==n["\u0275nov"](l,1).appearance,n["\u0275nov"](l,1)._control.errorState,n["\u0275nov"](l,1)._canLabelFloat,n["\u0275nov"](l,1)._shouldLabelFloat(),n["\u0275nov"](l,1)._hasFloatingLabel(),n["\u0275nov"](l,1)._hideControlPlaceholder(),n["\u0275nov"](l,1)._control.disabled,n["\u0275nov"](l,1)._control.autofilled,n["\u0275nov"](l,1)._control.focused,"accent"==n["\u0275nov"](l,1).color,"warn"==n["\u0275nov"](l,1).color,n["\u0275nov"](l,1)._shouldForward("untouched"),n["\u0275nov"](l,1)._shouldForward("touched"),n["\u0275nov"](l,1)._shouldForward("pristine"),n["\u0275nov"](l,1)._shouldForward("dirty"),n["\u0275nov"](l,1)._shouldForward("valid"),n["\u0275nov"](l,1)._shouldForward("invalid"),n["\u0275nov"](l,1)._shouldForward("pending"),!n["\u0275nov"](l,1)._animationsEnabled]),e(l,11,1,[n["\u0275nov"](l,15).ngClassUntouched,n["\u0275nov"](l,15).ngClassTouched,n["\u0275nov"](l,15).ngClassPristine,n["\u0275nov"](l,15).ngClassDirty,n["\u0275nov"](l,15).ngClassValid,n["\u0275nov"](l,15).ngClassInvalid,n["\u0275nov"](l,15).ngClassPending,n["\u0275nov"](l,16).id,n["\u0275nov"](l,16).tabIndex,n["\u0275nov"](l,16)._getAriaLabel(),n["\u0275nov"](l,16)._getAriaLabelledby(),n["\u0275nov"](l,16).required.toString(),n["\u0275nov"](l,16).disabled.toString(),n["\u0275nov"](l,16).errorState,n["\u0275nov"](l,16).panelOpen?n["\u0275nov"](l,16)._optionIds:null,n["\u0275nov"](l,16).multiple,n["\u0275nov"](l,16)._ariaDescribedby||null,n["\u0275nov"](l,16)._getAriaActiveDescendant(),n["\u0275nov"](l,16).disabled,n["\u0275nov"](l,16).errorState,n["\u0275nov"](l,16).required,n["\u0275nov"](l,16).empty])}))}function Ke(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(e,l,t){var a=!0;return"click"===l&&(a=!1!==n["\u0275nov"](e,1)._selectViaInteraction()&&a),"keydown"===l&&(a=!1!==n["\u0275nov"](e,1)._handleKeydown(t)&&a),a}),S.b,S.a)),n["\u0275did"](1,8568832,[[33,4]],0,v.p,[n.ElementRef,n.ChangeDetectorRef,[2,v.j],[2,v.o]],{value:[0,"value"]},null),(e()(),n["\u0275ted"](2,0,["",""]))],(function(e,l){e(l,1,0,l.context.$implicit.value)}),(function(e,l){e(l,0,0,n["\u0275nov"](l,1)._getTabIndex(),n["\u0275nov"](l,1).selected,n["\u0275nov"](l,1).multiple,n["\u0275nov"](l,1).active,n["\u0275nov"](l,1).id,n["\u0275nov"](l,1)._getAriaSelected(),n["\u0275nov"](l,1).disabled.toString(),n["\u0275nov"](l,1).disabled),e(l,2,0,l.context.$implicit.label)}))}function $e(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,23,"mat-form-field",[["class","filter-group-item mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,f.b,f.a)),n["\u0275did"](1,7520256,null,9,b.c,[n.ElementRef,n.ChangeDetectorRef,[2,v.h],[2,y.b],[2,b.a],C.a,n.NgZone,[2,w.a]],null,null),n["\u0275qud"](603979776,24,{_controlNonStatic:0}),n["\u0275qud"](335544320,25,{_controlStatic:0}),n["\u0275qud"](603979776,26,{_labelChildNonStatic:0}),n["\u0275qud"](335544320,27,{_labelChildStatic:0}),n["\u0275qud"](603979776,28,{_placeholderChild:0}),n["\u0275qud"](603979776,29,{_errorChildren:1}),n["\u0275qud"](603979776,30,{_hintChildren:1}),n["\u0275qud"](603979776,31,{_prefixChildren:1}),n["\u0275qud"](603979776,32,{_suffixChildren:1}),(e()(),n["\u0275eld"](11,0,null,1,12,"mat-select",[["class","mat-select"],["role","listbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(e,l,t){var a=!0,i=e.component;return"keydown"===l&&(a=!1!==n["\u0275nov"](e,16)._handleKeydown(t)&&a),"focus"===l&&(a=!1!==n["\u0275nov"](e,16)._onFocus()&&a),"blur"===l&&(a=!1!==n["\u0275nov"](e,16)._onBlur()&&a),"ngModelChange"===l&&(a=!1!==(i.selectedGoal=t)&&a),"ngModelChange"===l&&(a=!1!==i.onChangeTarget(t)&&a),a}),D.b,D.a)),n["\u0275prd"](6144,null,v.j,null,[x.c]),n["\u0275did"](13,671744,null,0,F.v,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,F.r,null,[F.v]),n["\u0275did"](15,16384,null,0,F.s,[[4,F.r]],null,null),n["\u0275did"](16,2080768,null,3,x.c,[R.i,n.ChangeDetectorRef,n.NgZone,v.b,n.ElementRef,[2,y.b],[2,F.u],[2,F.k],[2,b.c],[6,F.r],[8,null],x.a,k.j],{placeholder:[0,"placeholder"]},null),n["\u0275qud"](603979776,33,{options:1}),n["\u0275qud"](603979776,34,{optionGroups:1}),n["\u0275qud"](603979776,35,{customTrigger:0}),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef]),n["\u0275prd"](2048,[[24,4],[25,4]],b.d,null,[x.c]),(e()(),n["\u0275and"](16777216,null,1,1,null,Ke)),n["\u0275did"](23,278528,null,0,O.m,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,l){var t=l.component;e(l,13,0,t.selectedGoal),e(l,16,0,n["\u0275unv"](l,16,0,n["\u0275nov"](l,20).transform("sales-contest.body.goal-target"))),e(l,23,0,t.goals)}),(function(e,l){e(l,0,1,["standard"==n["\u0275nov"](l,1).appearance,"fill"==n["\u0275nov"](l,1).appearance,"outline"==n["\u0275nov"](l,1).appearance,"legacy"==n["\u0275nov"](l,1).appearance,n["\u0275nov"](l,1)._control.errorState,n["\u0275nov"](l,1)._canLabelFloat,n["\u0275nov"](l,1)._shouldLabelFloat(),n["\u0275nov"](l,1)._hasFloatingLabel(),n["\u0275nov"](l,1)._hideControlPlaceholder(),n["\u0275nov"](l,1)._control.disabled,n["\u0275nov"](l,1)._control.autofilled,n["\u0275nov"](l,1)._control.focused,"accent"==n["\u0275nov"](l,1).color,"warn"==n["\u0275nov"](l,1).color,n["\u0275nov"](l,1)._shouldForward("untouched"),n["\u0275nov"](l,1)._shouldForward("touched"),n["\u0275nov"](l,1)._shouldForward("pristine"),n["\u0275nov"](l,1)._shouldForward("dirty"),n["\u0275nov"](l,1)._shouldForward("valid"),n["\u0275nov"](l,1)._shouldForward("invalid"),n["\u0275nov"](l,1)._shouldForward("pending"),!n["\u0275nov"](l,1)._animationsEnabled]),e(l,11,1,[n["\u0275nov"](l,15).ngClassUntouched,n["\u0275nov"](l,15).ngClassTouched,n["\u0275nov"](l,15).ngClassPristine,n["\u0275nov"](l,15).ngClassDirty,n["\u0275nov"](l,15).ngClassValid,n["\u0275nov"](l,15).ngClassInvalid,n["\u0275nov"](l,15).ngClassPending,n["\u0275nov"](l,16).id,n["\u0275nov"](l,16).tabIndex,n["\u0275nov"](l,16)._getAriaLabel(),n["\u0275nov"](l,16)._getAriaLabelledby(),n["\u0275nov"](l,16).required.toString(),n["\u0275nov"](l,16).disabled.toString(),n["\u0275nov"](l,16).errorState,n["\u0275nov"](l,16).panelOpen?n["\u0275nov"](l,16)._optionIds:null,n["\u0275nov"](l,16).multiple,n["\u0275nov"](l,16)._ariaDescribedby||null,n["\u0275nov"](l,16)._getAriaActiveDescendant(),n["\u0275nov"](l,16).disabled,n["\u0275nov"](l,16).errorState,n["\u0275nov"](l,16).required,n["\u0275nov"](l,16).empty])}))}function We(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(e,l,t){var a=!0;return"click"===l&&(a=!1!==n["\u0275nov"](e,1)._selectViaInteraction()&&a),"keydown"===l&&(a=!1!==n["\u0275nov"](e,1)._handleKeydown(t)&&a),a}),S.b,S.a)),n["\u0275did"](1,8568832,[[45,4]],0,v.p,[n.ElementRef,n.ChangeDetectorRef,[2,v.j],[2,v.o]],{value:[0,"value"]},null),(e()(),n["\u0275ted"](2,0,["",""]))],(function(e,l){e(l,1,0,l.context.$implicit)}),(function(e,l){e(l,0,0,n["\u0275nov"](l,1)._getTabIndex(),n["\u0275nov"](l,1).selected,n["\u0275nov"](l,1).multiple,n["\u0275nov"](l,1).active,n["\u0275nov"](l,1).id,n["\u0275nov"](l,1)._getAriaSelected(),n["\u0275nov"](l,1).disabled.toString(),n["\u0275nov"](l,1).disabled),e(l,2,0,l.context.$implicit.Make)}))}function Xe(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,23,"mat-form-field",[["class","filter-group-item mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,f.b,f.a)),n["\u0275did"](1,7520256,null,9,b.c,[n.ElementRef,n.ChangeDetectorRef,[2,v.h],[2,y.b],[2,b.a],C.a,n.NgZone,[2,w.a]],null,null),n["\u0275qud"](603979776,36,{_controlNonStatic:0}),n["\u0275qud"](335544320,37,{_controlStatic:0}),n["\u0275qud"](603979776,38,{_labelChildNonStatic:0}),n["\u0275qud"](335544320,39,{_labelChildStatic:0}),n["\u0275qud"](603979776,40,{_placeholderChild:0}),n["\u0275qud"](603979776,41,{_errorChildren:1}),n["\u0275qud"](603979776,42,{_hintChildren:1}),n["\u0275qud"](603979776,43,{_prefixChildren:1}),n["\u0275qud"](603979776,44,{_suffixChildren:1}),(e()(),n["\u0275eld"](11,0,null,1,12,"mat-select",[["class","mat-select"],["role","listbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(e,l,t){var a=!0,i=e.component;return"keydown"===l&&(a=!1!==n["\u0275nov"](e,16)._handleKeydown(t)&&a),"focus"===l&&(a=!1!==n["\u0275nov"](e,16)._onFocus()&&a),"blur"===l&&(a=!1!==n["\u0275nov"](e,16)._onBlur()&&a),"ngModelChange"===l&&(a=!1!==(i.makeObj=t)&&a),"ngModelChange"===l&&(a=!1!==i.onMakeChange(t)&&a),a}),D.b,D.a)),n["\u0275prd"](6144,null,v.j,null,[x.c]),n["\u0275did"](13,671744,null,0,F.v,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,F.r,null,[F.v]),n["\u0275did"](15,16384,null,0,F.s,[[4,F.r]],null,null),n["\u0275did"](16,2080768,null,3,x.c,[R.i,n.ChangeDetectorRef,n.NgZone,v.b,n.ElementRef,[2,y.b],[2,F.u],[2,F.k],[2,b.c],[6,F.r],[8,null],x.a,k.j],{placeholder:[0,"placeholder"]},null),n["\u0275qud"](603979776,45,{options:1}),n["\u0275qud"](603979776,46,{optionGroups:1}),n["\u0275qud"](603979776,47,{customTrigger:0}),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef]),n["\u0275prd"](2048,[[36,4],[37,4]],b.d,null,[x.c]),(e()(),n["\u0275and"](16777216,null,1,1,null,We)),n["\u0275did"](23,278528,null,0,O.m,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,l){var t=l.component;e(l,13,0,t.makeObj),e(l,16,0,n["\u0275unv"](l,16,0,n["\u0275nov"](l,20).transform("body.grid.column.make"))),e(l,23,0,t.makes)}),(function(e,l){e(l,0,1,["standard"==n["\u0275nov"](l,1).appearance,"fill"==n["\u0275nov"](l,1).appearance,"outline"==n["\u0275nov"](l,1).appearance,"legacy"==n["\u0275nov"](l,1).appearance,n["\u0275nov"](l,1)._control.errorState,n["\u0275nov"](l,1)._canLabelFloat,n["\u0275nov"](l,1)._shouldLabelFloat(),n["\u0275nov"](l,1)._hasFloatingLabel(),n["\u0275nov"](l,1)._hideControlPlaceholder(),n["\u0275nov"](l,1)._control.disabled,n["\u0275nov"](l,1)._control.autofilled,n["\u0275nov"](l,1)._control.focused,"accent"==n["\u0275nov"](l,1).color,"warn"==n["\u0275nov"](l,1).color,n["\u0275nov"](l,1)._shouldForward("untouched"),n["\u0275nov"](l,1)._shouldForward("touched"),n["\u0275nov"](l,1)._shouldForward("pristine"),n["\u0275nov"](l,1)._shouldForward("dirty"),n["\u0275nov"](l,1)._shouldForward("valid"),n["\u0275nov"](l,1)._shouldForward("invalid"),n["\u0275nov"](l,1)._shouldForward("pending"),!n["\u0275nov"](l,1)._animationsEnabled]),e(l,11,1,[n["\u0275nov"](l,15).ngClassUntouched,n["\u0275nov"](l,15).ngClassTouched,n["\u0275nov"](l,15).ngClassPristine,n["\u0275nov"](l,15).ngClassDirty,n["\u0275nov"](l,15).ngClassValid,n["\u0275nov"](l,15).ngClassInvalid,n["\u0275nov"](l,15).ngClassPending,n["\u0275nov"](l,16).id,n["\u0275nov"](l,16).tabIndex,n["\u0275nov"](l,16)._getAriaLabel(),n["\u0275nov"](l,16)._getAriaLabelledby(),n["\u0275nov"](l,16).required.toString(),n["\u0275nov"](l,16).disabled.toString(),n["\u0275nov"](l,16).errorState,n["\u0275nov"](l,16).panelOpen?n["\u0275nov"](l,16)._optionIds:null,n["\u0275nov"](l,16).multiple,n["\u0275nov"](l,16)._ariaDescribedby||null,n["\u0275nov"](l,16)._getAriaActiveDescendant(),n["\u0275nov"](l,16).disabled,n["\u0275nov"](l,16).errorState,n["\u0275nov"](l,16).required,n["\u0275nov"](l,16).empty])}))}function Ze(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(e,l,t){var a=!0,i=e.component;return"click"===l&&(a=!1!==n["\u0275nov"](e,1)._selectViaInteraction()&&a),"keydown"===l&&(a=!1!==n["\u0275nov"](e,1)._handleKeydown(t)&&a),"click"===l&&(a=!1!==i.toggleSingleSelection("dealType")&&a),a}),S.b,S.a)),n["\u0275did"](1,8568832,[[57,4]],0,v.p,[n.ElementRef,n.ChangeDetectorRef,[2,v.j],[2,v.o]],{value:[0,"value"]},null),(e()(),n["\u0275ted"](2,0,["",""]))],(function(e,l){e(l,1,0,l.context.$implicit)}),(function(e,l){e(l,0,0,n["\u0275nov"](l,1)._getTabIndex(),n["\u0275nov"](l,1).selected,n["\u0275nov"](l,1).multiple,n["\u0275nov"](l,1).active,n["\u0275nov"](l,1).id,n["\u0275nov"](l,1)._getAriaSelected(),n["\u0275nov"](l,1).disabled.toString(),n["\u0275nov"](l,1).disabled),e(l,2,0,l.context.$implicit.dealType)}))}function Ye(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(e,l,t){var a=!0,i=e.component;return"click"===l&&(a=!1!==n["\u0275nov"](e,1)._selectViaInteraction()&&a),"keydown"===l&&(a=!1!==n["\u0275nov"](e,1)._handleKeydown(t)&&a),"click"===l&&(a=!1!==i.toggleSingleSelection("dealstatus")&&a),a}),S.b,S.a)),n["\u0275did"](1,8568832,[[69,4]],0,v.p,[n.ElementRef,n.ChangeDetectorRef,[2,v.j],[2,v.o]],{value:[0,"value"]},null),(e()(),n["\u0275ted"](2,0,["",""]))],(function(e,l){e(l,1,0,l.context.$implicit)}),(function(e,l){e(l,0,0,n["\u0275nov"](l,1)._getTabIndex(),n["\u0275nov"](l,1).selected,n["\u0275nov"](l,1).multiple,n["\u0275nov"](l,1).active,n["\u0275nov"](l,1).id,n["\u0275nov"](l,1)._getAriaSelected(),n["\u0275nov"](l,1).disabled.toString(),n["\u0275nov"](l,1).disabled),e(l,2,0,l.context.$implicit.status)}))}function He(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"button",[["class","mat-raised-button mat-primary filter-group-item"]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onSaveFilter()&&n),n}),null,null)),(e()(),n["\u0275ted"](1,null,[" "," "])),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef])],null,(function(e,l){e(l,0,0,l.component.isFilterSaved),e(l,1,0,n["\u0275unv"](l,1,0,n["\u0275nov"](l,2).transform("sales-contest.savefilter.label")))}))}function Qe(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"app-default-grid",[],null,[[null,"cellClick"],[null,"cellValueChanged"]],(function(e,l,t){var n=!0,a=e.component;return"cellClick"===l&&(n=!1!==a.openSalesContestModal(t)&&n),"cellValueChanged"===l&&(n=!1!==a.onCellValueChanged(t)&&n),n}),N.b,N.a)),n["\u0275prd"](512,null,E.a,E.a,[L.a,V.a,q.a,P.j,j.a]),n["\u0275did"](2,4964352,[[2,4],["contestGrid",4]],0,z.a,[U.a,E.a,J.a,K.a,$.a,W.b,X.a],{data:[0,"data"],pinnedBottomRowData:[1,"pinnedBottomRowData"],columns:[2,"columns"],customGridOptions:[3,"customGridOptions"]},{cellClick:"cellClick",cellValueChanged:"cellValueChanged"})],(function(e,l){var t=l.component;e(l,2,0,t.salesContestdata,t.pinnedBottomRowData,t.columns,t.gridOptions)}),null)}function el(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,4,"div",[["class","grid-block-sidebar"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,3,"span",[],null,[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.toogleColumns()&&n),n}),null,null)),n["\u0275prd"](512,null,O.B,O.C,[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](3,278528,null,0,O.l,[O.B],{ngClass:[0,"ngClass"]},null),n["\u0275pod"](4,{"grid-block-more-info-trigger":0,opened:1})],(function(e,l){var t=e(l,4,0,!0,l.component.showAllColumns);e(l,3,0,t)}),null)}function ll(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"app-comments",[["class","comments"]],[[8,"className",0]],[[null,"commentsClose"]],(function(e,l,t){var n=!0;return"commentsClose"===l&&(n=!1!==e.component.toggleCommentsView()&&n),n}),Z.b,Z.a)),n["\u0275did"](1,4964352,null,0,Y.a,[H.a,Q.a,ee.a,n.ChangeDetectorRef,W.b],{type:[0,"type"],subType:[1,"subType"],params:[2,"params"]},{commentsClose:"commentsClose"})],(function(e,l){var t=l.component;e(l,1,0,t.commentType,t.commentSubType,t.commentParams)}),(function(e,l){e(l,0,0,n["\u0275nov"](l,1).hostClass)}))}function tl(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"div",[["class","modal-header-right"],["style","margin: 20px 25px 23px 0"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),n["\u0275ted"](2,null,["Count: ",""]))],null,(function(e,l){e(l,2,0,l.component.newUsedSalesCount)}))}function nl(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,3,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,2,"app-default-grid",[],null,null,null,N.b,N.a)),n["\u0275prd"](512,null,E.a,E.a,[L.a,V.a,q.a,P.j,j.a]),n["\u0275did"](3,4964352,[[3,4],["contestDetailsGrid",4]],0,z.a,[U.a,E.a,J.a,K.a,$.a,W.b,X.a],{data:[0,"data"],columns:[1,"columns"],customGridOptions:[2,"customGridOptions"]},null)],(function(e,l){var t=l.component;e(l,3,0,t.salesContestDetailsdata,t.detailColumns,t.gridOptions)}),null)}function al(e){return n["\u0275vid"](0,[n["\u0275qud"](402653184,1,{salesContestDetailsModal:0}),n["\u0275qud"](671088640,2,{tableGrid:0}),n["\u0275qud"](671088640,3,{detailtableGrid:0}),n["\u0275qud"](402653184,4,{allSelected:0}),n["\u0275qud"](402653184,5,{dealStatusAll:0}),n["\u0275qud"](671088640,6,{FIFiltersModal:0}),n["\u0275qud"](671088640,7,{FIFilterDeleteModal:0}),n["\u0275qud"](671088640,8,{FIFilterCloseModal:0}),(e()(),n["\u0275eld"](8,0,null,null,104,"div",[["class","grid-wrapper"]],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,Ge)),n["\u0275did"](10,16384,null,0,O.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](11,0,null,null,22,"div",[["class","top-controls-block"]],null,null,null,null,null)),(e()(),n["\u0275eld"](12,0,null,null,4,"div",[["class","top-controls-block-left"]],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,Ae)),n["\u0275did"](14,16384,null,0,O.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,qe)),n["\u0275did"](16,16384,null,0,O.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](17,0,null,null,16,"div",[["class","top-controls-block-right"]],null,null,null,null,null)),(e()(),n["\u0275eld"](18,0,null,null,1,"app-export-buttons",[],[[2,"small",null]],[[null,"dataExport"]],(function(e,l,t){var n=!0;return"dataExport"===l&&(n=!1!==e.component.exportDataAs(t)&&n),n}),le.b,le.a)),n["\u0275did"](19,114688,null,0,te.a,[X.a],{disabled:[0,"disabled"]},{dataExport:"dataExport"}),(e()(),n["\u0275eld"](20,0,null,null,2,"button",[["class","top-control-btn"]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.toggleCommentsView()&&n),n}),null,null)),(e()(),n["\u0275eld"](21,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["comment"])),(e()(),n["\u0275and"](16777216,null,null,1,null,je)),n["\u0275did"](24,16384,null,0,O.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](25,0,null,null,8,"mat-menu",[["xPosition","before"]],null,null,null,A.d,A.b)),n["\u0275prd"](6144,null,B.d,null,[B.h]),n["\u0275prd"](6144,null,B.b,null,[B.d]),n["\u0275did"](28,1294336,[["menu",4]],3,B.h,[n.ElementRef,n.NgZone,B.a],{xPosition:[0,"xPosition"],overlapTrigger:[1,"overlapTrigger"]},null),n["\u0275qud"](603979776,9,{_allItems:1}),n["\u0275qud"](603979776,10,{items:1}),n["\u0275qud"](603979776,11,{lazyContent:0}),(e()(),n["\u0275and"](16777216,null,0,1,null,ze)),n["\u0275did"](33,278528,null,0,O.m,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),n["\u0275eld"](34,0,null,null,72,"div",[["class","filters-block-twoRows"]],null,null,null,null,null)),(e()(),n["\u0275eld"](35,0,null,null,1,"app-occ-filters-group",[],null,null,null,ne.b,ne.a)),n["\u0275did"](36,245760,null,0,ae.a,[ie.a,X.a,W.b,P.j],null,null),(e()(),n["\u0275and"](16777216,null,null,1,null,Je)),n["\u0275did"](38,16384,null,0,O.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,$e)),n["\u0275did"](40,16384,null,0,O.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,Xe)),n["\u0275did"](42,16384,null,0,O.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](43,0,null,null,30,"mat-form-field",[["class","filter-group-item mat-form-field"]],[[8,"hidden",0],[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,f.b,f.a)),n["\u0275did"](44,7520256,null,9,b.c,[n.ElementRef,n.ChangeDetectorRef,[2,v.h],[2,y.b],[2,b.a],C.a,n.NgZone,[2,w.a]],null,null),n["\u0275qud"](603979776,48,{_controlNonStatic:0}),n["\u0275qud"](335544320,49,{_controlStatic:0}),n["\u0275qud"](603979776,50,{_labelChildNonStatic:0}),n["\u0275qud"](335544320,51,{_labelChildStatic:0}),n["\u0275qud"](603979776,52,{_placeholderChild:0}),n["\u0275qud"](603979776,53,{_errorChildren:1}),n["\u0275qud"](603979776,54,{_hintChildren:1}),n["\u0275qud"](603979776,55,{_prefixChildren:1}),n["\u0275qud"](603979776,56,{_suffixChildren:1}),(e()(),n["\u0275eld"](54,0,null,1,19,"mat-select",[["class","mat-select"],["multiple",""],["role","listbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(e,l,t){var a=!0,i=e.component;return"keydown"===l&&(a=!1!==n["\u0275nov"](e,58)._handleKeydown(t)&&a),"focus"===l&&(a=!1!==n["\u0275nov"](e,58)._onFocus()&&a),"blur"===l&&(a=!1!==n["\u0275nov"](e,58)._onBlur()&&a),"ngModelChange"===l&&(a=!1!==(i.currentDealType=t)&&a),a}),D.b,D.a)),n["\u0275did"](55,671744,null,0,F.v,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,F.r,null,[F.v]),n["\u0275did"](57,16384,null,0,F.s,[[4,F.r]],null,null),n["\u0275did"](58,2080768,null,3,x.c,[R.i,n.ChangeDetectorRef,n.NgZone,v.b,n.ElementRef,[2,y.b],[2,F.u],[2,F.k],[2,b.c],[6,F.r],[8,null],x.a,k.j],{placeholder:[0,"placeholder"],multiple:[1,"multiple"]},null),n["\u0275qud"](603979776,57,{options:1}),n["\u0275qud"](603979776,58,{optionGroups:1}),n["\u0275qud"](603979776,59,{customTrigger:0}),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef]),n["\u0275prd"](2048,[[48,4],[49,4]],b.d,null,[x.c]),n["\u0275prd"](2048,null,v.j,null,[x.c]),(e()(),n["\u0275eld"](65,0,null,0,2,"mat-select-trigger",[],null,null,null,null,null)),n["\u0275did"](66,16384,[[59,4]],0,x.e,[],null,null),(e()(),n["\u0275ted"](67,null,["",""])),(e()(),n["\u0275eld"](68,0,null,1,3,"mat-option",[["class","mat-option"],["role","option"],["value","All"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(e,l,t){var a=!0,i=e.component;return"click"===l&&(a=!1!==n["\u0275nov"](e,69)._selectViaInteraction()&&a),"keydown"===l&&(a=!1!==n["\u0275nov"](e,69)._handleKeydown(t)&&a),"click"===l&&(a=!1!==i.toggleAllSelection("dealType")&&a),a}),S.b,S.a)),n["\u0275did"](69,8568832,[[57,4],[4,4],["allSelected",4]],0,v.p,[n.ElementRef,n.ChangeDetectorRef,[2,v.j],[2,v.o]],{value:[0,"value"]},null),(e()(),n["\u0275ted"](70,0,["",""])),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef]),(e()(),n["\u0275and"](16777216,null,1,1,null,Ze)),n["\u0275did"](73,278528,null,0,O.m,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),n["\u0275eld"](74,0,null,null,30,"mat-form-field",[["class","filter-group-item mat-form-field"]],[[8,"hidden",0],[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,f.b,f.a)),n["\u0275did"](75,7520256,null,9,b.c,[n.ElementRef,n.ChangeDetectorRef,[2,v.h],[2,y.b],[2,b.a],C.a,n.NgZone,[2,w.a]],null,null),n["\u0275qud"](603979776,60,{_controlNonStatic:0}),n["\u0275qud"](335544320,61,{_controlStatic:0}),n["\u0275qud"](603979776,62,{_labelChildNonStatic:0}),n["\u0275qud"](335544320,63,{_labelChildStatic:0}),n["\u0275qud"](603979776,64,{_placeholderChild:0}),n["\u0275qud"](603979776,65,{_errorChildren:1}),n["\u0275qud"](603979776,66,{_hintChildren:1}),n["\u0275qud"](603979776,67,{_prefixChildren:1}),n["\u0275qud"](603979776,68,{_suffixChildren:1}),(e()(),n["\u0275eld"](85,0,null,1,19,"mat-select",[["class","mat-select"],["multiple",""],["role","listbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(e,l,t){var a=!0,i=e.component;return"keydown"===l&&(a=!1!==n["\u0275nov"](e,89)._handleKeydown(t)&&a),"focus"===l&&(a=!1!==n["\u0275nov"](e,89)._onFocus()&&a),"blur"===l&&(a=!1!==n["\u0275nov"](e,89)._onBlur()&&a),"ngModelChange"===l&&(a=!1!==(i.currentStatus=t)&&a),a}),D.b,D.a)),n["\u0275did"](86,671744,null,0,F.v,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,F.r,null,[F.v]),n["\u0275did"](88,16384,null,0,F.s,[[4,F.r]],null,null),n["\u0275did"](89,2080768,null,3,x.c,[R.i,n.ChangeDetectorRef,n.NgZone,v.b,n.ElementRef,[2,y.b],[2,F.u],[2,F.k],[2,b.c],[6,F.r],[8,null],x.a,k.j],{placeholder:[0,"placeholder"],multiple:[1,"multiple"]},null),n["\u0275qud"](603979776,69,{options:1}),n["\u0275qud"](603979776,70,{optionGroups:1}),n["\u0275qud"](603979776,71,{customTrigger:0}),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef]),n["\u0275prd"](2048,[[60,4],[61,4]],b.d,null,[x.c]),n["\u0275prd"](2048,null,v.j,null,[x.c]),(e()(),n["\u0275eld"](96,0,null,0,2,"mat-select-trigger",[],null,null,null,null,null)),n["\u0275did"](97,16384,[[71,4]],0,x.e,[],null,null),(e()(),n["\u0275ted"](98,null,["",""])),(e()(),n["\u0275eld"](99,0,null,1,3,"mat-option",[["class","mat-option"],["role","option"],["value","All"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(e,l,t){var a=!0,i=e.component;return"click"===l&&(a=!1!==n["\u0275nov"](e,100)._selectViaInteraction()&&a),"keydown"===l&&(a=!1!==n["\u0275nov"](e,100)._handleKeydown(t)&&a),"click"===l&&(a=!1!==i.toggleAllSelection("dealstatus")&&a),a}),S.b,S.a)),n["\u0275did"](100,8568832,[[69,4],[5,4],["dealStatusAll",4]],0,v.p,[n.ElementRef,n.ChangeDetectorRef,[2,v.j],[2,v.o]],{value:[0,"value"]},null),(e()(),n["\u0275ted"](101,0,["",""])),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef]),(e()(),n["\u0275and"](16777216,null,1,1,null,Ye)),n["\u0275did"](104,278528,null,0,O.m,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,He)),n["\u0275did"](106,16384,null,0,O.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](107,0,null,null,5,"div",[["class","grid-block-twoRows"]],null,null,null,null,null)),(e()(),n["\u0275eld"](108,0,null,null,2,"div",[["class","grid-block-content"]],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,Qe)),n["\u0275did"](110,16384,null,0,O.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,el)),n["\u0275did"](112,16384,null,0,O.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,ll)),n["\u0275did"](114,16384,null,0,O.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](115,0,null,null,13,"app-modal",[["class","modal-generic modal-initial-size"]],null,[[null,"onInit"]],(function(e,l,t){var n=!0;return"onInit"===l&&(n=!1!==e.component.onModalInit(t)&&n),n}),oe.b,oe.a)),n["\u0275prd"](512,null,se.a,se.a,[W.b]),n["\u0275did"](117,1228800,[[1,4],["SalesContestDetails",4]],0,re.a,[se.a,O.d,n.ElementRef,n.Renderer2,W.b],{modalTitle:[0,"modalTitle"]},{onInit:"onInit"}),(e()(),n["\u0275eld"](118,0,null,0,8,"div",[["class","modal-header with-padding"]],null,null,null,null,null)),(e()(),n["\u0275eld"](119,0,null,null,2,"div",[["class","modal-header-left"],["style","flex-grow: 1"]],null,null,null,null,null)),(e()(),n["\u0275eld"](120,0,null,null,1,"h2",[["class","modal-heading"]],null,null,null,null,null)),(e()(),n["\u0275ted"](121,null,["",""])),(e()(),n["\u0275and"](16777216,null,null,1,null,tl)),n["\u0275did"](123,16384,null,0,O.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](124,0,null,null,2,"div",[["class","modal-header-right"]],null,null,null,null,null)),(e()(),n["\u0275eld"](125,0,null,null,1,"app-export-buttons",[],[[2,"small",null]],[[null,"dataExport"]],(function(e,l,t){var n=!0;return"dataExport"===l&&(n=!1!==e.component.exportDetailsDataAs(t)&&n),n}),le.b,le.a)),n["\u0275did"](126,114688,null,0,te.a,[X.a],null,{dataExport:"dataExport"}),(e()(),n["\u0275and"](16777216,null,0,1,null,nl)),n["\u0275did"](128,16384,null,0,O.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](129,0,null,null,5,"app-modal",[["class","modal-generic FIFiltersModal"]],null,[[null,"close"]],(function(e,l,t){var n=!0;return"close"===l&&(n=!1!==e.component.onCloseClick()&&n),n}),oe.b,oe.a)),n["\u0275prd"](512,null,se.a,se.a,[W.b]),n["\u0275did"](131,1228800,[[6,4],["FIFilters",4]],0,re.a,[se.a,O.d,n.ElementRef,n.Renderer2,W.b],{modalTitle:[0,"modalTitle"]},{close:"close"}),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](133,0,null,0,1,"app-fi-saveFilter-modal",[],null,[[null,"filterObject"],[null,"deleteFilter"]],(function(e,l,t){var n=!0,a=e.component;return"filterObject"===l&&(n=!1!==a.onsaveFilterChange(t)&&n),"deleteFilter"===l&&(n=!1!==a.onDeleteFilter(t)&&n),n}),de.b,de.a)),n["\u0275did"](134,114688,null,0,ue.a,[ce.a,ie.a,X.a],{filterInputObj:[0,"filterInputObj"]},{filterObject:"filterObject",deleteFilter:"deleteFilter"}),(e()(),n["\u0275eld"](135,0,null,null,16,"app-modal",[["class","modal-generic FIFilterDeleteModal"]],null,null,null,oe.b,oe.a)),n["\u0275prd"](512,null,se.a,se.a,[W.b]),n["\u0275did"](137,1228800,[[7,4],["FIFilterDelete",4]],0,re.a,[se.a,O.d,n.ElementRef,n.Renderer2,W.b],null,null),(e()(),n["\u0275eld"](138,0,null,0,3,"div",[["class","modal-header-left"]],null,null,null,null,null)),(e()(),n["\u0275eld"](139,0,null,null,2,"h2",[["class","modal-heading"]],null,null,null,null,null)),(e()(),n["\u0275ted"](140,null,["",""])),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](142,0,null,0,2,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),n["\u0275ted"](143,null,[" "," "])),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](145,0,null,0,6,"div",[["class","rightItems"]],null,null,null,null,null)),(e()(),n["\u0275eld"](146,0,null,null,2,"button",[["class","mat-button mat-button_white"]],null,[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onDeleteCancel()&&n),n}),null,null)),(e()(),n["\u0275ted"](147,null,["",""])),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](149,0,null,null,2,"button",[["class","mat-button mat-button_white"]],null,[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onDeleteConfirm()&&n),n}),null,null)),(e()(),n["\u0275ted"](150,null,["",""])),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](152,0,null,null,16,"app-modal",[["class","modal-generic FIFilterDeleteModal"]],null,null,null,oe.b,oe.a)),n["\u0275prd"](512,null,se.a,se.a,[W.b]),n["\u0275did"](154,1228800,[[8,4],["FIFilterClose",4]],0,re.a,[se.a,O.d,n.ElementRef,n.Renderer2,W.b],null,null),(e()(),n["\u0275eld"](155,0,null,0,3,"div",[["class","modal-header-left"]],null,null,null,null,null)),(e()(),n["\u0275eld"](156,0,null,null,2,"h2",[["class","modal-heading"]],null,null,null,null,null)),(e()(),n["\u0275ted"](157,null,["",""])),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](159,0,null,0,2,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),n["\u0275ted"](160,null,[" "," "])),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](162,0,null,0,6,"div",[["class","rightItems"]],null,null,null,null,null)),(e()(),n["\u0275eld"](163,0,null,null,2,"button",[["class","mat-button mat-button_white"]],null,[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onCloseCancel()&&n),n}),null,null)),(e()(),n["\u0275ted"](164,null,["",""])),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](166,0,null,null,2,"button",[["class","mat-button mat-button_white"]],null,[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onCloseConfirm()&&n),n}),null,null)),(e()(),n["\u0275ted"](167,null,["",""])),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef])],(function(e,l){var t=l.component;e(l,10,0,t.loading),e(l,14,0,t.hasTargetSwitcher),e(l,16,0,null==t.filterName?null:t.filterName.filterName),e(l,19,0,t.loading),e(l,24,0,t.filterListPresent&&("new"===t.typeReport||"used"===t.typeReport)),e(l,28,0,"before",!1),e(l,33,0,t.FilterNames),e(l,36,0),e(l,38,0,t.hasPositionFilter),e(l,40,0,t.hasGoalTargetFilter),e(l,42,0,t.hasMakeFilter),e(l,55,0,t.currentDealType),e(l,58,0,n["\u0275unv"](l,58,0,n["\u0275nov"](l,62).transform("body.grid.column.dealType")),""),e(l,69,0,"All"),e(l,73,0,t.dealTypes),e(l,86,0,t.currentStatus),e(l,89,0,n["\u0275unv"](l,89,0,n["\u0275nov"](l,93).transform("body.grid.column.dealStatus")),""),e(l,100,0,"All"),e(l,104,0,t.statusDeals),e(l,106,0,t.hasAccess&&("new"===t.typeReport||"used"===t.typeReport)),e(l,110,0,t.salesContestdata),e(l,112,0,!t.editMode&&"tech"!==t.typeReport&&"sa"!==t.typeReport),e(l,114,0,t.isCommentsView),e(l,117,0,t.salesContestModalTitle),e(l,123,0,"new"===t.typeReport.toLowerCase()||"used"===t.typeReport.toLowerCase()),e(l,126,0),e(l,128,0,!t.detailsLoading),e(l,131,0,n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,131,0,n["\u0275nov"](l,132).transform("general.filter.manage.label")),"")),e(l,134,0,t.filterInputObj)}),(function(e,l){var t=l.component;e(l,18,0,n["\u0275nov"](l,19).small),e(l,20,0,t.loading),e(l,43,1,[!t.hasDealTypeFilter,"standard"==n["\u0275nov"](l,44).appearance,"fill"==n["\u0275nov"](l,44).appearance,"outline"==n["\u0275nov"](l,44).appearance,"legacy"==n["\u0275nov"](l,44).appearance,n["\u0275nov"](l,44)._control.errorState,n["\u0275nov"](l,44)._canLabelFloat,n["\u0275nov"](l,44)._shouldLabelFloat(),n["\u0275nov"](l,44)._hasFloatingLabel(),n["\u0275nov"](l,44)._hideControlPlaceholder(),n["\u0275nov"](l,44)._control.disabled,n["\u0275nov"](l,44)._control.autofilled,n["\u0275nov"](l,44)._control.focused,"accent"==n["\u0275nov"](l,44).color,"warn"==n["\u0275nov"](l,44).color,n["\u0275nov"](l,44)._shouldForward("untouched"),n["\u0275nov"](l,44)._shouldForward("touched"),n["\u0275nov"](l,44)._shouldForward("pristine"),n["\u0275nov"](l,44)._shouldForward("dirty"),n["\u0275nov"](l,44)._shouldForward("valid"),n["\u0275nov"](l,44)._shouldForward("invalid"),n["\u0275nov"](l,44)._shouldForward("pending"),!n["\u0275nov"](l,44)._animationsEnabled]),e(l,54,1,[n["\u0275nov"](l,57).ngClassUntouched,n["\u0275nov"](l,57).ngClassTouched,n["\u0275nov"](l,57).ngClassPristine,n["\u0275nov"](l,57).ngClassDirty,n["\u0275nov"](l,57).ngClassValid,n["\u0275nov"](l,57).ngClassInvalid,n["\u0275nov"](l,57).ngClassPending,n["\u0275nov"](l,58).id,n["\u0275nov"](l,58).tabIndex,n["\u0275nov"](l,58)._getAriaLabel(),n["\u0275nov"](l,58)._getAriaLabelledby(),n["\u0275nov"](l,58).required.toString(),n["\u0275nov"](l,58).disabled.toString(),n["\u0275nov"](l,58).errorState,n["\u0275nov"](l,58).panelOpen?n["\u0275nov"](l,58)._optionIds:null,n["\u0275nov"](l,58).multiple,n["\u0275nov"](l,58)._ariaDescribedby||null,n["\u0275nov"](l,58)._getAriaActiveDescendant(),n["\u0275nov"](l,58).disabled,n["\u0275nov"](l,58).errorState,n["\u0275nov"](l,58).required,n["\u0275nov"](l,58).empty]),e(l,67,0,n["\u0275nov"](l,69).selected?"All":t.dealTypeDisplayValue),e(l,68,0,n["\u0275nov"](l,69)._getTabIndex(),n["\u0275nov"](l,69).selected,n["\u0275nov"](l,69).multiple,n["\u0275nov"](l,69).active,n["\u0275nov"](l,69).id,n["\u0275nov"](l,69)._getAriaSelected(),n["\u0275nov"](l,69).disabled.toString(),n["\u0275nov"](l,69).disabled),e(l,70,0,n["\u0275unv"](l,70,0,n["\u0275nov"](l,71).transform("body.grid.filter.all"))),e(l,74,1,[!t.hasDealStatusFilter,"standard"==n["\u0275nov"](l,75).appearance,"fill"==n["\u0275nov"](l,75).appearance,"outline"==n["\u0275nov"](l,75).appearance,"legacy"==n["\u0275nov"](l,75).appearance,n["\u0275nov"](l,75)._control.errorState,n["\u0275nov"](l,75)._canLabelFloat,n["\u0275nov"](l,75)._shouldLabelFloat(),n["\u0275nov"](l,75)._hasFloatingLabel(),n["\u0275nov"](l,75)._hideControlPlaceholder(),n["\u0275nov"](l,75)._control.disabled,n["\u0275nov"](l,75)._control.autofilled,n["\u0275nov"](l,75)._control.focused,"accent"==n["\u0275nov"](l,75).color,"warn"==n["\u0275nov"](l,75).color,n["\u0275nov"](l,75)._shouldForward("untouched"),n["\u0275nov"](l,75)._shouldForward("touched"),n["\u0275nov"](l,75)._shouldForward("pristine"),n["\u0275nov"](l,75)._shouldForward("dirty"),n["\u0275nov"](l,75)._shouldForward("valid"),n["\u0275nov"](l,75)._shouldForward("invalid"),n["\u0275nov"](l,75)._shouldForward("pending"),!n["\u0275nov"](l,75)._animationsEnabled]),e(l,85,1,[n["\u0275nov"](l,88).ngClassUntouched,n["\u0275nov"](l,88).ngClassTouched,n["\u0275nov"](l,88).ngClassPristine,n["\u0275nov"](l,88).ngClassDirty,n["\u0275nov"](l,88).ngClassValid,n["\u0275nov"](l,88).ngClassInvalid,n["\u0275nov"](l,88).ngClassPending,n["\u0275nov"](l,89).id,n["\u0275nov"](l,89).tabIndex,n["\u0275nov"](l,89)._getAriaLabel(),n["\u0275nov"](l,89)._getAriaLabelledby(),n["\u0275nov"](l,89).required.toString(),n["\u0275nov"](l,89).disabled.toString(),n["\u0275nov"](l,89).errorState,n["\u0275nov"](l,89).panelOpen?n["\u0275nov"](l,89)._optionIds:null,n["\u0275nov"](l,89).multiple,n["\u0275nov"](l,89)._ariaDescribedby||null,n["\u0275nov"](l,89)._getAriaActiveDescendant(),n["\u0275nov"](l,89).disabled,n["\u0275nov"](l,89).errorState,n["\u0275nov"](l,89).required,n["\u0275nov"](l,89).empty]),e(l,98,0,n["\u0275nov"](l,100).selected?"All":t.dealStatusDisplayValue),e(l,99,0,n["\u0275nov"](l,100)._getTabIndex(),n["\u0275nov"](l,100).selected,n["\u0275nov"](l,100).multiple,n["\u0275nov"](l,100).active,n["\u0275nov"](l,100).id,n["\u0275nov"](l,100)._getAriaSelected(),n["\u0275nov"](l,100).disabled.toString(),n["\u0275nov"](l,100).disabled),e(l,101,0,n["\u0275unv"](l,101,0,n["\u0275nov"](l,102).transform("body.grid.filter.all"))),e(l,121,0,t.drillDetailtitle),e(l,125,0,n["\u0275nov"](l,126).small),e(l,140,0,n["\u0275unv"](l,140,0,n["\u0275nov"](l,141).transform("general.filter.deletethisfilter.label"))),e(l,143,0,n["\u0275unv"](l,143,0,n["\u0275nov"](l,144).transform("general.filter.areyousuredelete.label"))),e(l,147,0,n["\u0275unv"](l,147,0,n["\u0275nov"](l,148).transform("general.filter.cancel.label"))),e(l,150,0,n["\u0275unv"](l,150,0,n["\u0275nov"](l,151).transform("general.filter.confirm.label"))),e(l,157,0,n["\u0275unv"](l,157,0,n["\u0275nov"](l,158).transform("general.filter.leave.label"))),e(l,160,0,n["\u0275unv"](l,160,0,n["\u0275nov"](l,161).transform("general.filter.areyousureleave.label"))),e(l,164,0,n["\u0275unv"](l,164,0,n["\u0275nov"](l,165).transform("general.filter.cancel.label"))),e(l,167,0,n["\u0275unv"](l,167,0,n["\u0275nov"](l,168).transform("general.filter.confirm.label")))}))}var il=t("uNm5"),ol=t("5uTj"),sl=t("lJxs"),rl=t("zZFd");class dl{constructor(e,l,t,n,a){this.route=l,this.router=t,this.dataApi=n,this.location=a,this.lastRefreshed=null,this.nrtReportSection=0,this.isolated=!1,this.view="new",this.reloading=!1,this.debug=e.factory(new.target.name,W.a.All)}ngOnInit(){this.currentPageType$=this.route.params.pipe(Object(sl.a)(e=>[e.type,e.extra])),this.currentPageType$.subscribe(([e,l])=>{this.view=e,this.isolated=!!l,"new"===e?this.nrtReportSection=rl.a["OCC-New-NewContest-NewSalesContest"]:"used"===e?this.nrtReportSection=rl.a["OCC-Used-UsedContest-UsedSalesContest"]:"sa"===e?this.nrtReportSection=rl.a["OCC-Service&Parts-ServiceAdvisorContest-ServiceAdvisor"]:"tech"===e?this.nrtReportSection=rl.a["OCC-Service&Parts-TechnicianContest-technicianContest"]:"fi"===e&&(this.nrtReportSection=rl.a["OCC-F&I-F&IContest"])}),this.dataApi.getNrtTimeStampByReportSection({reportSection:this.nrtReportSection}).subscribe(e=>{if(e&&e.UpdatedTime){const l=ye.utc(e.UpdatedTime,"YYYY-MM-DD hh:mm");this.lastRefreshed=l.local().format("MMM DD YYYY hh:mm A")}})}onBackToClick(){this.location.back()}onViewChange(){this.reloading=!0,setTimeout(()=>{this.reloading=!1},0)}}var ul=n["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;position:relative;height:100%}"]],data:{}});function cl(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,26,"mat-form-field",[["class","filter-group-item mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,f.b,f.a)),n["\u0275did"](1,7520256,null,9,b.c,[n.ElementRef,n.ChangeDetectorRef,[2,v.h],[2,y.b],[2,b.a],C.a,n.NgZone,[2,w.a]],null,null),n["\u0275qud"](603979776,1,{_controlNonStatic:0}),n["\u0275qud"](335544320,2,{_controlStatic:0}),n["\u0275qud"](603979776,3,{_labelChildNonStatic:0}),n["\u0275qud"](335544320,4,{_labelChildStatic:0}),n["\u0275qud"](603979776,5,{_placeholderChild:0}),n["\u0275qud"](603979776,6,{_errorChildren:1}),n["\u0275qud"](603979776,7,{_hintChildren:1}),n["\u0275qud"](603979776,8,{_prefixChildren:1}),n["\u0275qud"](603979776,9,{_suffixChildren:1}),(e()(),n["\u0275eld"](11,0,null,1,15,"mat-select",[["class","mat-select"],["placeholder","Select View"],["role","listbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(e,l,t){var a=!0,i=e.component;return"keydown"===l&&(a=!1!==n["\u0275nov"](e,15)._handleKeydown(t)&&a),"focus"===l&&(a=!1!==n["\u0275nov"](e,15)._onFocus()&&a),"blur"===l&&(a=!1!==n["\u0275nov"](e,15)._onBlur()&&a),"ngModelChange"===l&&(a=!1!==(i.view=t)&&a),"ngModelChange"===l&&(a=!1!==i.onViewChange()&&a),a}),D.b,D.a)),n["\u0275did"](12,671744,null,0,F.v,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,F.r,null,[F.v]),n["\u0275did"](14,16384,null,0,F.s,[[4,F.r]],null,null),n["\u0275did"](15,2080768,null,3,x.c,[R.i,n.ChangeDetectorRef,n.NgZone,v.b,n.ElementRef,[2,y.b],[2,F.u],[2,F.k],[2,b.c],[6,F.r],[8,null],x.a,k.j],{placeholder:[0,"placeholder"]},null),n["\u0275qud"](603979776,10,{options:1}),n["\u0275qud"](603979776,11,{optionGroups:1}),n["\u0275qud"](603979776,12,{customTrigger:0}),n["\u0275prd"](2048,[[1,4],[2,4]],b.d,null,[x.c]),n["\u0275prd"](2048,null,v.j,null,[x.c]),(e()(),n["\u0275eld"](21,0,null,1,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(e,l,t){var a=!0;return"click"===l&&(a=!1!==n["\u0275nov"](e,22)._selectViaInteraction()&&a),"keydown"===l&&(a=!1!==n["\u0275nov"](e,22)._handleKeydown(t)&&a),a}),S.b,S.a)),n["\u0275did"](22,8568832,[[10,4]],0,v.p,[n.ElementRef,n.ChangeDetectorRef,[2,v.j],[2,v.o]],{value:[0,"value"]},null),(e()(),n["\u0275ted"](-1,0,["New"])),(e()(),n["\u0275eld"](24,0,null,1,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(e,l,t){var a=!0;return"click"===l&&(a=!1!==n["\u0275nov"](e,25)._selectViaInteraction()&&a),"keydown"===l&&(a=!1!==n["\u0275nov"](e,25)._handleKeydown(t)&&a),a}),S.b,S.a)),n["\u0275did"](25,8568832,[[10,4]],0,v.p,[n.ElementRef,n.ChangeDetectorRef,[2,v.j],[2,v.o]],{value:[0,"value"]},null),(e()(),n["\u0275ted"](-1,0,["Used"]))],(function(e,l){e(l,12,0,l.component.view),e(l,15,0,"Select View"),e(l,22,0,"new"),e(l,25,0,"used")}),(function(e,l){e(l,0,1,["standard"==n["\u0275nov"](l,1).appearance,"fill"==n["\u0275nov"](l,1).appearance,"outline"==n["\u0275nov"](l,1).appearance,"legacy"==n["\u0275nov"](l,1).appearance,n["\u0275nov"](l,1)._control.errorState,n["\u0275nov"](l,1)._canLabelFloat,n["\u0275nov"](l,1)._shouldLabelFloat(),n["\u0275nov"](l,1)._hasFloatingLabel(),n["\u0275nov"](l,1)._hideControlPlaceholder(),n["\u0275nov"](l,1)._control.disabled,n["\u0275nov"](l,1)._control.autofilled,n["\u0275nov"](l,1)._control.focused,"accent"==n["\u0275nov"](l,1).color,"warn"==n["\u0275nov"](l,1).color,n["\u0275nov"](l,1)._shouldForward("untouched"),n["\u0275nov"](l,1)._shouldForward("touched"),n["\u0275nov"](l,1)._shouldForward("pristine"),n["\u0275nov"](l,1)._shouldForward("dirty"),n["\u0275nov"](l,1)._shouldForward("valid"),n["\u0275nov"](l,1)._shouldForward("invalid"),n["\u0275nov"](l,1)._shouldForward("pending"),!n["\u0275nov"](l,1)._animationsEnabled]),e(l,11,1,[n["\u0275nov"](l,14).ngClassUntouched,n["\u0275nov"](l,14).ngClassTouched,n["\u0275nov"](l,14).ngClassPristine,n["\u0275nov"](l,14).ngClassDirty,n["\u0275nov"](l,14).ngClassValid,n["\u0275nov"](l,14).ngClassInvalid,n["\u0275nov"](l,14).ngClassPending,n["\u0275nov"](l,15).id,n["\u0275nov"](l,15).tabIndex,n["\u0275nov"](l,15)._getAriaLabel(),n["\u0275nov"](l,15)._getAriaLabelledby(),n["\u0275nov"](l,15).required.toString(),n["\u0275nov"](l,15).disabled.toString(),n["\u0275nov"](l,15).errorState,n["\u0275nov"](l,15).panelOpen?n["\u0275nov"](l,15)._optionIds:null,n["\u0275nov"](l,15).multiple,n["\u0275nov"](l,15)._ariaDescribedby||null,n["\u0275nov"](l,15)._getAriaActiveDescendant(),n["\u0275nov"](l,15).disabled,n["\u0275nov"](l,15).errorState,n["\u0275nov"](l,15).required,n["\u0275nov"](l,15).empty]),e(l,21,0,n["\u0275nov"](l,22)._getTabIndex(),n["\u0275nov"](l,22).selected,n["\u0275nov"](l,22).multiple,n["\u0275nov"](l,22).active,n["\u0275nov"](l,22).id,n["\u0275nov"](l,22)._getAriaSelected(),n["\u0275nov"](l,22).disabled.toString(),n["\u0275nov"](l,22).disabled),e(l,24,0,n["\u0275nov"](l,25)._getTabIndex(),n["\u0275nov"](l,25).selected,n["\u0275nov"](l,25).multiple,n["\u0275nov"](l,25).active,n["\u0275nov"](l,25).id,n["\u0275nov"](l,25)._getAriaSelected(),n["\u0275nov"](l,25).disabled.toString(),n["\u0275nov"](l,25).disabled)}))}function pl(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,3,"app-sales-contest-body",[],null,null,null,al,Be)),n["\u0275prd"](135680,null,re.a,re.a,[se.a,O.d,n.ElementRef,n.Renderer2,W.b]),n["\u0275prd"](512,null,fe,fe,[be.a,ve.a]),n["\u0275did"](3,245760,null,0,_e,[W.b,Me.o,Me.a,P.j,fe,U.a,n.ChangeDetectorRef,Te.a,Ie.a,Pe.a,X.a,ie.a,ce.a,Oe.a],{typeReport:[0,"typeReport"]},null)],(function(e,l){e(l,3,0,l.component.view)}),null)}function hl(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,12,null,null,null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,9,"app-content-header",[],null,[[null,"backToClick"]],(function(e,l,t){var n=!0;return"backToClick"===l&&(n=!1!==e.component.onBackToClick()&&n),n}),il.b,il.a)),n["\u0275prd"](512,null,O.B,O.C,[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](3,278528,null,0,O.l,[O.B],{ngClass:[0,"ngClass"]},null),n["\u0275pad"](4,1),n["\u0275did"](5,114688,null,0,ol.a,[],{caption:[0,"caption"],lastRefreshed:[1,"lastRefreshed"],backToLink:[2,"backToLink"]},{backToClick:"backToClick"}),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef]),n["\u0275pid"](131072,P.i,[P.j,n.ChangeDetectorRef]),(e()(),n["\u0275and"](16777216,null,0,1,null,cl)),n["\u0275did"](9,16384,null,0,O.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](10,0,null,0,0,"br",[],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,pl)),n["\u0275did"](12,16384,null,0,O.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](0,null,null,0))],(function(e,l){var t=l.component,a=e(l,4,0,"content-header-size-3");e(l,3,0,a),e(l,5,0,n["\u0275unv"](l,5,0,n["\u0275nov"](l,6).transform("sales-contest.header."+t.view+".caption")),t.lastRefreshed,t.isolated?"":n["\u0275unv"](l,5,2,n["\u0275nov"](l,7).transform("sales-contest.header.back-to."+t.view+".link"))),e(l,9,0,t.isolated),e(l,12,0,!t.reloading)}),null)}function ml(e){return n["\u0275vid"](0,[(e()(),n["\u0275and"](16777216,null,null,1,null,hl)),n["\u0275did"](1,16384,null,0,O.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){e(l,1,0,l.component.view)}),null)}function gl(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,ml,ul)),n["\u0275did"](1,114688,null,0,dl,[W.b,Me.a,Me.o,Oe.a,O.i],null,null)],(function(e,l){e(l,1,0)}),null)}var fl=n["\u0275ccf"]("ng-component",dl,gl,{},{},[]),bl=t("POq0"),vl=t("cUpR"),yl=t("Mc5n"),Cl=t("s6ns"),wl=t("821u"),Dl=t("IheW"),Fl=t("Mz6y"),xl=t("EwA9"),Rl=t("NxlO"),kl=t("Qq/Z"),Sl=t("5cj1"),_l=t("4asF"),Ml=t("zMNK"),Tl=t("02hT"),Il=t("Q+lL"),Pl=t("/Lwf"),Ol=t("yotz"),Bl=t("T3zS"),Gl=t("Fwaw"),Al=t("l0Bn"),Nl=t("kPC6"),El=t("SXLW"),Ll=t("tdaM"),Vl=t("0sx3"),ql=t("xSwO"),jl=t("FIJs"),zl=t("aBBA"),Ul=t("oiVm"),Jl=t("oapL"),Kl=t("ZwOa"),$l=t("Xitx"),Wl=t("iTUp"),Xl=t("Fbhx"),Zl=t("Gi4r"),Yl=t("IkVo"),Hl=t("MoNh"),Ql=t("81ID"),et=t("t5D1"),lt=t("FFHx"),tt=t("PyFA"),nt=t("r0V8"),at=t("rWV4"),it=t("oqin");t.d(l,"SalesContestModuleNgFactory",(function(){return ot}));var ot=n["\u0275cmf"](a,[],(function(e){return n["\u0275mod"]([n["\u0275mpd"](512,n.ComponentFactoryResolver,n["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,o.a,s.b,s.a,r.a,d.a,u.a,c.a,p.a,h.a,m.a,g.b,fl]],[3,n.ComponentFactoryResolver],n.NgModuleRef]),n["\u0275mpd"](4608,O.p,O.o,[n.LOCALE_ID,[2,O.G]]),n["\u0275mpd"](4608,F.F,F.F,[]),n["\u0275mpd"](4608,bl.c,bl.c,[]),n["\u0275mpd"](4608,G.c,G.c,[G.i,G.e,n.ComponentFactoryResolver,G.h,G.f,n.Injector,n.NgZone,O.d,y.b,[2,O.i]]),n["\u0275mpd"](5120,G.j,G.k,[G.c]),n["\u0275mpd"](5120,x.a,x.b,[G.c]),n["\u0275mpd"](4608,vl.e,v.c,[[2,v.g],[2,v.l]]),n["\u0275mpd"](5120,B.c,B.j,[G.c]),n["\u0275mpd"](4608,yl.f,yl.f,[O.d,n.NgZone,R.i,yl.h]),n["\u0275mpd"](5120,Cl.c,Cl.d,[G.c]),n["\u0275mpd"](135680,Cl.e,Cl.e,[G.c,n.Injector,[2,O.i],[2,Cl.b],Cl.c,[3,Cl.e],G.e]),n["\u0275mpd"](4608,wl.i,wl.i,[]),n["\u0275mpd"](5120,wl.a,wl.b,[G.c]),n["\u0275mpd"](4608,v.a,v.v,[[2,v.f],C.a]),n["\u0275mpd"](4608,Dl.k,Dl.q,[O.d,n.PLATFORM_ID,Dl.o]),n["\u0275mpd"](4608,Dl.r,Dl.r,[Dl.k,Dl.p]),n["\u0275mpd"](5120,Dl.a,(function(e){return[e]}),[Dl.r]),n["\u0275mpd"](4608,Dl.n,Dl.n,[]),n["\u0275mpd"](6144,Dl.l,null,[Dl.n]),n["\u0275mpd"](4608,Dl.j,Dl.j,[Dl.l]),n["\u0275mpd"](6144,Dl.b,null,[Dl.j]),n["\u0275mpd"](4608,Dl.f,Dl.m,[Dl.b,n.Injector]),n["\u0275mpd"](4608,Dl.c,Dl.c,[Dl.f]),n["\u0275mpd"](4608,J.a,J.a,[W.b]),n["\u0275mpd"](5120,Fl.b,Fl.c,[G.c]),n["\u0275mpd"](4608,v.b,v.b,[]),n["\u0275mpd"](4608,xl.a,xl.a,[W.b]),n["\u0275mpd"](4608,Rl.a,Rl.a,[xl.a,kl.a]),n["\u0275mpd"](4608,F.f,F.f,[]),n["\u0275mpd"](4608,Sl.c,Sl.c,[Dl.c,vl.b]),n["\u0275mpd"](4608,_l.a,_l.a,[Cl.e]),n["\u0275mpd"](4608,Sl.d,Sl.d,[]),n["\u0275mpd"](4608,E.a,E.a,[L.a,V.a,q.a,P.j,j.a]),n["\u0275mpd"](4608,ce.a,ce.a,[be.a]),n["\u0275mpd"](1073742336,O.c,O.c,[]),n["\u0275mpd"](1073742336,F.E,F.E,[]),n["\u0275mpd"](1073742336,F.m,F.m,[]),n["\u0275mpd"](1073742336,Me.s,Me.s,[[2,Me.x],[2,Me.o]]),n["\u0275mpd"](1073742336,P.g,P.g,[]),n["\u0275mpd"](1073742336,bl.d,bl.d,[]),n["\u0275mpd"](1073742336,b.e,b.e,[]),n["\u0275mpd"](1073742336,y.a,y.a,[]),n["\u0275mpd"](1073742336,Ml.g,Ml.g,[]),n["\u0275mpd"](1073742336,C.b,C.b,[]),n["\u0275mpd"](1073742336,R.f,R.f,[]),n["\u0275mpd"](1073742336,G.g,G.g,[]),n["\u0275mpd"](1073742336,v.l,v.l,[[2,v.d],[2,vl.f]]),n["\u0275mpd"](1073742336,v.u,v.u,[]),n["\u0275mpd"](1073742336,v.s,v.s,[]),n["\u0275mpd"](1073742336,v.q,v.q,[]),n["\u0275mpd"](1073742336,x.d,x.d,[]),n["\u0275mpd"](1073742336,I.d,I.d,[]),n["\u0275mpd"](1073742336,I.c,I.c,[]),n["\u0275mpd"](1073742336,v.m,v.m,[]),n["\u0275mpd"](1073742336,Tl.a,Tl.a,[]),n["\u0275mpd"](1073742336,Il.a,Il.a,[]),n["\u0275mpd"](1073742336,B.i,B.i,[]),n["\u0275mpd"](1073742336,B.f,B.f,[]),n["\u0275mpd"](1073742336,yl.g,yl.g,[]),n["\u0275mpd"](1073742336,Pl.a,Pl.a,[]),n["\u0275mpd"](1073742336,Ol.b,Ol.b,[]),n["\u0275mpd"](1073742336,Bl.a,Bl.a,[]),n["\u0275mpd"](1073742336,Gl.c,Gl.c,[]),n["\u0275mpd"](1073742336,Cl.k,Cl.k,[]),n["\u0275mpd"](1073742336,k.a,k.a,[]),n["\u0275mpd"](1073742336,wl.j,wl.j,[]),n["\u0275mpd"](1073742336,v.w,v.w,[]),n["\u0275mpd"](1073742336,v.n,v.n,[]),n["\u0275mpd"](1073742336,Dl.e,Dl.e,[]),n["\u0275mpd"](1073742336,Dl.d,Dl.d,[]),n["\u0275mpd"](1073742336,Al.a,Al.a,[]),n["\u0275mpd"](1073742336,Nl.a,Nl.a,[]),n["\u0275mpd"](1073742336,El.AgGridModule,El.AgGridModule,[]),n["\u0275mpd"](1073742336,Ll.a,Ll.a,[]),n["\u0275mpd"](1073742336,Vl.a,Vl.a,[]),n["\u0275mpd"](1073742336,Fl.e,Fl.e,[]),n["\u0275mpd"](1073742336,ql.a,ql.a,[]),n["\u0275mpd"](1073742336,jl.a,jl.a,[zl.a]),n["\u0275mpd"](1073742336,Ul.a,Ul.a,[]),n["\u0275mpd"](1073742336,Jl.c,Jl.c,[]),n["\u0275mpd"](1073742336,Kl.c,Kl.c,[]),n["\u0275mpd"](1073742336,$l.a,$l.a,[]),n["\u0275mpd"](1073742336,Wl.a,Wl.a,[]),n["\u0275mpd"](1073742336,Xl.a,Xl.a,[zl.a]),n["\u0275mpd"](1073742336,Zl.c,Zl.c,[]),n["\u0275mpd"](1073742336,Yl.a,Yl.a,[]),n["\u0275mpd"](1073742336,Hl.a,Hl.a,[zl.a]),n["\u0275mpd"](1073742336,F.A,F.A,[]),n["\u0275mpd"](1073742336,Sl.b,Sl.b,[]),n["\u0275mpd"](1073742336,Ql.a,Ql.a,[]),n["\u0275mpd"](1073742336,et.a,et.a,[]),n["\u0275mpd"](1073742336,lt.a,lt.a,[]),n["\u0275mpd"](1073742336,tt.a,tt.a,[[3,tt.a],zl.a]),n["\u0275mpd"](1073742336,nt.d,nt.d,[]),n["\u0275mpd"](1073742336,nt.c,nt.c,[]),n["\u0275mpd"](1073742336,at.l,at.l,[]),n["\u0275mpd"](1073742336,it.a,it.a,[zl.a]),n["\u0275mpd"](1073742336,a,a,[zl.a]),n["\u0275mpd"](256,v.e,v.i,[]),n["\u0275mpd"](256,Dl.o,"XSRF-TOKEN",[]),n["\u0275mpd"](256,Dl.p,"X-XSRF-TOKEN",[]),n["\u0275mpd"](1024,Me.m,(function(){return[[{path:":type",component:dl},{path:":type/:extra",component:dl},{path:"",component:dl}]]}),[])])}))},uNm5:function(e,l,t){"use strict";var n=t("8Y7J"),a=t("TSSN"),i=t("SVse");t("5uTj"),t.d(l,"a",(function(){return o})),t.d(l,"b",(function(){return d}));var o=n["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;height:156px;background-color:#fff;box-shadow:1px 2px 5px 1px #c1bebe;padding:15px 20px;position:relative;z-index:1;margin:0 -20px}.content-header-size-1[_nghost-%COMP%]{height:234px;padding-bottom:49px}.content-header-size-1[_nghost-%COMP%]     .mat-tab-nav-bar{position:absolute;bottom:-1px;left:20px}.content-header-size-2[_nghost-%COMP%]{height:125px}.content-header-size-2[_nghost-%COMP%]   .heading[_ngcontent-%COMP%]{margin-bottom:12px}.content-header-size-3[_nghost-%COMP%]{height:110px}.content-header-size-3[_nghost-%COMP%]   .heading[_ngcontent-%COMP%]{margin-top:0}.content-header-custom[_nghost-%COMP%]{height:135px;margin-top:-20px}.content-header-custom[_nghost-%COMP%]   .heading[_ngcontent-%COMP%]{margin-bottom:12px}.back-link[_ngcontent-%COMP%]{font-size:14px;color:#3498db;font-weight:600;cursor:pointer}.heading[_ngcontent-%COMP%]{font-size:26px;font-weight:500;line-height:1.2;color:#404040;margin:8px 0 12px}.timestamp[_ngcontent-%COMP%]{font-size:12px;font-weight:400;display:block}"]],data:{}});function s(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"span",[["class","back-link"]],null,[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onBackToClick()&&n),n}),null,null)),(e()(),n["\u0275ted"](1,null,["",""]))],null,(function(e,l){e(l,1,0,l.component.backToLink)}))}function r(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"span",[["class","timestamp"]],null,null,null,null,null)),(e()(),n["\u0275ted"](1,null,["",": ",""])),n["\u0275pid"](131072,a.i,[a.j,n.ChangeDetectorRef])],null,(function(e,l){var t=l.component;e(l,1,0,n["\u0275unv"](l,1,0,n["\u0275nov"](l,2).transform("widgets.general.lastupdate")),t.lastRefreshed)}))}function d(e){return n["\u0275vid"](2,[(e()(),n["\u0275and"](16777216,null,null,1,null,s)),n["\u0275did"](1,16384,null,0,i.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](2,0,null,null,3,"h2",[["class","heading"]],null,null,null,null,null)),(e()(),n["\u0275ted"](3,null,[""," "])),(e()(),n["\u0275and"](16777216,null,null,1,null,r)),n["\u0275did"](5,16384,null,0,i.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),n["\u0275ncd"](null,0)],(function(e,l){var t=l.component;e(l,1,0,t.hasBackToLink),e(l,5,0,t.lastRefreshed)}),(function(e,l){e(l,3,0,l.component.caption)}))}}}]);