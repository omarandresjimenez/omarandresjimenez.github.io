function _templateObject10(){const l=_taggedTemplateLiteral(["business-segment-filter.all"]);return _templateObject10=function(){return l},l}function _templateObject9(){const l=_taggedTemplateLiteral(["business-segment-filter.label"]);return _templateObject9=function(){return l},l}function _templateObject8(){const l=_taggedTemplateLiteral(["business-segment-filter.all"]);return _templateObject8=function(){return l},l}function _templateObject7(){const l=_taggedTemplateLiteral(["business-segment-filter.label"]);return _templateObject7=function(){return l},l}function _templateObject6(){const l=_taggedTemplateLiteral(["business-segment-filter.label"]);return _templateObject6=function(){return l},l}function _templateObject5(){const l=_taggedTemplateLiteral(["business-segment-filter.all"]);return _templateObject5=function(){return l},l}function _templateObject4(){const l=_taggedTemplateLiteral(["business-segment-filter.all"]);return _templateObject4=function(){return l},l}function _templateObject3(){const l=_taggedTemplateLiteral(["business-segment-filter.label"]);return _templateObject3=function(){return l},l}function _templateObject2(){const l=_taggedTemplateLiteral(["business-segment-filter.all"]);return _templateObject2=function(){return l},l}function _templateObject(){const l=_taggedTemplateLiteral(["business-segment-filter.all"]);return _templateObject=function(){return l},l}function _taggedTemplateLiteral(l,e){return e||(e=l.slice(0)),Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(e)}}))}(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{VHTt:function(l,e,n){"use strict";var t=function(l){return l[l.XLS=0]="XLS",l[l.PDF=1]="PDF",l}({}),i=n("2Vo4"),o=n("PqYM"),u=n("EY2u"),s=n("lJxs"),r=n("eIep"),a=n("vkgz"),d=n("GyhO"),c=n("nYR2");class h{get decrementer(){return()=>this.decrement()}get incrementor(){return()=>this.increment()}get resetter(){return()=>this.reset()}constructor(l=0){this._value$=new i.a(l),this.value$=this._value$.asObservable(),this.is$=this._value$.pipe(Object(s.a)(l=>Boolean(l)))}increment(){this._value$.next(this._value$.getValue()+1)}decrement(){const l=this._value$.getValue();this._value$.next(l>0?l-1:0)}reset(){this._value$.next(0)}streamJoiner(l=!1){return e=>{return(l?Object(o.a)(0).pipe((n=u.a,Object(r.a)(()=>n))):u.a).pipe(Object(a.a)(()=>{},void 0,this.incrementor),function(...l){return e=>e.lift.call(Object(d.a)(e,...l))}(e),Object(c.a)(this.decrementer));var n}}}var p=n("6LW8");n.d(e,"a",(function(){return t})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return p.a}))},"v6f/":function(l,e,n){"use strict";n.r(e);var t=n("8Y7J");class i{constructor(l){l.addLoaderWithPrefixedTranslations("/cabinet/docs","")}}var o=n("pMnS"),u=n("t68o"),s=n("zbXB"),r=n("GsI2"),a=n("eliu"),d=n("0Xvm"),c=n("VOAG"),h=n("aYrz"),p=n("HOtD"),m=n("bZzr"),g=n("646r"),f=n("19u4"),b=n("vNrE"),v=n("tfhy"),_=n("NcP4"),w=n("TSSN"),C=n("RHbX"),y=n("Xrj0"),D=n("SVse"),I=n("jqm9"),R=n("/kTj"),T=n("iv73"),x=n("f9bo"),S=n("dyEe"),k=n("s7LF"),F=n("/Mbv"),B=n("98QR"),O=n("V4Wx"),E=n("iInd"),j=n("zp2H"),N=n("v67E"),M=n("2v1Z"),P=n("bUbq"),V=n("sFX2"),L=n("+2T5"),A=n("NxlO"),G=n("S+vS"),Y=n("XpwZ");class U{constructor(l,e,n,i){this.auth=l,this.docsApi=e,this.dialog=n,this.translate=i,this.submitted=!1,this.budgetId=0,this.budgetLines=[],this.totalbudget=0,this.bsCreated=new t.EventEmitter,this.bsDeleted=new t.EventEmitter,this.months=[1,2,3,4,5,6,7,8,9,10,11,12],this.years=[],this.subs=[]}set sub(l){this.subs.push(l)}ngOnChanges(){this.reset()}ngOnInit(){const l=new Date;this.years.push(l.getFullYear()-2,l.getFullYear()-1,l.getFullYear(),l.getFullYear()+1),this.budgetId=0,this.setBudget(null)}ngOnDestroy(){this.subs.forEach(l=>l.unsubscribe())}onSubmit(){this.slno||this.auth.allowedToEditBudget()?(this.submitted=!0,this.budgetId>0?this.docsApi.editBudget(this.budgetId,this.budgetName,this.budgetDescription,!this.slno,this.active,!1,this.docId).then(l=>{this.submitted=!1,l&&(this.sub=this.translate.get("budget-form.update-success-message").subscribe(l=>this.dialog.success(l)),this.reset())}):0==+this.budgetId&&this.docsApi.addBudget(this.budgetName,this.budgetDescription,this.storeId,!this.slno,this.active,this.docId).then(l=>{this.submitted=!1,l&&l>0&&(this.budgetList.push({idBudget:l,nameBudget:this.budgetName,budgetDescription:this.budgetDescription,active:this.active,slno:this.slno,iddoc:this.docId}),this.sub=this.translate.get("budget-form.create-success-message").subscribe(l=>this.dialog.success(l)),this.bsCreated.emit({budgetId:l,budgetName:this.budgetName,slno:0,active:this.active}),this.reset())})):this.sub=this.translate.get("budget-form.edit-unavailable-error").subscribe(l=>this.dialog.alert(l))}deleteBudget(){this.sub=this.translate.get("budget-form.delete-confirm").subscribe(l=>{this.dialog.confirm(l+" "+this.budgetName+"?").then(l=>{if(l){if(!this.slno&&!this.auth.allowedToEditBudget())return void(this.sub=this.translate.get("budget-form.edit-groups-unavailable-error").subscribe(l=>this.dialog.alert(l)));this.submitted=!0,this.budgetId>0&&this.docsApi.editBudget(this.budgetId,"","",this.slno,!1,!0,this.docId).then(()=>{this.sub=this.translate.get("budget-form.delete-success-message").subscribe(l=>this.dialog.success(l)),this.bsDeleted.emit(!0),this.reset()})}this.submitted=!1})})}setBudgetId(l){this.budgetId=parseInt(l.target.value,10),this.setBudget(null)}updateBudgetTotal(){this.totalbudget=0,this.budgetLines.forEach(l=>{this.totalbudget+=parseFloat(l.valuebudget)})}loadInitialdata(){this.docsApi.getBudgetData(0,this.storeId,this.docId).then(l=>{this.budgetList=l.data,this.setBudget(null)})}setBudget(l){this.totalbudget=0,0!=+this.storeId&&this.docsApi.getBudgetData(this.budgetId,this.storeId,this.docId).then(l=>{l.data&&l.data.length>0&&(this.budgetDescription=this.budgetId<=0?"":l.data[0].descriptionBudget,this.budgetName=this.budgetId<=0?"":l.data[0].nameBudget,this.active=this.budgetId<=0||0!=+l.data[0].active,this.slno=!(this.budgetId<=0)&&0===parseInt(l.data[0].slno,10))})}reset(){this.submitted=!1,this.budgetId=0,this.budgetDescription="",this.budgetName="",this.active=!1,this.slno=!1,this.budgetLines.forEach(l=>{l.valuebudget=0})}}var z=n("lJxs"),q=n("butG"),$=n("Qq/Z"),W=n("ChPW"),H=(n("GYCD"),n("hCby"),n("f2Qm")),J=n("tFIl"),X=n("/gN3");class K extends X.e{constructor(l={}){super(l)}static fromJson(l){const e={vendor:J.b.string(l.vendor),description:J.b.string(l.description),code:J.b.string(l.code)};return new K(e)}}class Z extends H.a{constructor(l,e){super(l),this.authService=e,this.isSetResizeAllColumns=!0}getLastRefreshedTime(l){return this.request("GET","/nrttimestamp",{reportSection:l})}getCalendar(){return this.api.call("GET","/kpi/month").then(l=>l).catch(this.handleError)}getKpis(){return this.api.call("GET","/accesskpi/filter").then(l=>l).catch(this.handleError)}getStoreGroups(){return this.api.call("GET","/storegroups").then(l=>l).catch(this.handleError)}getStores(){return this.api.call("GET","/stores").then(l=>l).catch(this.handleError)}getComments(l,e=0){const n=[];return n.push({key:"doc_id",value:l}),n.push({key:"store_id",value:e}),this.api.call("GET","/doccomments",n).then(l=>l).catch(this.handleError)}getBudgetTemplate(l,e,n){return this.request("GET","/docs/generatebudgettemplate",{docname:e,budgetid:l,fiscyear:n})}getBudgetYTD(l){return[].push({key:"budgetid",value:l}),this.request("GET","/docs/getbudgetytd",{budgetid:l})}getForecast(l,e){return this.request("GET","/docs/getforecast",{budgetid:l,year:e})}addComment(l=0,e=0,n=""){return this.api.call("POST","/doccomments",{comment:n,doc_id:l,store_id:e}).then(l=>l).catch(this.handleError)}getSetupReportLineData(l,e,n){return this.request("GET","/docs/setuplinesget",{docid:l,docline:e,store_id:n}).pipe(Object(z.a)(l=>l instanceof Array?l.map(l=>K.fromJson(l)):void 0))}getJournalView(l,e,n){const t=[];return t.push({key:"ji",value:l}),t.push({key:"ri",value:e}),t.push({key:"store_name",value:n}),this.api.call("GET","/docs/drill",t).then(l=>l).catch(this.handleError)}getDrillDown(l,e,n,t=0,i){const o=[];return o.push({key:"dateindex",value:l}),o.push({key:"rl",value:e}),o.push({key:"storeId",value:n}),o.push({key:"rp",value:t}),o.push({key:"lt",value:i}),this.api.call("GET","/docs/drill",o).then(l=>l).catch(this.handleError)}getTransactionReport(l,e,n){const t=[];return t.push({key:"dateindex",value:l}),t.push({key:"gl",value:e}),t.push({key:"storeId",value:n}),this.api.call("GET","/docs/transactions",t).then(l=>l).catch(this.handleError)}getDocsSummary(l,e,n=0,t=null,i=!1,o="",u=!1,s=null,r="",a=0,d=""){const c=[];return c.push({key:"DocId",value:l}),c.push({key:"dateindex",value:e}),u?(c.push({key:"trend",value:1}),c.push({key:"groupIndex",value:n}),s&&c.push({key:"storeId",value:s})):(c.push({key:"groupIndex",value:n}),c.push({key:"groupIndexSlno",value:t}),c.push({key:"bystore",value:i?"1":"0"}),c.push({key:"storeField",value:r})),i&&(c.push({key:"period",value:o}),s&&c.push({key:"storeId",value:s}),c.push({key:"budgetName",value:d}),c.push({key:"budgetId",value:a})),this.api.call("GET","/docs",c).then(l=>l).catch(this.handleError)}getBudgetDocLines(l,e,n,t,i){const o=[];return o.push({key:"storeid",value:l}),o.push({key:"budgetid",value:e}),o.push({key:"month",value:t}),o.push({key:"year",value:i}),o.push({key:"docid",value:n}),this.api.call("GET","/docsbudget/budgetdocslines",o).then(l=>l).catch(this.handleError)}getBudgetData(l,e,n){const t=[];return t.push({key:"budgetid",value:l}),t.push({key:"storeid",value:e}),t.push({key:"docid",value:n}),this.api.call("GET","/docsbudget/budgetdata",t).then(l=>l).catch(this.handleError)}getColorsSetupByDoc(l){const e=[];return e.push({key:"docId",value:l}),this.api.call("GET","/docs/doccolorssetup",e).then(l=>l).catch(this.handleError)}addBudget(l,e,n,t,i,o){return this.api.call("POST","/docs",{name:l,description:e,storeid:n,slno:t,active:i,docid:o}).then(l=>l).catch(this.handleError)}editBudget(l,e,n,t,i,o,u){return this.api.call("PUT","/docs/".concat(l),{name:e,description:n,active:i,slno:t,delete:o,idbudget:l,editdetail:!1,docid:u}).then(l=>l).catch(this.handleError)}editBudgetDetail(l,e,n,t,i,o,u=[]){return this.api.call("PUT","/docs/".concat(l),{values:t,year:n,month:e,idbudget:i,editdetail:!0,csvfile:o,months:u}).then(l=>l).catch(this.handleError)}editBudgetYTD(l,e,n,t,i){return this.api.call("PUT","/docs/".concat(l),{values:n,year:e,month:0,editdetail:!0,idbudget:t,type:"YTD",months:i}).then(l=>l).catch(this.handleError)}handleError(l){return Promise.reject(l.error?l.error:l)}_abbrNum(l,e=1){const n=l<0;n&&(l=Math.abs(l));let t=l.toString();e=Math.pow(10,e);const i=["K","M","B","T"];for(let o=i.length-1;o>=0;o--){const u=Math.pow(10,3*(o+1));if(u<=l){1e3==+(l=Math.round(l*e/u)/e)&&o<i.length-1&&(l=1,o++),t="".concat(l).concat(i[o]),n&&(t="-".concat(l).concat(i[o]));break}}return t}}var Q=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function ll(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-loader",[["class","modal-loader"]],[[8,"className",0]],null,null,C.b,C.a)),t["\u0275did"](1,49152,null,0,y.a,[],null,null)],null,(function(l,e){l(e,0,0,t["\u0275nov"](e,1).cssClassByType)}))}function el(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,k.w,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,k.H,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,["",""]))],(function(l,e){l(e,1,0,t["\u0275inlineInterpolate"](1,"",e.context.$implicit.idBudget,"")),l(e,2,0,t["\u0275inlineInterpolate"](1,"",e.context.$implicit.idBudget,""))}),(function(l,e){l(e,3,0,e.context.$implicit.nameBudget)}))}function nl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn--alert"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.deleteBudget()&&t),t}),null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],null,(function(l,e){l(e,0,0,e.component.submitted),l(e,1,0,t["\u0275unv"](e,1,0,t["\u0275nov"](e,2).transform("budget-form.delete-group-button")))}))}function tl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,91,"form",[["class","business-segment-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,e,n){var i=!0,o=l.component;return"submit"===e&&(i=!1!==t["\u0275nov"](l,2).onSubmit(n)&&i),"reset"===e&&(i=!1!==t["\u0275nov"](l,2).onReset()&&i),"ngSubmit"===e&&(i=!1!==o.onSubmit()&&i),i}),null,null)),t["\u0275did"](1,16384,null,0,k.I,[],null,null),t["\u0275did"](2,4210688,[["bsForm",4]],0,k.u,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,k.d,null,[k.u]),t["\u0275did"](4,16384,null,0,k.t,[[4,k.d]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,ll)),t["\u0275did"](6,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](7,0,null,null,76,"div",[["class","row collapse"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,12,"div",[["class","form-group medium-6  column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,2,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](12,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,7,"select",[["name","budgetId"]],null,[[null,"change"]],(function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.setBudgetId(n)&&t),t}),null,null)),(l()(),t["\u0275eld"](14,0,null,null,4,"option",[["value","0"]],null,null,null,null,null)),t["\u0275did"](15,147456,null,0,k.w,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](16,147456,null,0,k.H,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](17,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,el)),t["\u0275did"](20,278528,null,0,D.l,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](21,0,null,null,0,"div",[["class","form-group medium-6  column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,13,"div",[["class","form-group medium-6  column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,2,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](24,null,["","*:"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](26,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,8,"input",[["class","input__text form-control"],["maxlength","20"],["name","name"],["required",""],["type","text"]],[[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,e,n){var i=!0,o=l.component;return"input"===e&&(i=!1!==t["\u0275nov"](l,28)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,28).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,28)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,28)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.budgetName=n)&&i),i}),null,null)),t["\u0275did"](28,16384,null,0,k.e,[t.Renderer2,t.ElementRef,[2,k.a]],null,null),t["\u0275did"](29,16384,null,0,k.B,[],{required:[0,"required"]},null),t["\u0275did"](30,540672,null,0,k.n,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.p,(function(l,e){return[l,e]}),[k.B,k.n]),t["\u0275prd"](1024,null,k.q,(function(l){return[l]}),[k.e]),t["\u0275did"](33,671744,null,0,k.v,[[2,k.d],[6,k.p],[8,null],[6,k.q]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,k.r,null,[k.v]),t["\u0275did"](35,16384,null,0,k.s,[[4,k.r]],null,null),(l()(),t["\u0275eld"](36,0,null,null,13,"div",[["class","form-group medium-6  column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](37,0,null,null,2,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](38,null,["","*:"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](40,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275eld"](41,0,null,null,8,"input",[["class","input__text form-control"],["maxlength","200"],["name","description"],["required",""],["type","text"]],[[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,e,n){var i=!0,o=l.component;return"input"===e&&(i=!1!==t["\u0275nov"](l,42)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,42).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,42)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,42)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.budgetDescription=n)&&i),i}),null,null)),t["\u0275did"](42,16384,null,0,k.e,[t.Renderer2,t.ElementRef,[2,k.a]],null,null),t["\u0275did"](43,16384,null,0,k.B,[],{required:[0,"required"]},null),t["\u0275did"](44,540672,null,0,k.n,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.p,(function(l,e){return[l,e]}),[k.B,k.n]),t["\u0275prd"](1024,null,k.q,(function(l){return[l]}),[k.e]),t["\u0275did"](47,671744,null,0,k.v,[[2,k.d],[6,k.p],[8,null],[6,k.q]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,k.r,null,[k.v]),t["\u0275did"](49,16384,null,0,k.s,[[4,k.r]],null,null),(l()(),t["\u0275eld"](50,0,null,null,9,"div",[["class","form-group medium-6  column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](51,0,null,null,8,"label",[],null,null,null,null,null)),(l()(),t["\u0275eld"](52,0,null,null,5,"input",[["name","active"],["type","checkbox"],["value","1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(l,e,n){var i=!0,o=l.component;return"change"===e&&(i=!1!==t["\u0275nov"](l,53).onChange(n.target.checked)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,53).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.active=n)&&i),i}),null,null)),t["\u0275did"](53,16384,null,0,k.b,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.q,(function(l){return[l]}),[k.b]),t["\u0275did"](55,671744,null,0,k.v,[[2,k.d],[8,null],[8,null],[6,k.q]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,k.r,null,[k.v]),t["\u0275did"](57,16384,null,0,k.s,[[4,k.r]],null,null),(l()(),t["\u0275ted"](58,null,["\xa0\xa0",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](60,0,null,null,9,"div",[["class","form-group medium-6  column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](61,0,null,null,8,"label",[],null,null,null,null,null)),(l()(),t["\u0275eld"](62,0,null,null,5,"input",[["name","slno"],["type","checkbox"],["value","1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(l,e,n){var i=!0,o=l.component;return"change"===e&&(i=!1!==t["\u0275nov"](l,63).onChange(n.target.checked)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,63).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.slno=n)&&i),i}),null,null)),t["\u0275did"](63,16384,null,0,k.b,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.q,(function(l){return[l]}),[k.b]),t["\u0275did"](65,671744,null,0,k.v,[[2,k.d],[8,null],[8,null],[6,k.q]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,k.r,null,[k.v]),t["\u0275did"](67,16384,null,0,k.s,[[4,k.r]],null,null),(l()(),t["\u0275ted"](68,null,["\xa0\xa0",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](70,0,null,null,6,"div",[["class","form-group medium-12  column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](71,0,null,null,2,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](72,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](74,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](75,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](76,null,["",""])),(l()(),t["\u0275eld"](77,0,null,null,6,"div",[["class","form-group medium-12  column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](78,0,null,null,2,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](79,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](81,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](82,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](83,null,["",""])),(l()(),t["\u0275eld"](84,0,null,null,7,"div",[["class","submit-wrapper row collapse"]],null,null,null,null,null)),(l()(),t["\u0275eld"](85,0,null,null,2,"div",[["class","small-6 column"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,nl)),t["\u0275did"](87,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](88,0,null,null,3,"div",[["class","small-6 column text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](89,0,null,null,2,"button",[["class","btn btn--primary"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),t["\u0275ted"](90,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],(function(l,e){var n=e.component;l(e,6,0,n.submitted),l(e,15,0,"0"),l(e,16,0,"0"),l(e,20,0,n.budgetList),l(e,29,0,""),l(e,30,0,"20"),l(e,33,0,"name",0==n.slno&&!n.auth.allowedToEditBudget(),n.budgetName),l(e,43,0,""),l(e,44,0,"200"),l(e,47,0,"description",0==n.slno&&!n.auth.allowedToEditBudget(),n.budgetDescription),l(e,55,0,"active",n.active),l(e,65,0,"slno",n.slno),l(e,87,0,n.budgetId>0)}),(function(l,e){var n=e.component;l(e,0,0,t["\u0275nov"](e,4).ngClassUntouched,t["\u0275nov"](e,4).ngClassTouched,t["\u0275nov"](e,4).ngClassPristine,t["\u0275nov"](e,4).ngClassDirty,t["\u0275nov"](e,4).ngClassValid,t["\u0275nov"](e,4).ngClassInvalid,t["\u0275nov"](e,4).ngClassPending),l(e,10,0,t["\u0275unv"](e,10,0,t["\u0275nov"](e,11).transform("budget-form.select-budget"))),l(e,17,0,t["\u0275unv"](e,17,0,t["\u0275nov"](e,18).transform("budget-form.create-new-budget"))),l(e,24,0,t["\u0275unv"](e,24,0,t["\u0275nov"](e,25).transform("budget-form.budget-name"))),l(e,27,0,t["\u0275nov"](e,29).required?"":null,t["\u0275nov"](e,30).maxlength?t["\u0275nov"](e,30).maxlength:null,t["\u0275nov"](e,35).ngClassUntouched,t["\u0275nov"](e,35).ngClassTouched,t["\u0275nov"](e,35).ngClassPristine,t["\u0275nov"](e,35).ngClassDirty,t["\u0275nov"](e,35).ngClassValid,t["\u0275nov"](e,35).ngClassInvalid,t["\u0275nov"](e,35).ngClassPending),l(e,38,0,t["\u0275unv"](e,38,0,t["\u0275nov"](e,39).transform("budget-form.budget-description"))),l(e,41,0,t["\u0275nov"](e,43).required?"":null,t["\u0275nov"](e,44).maxlength?t["\u0275nov"](e,44).maxlength:null,t["\u0275nov"](e,49).ngClassUntouched,t["\u0275nov"](e,49).ngClassTouched,t["\u0275nov"](e,49).ngClassPristine,t["\u0275nov"](e,49).ngClassDirty,t["\u0275nov"](e,49).ngClassValid,t["\u0275nov"](e,49).ngClassInvalid,t["\u0275nov"](e,49).ngClassPending),l(e,52,0,t["\u0275nov"](e,57).ngClassUntouched,t["\u0275nov"](e,57).ngClassTouched,t["\u0275nov"](e,57).ngClassPristine,t["\u0275nov"](e,57).ngClassDirty,t["\u0275nov"](e,57).ngClassValid,t["\u0275nov"](e,57).ngClassInvalid,t["\u0275nov"](e,57).ngClassPending),l(e,58,0,t["\u0275unv"](e,58,0,t["\u0275nov"](e,59).transform("budget-form.budget-active"))),l(e,62,0,t["\u0275nov"](e,67).ngClassUntouched,t["\u0275nov"](e,67).ngClassTouched,t["\u0275nov"](e,67).ngClassPristine,t["\u0275nov"](e,67).ngClassDirty,t["\u0275nov"](e,67).ngClassValid,t["\u0275nov"](e,67).ngClassInvalid,t["\u0275nov"](e,67).ngClassPending),l(e,68,0,t["\u0275unv"](e,68,0,t["\u0275nov"](e,69).transform("budget-form.budget-public"))),l(e,72,0,t["\u0275unv"](e,72,0,t["\u0275nov"](e,73).transform("budget-form.budget-store"))),l(e,76,0,n.storeName),l(e,79,0,t["\u0275unv"](e,79,0,t["\u0275nov"](e,80).transform("budget-form.budget-document"))),l(e,83,0,n.docName),l(e,89,0,n.submitted||!t["\u0275nov"](e,2).valid),l(e,90,0,t["\u0275unv"](e,90,0,t["\u0275nov"](e,91).transform("budget-form.submit-button")))}))}var il=n("EwA9"),ol=n("wd/R"),ul=n("cMRB"),sl=(n("8Gnb"),n("FmVO")),rl=n("aR35");const al=Object(sl.a)(ul.b),dl=window.amplitude;class cl{constructor(l,e,n,i,o,u,s,r){this.router=l,this.route=e,this.translate=n,this.topNav=i,this.service=o,this.dialog=u,this.authService=s,this._headerService=r,this.loading=!1,this.showCommentsDocs=!1,this.currentDate="",this.years_map=[],this.monthpicker_years=[],this.monthpicker_value=(new Date).getTime().toString(),this.selected_month=null,this.selected_year=0,this.last_available_date=null,this.byStore=!1,this.projecSalesGP=!1,this.storeIdSelected=0,this.viewTrend=!1,this.viewForecast=!1,this.wasbyStore=!1,this.byStoreFields=!1,this.projectSalesGPFilter=!1,this.storegroups_loading=!0,this.selected_storegroup={groupIndex:0,name:"",slno:"",stores:[]},this.dropdownStoregroupOpened=!1,this.storegroupChanged=new t.EventEmitter,this.byStoreChanged=new t.EventEmitter,this.projecSalesGPChanged=new t.EventEmitter,this.viewTrendChanged=new t.EventEmitter,this.viewForecastChanged=new t.EventEmitter,this.periodChanged=new t.EventEmitter,this.period2Changed=new t.EventEmitter,this.fieldsChanged=new t.EventEmitter,this.mtdChanged=new t.EventEmitter,this.report_type=0,this.report_type_bud=0,this.flipChange=!1,this.dropdownMtdOpened=!1,this.dropdownPeriodOpened=!1,this.dropdownPeriod2Opened=!1,this.dropdownFieldsOpened=!1,this.stores=[],this.kpis=[],this.storegroups=[],this.storegroups_without_all=[],this.allowEditing=!0,this.i18nBs=ul.b,this.sourceText="",this.subs=[]}get cabinetUrl(){return rl.a.cabinetUrl}get hasOneStore(){return 1===this.storesCount}set sub(l){this.subs.push(l)}ngOnInit(){this.currentUser=this.authService.getCurrentUser(),this.sourceText="DOCS",this.initTranslationStreams();const l=window.localStorage.getItem("currentDate");l&&(this.currentDate=l),this.stores=this.currentUser.stores,this.years=this.service.getCalendar().then(l=>{const e=[],n=[];l.forEach(l=>{const n=new Date(l.date_from),t=n.getFullYear();void 0===e[t]&&(e[t]={title:t.toString(),months:[]}),l.url="".concat(ol(n).format("MM_YYYY")),e[t].months.unshift(l)});for(const t of Object.keys(e))e[t].months.length&&n.push(e[t]);if(this.monthpicker_years=n,this.years_map=n.map(l=>l.title),""!==this.currentDate){const[l,e]=this.currentDate.split("_"),t=this.years_map.indexOf(e);this.selected_year=-1!==t?t:n.length-1}else this.selected_year=n.length-1;return n}).catch(l=>(this.dialog.alert(l),[]));const e=this.service.getStoreGroups().then(l=>(this.storegroups=l,this.storegroups_without_all=JSON.parse(JSON.stringify(l)),this.sub=this.translate.get(al(_templateObject())).subscribe(l=>this.storegroups.unshift(new ul.a(0,l))),this.storegroups_loading=!1,l));this.all=Promise.all([this.years,e]).then(l=>{const[e,n]=l,t=e.length-1,i=t>=0?e[t].months.length-1:null;return null!==i&&(this.last_available_date=e[t].months[i]),this.bs_form.bsCreated.subscribe(l=>{this.bsForm.closeModal(),this.storegroups_without_all.push(l),this.storegroups.push(l)}),this.bs_form.bsUpdated.subscribe(l=>{this.bsForm.closeModal(),this.selected_storegroup.groupIndex===parseInt(l.groupIndex,10)&&parseInt(this.selected_storegroup.slno,10)===parseInt(l.slno,10)&&(this.selected_storegroup.name=l.name),this.storegroups_without_all.forEach((e,n)=>{e.groupIndex===+l.groupIndex&&+e.slno==+l.slno&&(this.storegroups_without_all[n]=l)}),this.storegroups.forEach((e,n)=>{+e.groupIndex==+l.groupIndex&&+e.slno==+l.slno&&(this.storegroups[n]=l)})}),this.bs_form.bsDeleted.subscribe(l=>{const[e,n]=l;this.bsForm.closeModal(),this.storegroups_without_all=this.storegroups_without_all.filter(l=>!(+l.groupIndex==+e&&+l.slno==+n)),this.storegroups=this.storegroups.filter(l=>!(+l.groupIndex==+e&&+l.slno==+n)),this.selected_storegroup.groupIndex===parseInt(e,10)&&parseInt(this.selected_storegroup.slno,10)===parseInt(n,10)&&this.storegroups.length&&this.setStoregroup(this.storegroups[0])}),this.budget_form.bsCreated.subscribe(l=>{this.mtd_filter.push({label:l.budgetName,value:l.budgetId,budgetId:l.budgetId,slno:l.slno,active:l.active}),this.budgetForm.closeModal()}),this.budget_form.bsDeleted.subscribe(()=>{this.updateBudgetFilter()}),l}).catch(l=>this.dialog.alert(l.message))}ngOnDestroy(){this.subs.forEach(l=>l.unsubscribe()),this.budget_form.bsCreated.unsubscribe(),this.budget_form.bsDeleted.unsubscribe()}updateBudgetFilter(){this.mtd_filter.length>3&&(this.mtd_filter.splice(3,this.mtd_filter.length-3),this.selected_period.budgetId>0&&(this.selected_segment=this.mtd_filter[0])),this.loadInitialdata()}windowClick(l){this.dropdownPeriodOpened&&!l.target.closest(".period-select-box")&&(this.dropdownPeriodOpened=!1),this.dropdownPeriod2Opened&&!l.target.closest(".period-select-box")&&(this.dropdownPeriod2Opened=!1),this.dropdownStoregroupOpened&&!l.target.closest(".storegroup-select-box")&&(this.dropdownStoregroupOpened=!1),this.dropdownMtdOpened&&!l.target.closest(".mtd-select-box")&&(this.dropdownMtdOpened=!1),this.dropdownFieldsOpened&&!l.target.closest(".store-field-filter")&&(this.dropdownFieldsOpened=!1)}onBsFormInit(l){this.bsForm=l}openBsForm(){this.dropdownStoregroupOpened=!1,this.bsForm.showModal()}closeBsForm(){this.bs_form._setSegment(0,null)}onBsFormInitBud(l){this.budgetForm=l}openBsFormBud(){this.dropdownPeriodOpened=!1,this.budgetForm.showModal()}closeBsFormBud(){}setMonth(l){this.showCommentsDocs=!1,this.selected_month=l;const e=new Date(this.selected_month.date_from);window.localStorage.setItem("currentDate",String(ol(e).format("MM_YYYY"))),sessionStorage.customDating=l.url.split("/").pop(),sessionStorage.customMonthly=l;const n=this.route.children[0];this.router.navigate(2===n.snapshot.url.length?["..",l.url]:[l.url],{relativeTo:n})}refreshMonthPickerValue(){if(""!==this.currentDate){const[l,e]=this.currentDate.split("_");this.monthpicker_value=new Date("".concat(l,"/01/").concat(e)).getTime().toString()}else this.monthpicker_value=(new Date).getTime().toString()}getYears(){return this.years}isNan(l){return setTimeout(()=>isNaN(l),0),!0}setMTD(l){this.showCommentsDocs=!1,this.selected_segment=l,this.dropdownMtdOpened=!1,this.mtdChanged.next(!0)}setPeriod(l){this.showCommentsDocs=!1,this.projectSalesGPFilter=!1,this.projecSalesGP=!1,"mtd_mtdly"===l.value&&(this.projectSalesGPFilter=!0),this.selected_period=l,this.dropdownPeriodOpened=!1,this.selected_period&&this.selected_period.budgetId>0&&0===this.period_filter.filter(l=>"PROJ"===l.value).length?this.period_filter.push({label:"PROJ",value:"PROJ"}):this.period_filter=this.period_filter.filter(l=>"PROJ"!==l.value),this.periodChanged.next(this.selected_period)}setPeriod2(l){this.select_period2=l,this.dropdownPeriod2Opened=!1,this.period2Changed.next(this.select_period2.value)}setFields(l){this.showCommentsDocs=!1,this.selected_fields=l,this.dropdownFieldsOpened=!1,this.fieldsChanged.next(this.selected_fields)}getTrackingParams(){const l=[];this.byStore&&l.push({label:"By Store",value:null}),this.viewTrend&&l.push({label:"View Trend",value:null});try{l.push({label:"Business Segment",value:this.viewTrend?"All":this.selected_storegroup.name},{label:"Date",value:this.selected_month.label.replace(/[ ,\s ]+/g," ")})}catch(e){}return this.byStoreName&&l.push({label:"Store",value:this.byStoreName}),this.isMtdFilterVisible()&&l.push({label:this.selected_segment.label,value:null}),this.isComparisonFilterVisible&&l.push({label:"Comparison",value:this.selected_period.label}),this.isFieldsFilterVisible&&l.push({label:this.selected_fields.label,value:null}),this.isProjectSalesGpFilterVisible&&this.projecSalesGP&&l.push({label:"Project sales/GP",value:null}),l}isMtdFilterVisible(){return!this.byStore&&!this.viewTrend&&10!==this.report_type&&11!==this.report_type}get isComparisonFilterVisible(){return this.byStore&&!this.viewTrend&&10!==this.report_type&&11!==this.report_type}get isFieldsFilterVisible(){return this.byStore&&this.byStoreFields&&!this.viewTrend&&10!==this.report_type&&11!==this.report_type}get isProjectSalesGpFilterVisible(){return this.byStoreName&&this.projectSalesGPFilter&&10!==this.report_type&&11!==this.report_type}toggleMtdDropdown(){this.dropdownMtdOpened=!this.dropdownMtdOpened}togglePeriodDropdown(){this.dropdownPeriodOpened=!this.dropdownPeriodOpened}togglePeriodDropdown2(){this.dropdownPeriod2Opened=!this.dropdownPeriod2Opened}toggleFieldsDropdown(){this.dropdownFieldsOpened=!this.dropdownFieldsOpened}resetDefault(){this.showCommentsDocs=!1,this.byStore=!1,this.viewTrend=!1,this.byStoreName=null,this.byStoreChanged.next(this.byStore)}byStoreToggle(l){if(this.flipChange=!1,this.showCommentsDocs=!1,this.loading)return l.target.checked=!l.target.checked,!1;this.selected_period=this.period_filter[0],this.byStoreName=null,this.byStoreFields=!0,this.byStore=l.target.checked,this.wasbyStore=l.target.checked,this.byStore&&(this.viewTrend=!1),this.updateBudgetFilter(),this.byStoreChanged.next(this.byStore)}projecSalesGPToggle(l){if(this.showCommentsDocs=!1,this.loading)return l.target.checked=!l.target.checked,!1;this.projecSalesGP=l.target.checked,this.projecSalesGPChanged.next(this.byStore),this.mtdChanged.next(!0)}byStoreNameFilter(l=null,e=null,n=null){this.showCommentsDocs=!1,this.selected_period=this.byStore&&null===e&&null===l?this.period_filter[0]:this.mtd_filter[0],this.byStoreFields=!1,this.byStoreName=+l,this.nameOfStore=n,this.byStoreChanged.next(this.byStore),this.projectSalesGPFilter="mtd_mtdly"===this.selected_period.value,this.byStore&&null==l&&(this.byStoreFields=!0)}viewTrendNextMonth(){this.showCommentsDocs=!1;let l=Number(this.selected_month.dateindex);if(24!=+l){l+=1;for(const e of this.monthpicker_years)for(const n of e.months)if(parseInt(n.dateindex,10)===l)return this.setMonth(n),this.router.navigate([n.url])}}viewTrendPrevMonth(){this.showCommentsDocs=!1;let l=Number(this.selected_month.dateindex);console.log(l),l>-23&&l--;for(const e of this.monthpicker_years)for(const n of e.months)if(parseInt(n.dateindex,10)===l)return this.setMonth(n),this.router.navigate([n.url])}viewTrendToggle(l){if(this.showCommentsDocs=!1,this.flipChange=!1,this.loading)return l.target.checked=!l.target.checked,!1;this.viewTrend=l.target.checked,this.viewTrend?(this.byStore=!1,this.viewForecast=!1,this.updateBudgetFilter(),this.projectSalesGPFilter=!1):(this.projectSalesGPFilter="mtd_mtdly"===this.selected_period.value,this.wasbyStore?this.byStore=!0:this.byStoreName=null),this.viewTrendChanged.next(this.viewTrend)}viewForecastToggle(l){if(this.showCommentsDocs=!1,this.loading)return l.target.checked=!l.target.checked,!1;this.viewForecast=l.target.checked,this.viewForecastChanged.next(this.viewForecast)}setStoregroup(l){this.showCommentsDocs=!1,this.selected_storegroup=l,dl.getInstance().logEvent("BUDGET",{eventSource:this.sourceText,eventName:"SELECT",eventValue:l}),this.dropdownStoregroupOpened=!1,this.storegroupChanged.next(this.selected_storegroup)}toggleStoregroupDropdown(){this.dropdownStoregroupOpened=!this.dropdownStoregroupOpened}docsExcelExport(){this._headerService.emitExcelChange()}docsPDFExport(){this._headerService.emitPDFChange()}flipChangeToggle(l){this.flipChange=l.target.checked,this.viewTrendChanged.next(this.viewTrend)}loadInitialdata(){this.budgetList=[],0!=+this.storeIdSelected&&this.service.getBudgetData(0,this.storeIdSelected,this.report_type).then(l=>{this.budgetList=l.data,this.budgetList.forEach(l=>{this.mtd_filter.push({label:l.nameBudget,value:l.idBudget,budgetId:l.idBudget,slno:l.slno,active:0!=+l.active})})})}initTranslationStreams(){this.sub=this.translate.stream(["by-store.store.filters.comparison.mtd-mtdly","by-store.store.filters.comparison.mtd-mtdsmly","by-store.store.filters.comparison.ytd-ytdly","by-store.store.filters.comparison.ytd-ytdly-mtd","by-store.store.filters.comparison.mtd-projection"]).subscribe(l=>{if(this.mtd_filter=[{label:l["by-store.store.filters.comparison.mtd-mtdly"],value:"mtd_mtdly",budgetId:0,slno:0,active:!0},{label:l["by-store.store.filters.comparison.mtd-mtdsmly"],value:"mtd_mtdsmly",budgetId:0,slno:0,active:!0},{label:l["by-store.store.filters.comparison.ytd-ytdly"],value:"ytd_ytdly",budgetId:0,slno:0,active:!0},{label:l["by-store.store.filters.comparison.ytd-ytdly-mtd"],value:"ytd_ytdly_mtd",budgetId:0,slno:0,active:!0}],this.currentUser.instance_name.indexOf("HAG")<0&&this.mtd_filter.splice(1,1),this.selected_segment){const l=this.mtd_filter.find(l=>l.value===this.selected_segment.value);l&&(this.selected_segment.label=l.label)}else this.selected_segment=this.mtd_filter[0]}),this.sub=this.translate.stream(["by-store.filters.comparison.mtd","by-store.filters.comparison.ytd","by-store.filters.comparison.projection"]).subscribe(l=>{if(this.period_filter=[{label:l["by-store.filters.comparison.mtd"],value:"MTD"},{label:l["by-store.filters.comparison.ytd"],value:"YTD"}],this.selected_period){const l=this.period_filter.find(l=>l.value===this.selected_period.value);l&&(this.selected_period.label=l.label)}else this.selected_period=this.period_filter[0];if(this.select_period2){const l=this.period_filter.find(l=>l.value===this.select_period2.value);l&&(this.select_period2.label=l.label)}else this.select_period2=this.period_filter[0]}),this.sub=this.translate.stream(["by-store.filters.store-field.default","by-store.filters.store-field.gp","by-store.filters.store-field.mtd-ytd","by-store.filters.store-field.ytd-ytdly","by-store.filters.store-field.mtd-mtdly","by-store.filters.store-field.budget"]).subscribe(l=>{if(this.store_field_filter=[{label:l["by-store.filters.store-field.default"],value:"default"},{label:l["by-store.filters.store-field.gp"],value:"gp"},{label:l["by-store.filters.store-field.mtd-ytd"],value:"mtd_ytd"},{label:l["by-store.filters.store-field.ytd-ytdly"],value:"ytd_ytdly"},{label:l["by-store.filters.store-field.mtd-mtdly"],value:"mtd_mtdly"}],this.selected_fields){const l=this.store_field_filter.find(l=>l.value===this.selected_fields.value);l&&(this.selected_fields.label=l.label)}else this.selected_fields=this.store_field_filter[0]}),this.sub=this.translate.stream(al(_templateObject2())).subscribe(l=>{0===this.selected_storegroup.groupIndex&&(this.selected_storegroup.name=l);const e=this.storegroups.find(l=>0===l.groupIndex);e&&(e.name=l)})}}var hl=n("nutA"),pl=n("XNiG");class ml{constructor(){this._emitExcelChangeSource$=new pl.a,this._emitPDFChangeSource$=new pl.a,this.changeExcelEmitted$=this._emitExcelChangeSource$.asObservable(),this.changePDFEmitted$=this._emitPDFChangeSource$.asObservable()}emitExcelChange(){this._emitExcelChangeSource$.next()}emitPDFChange(){this._emitPDFChangeSource$.next()}}var gl=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"label",[["class","c_checkbox by-store-checkbox"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","c_checkbox-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](4,0,null,null,2,"div",[["class","c_checkbox-toggle"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.byStoreToggle(n)&&t),t}),null,null)),(l()(),t["\u0275eld"](6,0,null,null,0,"div",[["class","c_checkbox-toggle-view"]],null,null,null,null,null))],null,(function(l,e){var n=e.component;l(e,2,0,t["\u0275unv"](e,2,0,t["\u0275nov"](e,3).transform("filters.by-store"))),l(e,5,0,n.byStore)}))}function bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"label",[["class","c_checkbox by-store-checkbox"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","c_checkbox-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](4,0,null,null,2,"div",[["class","c_checkbox-toggle"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.flipChangeToggle(n)&&t),t}),null,null)),(l()(),t["\u0275eld"](6,0,null,null,0,"div",[["class","c_checkbox-toggle-view"]],null,null,null,null,null))],null,(function(l,e){var n=e.component;l(e,2,0,t["\u0275unv"](e,2,0,t["\u0275nov"](e,3).transform("view-trend.filters.flip-months-age"))),l(e,5,0,n.flipChange)}))}function vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"label",[["class","c_checkbox by-store-checkbox"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","c_checkbox-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](4,0,null,null,2,"div",[["class","c_checkbox-toggle"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.viewForecastToggle(n)&&t),t}),null,null)),(l()(),t["\u0275eld"](6,0,null,null,0,"div",[["class","c_checkbox-toggle-view"]],null,null,null,null,null))],null,(function(l,e){var n=e.component;l(e,2,0,t["\u0275unv"](e,2,0,t["\u0275nov"](e,3).transform("filters.view-forecast"))),l(e,5,0,n.viewForecast)}))}function _l(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-loader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"app-loader",[],[[8,"className",0]],null,null,C.b,C.a)),t["\u0275did"](2,49152,null,0,y.a,[],null,null)],null,(function(l,e){l(e,1,0,t["\u0275nov"](e,2).cssClassByType)}))}function wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-menu-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.setStoregroup(l.context.$implicit)&&t),t}),null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,(function(l,e){l(e,2,0,e.context.$implicit.name)}))}function Cl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","c_dropdown-std_menu"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,8,"div",[["style","height: auto; max-height: 20pc; overflow-y: auto;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,_l)),t["\u0275did"](3,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,wl)),t["\u0275did"](5,278528,null,0,D.l,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](6,0,null,null,3,"div",[["class","dropdown-menu-item dropdown-menu-actions"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,2,"button",[["class","btn btn--empty btn--color-primary btn--small"]],[[8,"disabled",0]],[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.openBsForm()&&t),t}),null,null)),(l()(),t["\u0275ted"](8,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],(function(l,e){var n=e.component;l(e,3,0,!n.storegroups.length&&n.storegroups_loading),l(e,5,0,n.storegroups)}),(function(l,e){var n=e.component;l(e,7,0,n.storegroups_loading),l(e,8,0,t["\u0275unv"](e,8,0,t["\u0275nov"](e,9).transform(n.i18nBs+"business-segment-filter.add-new")))}))}function yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","c_dropdown-std less-border storegroup-select-box"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","c_dropdown-std_value"]],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.toggleStoregroupDropdown()&&t),t}),null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["",": ",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](5,0,null,null,0,"span",[["class","icon-arrow-s-down"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Cl)),t["\u0275did"](7,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,e){l(e,7,0,e.component.dropdownStoregroupOpened)}),(function(l,e){var n=e.component;l(e,3,0,t["\u0275unv"](e,3,0,t["\u0275nov"](e,4).transform(n.i18nBs+"business-segment-filter.label")),null==n.selected_storegroup?null:n.selected_storegroup.name)}))}function Dl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-menu-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.setMTD(l.context.$implicit)&&t),t}),null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,(function(l,e){l(e,2,0,e.context.$implicit.label)}))}function Il(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","c_dropdown-std_menu"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Dl)),t["\u0275did"](2,278528,null,0,D.l,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,e){l(e,2,0,e.component.mtd_filter)}),null)}function Rl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","c_dropdown-std less-border mtd-select-box"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","c_dropdown-std_value"]],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.toggleMtdDropdown()&&t),t}),null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[""," "," "])),(l()(),t["\u0275eld"](4,0,null,null,0,"span",[["class","icon-arrow-s-down"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Il)),t["\u0275did"](6,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,e){l(e,6,0,e.component.dropdownMtdOpened)}),(function(l,e){var n=e.component;l(e,3,0,null==n.selected_segment?null:n.selected_segment.label,n.byStoreName)}))}function Tl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-menu-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.setPeriod2(l.context.$implicit)&&t),t}),null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,(function(l,e){l(e,2,0,e.context.$implicit.label)}))}function xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","c_dropdown-std_menu"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Tl)),t["\u0275did"](2,278528,null,0,D.l,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,e){l(e,2,0,e.component.period_filter)}),null)}function Sl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","c_dropdown-std less-border period-select-box"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","c_dropdown-std_value"]],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.togglePeriodDropdown2()&&t),t}),null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["Period: ",""])),(l()(),t["\u0275eld"](4,0,null,null,0,"span",[["class","icon-arrow-s-down"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,xl)),t["\u0275did"](6,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,e){l(e,6,0,e.component.dropdownPeriod2Opened)}),(function(l,e){var n=e.component;l(e,3,0,null==n.select_period2?null:n.select_period2.label)}))}function kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.setPeriod(l.parent.context.$implicit)&&t),t}),null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,(function(l,e){l(e,1,0,e.parent.context.$implicit.label)}))}function Fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-menu-item"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,kl)),t["\u0275did"](2,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,e){l(e,2,0,e.context.$implicit.active)}),null)}function Bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","dropdown-menu-item dropdown-menu-actions"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"button",[["class","btn btn--empty btn--color-primary btn--small"]],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.openBsFormBud()&&t),t}),null,null)),(l()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],null,(function(l,e){l(e,2,0,t["\u0275unv"](e,2,0,t["\u0275nov"](e,3).transform("by-store.store.filters.comparison.edit-budgets")))}))}function Ol(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Fl)),t["\u0275did"](2,278528,null,0,D.l,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Bl)),t["\u0275did"](4,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,e){var n=e.component;l(e,2,0,n.mtd_filter),l(e,4,0,n.byStoreName&&n.currentUser.allowToEditBudget)}),null)}function El(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-menu-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.setPeriod(l.context.$implicit)&&t),t}),null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,(function(l,e){l(e,2,0,e.context.$implicit.label)}))}function jl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,El)),t["\u0275did"](2,278528,null,0,D.l,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,e){l(e,2,0,e.component.period_filter)}),null)}function Nl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","c_dropdown-std_menu"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ol)),t["\u0275did"](2,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,jl)),t["\u0275did"](4,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,e){var n=e.component;l(e,2,0,n.byStoreName),l(e,4,0,!n.byStoreName)}),null)}function Ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","c_dropdown-std less-border period-select-box"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","c_dropdown-std_value"]],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.togglePeriodDropdown()&&t),t}),null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["",": ",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](5,0,null,null,0,"span",[["class","icon-arrow-s-down"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Nl)),t["\u0275did"](7,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,e){l(e,7,0,e.component.dropdownPeriodOpened)}),(function(l,e){var n=e.component;l(e,3,0,t["\u0275unv"](e,3,0,t["\u0275nov"](e,4).transform("by-store.store.filters.comparison.label")),null==n.selected_period?null:n.selected_period.label)}))}function Pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-menu-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.setFields(l.context.$implicit)&&t),t}),null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,(function(l,e){l(e,2,0,e.context.$implicit.label)}))}function Vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","c_dropdown-std_menu"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Pl)),t["\u0275did"](2,278528,null,0,D.l,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,e){l(e,2,0,e.component.store_field_filter)}),null)}function Ll(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","c_dropdown-std less-border store-field-filter"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","c_dropdown-std_value"]],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.toggleFieldsDropdown()&&t),t}),null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["",""])),(l()(),t["\u0275eld"](4,0,null,null,0,"span",[["class","icon-arrow-s-down"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Vl)),t["\u0275did"](6,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,e){l(e,6,0,e.component.dropdownFieldsOpened)}),(function(l,e){var n=e.component;l(e,3,0,null==n.selected_fields?null:n.selected_fields.label)}))}function Al(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"label",[["class","c_checkbox by-store-checkbox"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","c_checkbox-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](4,0,null,null,2,"div",[["class","c_checkbox-toggle"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.projecSalesGPToggle(n)&&t),t}),null,null)),(l()(),t["\u0275eld"](6,0,null,null,0,"div",[["class","c_checkbox-toggle-view"]],null,null,null,null,null))],null,(function(l,e){var n=e.component;l(e,2,0,t["\u0275unv"](e,2,0,t["\u0275nov"](e,3).transform("by-store.store.filters.project-sales-gp"))),l(e,5,0,n.projecSalesGP)}))}function Gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[],null,[[null,"click"]],(function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==(!i.loading&&i.docsExcelExport())&&t),t}),null,null)),(l()(),t["\u0275eld"](1,16777216,null,null,2,"i",[["class","material-icons"],["tooltipTheme","dark-auto"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,e,n){var i=!0;return"focusin"===e&&(i=!1!==t["\u0275nov"](l,2).show()&&i),"mouseenter"===e&&(i=!1!==t["\u0275nov"](l,2).show()&&i),"focusout"===e&&(i=!1!==t["\u0275nov"](l,2).hide()&&i),"mouseleave"===e&&(i=!1!==t["\u0275nov"](l,2).hide()&&i),i}),null,null)),t["\u0275did"](2,147456,null,0,I.a,[t.ViewContainerRef,t.ComponentFactoryResolver,t.ChangeDetectorRef,R.b],{content:[0,"content"],tooltipTheme:[1,"tooltipTheme"]},null),(l()(),t["\u0275ted"](-1,null,["file_download"]))],(function(l,e){l(e,2,0,t["\u0275nov"](e.parent,41),"dark-auto")}),null)}function Yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[],null,[[null,"click"]],(function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==(!i.loading&&i.docsPDFExport())&&t),t}),null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["picture_as_pdf"]))],null,null)}function Ul(l){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{bs_form:0}),t["\u0275qud"](402653184,2,{budget_form:0}),(l()(),t["\u0275eld"](2,0,null,null,47,"div",[["class","page__actions_bar page__actions_bar--aligned"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,13,"div",[["class","align-left"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,fl)),t["\u0275did"](5,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](6,0,null,null,6,"label",[["class","c_checkbox by-store-checkbox"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,2,"div",[["class","c_checkbox-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](10,0,null,null,2,"div",[["class","c_checkbox-toggle"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.viewTrendToggle(n)&&t),t}),null,null)),(l()(),t["\u0275eld"](12,0,null,null,0,"div",[["class","c_checkbox-toggle-view"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,bl)),t["\u0275did"](14,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,vl)),t["\u0275did"](16,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](17,0,null,null,32,"div",[["class","align-right"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,yl)),t["\u0275did"](19,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](20,0,null,null,5,"app-month-picker",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"monthChange"],["window","click"]],(function(l,e,n){var i=!0,o=l.component;return"window:click"===e&&(i=!1!==t["\u0275nov"](l,21).windowClick(n)&&i),"monthChange"===e&&(i=!1!==o.setMonth(n)&&i),i}),T.b,T.a)),t["\u0275did"](21,245760,null,0,x.a,[S.a,w.j,R.b],{disabled:[0,"disabled"]},{monthChange:"monthChange"}),t["\u0275prd"](1024,null,k.q,(function(l){return[l]}),[x.a]),t["\u0275did"](23,671744,null,0,k.v,[[8,null],[8,null],[8,null],[6,k.q]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},null),t["\u0275prd"](2048,null,k.r,null,[k.v]),t["\u0275did"](25,16384,null,0,k.s,[[4,k.r]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Rl)),t["\u0275did"](27,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Sl)),t["\u0275did"](29,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ml)),t["\u0275did"](31,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ll)),t["\u0275did"](33,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Al)),t["\u0275did"](35,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](36,0,null,null,13,"div",[["class","additional-actions"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Gl)),t["\u0275did"](38,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](39,0,null,null,4,"app-tooltip-content",[["style","width:75px"]],[[1,"role",0],[8,"className",0],[2,"tooltip--with-header",null],[4,"top","px"],[4,"left","px"],[2,"in",null],[2,"fade",null]],[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,e,n){var i=!0;return"focusin"===e&&(i=!1!==t["\u0275nov"](l,41).mouseIn()&&i),"mouseenter"===e&&(i=!1!==t["\u0275nov"](l,41).mouseIn()&&i),"focusout"===e&&(i=!1!==t["\u0275nov"](l,41).mouseOut()&&i),"mouseleave"===e&&(i=!1!==t["\u0275nov"](l,41).mouseOut()&&i),i}),p.c,p.a)),t["\u0275prd"](512,null,F.a,F.a,[R.b]),t["\u0275did"](41,4440064,[["tooltipUnits",4]],0,B.a,[t.ElementRef,F.a,O.a,D.d,t.Renderer2,t.ChangeDetectorRef,R.b],null,null),(l()(),t["\u0275ted"](42,1,[" "," "])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,Yl)),t["\u0275did"](45,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](46,0,null,null,1,"button",[["style","display:none;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](47,0,null,null,0,"span",[["class","icon-email"]],null,null,null,null,null)),(l()(),t["\u0275eld"](48,0,null,null,1,"button",[["style","display:none;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](49,0,null,null,0,"span",[["class","icon-cog"]],null,null,null,null,null)),(l()(),t["\u0275eld"](50,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t["\u0275did"](51,212992,null,0,E.t,[E.b,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null),(l()(),t["\u0275eld"](52,0,null,null,5,"app-modal",[["class","modal-bs-form"]],null,[[null,"onInit"],[null,"close"]],(function(l,e,n){var t=!0,i=l.component;return"onInit"===e&&(t=!1!==i.onBsFormInit(n)&&t),"close"===e&&(t=!1!==i.closeBsForm()&&t),t}),j.b,j.a)),t["\u0275prd"](512,null,N.a,N.a,[R.b]),t["\u0275did"](54,1228800,null,0,M.a,[N.a,D.d,t.ElementRef,t.Renderer2,R.b],{modalTitle:[0,"modalTitle"]},{close:"close",onInit:"onInit"}),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](56,0,null,0,1,"bs-form",[],null,null,null,P.b,P.a)),t["\u0275did"](57,770048,[[1,4]],0,V.a,[L.a,A.a,G.a,w.j,Y.a],{stores:[0,"stores"],segments:[1,"segments"],sourceName:[2,"sourceName"]},null),(l()(),t["\u0275eld"](58,0,null,null,6,"app-modal",[["class","modal-budget-form"]],null,[[null,"onInit"],[null,"close"]],(function(l,e,n){var t=!0,i=l.component;return"onInit"===e&&(t=!1!==i.onBsFormInitBud(n)&&t),"close"===e&&(t=!1!==i.closeBsFormBud()&&t),t}),j.b,j.a)),t["\u0275prd"](512,null,N.a,N.a,[R.b]),t["\u0275did"](60,1228800,null,0,M.a,[N.a,D.d,t.ElementRef,t.Renderer2,R.b],{modalTitle:[0,"modalTitle"]},{close:"close",onInit:"onInit"}),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](62,0,null,0,0,"div",[["style","min-width: 500px"]],null,null,null,null,null)),(l()(),t["\u0275eld"](63,0,null,0,1,"doc-budget-form",[],null,null,null,tl,Q)),t["\u0275did"](64,770048,[[2,4]],0,U,[L.a,Z,G.a,w.j],{storeId:[0,"storeId"],docId:[1,"docId"],storeName:[2,"storeName"],docName:[3,"docName"],budgetList:[4,"budgetList"]},null)],(function(l,e){var n=e.component;l(e,5,0,!n.hasOneStore),l(e,14,0,n.viewTrend),l(e,16,0,n.byStore&&(null==n.selected_period?null:n.selected_period.budgetId)>0),l(e,19,0,!n.byStoreName||n.hasOneStore),l(e,21,0,n.viewTrend),l(e,23,0,n.viewTrend,n.monthpicker_value),l(e,27,0,n.isMtdFilterVisible()),l(e,29,0,n.byStoreName&&n.selected_period&&n.selected_period.budgetId&&n.selected_period.budgetId>0),l(e,31,0,n.isComparisonFilterVisible),l(e,33,0,n.isFieldsFilterVisible),l(e,35,0,n.isProjectSalesGpFilterVisible),l(e,38,0,null==n.currentUser?null:n.currentUser.isExportExcelAvailable),l(e,41,0),l(e,45,0,null==n.currentUser?null:n.currentUser.isExportPdfAvailable),l(e,51,0),l(e,54,0,t["\u0275unv"](e,54,0,t["\u0275nov"](e,55).transform(n.i18nBs+"business-segment-form.title"))),l(e,57,0,n.stores,n.storegroups_without_all,n.sourceText),l(e,60,0,t["\u0275unv"](e,60,0,t["\u0275nov"](e,61).transform("budget-form.title"))),l(e,64,0,null==n.selected_store?null:n.selected_store.storeID,n.report_type_bud,null==n.selected_store?null:n.selected_store.storeName,n.report_label_bud,n.budgetList)}),(function(l,e){var n=e.component;l(e,8,0,t["\u0275unv"](e,8,0,t["\u0275nov"](e,9).transform("filters.view-trend"))),l(e,11,0,n.viewTrend),l(e,20,0,t["\u0275nov"](e,25).ngClassUntouched,t["\u0275nov"](e,25).ngClassTouched,t["\u0275nov"](e,25).ngClassPristine,t["\u0275nov"](e,25).ngClassDirty,t["\u0275nov"](e,25).ngClassValid,t["\u0275nov"](e,25).ngClassInvalid,t["\u0275nov"](e,25).ngClassPending),l(e,39,0,t["\u0275nov"](e,41).role,t["\u0275nov"](e,41).hostClass,t["\u0275nov"](e,41).withHeader,t["\u0275nov"](e,41).top,t["\u0275nov"](e,41).left,t["\u0275nov"](e,41).isIn,t["\u0275nov"](e,41).isFade),l(e,42,0,t["\u0275unv"](e,42,0,t["\u0275nov"](e,43).transform("header-icons.download-excel")))}))}var zl=t["\u0275ccf"]("ng-component",cl,(function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"ng-component",[],null,[["window","click"]],(function(l,e,n){var i=!0;return"window:click"===e&&(i=!1!==t["\u0275nov"](l,3).windowClick(n)&&i),i}),Ul,gl)),t["\u0275prd"](135680,null,M.a,M.a,[N.a,D.d,t.ElementRef,t.Renderer2,R.b]),t["\u0275prd"](4608,null,A.a,A.a,[il.a,$.a]),t["\u0275did"](3,245760,null,0,cl,[E.o,E.a,w.j,hl.a,Z,G.a,L.a,ml],null,null)],(function(l,e){l(e,3,0)}),null)}),{},{},[]),ql=n("Asqg"),$l=n("1Elx"),Wl=n("zeHk"),Hl=n("+bil"),Jl=n("M5gX"),Xl=n("hfps"),Kl=n("eeq/"),Zl=n("mvzq"),Ql=n("t1ag"),le=n("K5C0"),ee=n("FpoO"),ne=n("JNvI"),te=n("pGru"),ie=n("YbeN"),oe=n("RiRU");class ue{transform(l){return l.slice().reverse()}}var se=n("oveR"),re=n("hNGQ"),ae=n("+dxm"),de=n("jIY6"),ce=n("nYR2"),he=n("OrbI");class pe extends he.a{constructor(l,e,n,t,i,o,u,s,r){super(t,i,o,u,s,r),this.docsApi=l,this.dialog=e,this.translate=n}ngOnInit(){super.ngOnInit(),this.initColumns(),this.ngOnChanges({columns:{}})}show(l){this.params=l,this.data=void 0,this.loading=!0,this.sub=this.docsApi.getSetupReportLineData(l.docId,l.lineId,l.storeId).pipe(Object(ce.a)(()=>this.loading=!1)).subscribe(l=>{this.data=l,this.ngOnChanges({data:{}})},()=>{this.sub=this.translate.get("setup-report-line-modal.load-warning").subscribe(l=>this.dialog.warning(l+this.dialog.tryAgainLaterMessage))}),this.modal.showModal()}mapValueFormatter(l){let e;const n={[X.d.Default]:({data:e})=>e&&e[l.field]};return e=n[l.labelFormat]||n[X.d.Default],{valueFormatter:e}}initColumns(){this.sub=this.translate.stream(["setup-report-line-modal.grid.column.description","setup-report-line-modal.grid.column.code"]).subscribe(l=>{this.columns=[new X.a({name:l["setup-report-line-modal.grid.column.description"],field:"description"}),new X.a({name:l["setup-report-line-modal.grid.column.code"],field:"code"})]})}}var me=n("TUN4"),ge=t["\u0275crt"]({encapsulation:0,styles:[".modal-header[_ngcontent-%COMP%] {\n        height: 20px;\n        display: flex;\n        justify-content: space-between;\n        margin-bottom: 10px;\n      }\n\n        .app-setup-report-line-modal .c_modal {\n        height: 300px;\n        width: 500px;\n      }\n\n      ag-grid-angular[_ngcontent-%COMP%] {\n        height: 100%;\n        width: 100%;\n        margin-top: -37px;\n        padding-top: 37px;\n      }"],data:{}});function fe(l){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{grid:0}),t["\u0275qud"](402653184,2,{gridElRef:0}),t["\u0275qud"](402653184,3,{modal:0}),(l()(),t["\u0275eld"](3,0,null,null,13,"app-modal",[["class","app-setup-report-line-modal"]],null,null,null,j.b,j.a)),t["\u0275prd"](512,null,N.a,N.a,[R.b]),t["\u0275did"](5,1228800,[[3,4]],0,M.a,[N.a,D.d,t.ElementRef,t.Renderer2,R.b],{modalTitle:[0,"modalTitle"]},null),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](7,0,null,0,4,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,1,"span",[["class","line-description"]],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,["",""])),(l()(),t["\u0275eld"](10,0,null,null,1,"span",[["class","line-type"]],null,null,null,null,null)),(l()(),t["\u0275ted"](11,null,["",""])),(l()(),t["\u0275eld"](12,16777216,[[2,0]],0,4,"ag-grid-angular",[["appAgGridDragScroll",""],["class","ag-theme-material"]],null,null,null,se.b,se.a)),t["\u0275prd"](512,null,re.AngularFrameworkOverrides,re.AngularFrameworkOverrides,[t.NgZone]),t["\u0275prd"](512,null,ae.AngularFrameworkComponentWrapper,ae.AngularFrameworkComponentWrapper,[]),t["\u0275did"](15,4898816,[[1,4]],1,de.AgGridAngular,[t.ElementRef,t.ViewContainerRef,re.AngularFrameworkOverrides,ae.AngularFrameworkComponentWrapper,t.ComponentFactoryResolver],{gridOptions:[0,"gridOptions"],rowData:[1,"rowData"],columnDefs:[2,"columnDefs"]},null),t["\u0275qud"](603979776,4,{columns:1})],(function(l,e){var n=e.component;l(e,5,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](e,5,0,t["\u0275nov"](e,6).transform("setup-report-line-modal.title")),"")),l(e,15,0,n.gridOptions,n.rowData,n.columnDefs)}),(function(l,e){var n=e.component;l(e,9,0,null==n.params?null:n.params.lineDescription),l(e,11,0,null==n.params?null:n.params.lineType)}))}var be=n("itXk"),ve=n("HDdC");class _e{static required(l){if(l.value instanceof Array?!l.value.length:l.value instanceof Object==0)return{fileRequiredError:!0}}static validTypes(l){if(l instanceof Array==0)throw new Error("Valid Types should be array of string. Actual: "+l);return e=>{if(!e.value)return;const n=e.value instanceof Array?e.value:[e.value];for(const t of n)if(-1===l.indexOf(t.type))return{validFileTypesError:{file:t,actual:t.type,validFileTypes:l.join(", ")}}}}static maxFileSize(l=5242880){return e=>{const n=e.value instanceof Array?e.value:[e.value];for(const t of n)if(t&&!(t.size<=l))return{maxFileSizeError:{file:t,actual:t.size,maxFileSize:l}}}}}class we{constructor(l){this.buttonClasses="btn btn--primary",this.uploaderRequired=!1,this.multiple=!1,this.uploaded=new t.EventEmitter,this.validateFns=[],this.propagateChange=l=>{},this.propagateTouched=()=>{},this.debug=l.factory(new.target.name)}get value(){return this.debug.log("Getter value:",this._value),this._value}set value(l){this.debug.log("Setter value:",l),this._value=l,this.propagateChange(this._value)}ngOnChanges(l){this.debug.log("OnChange hook:",l),l.uploaderRequired&&(this.uploaderRequired=!1!==this.uploaderRequired),l.multiple&&(this.multiple=!1!==this.multiple),l.uploaderValidFileTypes&&this.uploaderValidFileTypes&&this.validateFns.push(_e.validTypes(this.uploaderValidFileTypes)),l.uploaderMaxFileSize&&this.uploaderMaxFileSize&&this.validateFns.push(_e.maxFileSize(this.uploaderMaxFileSize)),l.uploaderRequired&&this.uploaderRequired&&this.validateFns.push(_e.required)}open(){const l=new MouseEvent("click",{bubbles:!1});this.input.nativeElement.dispatchEvent("click",l)}onInputChange(l){const e=l.target.files;this.debug.assert(e,"onInputChange: files is falsely"),Object(be.b)(Array.from(e).map(l=>this.readFile(l))).subscribe(l=>{this.value=this.multiple?l:l[0],this.uploaded.emit(this._value)})}validate(l){return this.debug.log("Validation fired"),this.validateFns.reduce((e,n)=>e||n(l),void 0)}writeValue(l){}registerOnChange(l){this.propagateChange=l}registerOnTouched(l){this.propagateTouched=l}readFile(l){return ve.a.create(e=>{let n=new FileReader;n.addEventListener("load",()=>{const t={name:l.name,size:l.size,type:l.type,data:n.result};this.debug.log("File read:",t),e.next(t),e.complete(),n.removeEventListener("load",null),n=void 0}),n.readAsDataURL(l)})}}var Ce=t["\u0275crt"]({encapsulation:0,styles:["[_nghost-%COMP%] {\n    }\n    input[_ngcontent-%COMP%] {\n        display: none;\n    }"],data:{}});function ye(l){return t["\u0275vid"](2,[t["\u0275qud"](402653184,1,{input:0}),(l()(),t["\u0275eld"](1,0,null,null,4,"label",[],null,null,null,null,null)),t["\u0275prd"](512,null,D.A,D.B,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](3,278528,null,0,D.k,[D.A],{ngClass:[0,"ngClass"]},null),t["\u0275ncd"](null,0),(l()(),t["\u0275eld"](5,0,[[1,0],["fileInput",1]],null,0,"input",[["type","file"]],[[1,"multiple",0]],[[null,"change"]],(function(l,e,n){var t=!0;return"change"===e&&(t=!1!==l.component.onInputChange(n)&&t),t}),null,null))],(function(l,e){l(e,3,0,e.component.buttonClasses)}),(function(l,e){l(e,5,0,e.component.multiple?"multiple":null)}))}var De=n("uN+m"),Ie=n("jMGS"),Re=n("5FaN"),Te=n("NvSl"),xe=n("TgWW"),Se=n("Cfvw"),ke=n("SxV6"),Fe=(n("k7XU"),n("NAMS")),Be=n("BTBr"),Oe=n("9won"),Ee=n("zZFd");const je=window.amplitude;class Ne{constructor(l,e,n,t,i,o,u,s,r,a,d,c,h,p,m,g,f,b){this._parent=l,this.document=e,this.route=n,this.router=t,this.elementRef=i,this.authService=o,this.tracking=u,this.sidebar=s,this.dialog=r,this.format=a,this.formatter=d,this.commentNavigator=c,this.coreCache=h,this.docsExport=p,this.docsApi=m,this.instanceAppSettingsApi=g,this.translate=f,this.isSetResizeAllColumns=!0,this.gridOptions={onColumnResized:l=>{this.docsApi.isSetResizeAllColumns&&"columnResized"===l.type&&"autosizeColumns"===l.source&&!0===l.finished&&(this.maingrid&&Oe.a.fitToAutoSizeColumns(this.colsgrid,this.maingrid.grid),this.maingridF&&Oe.a.fitToAutoSizeColumns(this.colsgridF,this.maingridF.grid),this.docsApi.isSetResizeAllColumns=!1)}},this.currentDate="",this.loading=!0,this.percent=!1,this.data=[],this.cols=[],this.drillDown={amount:0,amountYTD:0,count:0,countYTD:0,frontGross:0,backGross:0},this.drillStoreName="",this.drillData=[],this.mainData=[],this.colsgrid=[],this.mainDataF=[],this.colsgridF=[],this.dataBudget=[],this.colsGridBudget=[],this.controlLoading=!1,this.drillDataControl=[],this.drillCols=[],this.drillColsGrid=[],this.drillLoading=!0,this.clickableItems=["GL","FS","FS2","FS3","CNIA","FInotACC","FInotACC_NC","FInotACC_NE","FInotACC_UC","FInotACC_UE","CALC2","CALC","FIN"],this.excludeInExcel=[],this.isFINotACCLine=!1,this.transaction={amount:0,count:0},this.transactionLoading=!0,this.transactionData=[],this.transactionCols=[],this.transactionDataGrid=[],this.transactionColsGrid=[],this.journalViewLoading=!0,this.journalViewData=[],this.journalViewCols=[],this.journalDataGrid=[],this.journalColsGrid=[],this.currentBudgetName="",this.report_type=0,this.report_label="",this.numStoresToShow=20,this.pageUserSettings=Y.b,this.years=[],this.transactionDateTitle="",this.allowBudgetEditing=!1,this.windowWidth=0,this.isSubmited=!1,this.currentPage=1,this.editBudget=!1,this.totalBudget=0,this.subs=[],this.reports={},this.pageLoaded=!1,this.ytdBudgetMonths=[],this.debug=b.factory(new.target.name)}get realStoreName(){const l=this.storesIndex&&this.storesIndex.get(+this._parent.byStoreName);return l?l[this.pageUserSettings.storeNameType]:void 0}set realStoreName(l){}get isStoreNameTypeEqualsAbbreviation(){return"abbreviation"===this.pageUserSettings.storeNameType}get commentType(){return Fe.a.Docs}get cabinetUrl(){return rl.a.cabinetUrl}set sub(l){this.subs.push(l)}get commentParams(){if(this._parent.byStore&&!this._parent.byStoreFields){if(!this._commentParams||+this._commentParams.storeId!=+this._parent.storeIdSelected){const l=+this._parent.storeIdSelected;this._commentParams=l?{storeId:l}:void 0}return this._commentParams}}ngOnInit(){this.budgetYear=(new Date).getFullYear(),this.minbudgetYear=(new Date).getFullYear()-2,this.docsExport.init(this),this.currentUser=this.authService.getCurrentUser(),this.windowWidth=window.innerWidth,this.sub=this.instanceAppSettingsApi.settings$.subscribe(l=>this.pageUserSettings=l),this.initTranslationStreams(),this.sub=this.coreCache.storesById$.subscribe(l=>this.storesIndex=l),this.sidebar.getDocsLinks().pipe(Object(ke.a)()).subscribe(l=>{this.debug.log("docsLinks:",l),this.initInternal(l[0].childrens),this.allDocsLinks=l}),this.docsApi.getLastRefreshedTime(Ee.a.Docs).subscribe(l=>{if(l&&l.UpdatedTime){const e=ol.utc(l.UpdatedTime,"YYYY-MM-DD hh:mm");this.lastRefreshed=e.local().format("MMM DD YYYY hh:mm A")}else this.lastRefreshed=null})}ngAfterContentInit(){}ngOnDestroy(){this.subs.forEach(l=>l.unsubscribe())}drillExcelExport(){this.debug.log("drillExcelExport()"),this.docsExport.drillExcelExport()}drillPDFExport(){this.debug.log("drillPDFExport()"),this.docsExport.drillPDFExport()}transactionExcelExport(){this.debug.log("transactionExcelExport()"),this.docsExport.transactionExcelExport()}transactionPDFExport(){this.debug.log("transactionPDFExport()"),this.docsExport.transactionPDFExport()}journalExcelExport(){this.debug.log("journalExcelExport()"),this.docsExport.journalExcelExport()}journalPDFExport(){this.debug.log("journalPDFExport()"),this.docsExport.journalPDFExport()}onResize(){}onTrackMainGridChanges(){this.trackAction(this.maingrid.grid)}showMessageGrid(l){}openDetailByStore(l){let e=null;if(this._parent.byStore&&!this._parent.byStoreName){const n=event;n&&n.target&&n.target.hasChildNodes()&&(e=n.target.childNodes[0].textContent.trim()),this._parent.byStoreNameFilter(l.text,l.idx,e)}}onPreviousPage(){let l="default"===this._parent.selected_fields.value?1:2;const e=this;1!==this.currentPage&&(this.colsgrid.forEach(n=>{"name"!==n.field&&"total"!==n.field&&l-2<=e.storesCount&&(this.isInPage(this.currentPage,l-2)&&e.maingrid.setColumnVisibility(!1,n.field,!1),this.isInPage(this.currentPage-1,l-2)&&e.maingrid.setColumnVisibility(!0,n.field,!0)),l++}),this.currentPage-=1,this.maingrid.setWidhtColumnsToFit("name",250),this.maingrid.setWidhtColumnsToFit())}onEditBudget(){"YTD"!==this._parent.select_period2.value?(this.editBudget=!0,this.loadPage()):this.openBudgetYTD()}onSaveBudget(){let l;this.editBudget=!1,l=this.maingrid.getGridEditedData("valueBudget");const e=new Date(this._parent.selected_month.date_from);this.isSubmited=!0;const n=[];l.forEach(l=>{"title"!==l.line_type&&n.push({line:l.line_number,valuebudget:l.valueBudget})}),this.docsApi.editBudgetDetail(this._parent.selected_period.budgetId,e.getMonth()+1,e.getFullYear(),n,this._parent.selected_period.budgetId).then(l=>{l&&(this.sub=this.translate.get("edit-budget.save-success-message").subscribe(l=>this.dialog.success(l)),this.loadPage(),this.isSubmited=!1)}).catch(l=>{this.loadPage(),this.isSubmited=!1})}updateBudgetTotal(){this.totalBudget=0,this.data.forEach(l=>{this.totalBudget+=parseFloat(l.valuebudget)})}onCancelBudget(){this.editBudget=!1,this.loadPage()}drillDownModalInit(l){this.drillDownModal=l}processKey(l){l.key>=0&&l.key<=9||(this.budgetYear=this.minbudgetYear)}processBlur(l){this.budgetYear<this.minbudgetYear&&(this.budgetYear=this.minbudgetYear)}processFile(){this.isSubmited=!0,this.docsApi.editBudgetDetail(this._parent.selected_period.budgetId,0,0,null,this._parent.selected_period.budgetId,this.filebudname.data,this.ytdBudgetMonths).then(l=>{"OK"===l?(this.sub=this.translate.get("file-upload-modal.process.success-message").subscribe(l=>this.dialog.success(l)),this.loadPage(),this._parent.loading=!0,this.fileUploadBudgetModal.closeModal()):l.indexOf("Error:")>=0&&this.dialog.alert(l),this.isSubmited=!1}).catch(l=>{this.dialog.alert(l.message),this._parent.loading=!0,this.isSubmited=!1})}fileUploadModalInit(l){this.fileUploadBudgetModal=l}onModalBudgetClose(){this.dataBudget=null}onModalBudgetInit(l){this.BudgetModal=l}transactionRepostModalInit(l){this.transactionModal=l}journalViewModalInit(l){this.journalViewModal=l}formatNumber(l){return isNaN(l)||(l=parseFloat(l)+1e-6),this.format.transform(l,0,2)}onBsFormInit(l){this.budgetForm=l}openBsForm(){this._parent.dropdownMtdOpened=!1,this.budgetForm.showModal()}closeBsForm(){}openDrillDown(l){let e;const n=l.colId,t=l.colValue,i=l.rowItem?l.rowItem.name:" ";if("name"===n&&this.currentUser.AccessLevel>=80){l.colValue.replace(/<\/?[^>]+(>|$)/g,"");const e=+l.rowItem.line_number,n=+this.report_type,t=this._parent.byStoreName?+this._parent.storeIdSelected:0;this.debug.assert(!isNaN(e)&&!isNaN(n)&&!isNaN(t),"openDrillDown(): SetupReportLine. Line ID, Report ID and Store ID should be a numbers. Actual values:: Line ID:'%s'. Report ID:'%s'. Store ID:'%s'",e,n,t)}if("valueBudget"===n)return;e=this.data.filter(e=>e.rl===l.rowItem.line_number),e.length&&(e=e[0]);let o,u=!0;if(!this._parent.byStore||-1===this.clickableItems.indexOf(e.line_type)||"default"!==this._parent.selected_fields.value||"name"===n||"total"===n){if(!this._parent.byStore)return!1;u=!1}return this.isFINotACCLine=e.line_type.indexOf("FInotACC")>=0,this.drillStoreName=this._parent.byStoreName?this._parent.byStoreName:this.labels[n],this.drillDownLine=e,this.drillLoading=!0,this.drillData=[],this.drillLabels=null,this.drillCols=[],this.drillColsGrid=[],this.drillDataControl=[],this.drillDown={amount:0,amountYTD:0,count:0,countYTD:0,frontGross:0,backGross:0},!u&&this._parent.byStore?("name"!==n&&"total"!==n&&(this.sub=this.translate.get("drill-down-modal.no-drill-down-available").subscribe(l=>this.dialog.warning(l))),!1):i.includes("ACCT + FI")||i.toLowerCase().includes("gp per vehicle")||t.includes("%")||"chMTD"===n||"chYTD"===n||"dayAmt"===n||"chBudget"===n||"chMTDProj"===n||"target"===n?(this.sub=this.translate.get("drill-down-modal.no-drill-down-available").subscribe(l=>this.dialog.warning(l)),!1):(this.sub=this.translate.get("drill-down-modal.title").subscribe(l=>{this.drillDownModal.modalTitle=l+" ["+this.drillDownLine?this.drillDownLine.name:"]",this.drillDownModal.showModal()}),o="MTDLY"===n||"YTDLY"===n?(+this._parent.selected_month.dateindex-12).toString():"prMTD"===n?(+this._parent.selected_month.dateindex-1).toString():this._parent.selected_month.dateindex,void this.docsApi.getDrillDown(o,this.drillDownLine.rl,+this.drillStoreName,this.report_type,e.line_type).then(l=>{this.drillDataControl=[],this.drillLabels=l.labels;let e=[];const n=[];l.data.forEach(l=>{for(const n of Object.keys(l)){const t={isnumber:!1,sign:"",value:"",field:n,decimalNumber:!1};l[n]&&Array.isArray(l[n])&&l[n][0].indexOf(".")>0?(t.isnumber=!0,t.value=this.getValueFormat(l[n])):l[n]&&Array.isArray(l[n])&&"0"!==l[n][0].substring(0,1)?(t.isnumber=!0,t.value=l[n]):(t.isnumber=!1,t.value=l[n]),e.push(t)}this.drillDataControl.push(e),e=[]});for(const t of Object.keys(l.labels))this.drillColsGrid.push({field:t,text:l.labels[t],decimalNumber:!!n[t.toUpperCase()],keepLeft:!0,sign:n[t.toUpperCase()]?"$":"",drillable:!0}),this.drillCols.push({key:t,label:l.labels[t],segment:{}});if(!l.data.length||this.isFINotACCLine||"CALC2"!==this.drillDownLine.line_type&&"CALC"!==this.drillDownLine.line_type&&"FIN"!==this.drillDownLine.line_type){if(l.data.length&&!this.isFINotACCLine&&"CNIA"!==this.drillDownLine.line_type){for(const e of l.data)this.drillDown.amount+="NULL"===e.amtMTD[0]&&Number.isNaN(parseFloat(e.amtMTD[0]))?0:parseFloat(e.amtMTD[0]),this.drillDown.amountYTD+="NULL"===e.amtYTD[0]&&Number.isNaN(parseFloat(e.amtYTD[0]))?0:parseFloat(e.amtYTD[0]),this.drillDown.count+="NULL"===e.cMTD[0]&&Number.isNaN(parseFloat(e.cMTD[0]))?0:Math.round(e.cMTD[0]),this.drillDown.countYTD+="NULL"===e.cYTD[0]&&Number.isNaN(parseFloat(e.cYTD[0]))?0:Math.round(e.cYTD[0]);this.drillDown.amount=[this.drillDown.amount,l.data[0].amtMTD[1]],this.drillDown.amountYTD=[this.drillDown.amountYTD,l.data[0].amtYTD[1]]}else if(l.data.length&&this.isFINotACCLine){this.drillDown.frontGross=0,this.drillDown.backGross=0,this.drillDown.count=0;for(const e of l.data)this.drillDown.frontGross+=parseFloat(e.FrontGross[0]),this.drillDown.backGross+=parseFloat(e.BackGross[0]),this.drillDown.count+=1;this.drillDown.frontGross=[this.drillDown.frontGross,l.data[0].FrontGross[1]],this.drillDown.backGross=[this.drillDown.backGross,l.data[0].BackGross[1]]}else if(l.data.length&&"CNIA"===this.drillDownLine.line_type){this.drillDown.count=0;for(const e of l.data)this.drillDown.amount+=parseFloat(e.Amount[0]),this.drillDown.count+=1;this.drillDown.amount=[this.drillDown.amount,l.data[0].Amount[1]]}}else if("FINotACCLine"===l.type){this.isFINotACCLine=!0,this.drillDown.frontGross=0,this.drillDown.backGross=0,this.drillDown.count=0;for(const e of l.data)this.drillDown.frontGross+=parseFloat(e.FrontGross[0]),this.drillDown.backGross+=parseFloat(e.BackGross[0]),this.drillDown.count+=1;this.drillDown.frontGross=[this.drillDown.frontGross,l.data[0].FrontGross[1]],this.drillDown.backGross=[this.drillDown.backGross,l.data[0].BackGross[1]]}else if("GL"===l.type){for(const e of l.data)this.drillDown.amount+="NULL"!==e.amtMTD[0]?parseFloat(e.amtMTD[0]):0,this.drillDown.amountYTD+="NULL"!==e.amtYTD[0]?parseFloat(e.amtYTD[0]):0,this.drillDown.count+="NULL"!==e.cMTD[0]?Math.round(e.cMTD[0]):0,this.drillDown.countYTD+="NULL"!==e.cYTD[0]?Math.round(e.cYTD[0]):0;this.drillDown.amount=[this.drillDown.amount,l.data[0].amtMTD[1]],this.drillDown.amountYTD=[this.drillDown.amountYTD,l.data[0].amtYTD[1]]}else if("CNIA"===l.type){this.drillDown.count=0;for(const e of l.data)this.drillDown.amount+=parseFloat(e.Amount[0]),this.drillDown.count+=1;this.drillDown.amount=[this.drillDown.amount,l.data[0].Amount[1]]}this.drillLoading=!1}).catch(l=>{this.drillLoading=!1,this.dialog.alert(l.error?l.error.message:l.message)}))}openTransactionReport(l){this.transactionLine=l.rowItem,this.transactionModal.showModal(),this.loadTransactionReport()}openJournalViewReport(l){this.journalViewModal.showModal(),this.loadJournalView(l.rowItem)}loadTransactionReport(){this.transactionLoading=!0,this.transactionData=[],this.transactionLabels=null,this.transactionCols=[],this.transactionColsGrid=[],this.transactionDataGrid=[],this.transaction={amount:0,count:0},this.docsApi.getTransactionReport(this.transactionDate,this.transactionLine.gl,+this.drillStoreName).then(l=>{this.transactionLoading=!1,this.transactionData=l.data,this.transactionLabels=l.labels;let e=[];const n=[];l.data.forEach(l=>{e.push({isnumber:!1,field:"control1",value:l.control1,decimalNumber:!1}),e.push({isnumber:!1,field:"control2",value:l.control2,decimalNumber:!1}),e.push({isnumber:!1,field:"gd",value:ol(l.gd).format("MM/DD/YYYY"),decimalNumber:!1}),e.push({isnumber:!0,field:"ji",value:l.ji,decimalNumber:!1}),e.push({isnumber:!0,field:"pa",value:this.formatNumber(l.pa[0]).replace(",",""),decimalNumber:!0,sign:"$"}),e.push({isnumber:!1,field:"pd",value:l.pd,decimalNumber:!1}),e.push({isnumber:!1,field:"ri",value:l.ri,decimalNumber:!1}),this.transactionDataGrid.push(e),e=[]}),n.pa=!0;for(const t of Object.keys(l.labels))this.transactionCols.push({key:t,label:l.labels[t],segment:{}}),this.transactionColsGrid.push({field:t,text:l.labels[t],decimalNumber:!!n[t],sign:n[t]?"$":""});if(this.transactionData.length){for(const l of this.transactionData)this.transaction.amount+="NULL"===l.pa[0]&&Number.isNaN(l.pa[0])?0:parseFloat(l.pa[0]);this.transaction.amount=[this.transaction.amount,this.transactionData[0].pa[1]],this.transaction.count=this.transactionData.length}this.transactionLoading=!1}).catch(l=>{this.transactionLoading=!1,this.dialog.alert(l.error?l.error.message:l.message)})}loadJournalView(l){this.journalViewLoading=!0,this.journalViewData=[],this.journalViewLabels=null,this.journalViewCols=[],this.journalDataGrid=[],this.journalColsGrid=[],this.docsApi.getJournalView(l.ji,l.ri,this.drillStoreName).then(l=>{this.journalViewData=l.data,this.journalViewLabels=l.labels;let e=[];const n=[];l.data.forEach(l=>{for(const t of Object.keys(l)){const i={isnumber:!1,sign:"",value:"",field:t,decimalNumber:!1};l[t]&&!isNaN(l[t])&&l[t].indexOf(".")>0?(i.isnumber=!0,i.value=this.formatNumber(l[t]).replace(/,/g,""),i.decimalNumber=!0,n[t.toUpperCase()]=!0):!isNaN(l[t])&&l[t]&&"0"!==l[t].substring(0,1)?(i.isnumber=!0,i.value=l[t]):(i.isnumber=!1,i.value=l[t]),e.push(i)}this.journalDataGrid.push(e),e=[]});for(const t of Object.keys(l.labels))this.journalViewCols.push({key:t,label:l.labels[t],segment:{}}),this.journalColsGrid.push({field:t,text:l.labels[t],decimalNumber:!!n[t],sign:n[t]?"$":""});this.journalViewLoading=!1}).catch(l=>{this.transactionLoading=!1,this.dialog.alert(l.error?l.error.message:l.message)})}setTransactionsDate(l){this.getSelectedDate(this.transactionDate),this.loadTransactionReport()}showCommentsDocsToggle(){this._parent.showCommentsDocs=!this._parent.showCommentsDocs,this.maingrid&&this.maingrid.setWidhtColumnsToFit()}onSaveYTDBudget(){let l;this.editBudget=!1,l=this.griddrillbudget.getGridEditedData("m1");const e=new Date(this._parent.selected_month.date_from);this.isSubmited=!0;const n=[];l.forEach(l=>{n.push({line:l.docline,m1:l[this.ytdBudgetMonths[0]],m2:l[this.ytdBudgetMonths[1]],m3:l[this.ytdBudgetMonths[2]],m4:l[this.ytdBudgetMonths[3]],m5:l[this.ytdBudgetMonths[4]],m6:l[this.ytdBudgetMonths[5]],m7:l[this.ytdBudgetMonths[6]],m8:l[this.ytdBudgetMonths[7]],m9:l[this.ytdBudgetMonths[8]],m10:l[this.ytdBudgetMonths[9]],m11:l[this.ytdBudgetMonths[10]],m12:l[this.ytdBudgetMonths[11]]})}),this.docsApi.editBudgetYTD(this._parent.selected_period.budgetId,e.getFullYear(),n,this._parent.selected_period.budgetId,this.ytdBudgetMonths).then(l=>{l&&(this.sub=this.translate.get("edit-budget.save-success-message").subscribe(l=>this.dialog.success(l)),this.BudgetModal.closeModal(),this.loadPage(),this.isSubmited=!1)}).catch(l=>{this.BudgetModal.closeModal(),this.loadPage(),this.isSubmited=!1})}onCancelYTDBudget(){this.BudgetModal.closeModal()}openBudgetYTD(){let l;this.controlLoading=!0,this.dataBudget=[],this.colsGridBudget=[],l=this.docsApi.getBudgetYTD(this._parent.selected_period.budgetId),this.currentBudgetName=this._parent.report_label,l.subscribe(l=>{let e=[];l.data.forEach(l=>{for(const n of Object.keys(l))e.push({value:l[n],field:n,editable:!0});this.dataBudget.push(e),e=[]}),this.ytdBudgetMonths=[],this.sub=this.translate.get(["budget-modal-grid-column.linedescription","budget-modal-grid-column.months"]).subscribe(e=>{this.colsGridBudget.push({field:"docline",text:"docLine",hide:!0}),this.colsGridBudget.push({field:"lineDescription",text:e["budget-modal-grid-column.linedescription"]});for(const n of Object.keys(l.data[0]))"docline"!==n&&"lineDescription"!==n&&(this.ytdBudgetMonths.push(n),this.colsGridBudget.push({field:n,text:e["budget-modal-grid-column.months"].split(",")[+n.split("-")[0]-1]+"-"+n.split("-")[1],editable:!0}))}),this.BudgetModal.showModal(),this.controlLoading=!1},l=>{console.log(l),this.controlLoading=!1})}showforecast(){let l;this.loading=!0,this.mainDataF=[],this.colsgridF=[];const e=new Date(this._parent.selected_month.date_from);l=this.docsApi.getForecast(this._parent.selected_period.budgetId,e.getFullYear()),this.currentBudgetName=this._parent.report_label,l.subscribe(l=>{let e=[];l.data.forEach(l=>{for(const n of Object.keys(l))e.push({value:this.getValueFormat([l[n],"amt"===l.lf?"$":"per"===l.lf?"%":""]),field:n,bold:1==+l.totalLine});this.mainDataF.push(e),e=[]}),this.excludeInExcel=[],this.sub=this.translate.get(["budget-modal-grid-column.linedescription","budget-modal-grid-column.months"]).subscribe(e=>{this.colsgridF.push({field:"docline",text:"docLine",hide:!0}),this.colsgridF.push({field:"lineDescription",text:e["budget-modal-grid-column.linedescription"]}),this.excludeInExcel.push("docline"),this.excludeInExcel.push("lf");for(const n of Object.keys(l.data[0]))"docline"!==n&&"lineDescription"!==n&&"totalLine"!==n&&"lf"!==n&&this.colsgridF.push({field:n,text:e["budget-modal-grid-column.months"].split(",")[+n.split("-")[0]-1]+"-"+n.split("-")[1]})}),this.loading=!1},l=>{console.log(l),this.loading=!1})}ngAfterViewChecked(){}fileUploadModalClose(l){this.filebudname=null}fileUploaded(l){this.filebudname=l}openFileUpload(){this.fileUploadBudgetModal.showModal()}downloadtemplate(){let l;l=this.docsApi.getBudgetTemplate(this._parent.selected_period.budgetId,this._parent.report_label,this.budgetYear),l.subscribe(l=>{this.ytdBudgetMonths=[];for(const e of l.months.replace('"',"").split(","))"docline"!==e&&"lineDescription"!==e&&""!==e&&this.ytdBudgetMonths.push(e);this.downloadFile(l.data)})}onNextPage(){let l="default"===this._parent.selected_fields.value?1:2;const e=this;this.colsgrid.forEach(n=>{"name"!==n.field&&"total"!==n.field&&l-2<=e.storesCount&&(this.isInPage(this.currentPage,l-2)&&e.maingrid.setColumnVisibility(!1,n.field,!1),this.isInPage(this.currentPage+1,l-2)&&e.maingrid.setColumnVisibility(!0,n.field,!1)),l++}),this.currentPage+=1,this.maingrid.setWidhtColumnsToFit()}anyInArray(l,e,n){let t=!1;return l.forEach(l=>{l[n]!==e||(t=!0)}),t}getCodeColorDoc(l,e,n=0){return n||(n=1),-1===n&&e<=100-Math.abs(parseFloat(l.greenExpensesValue))||1===n&&e>=100+parseFloat(l.greenValue)?"#a0d468":-1===n&&e>=100+parseFloat(l.redExpensesValue)||1===n&&e<=100-Math.abs(parseFloat(l.redValue))?"#de3918":"#dad55a"}hideProjColumns(l){return!!("dayAmt"===l&&this._parent.selected_month&&+this._parent.selected_month.dateindex<24)||(0==+this._parent.selected_period.budgetId?l.toUpperCase().indexOf("PROJ")>=0&&!this._parent.projecSalesGP||this._parent.projecSalesGP&&("chMTD"===l||"delMTD"===l):"PROJ"===this._parent.select_period2.value&&("MTD"===l||"YTD"===l)||"PROJ"!==this._parent.select_period2.value&&l.toUpperCase().indexOf("PROJ")>=0)}loadPage(){const l=window.location.pathname.split("/")[3],e=this.allDocsLinks[0].childrens.find(e=>+e.idReport==+l).title;if(this.currentReportName=e,this.lastReportName!==this.currentReportName&&(console.log("docs "+e+" page loaded .."),this.lastReportName=this.currentReportName,je.getInstance().logEvent("docs_page_load",{reportName:e,eventName:"page load",eventValue:!0})),this._parent.viewForecast&&this._parent.selected_period.budgetId)return void this.showforecast();this._parent.viewForecast=!1,this.data=[],this.loading=!0,this._parent.loading=!0,this.pageLoaded=!0,this.allowBudgetEditing=!1;const n=this._parent.selected_period&&this._parent.selected_period.budgetId&&this._parent.selected_period.budgetId>0?this._parent.select_period2.value.toString():this._parent.byStore?this._parent.selected_period.value:"",t=this._parent.byStore?this._parent.selected_fields.value:"";this.mainData=[],sessionStorage.budgetId=this._parent.selected_period?this._parent.selected_period.budgetId:0;const i=this.docsApi.getDocsSummary(this.report_type,this._parent.selected_month?this._parent.selected_month.dateindex:"24",this._parent.selected_storegroup.groupIndex,this._parent.selected_storegroup.slno,this._parent.byStore,n,this._parent.viewTrend,+this._parent.byStoreName,t,this._parent.byStoreName?this._parent.selected_period.budgetId:0,this._parent.byStoreName&&this._parent.selected_period.budgetId&&this._parent.selected_period.budgetId>0?this._parent.selected_period.label:"");Object(be.b)(Object(Se.a)(i),this.coreCache.storesById$.pipe(Object(ke.a)())).subscribe(([l,e])=>{if(sessionStorage.docNavCall=!1,l&&l.error)return this.document.getElementsByClassName(".toast-error")||this.dialog.alert(l.error),this._parent.showCommentsDocs=!1,void(this.loading=!1);if(this.colorsSettings=l.colors[0],this.labelSegments=l.labelSegments,l.storeid&&this._parent.byStore&&(this._parent.storeIdSelected=l.storeid,this._parent.updateBudgetFilter(),this._parent.selected_store={storeID:l.storeid,storeName:this.realStoreName}),this._parent.selected_period&&this._parent.selected_period.budgetId&&this._parent.selected_period.budgetId>0&&this._parent.byStore&&(this.allowBudgetEditing=this.currentUser.allowToEditBudget),this.cols=[],this.colsgrid=[],this.data=l.data,this.segments=l.segments,this.labels=l.labels,(!this._parent.byStore&&this._parent.selected_segment&&"mtd_mtdsmly"===this._parent.selected_segment.value||this._parent.byStore&&"mtd_mtdsmly"===this._parent.selected_period.value)&&this.data.map(l=>{l.delMTD=l.delMTDSMLY,l.chMTD=l.chMTDSMLY}),l.storesCount&&(this.storesCount=l.storesCount,this._parent.storesCount=l.storesCount,1==+this.storesCount&&l.storesId&&!this._parent.byStoreName))return this._parent.byStore=!0,this._parent.wasbyStore=!0,this._parent.byStoreName=l.storesId,void this._parent.byStoreNameFilter(l.storesId);if(this.head=[],l.head){for(const e of Object.keys(l.labels))this.cols.push({key:e,label:l.labels[e],segment:{}});for(const e of Object.keys(l.head)){this.head[e]=[];for(const n of Object.keys(l.head[e])){let t="";t=l.head[e][n].param?l.head[e][n].param:"",this.head[e].push({key:n,label:l.head[e][n].label,param:t})}}}else for(const n of Object.keys(l.labels))this.cols.push({key:n,label:l.labels[n],segment:{}});if(this._parent.flipChange){const e=[];e.push(this.cols[0]),this.cols.reverse();for(let l=0;l<this.cols.length-1;l++)e.push(this.cols[l]);this.cols=[],this.cols=e;const n={};n.name=l.labels.name;for(let t=12;t>=1;t--)l.labels["s"+t]&&(n["s"+t]=l.labels["s"+t]);l.labels=n}if(this._parent.byStore||this._parent.viewTrend){if(this._parent.byStore&&this._parent.byStoreName||this._parent.viewTrend){for(const e of Object.keys(l.labels))this.colsgrid.push({field:e,text:l.labels[e],hide:this.hideProjColumns(e),pinned:!1,width:125,decimalNumber:!0,editable:"valueBudget"===e&&this.editBudget,formattedNumber:"valueBudget"===e&&this.editBudget,applyBackColor:"delYTD"===e||"delMTD"===e||"delYTDProj"===e||"delMTDProj"===e,applyTextColor:"delYTD"===e||"delMTD"===e||"delYTDProj"===e||"delMTDProj"===e,drillable:!this._parent.viewTrend&&"name"!==e&&"delMTD"!==e&&"delMTDProj"!==e&&"pMTD"!==e&&"pMTDLY"!==e&&"chMTDProj"!==e&&"chMTD"!==e&&"delYTD"!==e&&"pYTD"!==e&&"pYTDLY"!==e&&"chYTD"!==e&&"dayAmt"!==e});this._parent.selected_period.budgetId>0&&this.colsgrid.splice(2,0,{field:"target",text:this.translate.instant("grid.columns.target"),width:125,sign:"%",customtarget:!0,isnumber:!0,drillable:!0})}else if(this._parent.byStore&&!this._parent.byStoreName&&this._parent.byStoreFields&&"default"===this._parent.selected_fields.value){let n=0;for(const o of Object.keys(l.labels)){const t=e.get(+l.labels[o]);this.colsgrid.push({field:o,text:t?t[this.pageUserSettings.storeNameType]||"":l.labels[o]||"",tooltip:this.isStoreNameTypeEqualsAbbreviation?t&&t.name:void 0,hide:"name"!==o&&"total"!==o&&!this.isInPage(this.currentPage,n-1),dataclick:"name"===o||"total"===o||this._parent.byStoreName?null:{text:l.labels[o],idx:n,type:"h"},pinned:!1,width:125,decimalNumber:"name"!==o,drillable:"name"!==o&&"total"!==o}),n++}const t=[],i=[];for(const l of this.colsgrid)"name"!==l.field&&"total"!==l.field&&i.push(l.text);t[0]=this.colsgrid[0],t[1]=this.colsgrid[1];for(const l of i)for(const e of this.colsgrid)e.text===l&&t.push(e);this.colsgrid=t}else if(this._parent.byStore&&!this._parent.byStoreName&&"default"!==this._parent.selected_fields.value){let l=0,n=0;for(const i of this.head){if(0===l)for(const l of i)this.colsgrid.push({field:0===n?l.key:l.key+"_"+n.toString(),text:0===n?l.label:e.get(+l.label)[this.pageUserSettings.storeNameType]||"",idParent:l.key,pinned:0===n&&window.innerWidth>480,hide:"name"!==i&&!this.isInPage(this.currentPage,n),children:[],decimalNumber:!0}),n++;l++}n=1;let t=1;for(const e of Object.keys(this.head[1]))t=n%2==0?t-1:t,this.colsgrid[t]&&this.colsgrid[t].children&&this.colsgrid[t].children.push({field:this.head[1][e].key,headerName:this.head[1][e].label,decimalNumber:!0,width:125,hide:this.colsgrid[t].hide,sign:this.head[1][e].label.indexOf("%")>=0?"%":"$"}),t++,n++}}else for(const n of l.segments[this._parent.selected_segment.value])this.colsgrid.push({field:n,text:this.labels[n],pinned:!1,decimalNumber:!0,width:125,applyBackColor:"delYTD"===n||"delMTD"===n||"delYTDProj"===n||"delMTDProj"===n,applyTextColor:"delYTD"===n||"delMTD"===n||"delYTDProj"===n||"delMTDProj"===n,hide:"dayAmt"===n&&this._parent.selected_month&&+this._parent.selected_month.dateindex<24});if(this._parent.byStore&&!this._parent.byStoreName){const l=[],e=[];for(const n of this.colsgrid)"name"!==n.field&&"total"!==n.field&&e.push(n.text);l[0]=this.colsgrid[0],"default"===this._parent.selected_fields.value&&(l[1]=this.colsgrid[1]);for(const n of e)for(const e of this.colsgrid)e.text===n&&l.push(e);this.colsgrid=l}this.colsgrid.push({field:"line_type",hide:!0,text:""}),this.colsgrid.push({field:"line_number",hide:!0,text:""}),this.colsgrid.push({field:"kpiComp",hide:!0,text:""}),this.colsgrid.push({hide:!0,field:"backColor",text:""}),this.colsgrid.push({hide:!0,field:"textColor",text:""}),this.colsgrid.push({hide:!0,field:"disabled",text:""}),this.excludeInExcel=[],this.colsgrid.map(l=>{l.hide&&!l.field.toString().startsWith("s")&&this.excludeInExcel.push(l.field)}),this.colsgrid[0].width=230,this._parent.viewTrend?(this.colsgrid[0].pinned=window.innerWidth>480,this.colsgrid[0].supressMove=!0,this.colsgrid[0].decimalNumber=!1,this.colsgrid[1].supressMove=!0,this.colsgrid[1].pinned=window.innerWidth>480,this.colsgrid[2].supressMove=!0,this.colsgrid[2].pinned=window.innerWidth>480):this._parent.byStore&&!this._parent.byStoreName&&"default"===this._parent.selected_fields.value?(this.colsgrid[0].pinned=window.innerWidth>480,this.colsgrid[1].pinned=window.innerWidth>480,this.colsgrid[0].supressMove=!0,this.colsgrid[1].supressMove=!0,this.colsgrid[0].decimalNumber=!1):(this.colsgrid[0].decimalNumber=!1,this.colsgrid[0].supressMove=!0,this.colsgrid[0].pinned=!0),this.data.forEach(e=>{const n=[];if(this._parent.byStore||this._parent.viewTrend){if(this._parent.byStore||this._parent.viewTrend){for(const t of this.cols){const i={};Array.isArray(e[t.key])&&"title"!==e.line_type?this.editBudget&&"valueBudget"===t.key?(i.value=e[t.key][0],i.editable="FIN"===e.line_type||"FS3"===e.line_type||"GL"===e.line_type):(i.bold=e.bold,i.value=this.getValueFormat(e[t.key]),i.drillable=!this.percent):(i.bold=e.bold,i.value="title"===e.line_type&&"name"!==t.key?"":e[t.key]),i.field=t.key,("delMTD"===t.key&&!this._parent.projecSalesGP||"delMTDProj"===t.key&&this._parent.projecSalesGP)&&""!==i.value&&null!=i.value&&(i.backColorFloat="right",i.backColor=this.getCodeColorDoc(l.colors[0],"MTD"===this._parent.select_period2.value?"delMTD"===t.key?100*e.delMTD[0]:100*e.delMTDProj[0]:100*e.delYTD[0],+e.kpiComp)),n.push(i)}if("FIN"===e.line_type&&"1"===e.hideline&&n.push({value:"disabledbackcolor",field:"disabled"}),n.push({value:e.line_type,field:"line_type"}),n.push({value:e.rl,field:"line_number"}),n.push({value:e.kpiComp,field:"kpiComp"}),this._parent.selected_period.budgetId>0&&"title"!==e.line_type&&this._parent.byStore){const l="YTD"===this._parent.select_period2.value?e.YTD[0]:e.MTD[0],t=e.valueBudget[0];n.push({value:this.formatNumber(parseInt((l/(0===t?0===l?1:l:t)*100).toString(),10)),field:"target"})}}}else for(const t of this.segments[this._parent.selected_segment.value]){const i={};Array.isArray(e[t])&&"title"!==e.line_type?(i.bold=e.bold,i.value=this.getValueFormat(e[t]),i.drillable=!this.percent):(i.bold=e.bold,i.value="title"===e.line_type&&"name"!==t?"":e[t]),i.field=t,"delMTD"!==t&&"delMTDProj"!==t||""!==i.value&&null!==i.value&&(i.backColorFloat="right",i.backColor=this.getCodeColorDoc(l.colors[0],"MTD"===this._parent.select_period2.value?"delMTD"===t?100*e.delMTD[0]:100*e.delMTDProj[0]:100*e.delYTD[0],+e.kpiComp)),n.push(i),n.push({value:e.line_type,field:"line_type"}),n.push({value:e.rl,field:"line_number"})}this.mainData.push(n)}),this.loading=!1,this._parent.loading=!1,this.trackAction(),setTimeout(()=>{this.maingrid&&(this.docsApi.isSetResizeAllColumns||Oe.a.fitToAutoSizeColumns(this.colsgrid,this.maingrid.grid))},100)},l=>{this.loading=!1,this._parent.showCommentsDocs=!1,this.commentNavigator&&this.commentNavigator.clearState(),this.dialog.alert(l.message)})}getValueFormat(l){const[e,n]=l;switch(n){case"$":return this.percent=!1,this.formatter.money(e);case"%":return this.percent=!0,this.formatter.percentage(e,2,!1);default:return this.percent=!1,this.formatter.number(e,{noZeroMantissa:!0})}}isInPage(l,e){return 1===l&&e<=this.numStoresToShow||e>l*this.numStoresToShow-this.numStoresToShow&&e<=l*this.numStoresToShow}trackAction(l){this.tracking.log({page:Be.b.Docs,section:this.report_label,event:Be.a.Load,params:this._parent.getTrackingParams(),grid:l})}downloadFile(l){const e=new Blob([l],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a");navigator.msSaveBlob?this.sub=this.translate.get("edit-budget.file-name").subscribe(l=>{navigator.msSaveOrOpenBlob(e,this._parent.report_label+"_"+l+".csv")}):(document.body.appendChild(n),n.setAttribute("type","hidden"),n.href=window.URL.createObjectURL(e),this.sub=this.translate.get("edit-budget.file-name").subscribe(l=>{n.download=this._parent.report_label+"_"+l+".csv",n.click()}))}b64DecodeUnicode(l){return decodeURIComponent(atob(l).split("").map(l=>"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)).join(""))}getSelectedDate(l=""){this.years.forEach(e=>{e.months.forEach(e=>{e.dateindex===l&&(this.transactionDateTitle=e.label)})})}initTranslationStreams(){this.sub=this.translate.stream(["month.full.january","month.full.february","month.full.march","month.full.april","month.full.may","month.full.june","month.full.july","month.full.august","month.full.september","month.full.october","month.full.november","month.full.december"]).subscribe(l=>{this.months=[];for(const e of Object.keys(l))this.months.push(l[e])});const l=["grid.columns.target"];this.sub=this.translate.stream(l).subscribe(e=>{this.maingrid&&this.colsgrid.length&&this.maingrid.translateHeaders(["target"],l,e)})}initInternal(l){l.forEach(l=>{this.reports[l.index]={index:l.idReport,label:l.title}}),this.sub=Object(be.b)(this.commentNavigator.getCommentByType$(Fe.a.Docs),this.coreCache.storesById$.pipe(Object(ke.a)())).subscribe(([l,e])=>{this.debug.log("Attempt to load comment:",l);const n=+l.subType;if(isNaN(n))return void this.debug.warn("Wrong report ID:",n);this.report_type=n;const t=+l.paramsJson.storeId;let i;this.debug.log("Page Params: %O. StoreID: %s",e,t),t&&(this.anyInArray(this.authService.currentUser.stores,t,"StoreID")?(i=e.get(t),this.debug.assert(i,"Wrong store. Store: %O. Store ID: %s",e,t),i&&(this._parent.byStoreName=i.id,this._parent.storeIdSelected=i.id,this._parent.byStore=!0,this._parent.viewTrend=!1,this._parent.updateBudgetFilter())):this.translate.get("by-store.store.no-access-to-store-messages").subscribe(l=>this.dialog.alert(l))),i||(this._parent.byStoreName=void 0,this._parent.storeIdSelected=0,this._parent.byStore=!1,this._parent.updateBudgetFilter()),this.commentNavigator.clearState(),setTimeout(()=>{this._parent.showCommentsDocs=!0,this.loadPage()},600)}),this.sub=this.route.params.subscribe(e=>{let n=e.date;const t=e.type;if(n&&""!==n||(sessionStorage.budgetId=0),sessionStorage.customDating&&sessionStorage.customMonthly&&(n=sessionStorage.customDating,this._parent.selected_month=sessionStorage.customMonthly),t)n||(n=""),this._parent.loading=!0,this.loading=!0,this.data=[],this.report_type=parseInt(this.reports[t].index,10),this._parent.all.then(l=>{const[e,i,o,u,s]=l,r=e.length-1,a=r>=0?e[r].months.length-1:null;let d;if(null!==a&&(d=e[r].months[a]),!n){this.currentDate=d.date_from,this._parent.currentDate=d.date_from;const l=new Date(this.currentDate),e="".concat(this.cabinetUrl,"/docs/").concat(t,"/").concat(ol(l).format("MM_YYYY"));return this.router.navigate([e])}if(this.currentDate=n,this._parent.currentDate=n,e.forEach(l=>{l.months.forEach(l=>{const e=new Date(l.date_from),n="".concat((e.getMonth()+1).toString().replace(/^([0-9])$/,"0$1"),"_").concat(e.getFullYear());l.url="".concat(this.cabinetUrl,"/docs/").concat(t,"/").concat(n),n===this.currentDate&&(this._parent.selected_month=l)})}),null===this._parent.selected_month){this._parent.selected_month=d,this.currentDate=this._parent.selected_month.date_from,this._parent.currentDate=this._parent.selected_month.date_from;let l="";return l=this._parent.selected_month.url.indexOf("docs")>=0?this._parent.selected_month.url:"".concat(this.cabinetUrl,"/docs/").concat(t,"/").concat(this._parent.selected_month.url),this.router.navigate([l])}this.transactionDate=this._parent.selected_month.dateindex,setTimeout(()=>{sessionStorage.docNavCall&&"false"!==sessionStorage.docNavCall?this.loading=!1:this.loadPage()},50)}),this.report_label=this.reports[t].label,setTimeout(()=>{this._parent.report_type=this.report_type,this._parent.report_label_bud=this.report_label,this._parent.report_type_bud=this.report_type,this._parent.report_label=this.report_label,this._parent.selected_period&&this._parent.selected_period.budgetId&&this._parent.selected_period.budgetId>0&&(!sessionStorage.budgetId||0==+sessionStorage.budgetId)&&(this._parent.selected_period=this._parent.byStoreName&&this._parent.byStore?this._parent.mtd_filter[0]:this._parent.period_filter[0],this._parent.selected_segment=this._parent.mtd_filter[0])},0),this.currentDate=n,this._parent.currentDate=n,setTimeout(()=>this._parent.refreshMonthPickerValue());else for(const i of l)if(l[i].canActivate)return this.router.navigate([this.cabinetUrl+l[i].url])}),this.sub=this._parent.mtdChanged.subscribe(()=>{this.loadPage()}),this.sub=this._parent.storegroupChanged.subscribe(l=>{this.currentPage=1,this._parent.byStoreName?this._parent.resetDefault():this.loadPage()}),this.sub=this._parent.byStoreChanged.subscribe(l=>{this.loadPage()}),this.sub=this._parent.periodChanged.subscribe(l=>{this.loadPage()}),this.sub=this._parent.period2Changed.subscribe(l=>{this.loadPage()}),this.sub=this._parent.fieldsChanged.subscribe(l=>{this._parent.byStoreFields=!0,this.loadPage()}),this.sub=this._parent.viewTrendChanged.subscribe(l=>{this.loadPage()}),this.sub=this._parent.viewForecastChanged.subscribe(l=>{this.loadPage()})}}var Me=n("cMOq"),Pe=n("yK5/");const Ve=Object(sl.a)(ul.b);class Le{constructor(l,e,n,t,i,o,u,s,r){this.excel=l,this.agGridPdf=e,this.format=n,this.tracking=t,this._headerService=i,this.dialog=o,this.translate=u,this.formatter=r,this.subs=[],this.debug=s.factory(new.target.name),this.initInternal()}set sub(l){this.subs.push(l)}init(l){this.docsBodyRef=l}drillExcelExport(){this.sub=this.translate.get(["drill-down-modal.title","export.name-separator","drill-down-modal.table.column.amount","drill-down-modal.table.column.amountYTD","drill-down-modal.table.column.count","drill-down-modal.table.column.countYTD","drill-down-modal.table.column.frontGross","drill-down-modal.table.column.backGross","drill-down-modal.table.column.totalGross"]).subscribe(l=>{const e=new Date(parseInt(this.docsBodyRef._parent.monthpicker_value,10)),n=this.docsBodyRef.report_label+" "+l["drill-down-modal.title"]+" ["+this.docsBodyRef.drillDownLine.name+"] "+l["export.name-separator"]+" "+this.docsBodyRef.months[e.getMonth()]+" "+e.getFullYear(),t=this.docsBodyRef.griddrill.grid,i=this.docsBodyRef.isFINotACCLine?[{label:l["drill-down-modal.table.column.frontGross"],value:this.format.formatValue([this.docsBodyRef.drillDown.frontGross,"$"],!1,!0)},{label:l["drill-down-modal.table.column.backGross"],value:this.format.formatValue([this.docsBodyRef.drillDown.backGross,"$"],!1,!0)},{label:l["drill-down-modal.table.column.totalGross"],value:this.format.formatValue([this.docsBodyRef.drillDown.backGross+this.docsBodyRef.drillDown.frontGross,"$"],!1,!0)},{label:l["drill-down-modal.table.column.count"],value:this.docsBodyRef.drillDown.count}]:[{label:l["drill-down-modal.table.column.amount"],value:this.format.formatValue(this.docsBodyRef.drillDown.amount,!1,!0)},{label:l["drill-down-modal.table.column.amountYTD"],value:this.format.formatValue(this.docsBodyRef.drillDown.amountYTD,!1,!0)},{label:l["drill-down-modal.table.column.count"],value:this.docsBodyRef.drillDown.count},{label:l["drill-down-modal.table.column.countYTD"],value:this.docsBodyRef.drillDown.countYTD}];this.excel.exportAgGrid(t,n,i,null,this.docsBodyRef.excludeInExcel),this.trackAction(n,Be.a.ExportXls,t)})}transactionExcelExport(){this.debug.log("transactionExcelExport()"),this.sub=this.translate.get(["drill-down-modal.title","export.name-separator","transaction-repost-modal.title","transaction-repost-modal.table.column.amount","transaction-repost-modal.table.column.count"]).subscribe(l=>{const e=new Date(parseInt(this.docsBodyRef._parent.monthpicker_value,10)),n=""!==this.docsBodyRef.transactionDateTitle?this.docsBodyRef.transactionDateTitle:this.docsBodyRef.months[e.getMonth()]+", "+e.getFullYear(),t=this.docsBodyRef.report_label+" "+l["drill-down-modal.title"]+" ["+this.docsBodyRef.drillDownLine.name+"] "+l["export.name-separator"]+" "+n+" "+l["transaction-repost-modal.title"]+" ["+this.docsBodyRef.transactionLine.gl+"]",i=this.docsBodyRef.transactionGrid.grid,o=[{label:l["transaction-repost-modal.table.column.amount"],value:this.format.formatValue(this.docsBodyRef.transaction.amount,!1,!0)},{label:l["transaction-repost-modal.table.column.count"],value:this.docsBodyRef.transaction.count}];this.excel.exportAgGrid(i,t,o,null,this.docsBodyRef.excludeInExcel),this.trackAction(t,Be.a.ExportXls,i)})}journalExcelExport(){this.debug.log("journalExcelExport()"),this.sub=this.translate.get(["drill-down-modal.title","export.name-separator","transaction-repost-modal.title","journal-view-modal.title"]).subscribe(l=>{const e=new Date(parseInt(this.docsBodyRef._parent.monthpicker_value,10)),n=this.docsBodyRef.report_label+" "+l["drill-down-modal.title"]+" ["+this.docsBodyRef.drillDownLine.name+"] "+l["export.name-separator"]+" "+this.docsBodyRef.months[e.getMonth()]+" "+e.getFullYear()+" "+l["transaction-repost-modal.title"]+" ["+this.docsBodyRef.transactionLine.gl+"] "+l["journal-view-modal.title"],t=this.docsBodyRef.journalViewGrid.grid;this.excel.exportAgGrid(t,n,null,null,this.docsBodyRef.excludeInExcel),this.trackAction(n,Be.a.ExportXls,t)})}docsExcelExport(){this.sub=this.translate.get(["export.filters.report","export.filters.date",Ve(_templateObject3()),Ve(_templateObject4()),"export.filters.store"]).subscribe(l=>{const e=this.docsBodyRef.report_label+" "+(new Date).toDateString(),n=this.docsBodyRef._parent.viewForecast?this.docsBodyRef.maingridF.grid:this.docsBodyRef.maingrid.grid,t=this.docsBodyRef._parent.viewForecast?this.docsBodyRef.maingridF.headers:this.docsBodyRef.maingrid.headers,i=new Date(parseInt(this.docsBodyRef._parent.monthpicker_value,10)),o={header:{alignment:{horizontal:"center"},font:{bold:!0,color:{rgb:"000000"}},border:{top:{style:"thin",color:{rgb:"000000"}},bottom:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}}}},mergeHeaderLeft:{alignment:{horizontal:"right"},font:{bold:!0,color:{rgb:"000000"}},border:{top:{style:"thin",color:{rgb:"000000"}},bottom:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"ffffff"}}}},mergeHeaderRight:{alignment:{horizontal:"left"},font:{bold:!0,color:{rgb:"000000"}},border:{top:{style:"thin",color:{rgb:"000000"}},bottom:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"ffffff"}},right:{style:"thin",color:{rgb:"000000"}}}},nullBorder:{alignment:{horizontal:"left"},font:{bold:!0,color:{rgb:"ffffff"}},border:{}},data:(l,e)=>(e&&"string"==typeof(e=Kl.a.removeDollarSign(e))&&(e=(e=e.replace(/%/g,"")).replace(/,/g,"")),{alignment:{horizontal:"center"},font:{bold:l,color:{rgb:e&&!isNaN(+e)&&+e<0?"de3918":"000000"}},border:{top:{style:"thin",color:{rgb:"000000"}},bottom:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}}}})},u=[],s=[{v:"",s:o.nullBorder},{v:"",s:o.nullBorder},{v:"",s:o.nullBorder},{v:"",s:o.nullBorder}];u.push([{v:l["export.filters.report"]+" : "+this.docsBodyRef.report_label,s:o.data(!1)},...s]),u.push([{v:l["export.filters.date"]+" : "+this.docsBodyRef.months[i.getMonth()]+" "+i.getFullYear(),s:o.data(!1)},...s]);const r=this.docsBodyRef._parent.viewTrend?l[Ve(_templateObject5())]:this.docsBodyRef._parent.selected_storegroup.name;u.push([{v:l[Ve(_templateObject6())]+" : "+r,s:o.data(!1)},...s]),this.docsBodyRef._parent.byStoreName&&u.push([{v:l["export.filters.store"]+" : "+this.docsBodyRef._parent.nameOfStore,s:o.data(!1)},...s]);const a=[],d=[];let c=[];const h=[];let p,m=0;const g=this.docsBodyRef.excludeInExcel,f=this.excel.getHeaders(n.columnDefs,g,[],[]),b=this.excel.getExcelExportColKeys(n.columnDefs,g,[]);f.parentHeaders&&f.parentHeaders.length>0?(a.push({v:"",s:o.header}),f.parentHeaders.forEach(l=>{const e=t.filter(e=>e.field===l),n=e.length>0?e[0].text.toUpperCase():"";if(a.push({v:n,s:o.mergeHeaderLeft}),h.push({wpx:0===m?300:140}),e&&e[0].children.length>0){for(const l of e[0].children)a.push({v:"",s:o.mergeHeaderRight});a.splice(-1,1)}m++}),d.push({v:t[0].text.toUpperCase(),s:o.header}),f.childHeaders.forEach(l=>{for(const e of t)if(e.children&&e.children.length>0)for(const n of e.children){let e={};if(n.field===l){e=n;const l=e.headerName?e.headerName.toUpperCase():"";d.push({v:l,s:o.header}),h.push({wpx:0===m?300:140})}}m++})):b.forEach(l=>{const e=t.filter(e=>e.field===l),n=e.length>0?e[0].text.toUpperCase():"";a.push({v:n,s:o.header}),h.push({wpx:0===m?300:140}),m++}),p=n.rowData,p.forEach(l=>{const e=[];b.forEach(n=>{e.push({v:null!==l[n]?l[n]:"",s:o.data(l.bold,l[n])})}),c.push(e)}),c=d.length>0?[...u,a,d,...c]:[...u,a,...c],this.excel.generate({sheetA:{data:{styles:{columns:{0:{alignment:{horizontal:"left"}},1:{alignment:{horizontal:"right"}},2:{alignment:{horizontal:"right"}},3:{alignment:{horizontal:"right"}}}},rows:c},"!cols":h,"!merges":[]}},o,e)})}docsPDFExport(){this.debug.log("docsPDFExport()"),this.sub=this.translate.get(["export.filters.title","export.filters.store","export.filters.date",Ve(_templateObject7()),Ve(_templateObject8())]).subscribe(l=>{this.docsBodyRef._parent.loading=!0;const e=this.docsBodyRef.report_label+" "+(new Date).toDateString(),n=new Date(parseInt(this.docsBodyRef._parent.monthpicker_value,10)),t=this.docsBodyRef._parent.viewForecast?this.docsBodyRef.maingridF.grid:this.docsBodyRef.maingrid.grid,i=[];i.push({label:l["export.filters.title"],value:e}),this.docsBodyRef._parent.byStoreName&&i.push({label:l["export.filters.store"],value:this.docsBodyRef.realStoreName});const o=[];o.push({label:l["export.filters.date"],value:this.docsBodyRef.months[n.getMonth()]+" "+n.getFullYear()}),o.push({label:l[Ve(_templateObject9())],value:this.docsBodyRef._parent.viewTrend?l[Ve(_templateObject10())]:this.docsBodyRef._parent.selected_storegroup.name}),this.agGridPdf.generate(t,e,[i,o],null,{fixed:"name",max:15},()=>{this.docsBodyRef._parent.loading=!1,this.trackAction(this.docsBodyRef.report_label,Be.a.ExportPdf,t,this.docsBodyRef._parent.getTrackingParams())})})}drillPDFExport(){this.debug.log("drillPDFExport()"),this.sub=this.translate.get(["drill-down-modal.title","export.name-separator","export.filters.title","drill-down-modal.table.column.amount","drill-down-modal.table.column.amountYTD","drill-down-modal.table.column.count","drill-down-modal.table.column.countYTD"]).subscribe(l=>{const e=new Date(parseInt(this.docsBodyRef._parent.monthpicker_value,10)),n=this.docsBodyRef.report_label+" "+l["drill-down-modal.title"]+" ["+this.docsBodyRef.drillDownLine.name+"] "+l["export.name-separator"]+" "+this.docsBodyRef.months[e.getMonth()]+" "+e.getFullYear(),t=this.docsBodyRef.griddrill.grid,i=[{label:l["export.filters.title"],value:n}],o=[{label:l["drill-down-modal.table.column.amount"],value:this.format.formatValue(this.docsBodyRef.drillDown.amount,!1,!0)},{label:l["drill-down-modal.table.column.amountYTD"],value:this.format.formatValue(this.docsBodyRef.drillDown.amountYTD,!1,!0)},{label:l["drill-down-modal.table.column.count"],value:this.docsBodyRef.drillDown.count},{label:l["drill-down-modal.table.column.countYTD"],value:this.docsBodyRef.drillDown.countYTD}];this.agGridPdf.generate(t,n,[i,o],null,null,()=>{this.docsBodyRef.drillLoading=!1,this.trackAction(n,Be.a.ExportPdf,t)})})}transactionPDFExport(){this.debug.log("transactionPDFExport()"),this.sub=this.translate.get(["drill-down-modal.title","export.name-separator","transaction-repost-modal.title","export.filters.title","transaction-repost-modal.table.column.amount","transaction-repost-modal.table.column.count"]).subscribe(l=>{const e=new Date(parseInt(this.docsBodyRef._parent.monthpicker_value,10)),n=""!==this.docsBodyRef.transactionDateTitle?this.docsBodyRef.transactionDateTitle:this.docsBodyRef.months[e.getMonth()]+", "+e.getFullYear(),t=this.docsBodyRef.report_label+" "+l["drill-down-modal.title"]+" ["+this.docsBodyRef.drillDownLine.name+"] "+l["export.name-separator"]+" "+n+" "+l["transaction-repost-modal.title"]+" ["+this.docsBodyRef.transactionLine.gl+"]",i=this.docsBodyRef.transactionGrid.grid,o=[{label:l["export.filters.title"],value:t}],u=[{label:l["transaction-repost-modal.table.column.amount"],value:this.format.formatValue(this.docsBodyRef.transaction.amount,!1,!0)},{label:l["transaction-repost-modal.table.column.count"],value:this.docsBodyRef.transaction.count}];this.agGridPdf.generate(i,t,[o,u],null,null,()=>{this.docsBodyRef.transactionLoading=!1,this.trackAction(t,Be.a.ExportPdf,i)})})}journalPDFExport(){this.debug.log("journalPDFExport()"),this.sub=this.translate.get(["drill-down-modal.title","export.name-separator","transaction-repost-modal.title","journal-view-modal.title","export.filters.title"]).subscribe(l=>{const e=new Date(parseInt(this.docsBodyRef._parent.monthpicker_value,10)),n=this.docsBodyRef.report_label+" "+l["drill-down-modal.title"]+" ["+this.docsBodyRef.drillDownLine.name+"] "+l["export.name-separator"]+" "+this.docsBodyRef.months[e.getMonth()]+" "+e.getFullYear()+" "+l["transaction-repost-modal.title"]+" ["+this.docsBodyRef.transactionLine.gl+"] "+l["journal-view-modal.title"],t=this.docsBodyRef.journalViewGrid.grid;this.agGridPdf.generate(t,n,[{label:l["export.filters.title"],value:n}],null,null,()=>{this.docsBodyRef.journalViewLoading=!1,this.trackAction(n,Be.a.ExportPdf,t)})})}trackAction(l,e,n,t){this.tracking.log({page:Be.b.Docs,section:l,event:e,params:t,grid:n})}initInternal(){this._headerService.changeExcelEmitted$.subscribe(()=>this.docsExcelExport(),l=>{this.sub=this.translate.get("export.error-message").subscribe(l=>this.dialog.alert(l+this.dialog.tryAgainLaterMessage)),this.debug.warn("Excel export error:",l)}),this._headerService.changePDFEmitted$.subscribe(()=>this.docsPDFExport(),l=>{this.sub=this.translate.get("export.error-message").subscribe(l=>this.dialog.alert(l+this.dialog.tryAgainLaterMessage)),this.debug.warn("Pdf export error:",l)})}}var Ae=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]     .c_modal{width:70%;height:80%}[_nghost-%COMP%]     .c_modal__dialog{height:100%}[_nghost-%COMP%]     .c_modal__content{height:100%}app-modal[_ngcontent-%COMP%]     .c_modal{width:70%;height:80%}ag-grid[_ngcontent-%COMP%]{height:100%}ag-grid[_ngcontent-%COMP%]     ag-grid-angular{margin:0;height:100%!important}.btn--settings[_ngcontent-%COMP%]{margin-left:15px;padding-top:2px;padding-bottom:2px;font-size:1.4em}.sep[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.timestamp[_ngcontent-%COMP%]{font-size:12px;font-weight:400;display:block}"]],data:{}});function Ge(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","sep"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],null,(function(l,e){l(e,1,0,t["\u0275unv"](e,1,0,t["\u0275nov"](e,2).transform("by-store.table.business-segment-label")))}))}function Ye(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","sep link-t"]],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component._parent.resetDefault()&&t),t}),null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],null,(function(l,e){l(e,1,0,t["\u0275unv"](e,1,0,t["\u0275nov"](e,2).transform("by-store.table.business-segment-label")))}))}function Ue(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"strong",[],null,[[null,"click"]],(function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==(!i._parent.hasOneStore&&i._parent.byStoreNameFilter())&&t),t}),null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,(function(l,e){var n=e.component;l(e,1,0,null==n._parent.selected_storegroup?null:n._parent.selected_storegroup.name)}))}function ze(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,(function(l,e){var n=e.component;l(e,1,0,null==n._parent.selected_storegroup?null:n._parent.selected_storegroup.name)}))}function qe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"strong",[],null,[[null,"click"]],(function(l,e,n){var t=!0,i=l.component;return"click"===e&&(t=!1!==(!i._parent.hasOneStore&&i._parent.resetDefault())&&t),t}),null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,(function(l,e){var n=e.component;l(e,1,0,null==n._parent.selected_storegroup?null:n._parent.selected_storegroup.name)}))}function $e(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","sep"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" >> "," "," -"," of ",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],null,(function(l,e){var n=e.component;l(e,1,0,t["\u0275unv"](e,1,0,t["\u0275nov"](e,2).transform("by-store.table.by-stores-label")),n.currentPage*n.numStoresToShow-n.numStoresToShow+1,n.currentPage*n.numStoresToShow>n.storesCount?n.storesCount:n.currentPage*n.numStoresToShow,n.storesCount)}))}function We(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"span",[["class","sep"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" >> "])),(l()(),t["\u0275eld"](2,0,null,null,2,"span",[["class","link-t"]],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component._parent.byStoreNameFilter()&&t),t}),null,null)),(l()(),t["\u0275ted"](3,null,[""," "," -"," of ",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](-1,null,[" >> "]))],null,(function(l,e){var n=e.component;l(e,3,0,t["\u0275unv"](e,3,0,t["\u0275nov"](e,4).transform("by-store.table.by-stores-label")),n.currentPage*n.numStoresToShow-n.numStoresToShow+1,n.currentPage*n.numStoresToShow>n.storesCount?n.storesCount:n.currentPage*n.numStoresToShow,n.storesCount)}))}function He(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","sep"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" >> "," "," -"," of "," >>"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],null,(function(l,e){var n=e.component;l(e,1,0,t["\u0275unv"](e,1,0,t["\u0275nov"](e,2).transform("by-store.table.by-stores-label")),n.currentPage*n.numStoresToShow-n.numStoresToShow+1,n.currentPage*n.numStoresToShow>n.storesCount?n.storesCount:n.currentPage*n.numStoresToShow,n.storesCount)}))}function Je(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["\xa0\xa0",""]))],null,(function(l,e){l(e,1,0,e.component.realStoreName)}))}function Xe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn--primary btn--small"]],[[8,"value",0]],[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onPreviousPage()&&t),t}),null,null)),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](-1,null,["<<"]))],null,(function(l,e){l(e,0,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](e,0,0,t["\u0275nov"](e,1).transform("by-store.button.previous-page")),""))}))}function Ke(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn--primary btn--small"]],[[8,"value",0]],[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onNextPage()&&t),t}),null,null)),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](-1,null,[">>"]))],null,(function(l,e){l(e,0,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](e,0,0,t["\u0275nov"](e,1).transform("by-store.button.next-page")),""))}))}function Ze(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Xe)),t["\u0275did"](2,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ke)),t["\u0275did"](4,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,e){var n=e.component;l(e,2,0,n.currentPage>1),l(e,4,0,n.currentPage<n.storesCount/n.numStoresToShow)}),null)}function Qe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","timestamp"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["Last updated: ",""]))],null,(function(l,e){l(e,1,0,e.component.lastRefreshed)}))}function ln(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["class","btn btn--primary btn--small-2"],["type","button"]],[[8,"title",0]],[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onEditBudget()&&t),t}),null,null)),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],null,(function(l,e){l(e,0,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](e,0,0,t["\u0275nov"](e,1).transform("edit-budget.edit-button-tooltip")),"")),l(e,2,0,t["\u0275unv"](e,2,0,t["\u0275nov"](e,3).transform("edit-budget.edit-button")))}))}function en(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["class","btn btn--primary btn--small-2"],["type","button"]],[[8,"title",0]],[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.openFileUpload()&&t),t}),null,null)),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],null,(function(l,e){l(e,0,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](e,0,0,t["\u0275nov"](e,1).transform("edit-budget.edit-csv-button-tooltip")),"")),l(e,2,0,t["\u0275unv"](e,2,0,t["\u0275nov"](e,3).transform("edit-budget.edit-csv-button")))}))}function nn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["class","btn btn--primary btn--small-2"],["type","button"]],[[8,"disabled",0],[8,"title",0]],[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onSaveBudget()&&t),t}),null,null)),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],null,(function(l,e){l(e,0,0,e.component.isSubmited,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](e,0,1,t["\u0275nov"](e,1).transform("edit-budget.save-button-tooltip")),"")),l(e,2,0,t["\u0275unv"](e,2,0,t["\u0275nov"](e,3).transform("edit-budget.save-button")))}))}function tn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["class","btn btn--alert btn--small-2"],["type","button"]],[[8,"title",0]],[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onCancelBudget()&&t),t}),null,null)),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],null,(function(l,e){l(e,0,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](e,0,0,t["\u0275nov"](e,1).transform("edit-budget.cancel-button-tooltip")),"")),l(e,2,0,t["\u0275unv"](e,2,0,t["\u0275nov"](e,3).transform("edit-budget.cancel-button")))}))}function on(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"div",[["style","text-align: right; display: block; width: 15%;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ln)),t["\u0275did"](2,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,en)),t["\u0275did"](4,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,nn)),t["\u0275did"](6,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,tn)),t["\u0275did"](8,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,e){var n=e.component;l(e,2,0,!n.editBudget&&!n.loading&&n._parent.allowEditing),l(e,4,0,!n.editBudget&&!n.loading),l(e,6,0,n.editBudget),l(e,8,0,n.editBudget)}),null)}function un(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","right"]],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component._parent.viewTrendNextMonth()&&t),t}),null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],null,(function(l,e){l(e,1,0,t["\u0275unv"](e,1,0,t["\u0275nov"](e,2).transform("view-trend.table.next-month")))}))}function sn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","right"]],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component._parent.viewTrendPrevMonth()&&t),t}),null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],null,(function(l,e){l(e,1,0,t["\u0275unv"](e,1,0,t["\u0275nov"](e,2).transform("view-trend.table.prev-month")))}))}function rn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","c__table"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","c__table-row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[["class","c__table-cell c__table-loading"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"app-loader",[],[[8,"className",0]],null,null,C.b,C.a)),t["\u0275did"](4,49152,null,0,y.a,[],null,null)],null,(function(l,e){l(e,3,0,t["\u0275nov"](e,4).cssClassByType)}))}function an(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"ag-grid",[],null,[[null,"openDetailsClick"],[null,"onHeaderClick"],[null,"onTrackChanges"],["window","resize"]],(function(l,e,n){var i=!0,o=l.component;return"window:resize"===e&&(i=!1!==t["\u0275nov"](l,5).onResize()&&i),"openDetailsClick"===e&&(i=!1!==o.openDrillDown(n)&&i),"onHeaderClick"===e&&(i=!1!==o.openDetailByStore(n)&&i),"onTrackChanges"===e&&(i=!1!==o.onTrackMainGridChanges()&&i),i}),ql.b,ql.a)),t["\u0275prd"](512,null,D.f,D.f,[t.LOCALE_ID]),t["\u0275prd"](512,null,$l.a,$l.a,[]),t["\u0275prd"](512,null,Wl.a,Wl.a,[Hl.a,G.a,W.a,w.j]),t["\u0275prd"](512,null,Jl.a,Jl.a,[]),t["\u0275did"](5,770048,[[2,4],["maingrid",4]],0,Xl.a,[D.d,D.f,$l.a,Kl.a,Wl.a,Zl.a,Jl.a,Ql.b,w.j,le.a,R.b,L.a],{data:[0,"data"],headers:[1,"headers"],showTotal:[2,"showTotal"],showCount:[3,"showCount"],allowSort:[4,"allowSort"],formattedValues:[5,"formattedValues"],autoFitColumns:[6,"autoFitColumns"],idGrid:[7,"idGrid"],colors:[8,"colors"],myGridOptions:[9,"myGridOptions"]},{openDetailsClick:"openDetailsClick",onHeaderClick:"onHeaderClick",onTrackChanges:"onTrackChanges"})],(function(l,e){var n=e.component;l(e,5,0,n.mainData,n.colsgrid,!1,!1,!1,!0,!1,"maingridp",n.colorsSettings,n.gridOptions)}),null)}function dn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"ag-grid",[],null,[["window","resize"]],(function(l,e,n){var i=!0;return"window:resize"===e&&(i=!1!==t["\u0275nov"](l,5).onResize()&&i),i}),ql.b,ql.a)),t["\u0275prd"](512,null,D.f,D.f,[t.LOCALE_ID]),t["\u0275prd"](512,null,$l.a,$l.a,[]),t["\u0275prd"](512,null,Wl.a,Wl.a,[Hl.a,G.a,W.a,w.j]),t["\u0275prd"](512,null,Jl.a,Jl.a,[]),t["\u0275did"](5,770048,[[3,4],["maingridF",4]],0,Xl.a,[D.d,D.f,$l.a,Kl.a,Wl.a,Zl.a,Jl.a,Ql.b,w.j,le.a,R.b,L.a],{data:[0,"data"],headers:[1,"headers"],showTotal:[2,"showTotal"],showCount:[3,"showCount"],allowSort:[4,"allowSort"],formattedValues:[5,"formattedValues"],autoFitColumns:[6,"autoFitColumns"],idGrid:[7,"idGrid"]},null)],(function(l,e){var n=e.component;l(e,5,0,n.mainDataF,n.colsgridF,!1,!1,!1,!1,!1,"maingridFp")}),null)}function cn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","docs-section-comments"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"app-comments",[],[[8,"className",0]],[[null,"commentsClose"]],(function(l,e,n){var t=!0;return"commentsClose"===e&&(t=!1!==l.component.showCommentsDocsToggle()&&t),t}),ee.b,ee.a)),t["\u0275did"](2,4964352,null,0,ne.a,[te.a,ie.a,oe.a,t.ChangeDetectorRef,R.b],{type:[0,"type"],subType:[1,"subType"],params:[2,"params"]},{commentsClose:"commentsClose"})],(function(l,e){var n=e.component;l(e,2,0,n.commentType,n.report_type,n.commentParams)}),(function(l,e){l(e,1,0,t["\u0275nov"](e,2).hostClass)}))}function hn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[],[[8,"disabled",0]],[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.drillExcelExport()&&t),t}),null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","icon-file-excel"]],null,null,null,null,null))],null,(function(l,e){var n=e.component;l(e,0,0,!n.drillDataControl.length||n.drillLoading)}))}function pn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[],[[8,"disabled",0]],[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.drillPDFExport()&&t),t}),null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","icon-file-pdf"]],null,null,null,null,null))],null,(function(l,e){var n=e.component;l(e,0,0,!n.drillDataControl.length||n.drillLoading)}))}function mn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",": "])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],null,(function(l,e){l(e,1,0,t["\u0275unv"](e,1,0,t["\u0275nov"](e,2).transform("drill-down-modal.table.column.amountYTD")))}))}function gn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),t["\u0275ppd"](3,2)],null,(function(l,e){var n=e.component,i=t["\u0275unv"](e,2,0,l(e,3,0,t["\u0275nov"](e.parent.parent.parent,0),n.drillDown.amountYTD,0));l(e,2,0,i)}))}function fn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](4,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),t["\u0275ppd"](7,2),(l()(),t["\u0275and"](16777216,null,null,1,null,mn)),t["\u0275did"](9,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,gn)),t["\u0275did"](11,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,e){var n=e.component;l(e,9,0,"CNIA"!=(null==n.drillDownLine?null:n.drillDownLine.line_type)),l(e,11,0,"CNIA"!=(null==n.drillDownLine?null:n.drillDownLine.line_type))}),(function(l,e){var n=e.component;l(e,2,0,t["\u0275unv"](e,2,0,t["\u0275nov"](e,3).transform("drill-down-modal.table.column.amount")));var i=t["\u0275unv"](e,6,0,l(e,7,0,t["\u0275nov"](e.parent.parent,0),n.drillDown.amount,0));l(e,6,0,i)}))}function bn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",": "])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],null,(function(l,e){l(e,1,0,t["\u0275unv"](e,1,0,t["\u0275nov"](e,2).transform("drill-down-modal.table.column.countYTD")))}))}function vn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,(function(l,e){l(e,2,0,e.component.drillDown.countYTD)}))}function _n(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](4,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275and"](16777216,null,null,1,null,bn)),t["\u0275did"](8,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,vn)),t["\u0275did"](10,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,e){var n=e.component;l(e,8,0,"CNIA"!=(null==n.drillDownLine?null:n.drillDownLine.line_type)),l(e,10,0,"CNIA"!=(null==n.drillDownLine?null:n.drillDownLine.line_type))}),(function(l,e){var n=e.component;l(e,2,0,t["\u0275unv"](e,2,0,t["\u0275nov"](e,3).transform("drill-down-modal.table.column.count"))),l(e,6,0,n.drillDown.count)}))}function wn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,21,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](4,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),t["\u0275ppd"](7,2),(l()(),t["\u0275eld"](8,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](11,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,["",""])),t["\u0275ppd"](14,2),(l()(),t["\u0275eld"](15,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](16,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](18,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](20,null,["","",""])),t["\u0275ppd"](21,2)],null,(function(l,e){var n=e.component;l(e,2,0,t["\u0275unv"](e,2,0,t["\u0275nov"](e,3).transform("drill-down-modal.table.column.frontGross")));var i=t["\u0275unv"](e,6,0,l(e,7,0,t["\u0275nov"](e.parent.parent,0),n.drillDown.frontGross,0));l(e,6,0,i),l(e,9,0,t["\u0275unv"](e,9,0,t["\u0275nov"](e,10).transform("drill-down-modal.table.column.backGross")));var o=t["\u0275unv"](e,13,0,l(e,14,0,t["\u0275nov"](e.parent.parent,0),n.drillDown.backGross,0));l(e,13,0,o),l(e,16,0,t["\u0275unv"](e,16,0,t["\u0275nov"](e,17).transform("drill-down-modal.table.column.totalGross")));var u=n.drillDown.frontGross[1],s=t["\u0275unv"](e,20,1,l(e,21,0,t["\u0275nov"](e.parent.parent,0),n.drillDown.frontGross[0]+n.drillDown.backGross[0],0));l(e,20,0,u,s)}))}function Cn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](4,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""]))],null,(function(l,e){var n=e.component;l(e,2,0,t["\u0275unv"](e,2,0,t["\u0275nov"](e,3).transform("drill-down-modal.table.column.count"))),l(e,6,0,n.drillDown.count)}))}function yn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["style","height:100%;display: grid"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,8,"ag-grid",[],null,[[null,"openDetailsClick"],["window","resize"]],(function(l,e,n){var i=!0,o=l.component;return"window:resize"===e&&(i=!1!==t["\u0275nov"](l,9).onResize()&&i),"openDetailsClick"===e&&(i=!1!==(o.isFINotACCLine||"CNIA"==(null==o.drillDownLine?null:o.drillDownLine.line_type)?void 0:o.openTransactionReport(n))&&i),i}),ql.b,ql.a)),t["\u0275prd"](512,null,D.C,D.D,[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](3,278528,null,0,D.p,[D.C],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](4,{height:0,width:1}),t["\u0275prd"](512,null,D.f,D.f,[t.LOCALE_ID]),t["\u0275prd"](512,null,$l.a,$l.a,[]),t["\u0275prd"](512,null,Wl.a,Wl.a,[Hl.a,G.a,W.a,w.j]),t["\u0275prd"](512,null,Jl.a,Jl.a,[]),t["\u0275did"](9,770048,[[4,4],["griddrill",4]],0,Xl.a,[D.d,D.f,$l.a,Kl.a,Wl.a,Zl.a,Jl.a,Ql.b,w.j,le.a,R.b,L.a],{data:[0,"data"],headers:[1,"headers"],showTotal:[2,"showTotal"],showCount:[3,"showCount"],idGrid:[4,"idGrid"]},{openDetailsClick:"openDetailsClick"})],(function(l,e){var n=e.component,t=l(e,4,0,"100%","99%");l(e,3,0,t),l(e,9,0,n.drillDataControl,n.drillColsGrid,!1,!1,"maingrid3")}),null)}function Dn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","c__table-row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","c__table-cell c__table-loading"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"app-loader",[],[[8,"className",0]],null,null,C.b,C.a)),t["\u0275did"](3,49152,null,0,y.a,[],null,null)],null,(function(l,e){l(e,2,0,t["\u0275nov"](e,3).cssClassByType)}))}function In(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"div",[["class","c__table-row"]],null,null,null,null,null))],null,null)}function Rn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,31,"app-modal",[["class","modal-generic modal-presized-docs"],["modalTitle",""]],null,[[null,"onInit"]],(function(l,e,n){var t=!0;return"onInit"===e&&(t=!1!==l.component.drillDownModalInit(n)&&t),t}),j.b,j.a)),t["\u0275prd"](512,null,N.a,N.a,[R.b]),t["\u0275did"](2,1228800,[["drillDownModal",4]],0,M.a,[N.a,D.d,t.ElementRef,t.Renderer2,R.b],{modalTitle:[0,"modalTitle"]},{onInit:"onInit"}),(l()(),t["\u0275eld"](3,0,null,0,16,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,15,"div",[["class","small-12 medium-8 column overall-results"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,14,"table",[],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,4,"td",[["colspan","4"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,hn)),t["\u0275did"](9,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,pn)),t["\u0275did"](11,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,fn)),t["\u0275did"](13,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,_n)),t["\u0275did"](15,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,wn)),t["\u0275did"](17,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Cn)),t["\u0275did"](19,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](20,0,null,0,6,"div",[],null,null,null,null,null)),t["\u0275prd"](512,null,D.C,D.D,[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](22,278528,null,0,D.p,[D.C],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](23,{height:0}),(l()(),t["\u0275eld"](24,0,null,null,2,"div",[["class","content__section_body"],["style","height:100%;max-height:none"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,yn)),t["\u0275did"](26,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](27,0,null,0,4,"div",[["class","c__table"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Dn)),t["\u0275did"](29,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,In)),t["\u0275did"](31,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,e){var n=e.component;l(e,2,0,""),l(e,9,0,null==n.currentUser?null:n.currentUser.isExportExcelAvailable),l(e,11,0,null==n.currentUser?null:n.currentUser.isExportPdfAvailable),l(e,13,0,!n.isFINotACCLine),l(e,15,0,!n.isFINotACCLine),l(e,17,0,n.isFINotACCLine),l(e,19,0,n.isFINotACCLine);var t=l(e,23,0,n.windowWidth<480?"calc(80% - 100px)":"calc(95% - 100px)");l(e,22,0,t),l(e,26,0,!n.drillLoading),l(e,29,0,n.drillLoading),l(e,31,0,!n.drillDataControl.length&&!n.drillLoading)}),null)}function Tn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[],[[8,"disabled",0]],[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.transactionExcelExport()&&t),t}),null,null)),(l()(),t["\u0275eld"](1,16777216,null,null,2,"i",[["class","material-icons"],["tooltipTheme","dark-auto"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,e,n){var i=!0;return"focusin"===e&&(i=!1!==t["\u0275nov"](l,2).show()&&i),"mouseenter"===e&&(i=!1!==t["\u0275nov"](l,2).show()&&i),"focusout"===e&&(i=!1!==t["\u0275nov"](l,2).hide()&&i),"mouseleave"===e&&(i=!1!==t["\u0275nov"](l,2).hide()&&i),i}),null,null)),t["\u0275did"](2,147456,null,0,I.a,[t.ViewContainerRef,t.ComponentFactoryResolver,t.ChangeDetectorRef,R.b],{content:[0,"content"],tooltipTheme:[1,"tooltipTheme"]},null),(l()(),t["\u0275ted"](-1,null,["file_download"]))],(function(l,e){l(e,2,0,t["\u0275nov"](e.parent,137),"dark-auto")}),(function(l,e){var n=e.component;l(e,0,0,!n.transactionData.length||n.transactionLoading)}))}function xn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[],[[8,"disabled",0]],[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.transactionPDFExport()&&t),t}),null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["picture_as_pdf"]))],null,(function(l,e){var n=e.component;l(e,0,0,!n.transactionData.length||n.transactionLoading)}))}function Sn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,k.w,[t.ElementRef,t.Renderer2,[2,k.C]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,k.H,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,["",""])),t["\u0275ppd"](4,2)],(function(l,e){l(e,1,0,t["\u0275inlineInterpolate"](1,"",null==e.context.$implicit?null:e.context.$implicit.dateindex,"")),l(e,2,0,t["\u0275inlineInterpolate"](1,"",null==e.context.$implicit?null:e.context.$implicit.dateindex,""))}),(function(l,e){var n=t["\u0275unv"](e,3,0,l(e,4,0,t["\u0275nov"](e.parent.parent,2),null==e.context.$implicit?null:e.context.$implicit.date_from,"MMMM, y"));l(e,3,0,n)}))}function kn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"optgroup",[],[[8,"label",0]],null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,2,null,Sn)),t["\u0275did"](2,278528,null,0,D.l,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275ppd"](3,1)],(function(l,e){var n=t["\u0275unv"](e,2,0,l(e,3,0,t["\u0275nov"](e.parent,1),e.context.$implicit.months));l(e,2,0,n)}),(function(l,e){l(e,0,0,e.context.$implicit.title)}))}function Fn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","c__table"],["style","height:100%;display: grid"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,5,"ag-grid",[["style","height: 95%; width: 98%"]],null,[["window","resize"]],(function(l,e,n){var i=!0;return"window:resize"===e&&(i=!1!==t["\u0275nov"](l,6).onResize()&&i),i}),ql.b,ql.a)),t["\u0275prd"](512,null,D.f,D.f,[t.LOCALE_ID]),t["\u0275prd"](512,null,$l.a,$l.a,[]),t["\u0275prd"](512,null,Wl.a,Wl.a,[Hl.a,G.a,W.a,w.j]),t["\u0275prd"](512,null,Jl.a,Jl.a,[]),t["\u0275did"](6,770048,[[5,4],["transactionGrid",4]],0,Xl.a,[D.d,D.f,$l.a,Kl.a,Wl.a,Zl.a,Jl.a,Ql.b,w.j,le.a,R.b,L.a],{data:[0,"data"],headers:[1,"headers"],showTotal:[2,"showTotal"],showCount:[3,"showCount"],idGrid:[4,"idGrid"]},null)],(function(l,e){var n=e.component;l(e,6,0,n.transactionDataGrid,n.transactionColsGrid,!1,!1,"maingrid4")}),null)}function Bn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","c__table-row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","c__table-cell c__table-loading"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"app-loader",[],[[8,"className",0]],null,null,C.b,C.a)),t["\u0275did"](3,49152,null,0,y.a,[],null,null)],null,(function(l,e){l(e,2,0,t["\u0275nov"](e,3).cssClassByType)}))}function On(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","c__table-row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","c__table-cell c__table-loading"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],null,(function(l,e){l(e,2,0,t["\u0275unv"](e,2,0,t["\u0275nov"](e,3).transform("transaction-repost-modal.empty")))}))}function En(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[],[[8,"disabled",0]],[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.journalExcelExport()&&t),t}),null,null)),(l()(),t["\u0275eld"](1,16777216,null,null,2,"i",[["class","material-icons"],["tooltipTheme","dark-auto"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,e,n){var i=!0;return"focusin"===e&&(i=!1!==t["\u0275nov"](l,2).show()&&i),"mouseenter"===e&&(i=!1!==t["\u0275nov"](l,2).show()&&i),"focusout"===e&&(i=!1!==t["\u0275nov"](l,2).hide()&&i),"mouseleave"===e&&(i=!1!==t["\u0275nov"](l,2).hide()&&i),i}),null,null)),t["\u0275did"](2,147456,null,0,I.a,[t.ViewContainerRef,t.ComponentFactoryResolver,t.ChangeDetectorRef,R.b],{content:[0,"content"],tooltipTheme:[1,"tooltipTheme"]},null),(l()(),t["\u0275ted"](-1,null,["file_download"]))],(function(l,e){l(e,2,0,t["\u0275nov"](e.parent,137),"dark-auto")}),(function(l,e){var n=e.component;l(e,0,0,!n.journalViewData.length||n.journalViewLoading)}))}function jn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[],[[8,"disabled",0]],[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.journalPDFExport()&&t),t}),null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["picture_as_pdf"]))],null,(function(l,e){var n=e.component;l(e,0,0,!n.journalViewData.length||n.journalViewLoading)}))}function Nn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","c__table"],["style","height:100%;display: grid"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,5,"ag-grid",[["style","height: 95%; width: 98%"]],null,[["window","resize"]],(function(l,e,n){var i=!0;return"window:resize"===e&&(i=!1!==t["\u0275nov"](l,6).onResize()&&i),i}),ql.b,ql.a)),t["\u0275prd"](512,null,D.f,D.f,[t.LOCALE_ID]),t["\u0275prd"](512,null,$l.a,$l.a,[]),t["\u0275prd"](512,null,Wl.a,Wl.a,[Hl.a,G.a,W.a,w.j]),t["\u0275prd"](512,null,Jl.a,Jl.a,[]),t["\u0275did"](6,770048,[[6,4],["journalViewGrid",4]],0,Xl.a,[D.d,D.f,$l.a,Kl.a,Wl.a,Zl.a,Jl.a,Ql.b,w.j,le.a,R.b,L.a],{data:[0,"data"],headers:[1,"headers"],showTotal:[2,"showTotal"]},null)],(function(l,e){var n=e.component;l(e,6,0,n.journalDataGrid,n.journalColsGrid,!1)}),null)}function Mn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","c__table-row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","c__table-cell c__table-loading"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"app-loader",[],[[8,"className",0]],null,null,C.b,C.a)),t["\u0275did"](3,49152,null,0,y.a,[],null,null)],null,(function(l,e){l(e,2,0,t["\u0275nov"](e,3).cssClassByType)}))}function Pn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","c__table-row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","c__table-cell c__table-loading"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef])],null,(function(l,e){l(e,2,0,t["\u0275unv"](e,2,0,t["\u0275nov"](e,3).transform("journal-view-modal.empty")))}))}function Vn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","c__table-row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","c__table-cell c__table-loading"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"app-loader",[],[[8,"className",0]],null,null,C.b,C.a)),t["\u0275did"](3,49152,null,0,y.a,[],null,null)],null,(function(l,e){l(e,2,0,t["\u0275nov"](e,3).cssClassByType)}))}function Ln(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","c__table-row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","c__table-cell c__table-loading"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"app-loader",[],[[8,"className",0]],null,null,C.b,C.a)),t["\u0275did"](3,49152,null,0,y.a,[],null,null)],null,(function(l,e){l(e,2,0,t["\u0275nov"](e,3).cssClassByType)}))}function An(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","c__table"],["style","height:100%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,5,"ag-grid",[["style","height: 100%"]],null,[[null,"onGridMessage"],["window","resize"]],(function(l,e,n){var i=!0,o=l.component;return"window:resize"===e&&(i=!1!==t["\u0275nov"](l,6).onResize()&&i),"onGridMessage"===e&&(i=!1!==o.showMessageGrid(n)&&i),i}),ql.b,ql.a)),t["\u0275prd"](512,null,D.f,D.f,[t.LOCALE_ID]),t["\u0275prd"](512,null,$l.a,$l.a,[]),t["\u0275prd"](512,null,Wl.a,Wl.a,[Hl.a,G.a,W.a,w.j]),t["\u0275prd"](512,null,Jl.a,Jl.a,[]),t["\u0275did"](6,770048,[[7,4],["griddrillbudget",4]],0,Xl.a,[D.d,D.f,$l.a,Kl.a,Wl.a,Zl.a,Jl.a,Ql.b,w.j,le.a,R.b,L.a],{data:[0,"data"],headers:[1,"headers"],showCount:[2,"showCount"],formattedValues:[3,"formattedValues"],idGrid:[4,"idGrid"]},{onGridMessage:"onGridMessage"})],(function(l,e){var n=e.component;l(e,6,0,n.dataBudget,n.colsGridBudget,!1,!0,"grillsetup1")}),null)}function Gn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","content__section_body"],["style","height:100%"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,An)),t["\u0275did"](2,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,e){var n=e.component;l(e,2,0,n.dataBudget&&!n.controlLoading)}),null)}function Yn(l){return t["\u0275vid"](0,[t["\u0275pid"](0,$l.a,[]),t["\u0275pid"](0,ue,[]),t["\u0275pid"](0,D.e,[t.LOCALE_ID]),t["\u0275qud"](671088640,1,{commentForm:0}),t["\u0275qud"](671088640,2,{maingrid:0}),t["\u0275qud"](671088640,3,{maingridF:0}),t["\u0275qud"](671088640,4,{griddrill:0}),t["\u0275qud"](671088640,5,{transactionGrid:0}),t["\u0275qud"](671088640,6,{journalViewGrid:0}),t["\u0275qud"](671088640,7,{griddrillbudget:0}),t["\u0275qud"](402653184,8,{setupReportLineModal:0}),(l()(),t["\u0275eld"](11,0,null,null,48,"div",[["class","docs-section"],["style","height:calc(100vh - 139px);"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,0,"span",[["class","icon-comments comments-toggle"]],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.showCommentsDocsToggle()&&t),t}),null,null)),(l()(),t["\u0275eld"](13,0,null,null,44,"div",[["class","docs-section-list h-100 mh-initial"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,43,"div",[["class","content__section h-100 mb-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,35,"div",[["class","content__section-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,24,"h4",[["class","content__section-heading"],["style","width: 85%;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](18,null,["",""])),(l()(),t["\u0275and"](16777216,null,null,1,null,Ge)),t["\u0275did"](20,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ye)),t["\u0275did"](22,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ue)),t["\u0275did"](24,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ze)),t["\u0275did"](26,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,qe)),t["\u0275did"](28,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,$e)),t["\u0275did"](30,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,We)),t["\u0275did"](32,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,He)),t["\u0275did"](34,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Je)),t["\u0275did"](36,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ze)),t["\u0275did"](38,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Qe)),t["\u0275did"](40,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,on)),t["\u0275did"](42,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](43,0,null,null,7,"div",[["class","content__section-controls"]],null,null,null,null,null)),t["\u0275prd"](512,null,D.C,D.D,[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](45,278528,null,0,D.p,[D.C],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](46,{display:0}),(l()(),t["\u0275and"](16777216,null,null,1,null,un)),t["\u0275did"](48,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,sn)),t["\u0275did"](50,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](51,0,null,null,6,"div",[["class","content__section_body"],["style","overflow: hidden"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,rn)),t["\u0275did"](53,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,an)),t["\u0275did"](55,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,dn)),t["\u0275did"](57,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,cn)),t["\u0275did"](59,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](60,0,null,null,2,"app-setup-report-line-modal",[],null,null,null,fe,ge)),t["\u0275prd"](512,null,Wl.a,Wl.a,[Hl.a,G.a,W.a,w.j]),t["\u0275did"](62,4964352,[[8,4]],0,pe,[Z,G.a,w.j,Kl.a,Wl.a,me.a,le.a,Zl.a,R.b],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Rn)),t["\u0275did"](64,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](65,0,null,null,58,"app-modal",[["class","modal-transaction-detail modal-presized-docs"]],null,[[null,"onInit"]],(function(l,e,n){var t=!0;return"onInit"===e&&(t=!1!==l.component.transactionRepostModalInit(n)&&t),t}),j.b,j.a)),t["\u0275prd"](512,null,N.a,N.a,[R.b]),t["\u0275did"](67,1228800,[["transactionRepostModal",4]],0,M.a,[N.a,D.d,t.ElementRef,t.Renderer2,R.b],{modalTitle:[0,"modalTitle"]},{onInit:"onInit"}),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](69,0,null,0,42,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](70,0,null,null,27,"div",[["class","small-12 medium-8 column overall-results"]],null,null,null,null,null)),(l()(),t["\u0275eld"](71,0,null,null,26,"table",[],null,null,null,null,null)),(l()(),t["\u0275eld"](72,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](73,0,null,null,9,"td",[["colspan","2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Tn)),t["\u0275did"](75,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](76,0,null,null,4,"app-tooltip-content",[["style","width:75px"]],[[1,"role",0],[8,"className",0],[2,"tooltip--with-header",null],[4,"top","px"],[4,"left","px"],[2,"in",null],[2,"fade",null]],[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,e,n){var i=!0;return"focusin"===e&&(i=!1!==t["\u0275nov"](l,78).mouseIn()&&i),"mouseenter"===e&&(i=!1!==t["\u0275nov"](l,78).mouseIn()&&i),"focusout"===e&&(i=!1!==t["\u0275nov"](l,78).mouseOut()&&i),"mouseleave"===e&&(i=!1!==t["\u0275nov"](l,78).mouseOut()&&i),i}),p.c,p.a)),t["\u0275prd"](512,null,F.a,F.a,[R.b]),t["\u0275did"](78,4440064,[["tooltipUnits",4]],0,B.a,[t.ElementRef,F.a,O.a,D.d,t.Renderer2,t.ChangeDetectorRef,R.b],null,null),(l()(),t["\u0275ted"](79,1,[" "," "])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,xn)),t["\u0275did"](82,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](83,0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](84,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](85,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](87,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](88,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](89,null,["",""])),t["\u0275ppd"](90,2),(l()(),t["\u0275eld"](91,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](92,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](93,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](95,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](96,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](97,null,["",""])),(l()(),t["\u0275eld"](98,0,null,null,13,"div",[["class","form-group small-12 medium-4 column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](99,0,null,null,2,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](100,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](102,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275eld"](103,0,null,null,8,"select",[["name","section"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(l,e,n){var i=!0,o=l.component;return"change"===e&&(i=!1!==t["\u0275nov"](l,104).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,104).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.transactionDate=n)&&i),"change"===e&&(i=!1!==o.setTransactionsDate(n)&&i),i}),null,null)),t["\u0275did"](104,16384,null,0,k.C,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.q,(function(l){return[l]}),[k.C]),t["\u0275did"](106,671744,null,0,k.v,[[8,null],[8,null],[8,null],[6,k.q]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,k.r,null,[k.v]),t["\u0275did"](108,16384,null,0,k.s,[[4,k.r]],null,null),(l()(),t["\u0275and"](16777216,null,null,2,null,kn)),t["\u0275did"](110,278528,null,0,D.l,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275ppd"](111,1),(l()(),t["\u0275eld"](112,0,null,0,6,"div",[],null,null,null,null,null)),t["\u0275prd"](512,null,D.C,D.D,[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](114,278528,null,0,D.p,[D.C],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](115,{height:0}),(l()(),t["\u0275eld"](116,0,null,null,2,"div",[["class","content__section_body"],["style","height:100%;max-height:none"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Fn)),t["\u0275did"](118,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](119,0,null,0,4,"div",[["class","c__table"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Bn)),t["\u0275did"](121,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,On)),t["\u0275did"](123,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](124,0,null,null,29,"app-modal",[["class","modal-transaction-detail"]],null,[[null,"onInit"]],(function(l,e,n){var t=!0;return"onInit"===e&&(t=!1!==l.component.journalViewModalInit(n)&&t),t}),j.b,j.a)),t["\u0275prd"](512,null,N.a,N.a,[R.b]),t["\u0275did"](126,1228800,[["journalView",4]],0,M.a,[N.a,D.d,t.ElementRef,t.Renderer2,R.b],{modalTitle:[0,"modalTitle"]},{onInit:"onInit"}),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](128,0,null,0,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](129,0,null,null,12,"div",[["class","small-12 medium-8 column overall-results"]],null,null,null,null,null)),(l()(),t["\u0275eld"](130,0,null,null,11,"table",[],null,null,null,null,null)),(l()(),t["\u0275eld"](131,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](132,0,null,null,9,"td",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,En)),t["\u0275did"](134,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](135,0,null,null,4,"app-tooltip-content",[["style","width:75px"]],[[1,"role",0],[8,"className",0],[2,"tooltip--with-header",null],[4,"top","px"],[4,"left","px"],[2,"in",null],[2,"fade",null]],[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,e,n){var i=!0;return"focusin"===e&&(i=!1!==t["\u0275nov"](l,137).mouseIn()&&i),"mouseenter"===e&&(i=!1!==t["\u0275nov"](l,137).mouseIn()&&i),"focusout"===e&&(i=!1!==t["\u0275nov"](l,137).mouseOut()&&i),"mouseleave"===e&&(i=!1!==t["\u0275nov"](l,137).mouseOut()&&i),i}),p.c,p.a)),t["\u0275prd"](512,null,F.a,F.a,[R.b]),t["\u0275did"](137,4440064,[["tooltipUnits",4]],0,B.a,[t.ElementRef,F.a,O.a,D.d,t.Renderer2,t.ChangeDetectorRef,R.b],null,null),(l()(),t["\u0275ted"](138,1,[" "," "])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,jn)),t["\u0275did"](141,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](142,0,null,0,6,"div",[],null,null,null,null,null)),t["\u0275prd"](512,null,D.C,D.D,[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](144,278528,null,0,D.p,[D.C],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](145,{height:0}),(l()(),t["\u0275eld"](146,0,null,null,2,"div",[["class","content__section_body"],["style","height:100%;max-height:none"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Nn)),t["\u0275did"](148,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](149,0,null,0,4,"div",[["class","c__table"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Mn)),t["\u0275did"](151,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Pn)),t["\u0275did"](153,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](154,0,null,null,64,"app-modal",[["class","modal-drill-down"]],null,[[null,"onInit"],[null,"close"]],(function(l,e,n){var t=!0,i=l.component;return"onInit"===e&&(t=!1!==i.fileUploadModalInit(n)&&t),"close"===e&&(t=!1!==i.fileUploadModalClose(n)&&t),t}),j.b,j.a)),t["\u0275prd"](512,null,N.a,N.a,[R.b]),t["\u0275did"](156,1228800,[["FileUploadModal",4]],0,M.a,[N.a,D.d,t.ElementRef,t.Renderer2,R.b],{modalTitle:[0,"modalTitle"]},{close:"close",onInit:"onInit"}),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](158,0,null,0,60,"div",[["class","c__table"],["style","width:450px; padding:10px"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Vn)),t["\u0275did"](160,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](161,0,null,null,6,"div",[["class","c__table-row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](162,0,null,null,2,"span",[["class","text--bold"]],null,null,null,null,null)),(l()(),t["\u0275ted"](163,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](166,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](167,null,["",""])),(l()(),t["\u0275eld"](168,0,null,null,11,"div",[["class","c__table-row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](169,0,null,null,2,"span",[["class","text--bold"]],null,null,null,null,null)),(l()(),t["\u0275ted"](170,null,["",":"])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0"])),(l()(),t["\u0275eld"](173,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](174,null,["",""])),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0\xa0 "])),(l()(),t["\u0275eld"](176,0,null,null,3,"button",[["style","cursor:pointer"]],[[8,"disabled",0],[8,"title",0]],[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.downloadtemplate()&&t),t}),null,null)),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](178,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["file_download"])),(l()(),t["\u0275eld"](180,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275eld"](181,0,null,null,3,"div",[["class","c__table-row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](182,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](183,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](185,0,null,null,33,"div",[["class","c__table-row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](186,0,null,null,32,"div",[["class","small-12 "],["style","width: 800px"]],null,null,null,null,null)),(l()(),t["\u0275eld"](187,0,null,null,2,"span",[["class","text--bold"],["style","padding: 10px"]],null,null,null,null,null)),(l()(),t["\u0275ted"](188,null,[""," : "])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](190,null,[" ",""])),(l()(),t["\u0275eld"](191,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275eld"](192,0,null,null,26,"table",[["width","100%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](193,0,null,null,25,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](194,0,null,null,7,"td",[["style","text-align:left; height:50px"]],null,null,null,null,null)),(l()(),t["\u0275eld"](195,0,null,null,6,"app-uploader-input",[["uploadreRequired",""]],null,[[null,"uploaded"]],(function(l,e,n){var t=!0;return"uploaded"===e&&(t=!1!==l.component.fileUploaded(n)&&t),t}),ye,Ce)),t["\u0275prd"](5120,null,k.q,(function(l){return[l]}),[we]),t["\u0275prd"](5120,null,k.p,(function(l){return[l]}),[we]),t["\u0275did"](198,573440,[["filebud",4]],0,we,[R.b],{buttonClasses:[0,"buttonClasses"],uploaderValidFileTypes:[1,"uploaderValidFileTypes"]},{uploaded:"uploaded"}),t["\u0275pad"](199,1),(l()(),t["\u0275ted"](200,0,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](202,0,null,null,3,"td",[["style","text-align:left"]],null,null,null,null,null)),(l()(),t["\u0275eld"](203,0,null,null,2,"button",[["class","btn btn--primary "]],[[8,"disabled",0]],[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.processFile()&&t),t}),null,null)),(l()(),t["\u0275ted"](204,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](206,0,null,null,12,"td",[["style","text-align:left"]],null,null,null,null,null)),(l()(),t["\u0275eld"](207,0,null,null,2,"span",[["class","text--bold"],["style","padding: 10px; text-align:left;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](208,null,[""," : "])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](210,0,null,null,8,"input",[["id","BudgetYear"],["maxlength","4"],["required",""],["style","padding: 5px 7px; border-radius: 5px;"],["type","text"]],[[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keypress"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],(function(l,e,n){var i=!0,o=l.component;return"input"===e&&(i=!1!==t["\u0275nov"](l,211)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](l,211).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](l,211)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](l,211)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.budgetYear=n)&&i),"keypress"===e&&(i=!1!==o.processKey(n)&&i),"blur"===e&&(i=!1!==o.processBlur(n)&&i),i}),null,null)),t["\u0275did"](211,16384,null,0,k.e,[t.Renderer2,t.ElementRef,[2,k.a]],null,null),t["\u0275did"](212,16384,null,0,k.B,[],{required:[0,"required"]},null),t["\u0275did"](213,540672,null,0,k.n,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.p,(function(l,e){return[l,e]}),[k.B,k.n]),t["\u0275prd"](1024,null,k.q,(function(l){return[l]}),[k.e]),t["\u0275did"](216,671744,null,0,k.v,[[8,null],[6,k.p],[8,null],[6,k.q]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,k.r,null,[k.v]),t["\u0275did"](218,16384,null,0,k.s,[[4,k.r]],null,null),(l()(),t["\u0275eld"](219,0,null,null,28,"app-modal",[["class","modal-generic"]],null,[[null,"onInit"],[null,"close"]],(function(l,e,n){var t=!0,i=l.component;return"onInit"===e&&(t=!1!==i.onModalBudgetInit(n)&&t),"close"===e&&(t=!1!==i.onModalBudgetClose()&&t),t}),j.b,j.a)),t["\u0275prd"](512,null,N.a,N.a,[R.b]),t["\u0275did"](221,1228800,null,0,M.a,[N.a,D.d,t.ElementRef,t.Renderer2,R.b],{modalTitle:[0,"modalTitle"]},{close:"close",onInit:"onInit"}),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](223,0,null,0,24,"div",[["style","width:1200px; height: 600px"]],null,null,null,null,null)),(l()(),t["\u0275eld"](224,0,null,null,20,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](225,0,null,null,19,"div",[["class","content__section-header"],["style","width: 100%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](226,0,null,null,2,"div",[["class","c__table"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ln)),t["\u0275did"](228,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](229,0,null,null,15,"table",[["style","width: 100%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](230,0,null,null,14,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](231,0,null,null,2,"td",[["style","width: 33%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](232,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](233,null,[" ",""])),(l()(),t["\u0275eld"](234,0,null,null,0,"td",[["align","center"],["style","width: 33%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](235,0,null,null,9,"td",[["style","width: 33%; text-align: right;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](236,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](237,0,null,null,3,"button",[["class","btn btn--primary btn--small-2"],["type","button"]],[[8,"disabled",0],[8,"title",0]],[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onSaveYTDBudget()&&t),t}),null,null)),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](239,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](241,0,null,null,3,"button",[["class","btn btn--alert btn--small-2"],["type","button"]],[[8,"title",0]],[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onCancelYTDBudget()&&t),t}),null,null)),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](243,null,["",""])),t["\u0275pid"](131072,w.i,[w.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](245,0,null,null,2,"div",[["style","height:99%"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Gn)),t["\u0275did"](247,16384,null,0,D.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,e){var n=e.component;l(e,20,0,!n._parent.byStore&&!n._parent.viewTrend),l(e,22,0,n._parent.byStore||n._parent.viewTrend),l(e,24,0,n._parent.viewTrend&&n._parent.byStoreName),l(e,26,0,!n._parent.byStore&&!n._parent.viewTrend),l(e,28,0,n._parent.byStore&&(!n._parent.byStoreName||!n._parent.viewTrend&&n._parent.byStoreName)),l(e,30,0,n._parent.byStore&&!n._parent.byStoreName&&!n._parent.viewTrend),l(e,32,0,n._parent.byStore&&n._parent.byStoreName&&!n._parent.viewTrend),l(e,34,0,n._parent.byStoreName&&n._parent.viewTrend),l(e,36,0,n._parent.byStoreName),l(e,38,0,n._parent.byStore&&!n._parent.byStoreName),l(e,40,0,n.lastRefreshed),l(e,42,0,(null==n._parent.selected_period?null:n._parent.selected_period.budgetId)>0&&n.allowBudgetEditing);var i=l(e,46,0,(null==n._parent.selected_period?null:n._parent.selected_period.budgetId)>0&&n.allowBudgetEditing?"none":"inherit");l(e,45,0,i),l(e,48,0,n._parent.viewTrend),l(e,50,0,n._parent.viewTrend),l(e,53,0,n.loading),l(e,55,0,!n.loading&&!n._parent.viewForecast),l(e,57,0,!n.loading&&n._parent.viewForecast),l(e,59,0,n._parent.showCommentsDocs),l(e,62,0),l(e,64,0,n._parent.monthpicker_value&&""!=n._parent.monthpicker_value),l(e,67,0,t["\u0275inlineInterpolate"](2,"",t["\u0275unv"](e,67,0,t["\u0275nov"](e,68).transform("transaction-repost-modal.title"))," [",n.transactionLine?n.transactionLine.gl:"","]")),l(e,75,0,null==n.currentUser?null:n.currentUser.isExportExcelAvailable),l(e,78,0),l(e,82,0,null==n.currentUser?null:n.currentUser.isExportPdfAvailable),l(e,106,0,"section",n.transactionDate);var o=t["\u0275unv"](e,110,0,l(e,111,0,t["\u0275nov"](e,1),n._parent.monthpicker_years));l(e,110,0,o);var u=l(e,115,0,n.windowWidth<480?"calc(80% - 100px)":"calc(95% - 100px)");l(e,114,0,u),l(e,118,0,!n.transactionLoading),l(e,121,0,n.transactionLoading),l(e,123,0,!n.transactionData.length&&!n.transactionLoading),l(e,126,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](e,126,0,t["\u0275nov"](e,127).transform("journal-view-modal.title")),"")),l(e,134,0,null==n.currentUser?null:n.currentUser.isExportExcelAvailable),l(e,137,0),l(e,141,0,null==n.currentUser?null:n.currentUser.isExportPdfAvailable);var s=l(e,145,0,n.windowWidth<480?"calc(80% - 100px)":"calc(95% - 100px)");l(e,144,0,s),l(e,148,0,!n.journalViewLoading),l(e,151,0,n.journalViewLoading),l(e,153,0,!n.journalViewData.length&&!n.journalViewLoading),l(e,156,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](e,156,0,t["\u0275nov"](e,157).transform("file-upload-modal.title")),"")),l(e,160,0,n.isSubmited);var r=l(e,199,0,"application/vnd.ms-excel");l(e,198,0,"btn btn--success ",r),l(e,212,0,""),l(e,213,0,"4"),l(e,216,0,n.budgetYear),l(e,221,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](e,221,0,t["\u0275nov"](e,222).transform("doc-budget.modal.title")),"")),l(e,228,0,n.isSubmited),l(e,247,0,!n.controlLoading)}),(function(l,e){var n=e.component;l(e,18,0,n.report_label),l(e,76,0,t["\u0275nov"](e,78).role,t["\u0275nov"](e,78).hostClass,t["\u0275nov"](e,78).withHeader,t["\u0275nov"](e,78).top,t["\u0275nov"](e,78).left,t["\u0275nov"](e,78).isIn,t["\u0275nov"](e,78).isFade),l(e,79,0,t["\u0275unv"](e,79,0,t["\u0275nov"](e,80).transform("header-icons.download-excel"))),l(e,85,0,t["\u0275unv"](e,85,0,t["\u0275nov"](e,86).transform("transaction-repost-modal.table.column.amount")));var i=t["\u0275unv"](e,89,0,l(e,90,0,t["\u0275nov"](e,0),n.transaction.amount,0));l(e,89,0,i),l(e,93,0,t["\u0275unv"](e,93,0,t["\u0275nov"](e,94).transform("transaction-repost-modal.table.column.count"))),l(e,97,0,n.transaction.count),l(e,100,0,t["\u0275unv"](e,100,0,t["\u0275nov"](e,101).transform("transaction-repost-modal.date"))),l(e,103,0,t["\u0275nov"](e,108).ngClassUntouched,t["\u0275nov"](e,108).ngClassTouched,t["\u0275nov"](e,108).ngClassPristine,t["\u0275nov"](e,108).ngClassDirty,t["\u0275nov"](e,108).ngClassValid,t["\u0275nov"](e,108).ngClassInvalid,t["\u0275nov"](e,108).ngClassPending),l(e,135,0,t["\u0275nov"](e,137).role,t["\u0275nov"](e,137).hostClass,t["\u0275nov"](e,137).withHeader,t["\u0275nov"](e,137).top,t["\u0275nov"](e,137).left,t["\u0275nov"](e,137).isIn,t["\u0275nov"](e,137).isFade),l(e,138,0,t["\u0275unv"](e,138,0,t["\u0275nov"](e,139).transform("header-icons.download-excel"))),l(e,163,0,t["\u0275unv"](e,163,0,t["\u0275nov"](e,164).transform("file-upload-modal.doc"))),l(e,167,0,n._parent.report_label_bud),l(e,170,0,t["\u0275unv"](e,170,0,t["\u0275nov"](e,171).transform("file-upload-modal.store"))),l(e,174,0,null==n._parent.selected_store?null:n._parent.selected_store.storeName),l(e,176,0,n.isSubmited,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](e,176,1,t["\u0275nov"](e,177).transform("file-upload-modal.store.downoad-csv.tooltip")),"")),l(e,183,0,t["\u0275unv"](e,183,0,t["\u0275nov"](e,184).transform("file-upload-modal.budget-info"))),l(e,188,0,t["\u0275unv"](e,188,0,t["\u0275nov"](e,189).transform("file-upload-modal.budget-file"))),l(e,190,0,null==n.filebudname?null:n.filebudname.name),l(e,200,0,t["\u0275unv"](e,200,0,t["\u0275nov"](e,201).transform("file-upload-modal.select-file"))),l(e,203,0,n.isSubmited||!n.filebudname),l(e,204,0,t["\u0275unv"](e,204,0,t["\u0275nov"](e,205).transform("file-upload-modal.process"))),l(e,208,0,t["\u0275unv"](e,208,0,t["\u0275nov"](e,209).transform("file-upload-modal.Year"))),l(e,210,0,t["\u0275nov"](e,212).required?"":null,t["\u0275nov"](e,213).maxlength?t["\u0275nov"](e,213).maxlength:null,t["\u0275nov"](e,218).ngClassUntouched,t["\u0275nov"](e,218).ngClassTouched,t["\u0275nov"](e,218).ngClassPristine,t["\u0275nov"](e,218).ngClassDirty,t["\u0275nov"](e,218).ngClassValid,t["\u0275nov"](e,218).ngClassInvalid,t["\u0275nov"](e,218).ngClassPending),l(e,233,0,n.currentBudgetName),l(e,237,0,n.isSubmited,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](e,237,1,t["\u0275nov"](e,238).transform("edit-budget.save-button.tooltip")),"")),l(e,239,0,t["\u0275unv"](e,239,0,t["\u0275nov"](e,240).transform("edit-budget.save-button"))),l(e,241,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](e,241,0,t["\u0275nov"](e,242).transform("edit-budget.cancel-button.tooltip")),"")),l(e,243,0,t["\u0275unv"](e,243,0,t["\u0275nov"](e,244).transform("edit-budget.cancel-button")))}))}var Un=t["\u0275ccf"]("ng-component",Ne,(function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ng-component",[],null,[["window","resize"]],(function(l,e,n){var i=!0;return"window:resize"===e&&(i=!1!==t["\u0275nov"](l,2).onResize()&&i),i}),Yn,Ae)),t["\u0275prd"](131584,null,De.a,De.a,[L.a,Ie.a,Re.a,E.o,w.j,Te.a,xe.a,R.b]),t["\u0275did"](2,9682944,null,0,Ne,[cl,D.d,E.a,E.o,t.ElementRef,L.a,W.a,De.a,G.a,$l.a,Kl.a,Me.a,Pe.a,Le,Z,Y.a,w.j,R.b],null,null)],(function(l,e){l(e,2,0)}),null)}),{},{},[]),zn=n("QQfA"),qn=n("IP0z"),$n=n("s6ns"),Wn=n("POq0"),Hn=n("821u"),Jn=n("Xd0L"),Xn=n("/HVE"),Kn=n("IheW"),Zn=n("5cj1"),Qn=n("cUpR"),lt=n("gavF"),et=n("4asF"),nt=n("Mz6y"),tt=n("Mc5n"),it=n("hOhj"),ot=n("Fwaw"),ut=n("zMNK"),st=n("5GAg"),rt=n("l0Bn"),at=n("kPC6"),dt=n("SXLW"),ct=n("tdaM"),ht=n("0sx3"),pt=n("FFHx"),mt=n("iTUp"),gt=n("l/h6"),ft=n("aBBA"),bt=n("81ID"),vt=n("oiVm"),_t=n("xSwO"),wt=n("t5D1"),Ct=n("PyFA");class yt{}var Dt=n("Fbhx"),It=n("ish5"),Rt=n("/Lwf"),Tt=n("yotz"),xt=n("T3zS");n.d(e,"DocsModuleNgFactory",(function(){return St}));var St=t["\u0275cmf"](i,[],(function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,u.a,s.b,s.a,r.a,a.a,d.a,c.a,h.a,p.b,m.a,g.a,f.a,b.a,v.a,_.a,zl,Un]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,D.o,D.n,[t.LOCALE_ID,[2,D.F]]),t["\u0275mpd"](4608,k.F,k.F,[]),t["\u0275mpd"](4608,zn.c,zn.c,[zn.i,zn.e,t.ComponentFactoryResolver,zn.h,zn.f,t.Injector,t.NgZone,D.d,qn.b,[2,D.i]]),t["\u0275mpd"](5120,zn.j,zn.k,[zn.c]),t["\u0275mpd"](5120,$n.c,$n.d,[zn.c]),t["\u0275mpd"](135680,$n.e,$n.e,[zn.c,t.Injector,[2,D.i],[2,$n.b],$n.c,[3,$n.e],zn.e]),t["\u0275mpd"](4608,Wn.c,Wn.c,[]),t["\u0275mpd"](4608,Hn.i,Hn.i,[]),t["\u0275mpd"](5120,Hn.a,Hn.b,[zn.c]),t["\u0275mpd"](4608,Jn.a,Jn.v,[[2,Jn.f],Xn.a]),t["\u0275mpd"](4608,Kn.k,Kn.q,[D.d,t.PLATFORM_ID,Kn.o]),t["\u0275mpd"](4608,Kn.r,Kn.r,[Kn.k,Kn.p]),t["\u0275mpd"](5120,Kn.a,(function(l){return[l]}),[Kn.r]),t["\u0275mpd"](4608,Kn.n,Kn.n,[]),t["\u0275mpd"](6144,Kn.l,null,[Kn.n]),t["\u0275mpd"](4608,Kn.j,Kn.j,[Kn.l]),t["\u0275mpd"](6144,Kn.b,null,[Kn.j]),t["\u0275mpd"](4608,Kn.f,Kn.m,[Kn.b,t.Injector]),t["\u0275mpd"](4608,Kn.c,Kn.c,[Kn.f]),t["\u0275mpd"](4608,me.a,me.a,[R.b]),t["\u0275mpd"](4608,k.f,k.f,[]),t["\u0275mpd"](4608,Zn.c,Zn.c,[Kn.c,Qn.b]),t["\u0275mpd"](5120,lt.c,lt.j,[zn.c]),t["\u0275mpd"](4608,et.a,et.a,[$n.e]),t["\u0275mpd"](5120,nt.b,nt.c,[zn.c]),t["\u0275mpd"](4608,Qn.e,Jn.c,[[2,Jn.g],[2,Jn.l]]),t["\u0275mpd"](4608,Zn.d,Zn.d,[]),t["\u0275mpd"](4608,il.a,il.a,[R.b]),t["\u0275mpd"](4608,A.a,A.a,[il.a,$.a]),t["\u0275mpd"](4608,tt.f,tt.f,[D.d,t.NgZone,it.i,tt.h]),t["\u0275mpd"](4608,Z,Z,[q.a,L.a]),t["\u0275mpd"](4608,Wl.a,Wl.a,[Hl.a,G.a,W.a,w.j]),t["\u0275mpd"](4608,$l.a,$l.a,[]),t["\u0275mpd"](4608,ml,ml,[]),t["\u0275mpd"](4608,Le,Le,[Zl.a,Wl.a,$l.a,W.a,ml,G.a,w.j,R.b,Kl.a]),t["\u0275mpd"](1073742336,D.c,D.c,[]),t["\u0275mpd"](1073742336,k.E,k.E,[]),t["\u0275mpd"](1073742336,k.m,k.m,[]),t["\u0275mpd"](1073742336,E.s,E.s,[[2,E.x],[2,E.o]]),t["\u0275mpd"](1073742336,w.g,w.g,[]),t["\u0275mpd"](1073742336,qn.a,qn.a,[]),t["\u0275mpd"](1073742336,Jn.l,Jn.l,[[2,Jn.d],[2,Qn.f]]),t["\u0275mpd"](1073742336,Xn.b,Xn.b,[]),t["\u0275mpd"](1073742336,Jn.u,Jn.u,[]),t["\u0275mpd"](1073742336,ot.c,ot.c,[]),t["\u0275mpd"](1073742336,ut.g,ut.g,[]),t["\u0275mpd"](1073742336,it.f,it.f,[]),t["\u0275mpd"](1073742336,zn.g,zn.g,[]),t["\u0275mpd"](1073742336,$n.k,$n.k,[]),t["\u0275mpd"](1073742336,Wn.d,Wn.d,[]),t["\u0275mpd"](1073742336,st.a,st.a,[]),t["\u0275mpd"](1073742336,Hn.j,Hn.j,[]),t["\u0275mpd"](1073742336,Jn.w,Jn.w,[]),t["\u0275mpd"](1073742336,Jn.n,Jn.n,[]),t["\u0275mpd"](1073742336,Kn.e,Kn.e,[]),t["\u0275mpd"](1073742336,Kn.d,Kn.d,[]),t["\u0275mpd"](1073742336,rt.a,rt.a,[]),t["\u0275mpd"](1073742336,at.a,at.a,[]),t["\u0275mpd"](1073742336,dt.AgGridModule,dt.AgGridModule,[]),t["\u0275mpd"](1073742336,ct.a,ct.a,[]),t["\u0275mpd"](1073742336,ht.a,ht.a,[]),t["\u0275mpd"](1073742336,pt.a,pt.a,[]),t["\u0275mpd"](1073742336,mt.a,mt.a,[]),t["\u0275mpd"](1073742336,gt.a,gt.a,[ft.a]),t["\u0275mpd"](1073742336,k.A,k.A,[]),t["\u0275mpd"](1073742336,Zn.b,Zn.b,[]),t["\u0275mpd"](1073742336,lt.i,lt.i,[]),t["\u0275mpd"](1073742336,lt.f,lt.f,[]),t["\u0275mpd"](1073742336,bt.a,bt.a,[]),t["\u0275mpd"](1073742336,vt.a,vt.a,[]),t["\u0275mpd"](1073742336,nt.e,nt.e,[]),t["\u0275mpd"](1073742336,_t.a,_t.a,[]),t["\u0275mpd"](1073742336,wt.a,wt.a,[]),t["\u0275mpd"](1073742336,Ct.a,Ct.a,[[3,Ct.a],ft.a]),t["\u0275mpd"](1073742336,yt,yt,[]),t["\u0275mpd"](1073742336,Dt.a,Dt.a,[ft.a]),t["\u0275mpd"](1073742336,It.a,It.a,[]),t["\u0275mpd"](1073742336,tt.g,tt.g,[]),t["\u0275mpd"](1073742336,Rt.a,Rt.a,[]),t["\u0275mpd"](1073742336,Tt.b,Tt.b,[]),t["\u0275mpd"](1073742336,xt.a,xt.a,[]),t["\u0275mpd"](1073742336,i,i,[ft.a]),t["\u0275mpd"](256,Jn.e,Jn.i,[]),t["\u0275mpd"](256,Kn.o,"XSRF-TOKEN",[]),t["\u0275mpd"](256,Kn.p,"X-XSRF-TOKEN",[]),t["\u0275mpd"](1024,E.m,(function(){return[[{path:"",component:cl,children:[{path:":type/:date",component:Ne},{path:":type",component:Ne},{path:"",component:Ne}]}]]}),[])])}))},zZFd:function(l,e,n){"use strict";n.d(e,"a",(function(){return t}));var t=function(l){return l.Docs="Docs",l.Operations="Operations",l.Schedules="Schedules",l.ServiceTech="ServiceTech",l.ServiceAdvisor="ServiceAdvisor",l.CustomReports="CustomReports",l.ExpenseManagement="ExpenseManagement",l["OCC-New"]="OCC-New",l["OCC-New-Inventory"]="OCC-New-Inventory",l["OCC-New-Inventory-NewAgingAnalysis"]="OCC-New-Inventory-NewAgingAnalysis",l["OCC-New-NewContest-NewSalesContest"]="OCC-New-NewContest-NewSalesContest",l["OCC-New-NewSales"]="OCC-New-NewSales",l["OCC-New-NewSalesContest"]="OCC-New-NewSalesContest",l["OCC-New-NewSales-NewByModel"]="OCC-New-NewSales-NewByModel",l["OCC-Service&Parts"]="OCC-Service&Parts",l["OCC-Service&Parts-OpenPartTickets"]="OCC-Service&Parts-OpenPartTickets",l["OCC-Service&Parts-OpenPartTickets-OpenPartTickets"]="OCC-Service&Parts-OpenPartTickets-OpenPartTickets",l["OCC-Service&Parts-OpenROs"]="OCC-Service&Parts-OpenROs",l["OCC-Service&Parts-OpenROs-OpenROs"]="OCC-Service&Parts-OpenROs-OpenROs",l["OCC-Service&Parts-ServiceAdvisorContest"]="OCC-Service&Parts-ServiceAdvisorContest",l["OCC-Service&Parts-ServiceAdvisorContest-ServiceAdvisor"]="OCC-Service&Parts-ServiceAdvisorContest-ServiceAdvisor",l["OCC-Service&Parts-ServiceDetail"]="OCC-Service&Parts-ServiceDetail",l["OCC-Service&Parts-TechnicianContest"]="OCC-Service&Parts-TechnicianContest",l["OCC-Service&Parts-TechnicianContest-technicianContest"]="OCC-Service&Parts-TechnicianContest-technicianContest",l["OCC-Tracking Section"]="OCC-Tracking Section",l["OCC-Used"]="OCC-Used",l["OCC-Used-Inventory"]="OCC-Used-Inventory",l["OCC-Used-Inventory-UsedAgingAnalysis"]="OCC-Used-Inventory-UsedAgingAnalysis",l["OCC-Used-UsedContest-UsedSalesContest"]="OCC-Used-UsedContest-UsedSalesContest",l["OCC-Used-UsedSales"]="OCC-Used-UsedSales",l["OCC-Used-UsedSalesContest"]="OCC-Used-UsedSalesContest",l["OCC-Used-UsedSales-UsedByModel"]="OCC-Used-UsedSales-UsedByModel",l["OCC-F&I"]="OCC-F&I",l["OCC-F&I-AgingAnalysis-CIT"]="OCC-F&I-AgingAnalysis-CIT",l["OCC-F&I-F&IContest"]="OCC-F&I-F&IContest",l["OCC-F&I-F&IPerformance"]="OCC-F&I-F&IPerformance",l}({})}}]);