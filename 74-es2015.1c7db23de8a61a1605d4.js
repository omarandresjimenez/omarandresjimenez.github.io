(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{WcKH:function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");class u{constructor(l){l.addLoaderWithPrefixedTranslations("/cabinet/custom-reports/finance-report","")}}var i=e("pMnS"),o=e("t68o"),s=e("zbXB"),d=e("GsI2"),r=e("eliu"),a=e("0Xvm"),c=e("VOAG"),p=e("aYrz"),h=e("HOtD"),m=e("bZzr"),g=e("646r"),f=e("19u4"),v=e("vNrE"),b=e("SVse"),w=e("RHbX"),D=e("Xrj0"),C=e("TSSN"),T=e("iInd"),R=e("jqm9"),y=e("/kTj"),x=e("Asqg"),M=e("1Elx"),k=e("zeHk"),_=e("+bil"),O=e("S+vS"),I=e("ChPW"),S=e("M5gX"),F=e("hfps"),N=e("eeq/"),Y=e("mvzq"),E=e("t1ag"),G=e("K5C0"),V=e("+2T5"),j=e("/Mbv"),A=e("98QR"),L=e("V4Wx"),B=e("zp2H"),P=e("v67E"),$=e("2v1Z"),U=e("bUbq"),q=e("sFX2"),z=e("NxlO"),X=e("XpwZ"),W=e("s7LF"),H=e("oveR"),K=e("hNGQ"),Z=e("+dxm"),Q=e("jIY6"),J=e("mrSG"),ll=(e("8Gnb"),e("OrbI"));class nl extends ll.a{constructor(l,n,e,t,u,i,o,s,d){super(t,u,i,o,s,d),this.FinanceReportApi=l,this.dialog=n,this.translate=e,this.stores=[],this.docLines=[],this.docline={},this.store={},this.gls=[],this.isDirty=!1,this.addGlTxt=""}onGridReady(l){this.gridApi=l.api,this.gridColumnApi=l.columnApi}onDocLineChange(l){this.fetchGls(this.store.id,l.data)}onStoreChange(l){this.fetchGls(l.id,this.docline.data)}onLineDescChange(){this.isDirty=!0}onAddGl(){this.addGlTxt&&(this.isDirty=!0,this.gridApi.updateRowData({add:[{GLCode:this.addGlTxt}]}),this.addGlTxt="")}onDeleteSelected(){const l=this.gridApi.getSelectedRows();l&&l.length>0&&(this.gridApi.updateRowData({remove:l}),this.isDirty=!0)}onDeleteAll(){this.isDirty=!0,this.gridApi.setRowData([])}onSave(){let l="";this.gridApi.getModel().getRowCount()>0&&(this.gridApi.forEachNode(n=>{l+=n.data.GLCode+"#"}),l=l.slice(0,-1)),this.FinanceReportApi.saveGls(this.docline.LineDesc,this.docId,parseInt(this.docline.data,10),this.store.id,l).then(l=>{this.sub=this.translate.get("messages.report-line-saved-success").subscribe(l=>this.dialog.success(l)),this.fetchGls(this.store.id,this.docline.data),this.gridApi.sizeColumnsToFit()})}show(l,n=0){this.docId=n,this.stores=l,this.store=l[0],this.initColumns(),this.FinanceReportApi.getDoclines(n).then(l=>{this.docLines=l.data,this.docLines&&this.docLines.length>0?(this.docline=this.docLines[0],this.fetchGls(this.store.id,this.docline.data),this.gridApi.sizeColumnsToFit()):(this.docLines=[],this.addGlTxt="",this.rowData=[])}),this.modal.showModal()}fetchGls(l,n){this.isDirty=!1,this.loading=!0,this.FinanceReportApi.getGls(this.docId,n,l).then(l=>{this.loading=!1,this.gls=l.data,this.rowData=this.gls})}initColumns(){return J.__awaiter(this,void 0,void 0,(function*(){this.sub=this.translate.get("drilldown-report-line.modal.gls").subscribe(l=>{this.columnDefs=[{headerName:l,field:"GLCode",width:200}]})}))}}var el=e("f2Qm");class tl extends el.a{constructor(l){super(l),this.api=l}getStoreGroups(){return this.api.call("GET","/storegroups").then(l=>l).catch(this.handleError)}getCalendar(){return this.api.call("GET","/kpi/month").then(l=>l).catch(this.handleError)}getReport(l,n,e,t,u){const i=[];return i.push({key:"busseg",value:l}),i.push({key:"dateid",value:n}),i.push({key:"comp",value:e}),i.push({key:"docid",value:t}),i.push({key:"storeid",value:u}),this.api.call("GET","/financereport",i).then(l=>l).catch(this.handleError)}getDoclines(l){const n=[];return n.push({key:"docid",value:l}),this.api.call("GET","/financereport/getdoclines",n).then(l=>l).catch(this.handleError)}getGls(l,n,e){const t=[];return t.push({key:"docid",value:l}),t.push({key:"docline",value:n}),t.push({key:"storeid",value:e}),this.api.call("GET","/financereport/getgls",t).then(l=>l).catch(this.handleError)}saveGls(l,n,e,t,u){return this.api.call("POST","/financereport/savegls",{ld:l,docid:n,docline:e,storeid:t,gls:u}).then(l=>l).catch(this.handleError)}getViewTrend(l,n,e,t,u){const i=[];return i.push({key:"busseg",value:l}),i.push({key:"dateid",value:n}),i.push({key:"comp",value:t}),i.push({key:"storeid",value:e}),i.push({key:"docid",value:u}),this.api.call("GET","/financereport/viewtrend",i).then(l=>l).catch(this.handleError)}getSideBySide(l,n,e,t){const u=[];return u.push({key:"busseg",value:l}),u.push({key:"dateid",value:n}),u.push({key:"comp",value:e}),u.push({key:"docid",value:t}),this.api.call("GET","/financereport/sidebyside",u).then(l=>l).catch(this.handleError)}getDrillDetail(l,n,e,t){const u=[];return u.push({key:"storeid",value:l}),u.push({key:"dateid",value:n}),u.push({key:"docline",value:e}),u.push({key:"docid",value:t}),this.api.call("GET","/financereport/drilldetail",u).then(l=>l).catch(this.handleError)}getStores(){return this.api.call("GET","/stores").then(l=>l).catch(this.handleError)}getReports(){return this.api.call("GET","/financereport/getrepts").then(l=>l).catch(this.handleError)}updateBudget(l,n,e,t){return this.api.call("PUT",`/financereports/${l}`,{docId:l,storeId:n,dateIndex:e,valuesBudget:t}).then(l=>l).catch(this.handleError)}handleError(l){return Promise.reject(l.error?l.error:l)}}var ul=e("TUN4"),il=t["\u0275crt"]({encapsulation:0,styles:[".modal-header[_ngcontent-%COMP%] {\n        height: 20px;\n        display: flex;\n        justify-content: space-between;\n        margin-bottom: 10px;\n      }\n\n        .app-setup-report-line-modal .c_modal {\n        height: 525px;\n        width: 590px;\n      }\n\n        .app-setup-report-line-modal .c_modal .c_modal__body {\n        position: relative;\n      }\n\n      ag-grid-angular[_ngcontent-%COMP%] {\n        height: 220px;\n        width: 100%;\n      }\n\n      .report-line-setup-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n        clear: both;\n        display: inline-block;\n        width: 50%;\n      }\n\n      .report-line-setup-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .report-line-setup-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\n        float: right;\n        width: 50%;\n      }\n\n      .report-line-setup-form[_ngcontent-%COMP%]   .small-12[_ngcontent-%COMP%] {\n        padding: 2px 0px;\n      }\n\n      .save-btn[_ngcontent-%COMP%] {\n        position: absolute;\n        right: 20px;\n      }\n\n      .add-text-input[_ngcontent-%COMP%] {\n        width: 100%;\n        margin: 10px 0px;\n        height: 30px;\n      }"],data:{}});function ol(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,W.w,[t.ElementRef,t.Renderer2,[2,W.C]],{ngValue:[0,"ngValue"]},null),t["\u0275did"](2,147456,null,0,W.H,[t.ElementRef,t.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t["\u0275ted"](3,null,["",""]))],(function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)}),(function(l,n){l(n,3,0,n.context.$implicit.StoreName)}))}function sl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,W.w,[t.ElementRef,t.Renderer2,[2,W.C]],{ngValue:[0,"ngValue"]},null),t["\u0275did"](2,147456,null,0,W.H,[t.ElementRef,t.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t["\u0275ted"](3,null,["",""]))],(function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)}),(function(l,n){l(n,3,0,n.context.$implicit.label)}))}function dl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,44,"form",[["class","report-line-setup-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t["\u0275nov"](l,2).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,2).onReset()&&u),u}),null,null)),t["\u0275did"](1,16384,null,0,W.I,[],null,null),t["\u0275did"](2,4210688,null,0,W.u,[[8,null],[8,null]],null,null),t["\u0275prd"](2048,null,W.d,null,[W.u]),t["\u0275did"](4,16384,null,0,W.t,[[4,W.d]],null,null),(l()(),t["\u0275eld"](5,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,12,"div",[["class","small-12 column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,2,"label",[["for","storeId"]],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,["",":"])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](11,0,null,null,7,"select",[["class","form-control"],["id","storeId"],["name","store"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(l,n,e){var u=!0,i=l.component;return"change"===n&&(u=!1!==t["\u0275nov"](l,12).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,12).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(i.store=e)&&u),"change"===n&&(u=!1!==i.onStoreChange(i.store)&&u),u}),null,null)),t["\u0275did"](12,16384,null,0,W.C,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,W.q,(function(l){return[l]}),[W.C]),t["\u0275did"](14,671744,null,0,W.v,[[2,W.d],[8,null],[8,null],[6,W.q]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,W.r,null,[W.v]),t["\u0275did"](16,16384,null,0,W.s,[[4,W.r]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,ol)),t["\u0275did"](18,278528,null,0,b.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](19,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,12,"div",[["class","small-12 column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,2,"label",[["for","docline"]],null,null,null,null,null)),(l()(),t["\u0275ted"](23,null,["",":"])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](25,0,null,null,7,"select",[["class","form-control"],["id","docline"],["name","docline"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(l,n,e){var u=!0,i=l.component;return"change"===n&&(u=!1!==t["\u0275nov"](l,26).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,26).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(i.docline=e)&&u),"change"===n&&(u=!1!==i.onDocLineChange(i.docline)&&u),u}),null,null)),t["\u0275did"](26,16384,null,0,W.C,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,W.q,(function(l){return[l]}),[W.C]),t["\u0275did"](28,671744,null,0,W.v,[[2,W.d],[8,null],[8,null],[6,W.q]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,W.r,null,[W.v]),t["\u0275did"](30,16384,null,0,W.s,[[4,W.r]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,sl)),t["\u0275did"](32,278528,null,0,b.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](33,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](34,0,null,null,10,"div",[["class","small-12 column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](35,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](36,0,null,null,2,"label",[["for","lineDesc"]],null,null,null,null,null)),(l()(),t["\u0275ted"](37,null,["",":"])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](39,0,null,null,5,"input",[["class","input__text form-control"],["id","lineDesc"],["name","lineDesc"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0,i=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,40)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,40).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,40)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,40)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(i.docline.LineDesc=e)&&u),"change"===n&&(u=!1!==i.onLineDescChange()&&u),u}),null,null)),t["\u0275did"](40,16384,null,0,W.e,[t.Renderer2,t.ElementRef,[2,W.a]],null,null),t["\u0275prd"](1024,null,W.q,(function(l){return[l]}),[W.e]),t["\u0275did"](42,671744,null,0,W.v,[[2,W.d],[8,null],[8,null],[6,W.q]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,W.r,null,[W.v]),t["\u0275did"](44,16384,null,0,W.s,[[4,W.r]],null,null)],(function(l,n){var e=n.component;l(n,14,0,"store",e.store),l(n,18,0,e.stores),l(n,28,0,"docline",e.docline),l(n,32,0,e.docLines),l(n,42,0,"lineDesc",e.docline.LineDesc)}),(function(l,n){l(n,0,0,t["\u0275nov"](n,4).ngClassUntouched,t["\u0275nov"](n,4).ngClassTouched,t["\u0275nov"](n,4).ngClassPristine,t["\u0275nov"](n,4).ngClassDirty,t["\u0275nov"](n,4).ngClassValid,t["\u0275nov"](n,4).ngClassInvalid,t["\u0275nov"](n,4).ngClassPending),l(n,9,0,t["\u0275unv"](n,9,0,t["\u0275nov"](n,10).transform("drilldown-report-line.modal.store"))),l(n,11,0,t["\u0275nov"](n,16).ngClassUntouched,t["\u0275nov"](n,16).ngClassTouched,t["\u0275nov"](n,16).ngClassPristine,t["\u0275nov"](n,16).ngClassDirty,t["\u0275nov"](n,16).ngClassValid,t["\u0275nov"](n,16).ngClassInvalid,t["\u0275nov"](n,16).ngClassPending),l(n,23,0,t["\u0275unv"](n,23,0,t["\u0275nov"](n,24).transform("drilldown-report-line.modal.selectedDocLine"))),l(n,25,0,t["\u0275nov"](n,30).ngClassUntouched,t["\u0275nov"](n,30).ngClassTouched,t["\u0275nov"](n,30).ngClassPristine,t["\u0275nov"](n,30).ngClassDirty,t["\u0275nov"](n,30).ngClassValid,t["\u0275nov"](n,30).ngClassInvalid,t["\u0275nov"](n,30).ngClassPending),l(n,37,0,t["\u0275unv"](n,37,0,t["\u0275nov"](n,38).transform("drilldown-report-line.modal.editLd"))),l(n,39,0,t["\u0275nov"](n,44).ngClassUntouched,t["\u0275nov"](n,44).ngClassTouched,t["\u0275nov"](n,44).ngClassPristine,t["\u0275nov"](n,44).ngClassDirty,t["\u0275nov"](n,44).ngClassValid,t["\u0275nov"](n,44).ngClassInvalid,t["\u0275nov"](n,44).ngClassPending)}))}function rl(l){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{grid:0}),t["\u0275qud"](402653184,2,{gridElRef:0}),t["\u0275qud"](402653184,3,{modal:0}),(l()(),t["\u0275eld"](3,0,null,null,30,"app-modal",[["class","app-setup-report-line-modal"]],null,null,null,B.b,B.a)),t["\u0275prd"](512,null,P.a,P.a,[y.b]),t["\u0275did"](5,1228800,[[3,4]],0,$.a,[P.a,b.d,t.ElementRef,t.Renderer2,y.b],{modalTitle:[0,"modalTitle"]},null),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,0,1,null,dl)),t["\u0275did"](8,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](9,16777216,[[2,0]],0,4,"ag-grid-angular",[["appAgGridDragScroll",""],["class","ag-blue"],["rowSelection","multiple"]],null,[[null,"gridReady"]],(function(l,n,e){var t=!0;return"gridReady"===n&&(t=!1!==l.component.onGridReady(e)&&t),t}),H.b,H.a)),t["\u0275prd"](512,null,K.AngularFrameworkOverrides,K.AngularFrameworkOverrides,[t.NgZone]),t["\u0275prd"](512,null,Z.AngularFrameworkComponentWrapper,Z.AngularFrameworkComponentWrapper,[]),t["\u0275did"](12,4898816,[[1,4]],1,Q.AgGridAngular,[t.ElementRef,t.ViewContainerRef,K.AngularFrameworkOverrides,Z.AngularFrameworkComponentWrapper,t.ComponentFactoryResolver],{gridOptions:[0,"gridOptions"],rowData:[1,"rowData"],columnDefs:[2,"columnDefs"],rowSelection:[3,"rowSelection"]},{gridReady:"gridReady"}),t["\u0275qud"](603979776,4,{columns:1}),(l()(),t["\u0275eld"](14,0,null,0,6,"input",[["class","add-text-input"],["id","addGl"],["name","addGl"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0,i=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,15)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,15).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,15)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,15)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(i.addGlTxt=e)&&u),u}),null,null)),t["\u0275did"](15,16384,null,0,W.e,[t.Renderer2,t.ElementRef,[2,W.a]],null,null),t["\u0275prd"](1024,null,W.q,(function(l){return[l]}),[W.e]),t["\u0275did"](17,671744,null,0,W.v,[[8,null],[8,null],[8,null],[6,W.q]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,W.r,null,[W.v]),t["\u0275did"](19,16384,null,0,W.s,[[4,W.r]],null,null),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](21,0,null,0,2,"button",[["class","btn btn--primary btn--small-2"],["style","width: 100px"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onAddGl()&&t),t}),null,null)),(l()(),t["\u0275ted"](22,null,["",""])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](24,0,null,0,2,"button",[["class","btn btn--primary btn--small-2"],["style","width: 170px"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onDeleteSelected()&&t),t}),null,null)),(l()(),t["\u0275ted"](25,null,["",""])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](27,0,null,0,2,"button",[["class","btn btn--primary btn--small-2"],["style","width: 150px"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onDeleteAll()&&t),t}),null,null)),(l()(),t["\u0275ted"](28,null,["",""])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](30,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,0,2,"button",[["class","btn btn--primary btn--small-2 save-btn"],["style","width: 100px"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSave()&&t),t}),null,null)),(l()(),t["\u0275ted"](32,null,["",""])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,5,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,5,0,t["\u0275nov"](n,6).transform("drilldown-report-line.modal.title")),"")),l(n,8,0,!e.loading),l(n,12,0,e.gridOptions,e.rowData,e.columnDefs,"multiple"),l(n,17,0,"addGl",e.addGlTxt)}),(function(l,n){var e=n.component;l(n,14,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,14,0,t["\u0275nov"](n,20).transform("drilldown-report-line.modal.placeHolder")),""),t["\u0275nov"](n,19).ngClassUntouched,t["\u0275nov"](n,19).ngClassTouched,t["\u0275nov"](n,19).ngClassPristine,t["\u0275nov"](n,19).ngClassDirty,t["\u0275nov"](n,19).ngClassValid,t["\u0275nov"](n,19).ngClassInvalid,t["\u0275nov"](n,19).ngClassPending),l(n,22,0,t["\u0275unv"](n,22,0,t["\u0275nov"](n,23).transform("drilldown-report-line.modal.add"))),l(n,25,0,t["\u0275unv"](n,25,0,t["\u0275nov"](n,26).transform("drilldown-report-line.modal.deleteSelected"))),l(n,28,0,t["\u0275unv"](n,28,0,t["\u0275nov"](n,29).transform("drilldown-report-line.modal.deleteAll"))),l(n,31,0,!e.isDirty||0===(null==e.docLines?null:e.docLines.length)),l(n,32,0,t["\u0275unv"](n,32,0,t["\u0275nov"](n,33).transform("drilldown-report-line.modal.save")))}))}var al=e("EwA9"),cl=e("Qq/Z"),pl=e("cMRB"),hl=e("Cfvw"),ml=e("itXk"),gl=e("SxV6"),fl=e("wd/R"),vl=(e("pFkP"),e("w+fh")),bl=e("aR35");const wl=window.amplitude;class Dl{constructor(l,n,e,t,u,i,o,s,d,r,a,c,p){this.FinanceReportApi=l,this.coreCache=n,this.route=e,this.router=t,this.dialog=u,this.session=i,this.format=o,this.window=s,this.agGridPdf=d,this.excel=r,this.tracking=a,this.translate=c,this.instanceAppSettingsApi=p,this.loading=!1,this.reportTitle="Finance Report",this.dateUrl="",this.storegroups=[],this.mainData=[],this.colsgrid=[],this.dataBudget=null,this.colsGridBudget=[],this.drillDataControl=[],this.drillColsGrid=[],this.selectedMonth=null,this.selectedYear=0,this.monthpickerOpened=!1,this.monthpickerYears=[],this.stores=[],this.hasOneStore=!1,this.yearsMap=[],this.storegroupsWithoutAll=[],this.monthpickerValue=(new Date).getTime().toString(),this.dropdownStoregroupOpened=!1,this.dropdownStoreOpened=!1,this.dropdownComparisonOpened=!1,this.dropdownComparison1Opened=!1,this.dropdownReportOpened=!1,this.selectedStoregroup={groupIndex:0,name:"All",slno:"",stores:[]},this.instanceSettings=X.b,this.byStore=!1,this.viewTrend=!1,this.isSubmited=!1,this.budgetLoading=!1,this.drillLoading=!1,this.i18nBs=pl.b,this.subs=[],this.editBudget=!1}set sub(l){this.subs.push(l)}get cabinetUrl(){return bl.a.cabinetUrl}ngOnInit(){this.currentUser=this.session.getCurrentUser(),this.editBudget=this.currentUser.AccessLevel>79,this.comparison={name:"MTD",value:"MTD",items:[{name:"MTD",value:"MTD"},{name:"YTD",value:"YTD"}]},this.comparison1={name:"Default",value:"0",items:[{name:"Default",value:"0"},{name:"With GP%",value:"1"},{name:"MTD/YTD",value:"2"}]},isNaN(parseInt(this.monthpickerValue,10))&&(this.monthpickerValue="0");const l=this,n=Object(hl.a)(this.FinanceReportApi.getStores()),e=Object(hl.a)(this.FinanceReportApi.getReports());this.sub=Object(ml.b)(this.route.params,n,this.instanceAppSettingsApi.settings$,this.coreCache.storesById$,e).subscribe(([n,e,t,u,i])=>{let o=n.date;if(o||(o=""),this.dateUrl=o,this.storesIndex=u,this.instanceSettings=t,this.stores=e.map(l=>vl.a.fromJson(l)),e.length&&(this.store={name:this.stores[0][this.instanceSettings.storeNameType],id:e[0].StoreID}),this.hasOneStore=e.length<=1,i.data.length){this.report={name:i.data[0].label,value:i.data[0].data,items:[]};for(const l of i.data)this.report.items.push({name:l.label,value:l.data})}this.FinanceReportApi.getCalendar().then(n=>{const e=[],t=[];n.forEach(l=>{const n=new Date(l.date_from),t=n.getFullYear();void 0===e[t]&&(e[t]={title:t.toString(),months:[]}),l.url=fl(n).format("MM_YYYY"),e[t].months.unshift(l)});for(const l of Object.keys(e))e[l].months.length&&t.push(e[l]);if(l.monthpickerYears=t,this.yearsMap=t.map(l=>l.title),""!==this.dateUrl){const[l,n]=this.dateUrl.split("_"),e=this.yearsMap.indexOf(n);this.selectedYear=-1!==e?e:t.length-1}else this.selectedYear=t.length-1;const u=e.length-1,i=u>=0?e[u].months.length-1:null;let s;if(null!==i&&(s=e[u].months[i]),!o){this.dateUrl=s.date_from;const l=new Date(this.dateUrl);this.selectedYear=this.selectedYear;const n=`${this.cabinetUrl}/custom-reports/finance-report/`+`${fl(l).format("MM_YYYY")}`;return this.router.navigate([n])}if(this.selectedMonth=this.checkDate(o,e),this.dateUrl=o,null===this.selectedMonth)return this.selectedMonth=s,this.dateUrl=this.selectedMonth.date_from,this.router.navigate([`${this.cabinetUrl}/custom-reports/finance-report/`+this.selectedMonth.url]);if(e.forEach(l=>{l.months.forEach(l=>{const n=new Date(l.date_from),e=fl(n).format("MM_YYYY");l.url=`${this.cabinetUrl}/custom-reports/finance-report/`+`${fl(n).format("MM_YYYY")}`,e===o&&(this.selectedMonth=l)})}),""!==o){const[l,n]=o.split("_");this.monthpickerValue=new Date(`${l}/01/${n}`).getTime().toString()}else this.monthpickerValue=(new Date).getTime().toString();this.setTopLinks(),this.loadPage(),this.FinanceReportApi.getStoreGroups().then(l=>(this.storegroups=l,this.sub=this.translate.get("business-segment-filter.all").subscribe(l=>this.storegroups.unshift(new pl.a(0,l))),l))})}),wl.getInstance().logEvent("Custom Reports_page_load",{reportName:"Finance Report",eventName:"page load",eventValue:!0})}windowClick(l){this.dropdownStoregroupOpened&&!l.target.closest(".storegroup-select-box")&&(this.dropdownStoregroupOpened=!1),this.monthpickerOpened&&!l.target.closest(".monthpicker-wrapper")&&(this.monthpickerOpened=!1),this.dropdownReportOpened&&!l.target.closest(".report-select-box")&&(this.dropdownReportOpened=!1),this.dropdownStoreOpened&&!l.target.closest(".store-select-box")&&(this.dropdownStoreOpened=!1),this.dropdownComparisonOpened&&!l.target.closest(".comparison-select-box")&&(this.dropdownComparisonOpened=!1),this.dropdownComparison1Opened&&!l.target.closest(".comparison1-select-box")&&(this.dropdownComparison1Opened=!1)}checkDate(l,n){let e=null;return n.forEach(n=>{n.months.forEach(n=>{n.url.indexOf(l)>-1&&!e&&(e=n)})}),e}onModalSetupInit(l){this.budgetModal=l}drillDownModalInit(l){this.drillModal=l}onModalSetupClose(){this.dataBudget=null}toggleStoregroupDropdown(){this.dropdownStoregroupOpened=!this.dropdownStoregroupOpened}toggleStoreDropdown(){this.dropdownStoreOpened=!this.dropdownStoreOpened}toggleReportDropdown(){this.dropdownReportOpened=!this.dropdownReportOpened}toggleComparisonDropdown(){this.dropdownComparisonOpened=!this.dropdownComparisonOpened}toggleComparison1Dropdown(){this.dropdownComparison1Opened=!this.dropdownComparison1Opened}setTopLinks(){if(""!==this.dateUrl){const[l,n]=this.dateUrl.split("_");this.monthpickerValue=new Date(`${l}/01/${n}`).getTime().toString()}else this.monthpickerValue=(new Date).getTime().toString()}setStoregroup(l){this.selectedStoregroup=l,this.dropdownStoregroupOpened=!1,this.loadPage()}setMonth(l){this.selectedMonth=l,this.monthpickerOpened=!1;const n=new Date(this.selectedMonth.date_from);this.dateUrl=String((n.getMonth()+1).toString().replace(/^([0-9])$/,"0$1")+"_"+n.getFullYear())}setReport(l){this.report.name=l.name,this.report.value=l.value,this.dropdownReportOpened=!1,this.loadPage()}setComparison(l){this.comparison.name=l.name,this.comparison.value=l.value,this.dropdownComparisonOpened=!1,this.loadPage()}setComparison1(l){this.comparison1.name=l.name,this.comparison1.value=l.value,this.dropdownComparison1Opened=!1,this.loadPage()}setStore(l){this.store.name=this.stores.filter(n=>n.StoreID===l.id)[0][this.instanceSettings.storeNameType],this.store.id=l.id,this.dropdownStoreOpened=!1,this.loadPage()}toggleMonthpicker(){this.monthpickerOpened=!this.monthpickerOpened}byStoreToggle(l){this.byStore=l.target.checked,this.viewTrend=!1,this.loadPage()}viewTrendToggle(l){this.viewTrend=l.target.checked,this.byStore=!1,this.loadPage()}prevYear(){this.selectedYear--}nextYear(){this.selectedYear++}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}onExcelExport(){this.sub=this.translate.get("header.report-title").subscribe(l=>{this.maingrid.exportDataAsXls(l)})}onPDFExport(){console.log("PDF export")}onBsFormInit(l){this.bsForm=l}drillExcelExport(){this.sub=this.translate.get("header.report-title").subscribe(l=>{this.griddrill.exportDataAsXls(l)})}drillPDFExport(){}openBsForm(){this.dropdownStoregroupOpened=!1,this.bsForm.showModal()}closeBsForm(){this.bsForm1._setSegment(0,null)}onCancelBudget(){this.budgetModal.closeModal()}openBudget(){this.setBudgetView(),this.budgetModal.showModal()}openSetupReportLine(){this.setupReportLineModal.show(this.stores,parseInt(this.report.value,10))}onSaveBudget(){let l;this.isSubmited=!0,l=this.griddrillbudget.getGridEditedData("MTD");const n=[];l.forEach(l=>{let e;e=this.dataBudget.filter(n=>"ln"===n[0].field&&+n[0].value===l.ln&&(+n[2].value!==l.MTD||+n[3].value!==l.YTD)),e.length&&n.push({ln:l.ln,MTD:parseFloat(l.MTD.toString().replace(/,/g,"")),YTD:parseFloat(l.YTD.toString().replace(/,/g,""))})}),n.length?this.FinanceReportApi.updateBudget(+this.report.value,this.store.id,parseInt(this.selectedMonth.dateindex,10),n).then(l=>{l&&(this.sub=this.translate.get("messages.budget-saved-success").subscribe(l=>this.dialog.success(l)),this.isSubmited=!1,this.loadPage(),this.budgetModal.closeModal())}).catch(l=>{this.isSubmited=!1,this.dialog.alert(l.message)}):this.isSubmited=!1}openDrillDetail(l){this.viewTrend||this.byStore||(l.rowItem.lt&&"fs"===l.rowItem.lt?(this.drillDetail(+l.rowItem.ln),this.sub=this.translate.get("drill-down-modal.title").subscribe(n=>{this.drillModal.modalTitle=n+" ["+l.rowItem.ld+"]"}),this.drillModal.showModal()):l.rowItem.lt&&"calc"===l.rowItem.lt&&(this.sub=this.translate.get("messages.calculated-item").subscribe(l=>this.dialog.warning(l))))}mainView(){this.loading=!0,this.mainData=[];const l=this.FinanceReportApi.getReport(0,parseInt(this.selectedMonth.dateindex,10),this.comparison.value,+this.report.value,this.store.id);Object(hl.a)(l).subscribe(l=>{this.colsgrid=[],this.sub=this.translate.get(["header-col1.line_description"]).subscribe(n=>{this.colsgrid.push({text:n["header-col1.line_description"],field:"ld"}),this.colsgrid.push({text:"MTD"===this.comparison.value?"MTD":"YTD",field:"MTD"===this.comparison.value?"MTD":"YTD",decimalNumber:!0,numberOfDecimals:0}),this.colsgrid.push({text:"MTD"===this.comparison.value?"SMLY":"Prio yr",field:"MTD"===this.comparison.value?"MTDLY":"YTDLY",decimalNumber:!0,numberOfDecimals:0}),this.colsgrid.push({text:"MTD"===this.comparison.value?"MTD vs SMLY":"YTD vs prio Yr",field:"MTD"===this.comparison.value?"varM":"varY",decimalNumber:!0,numberOfDecimals:0}),this.colsgrid.push({text:"%",field:"MTD"===this.comparison.value?"perM":"perY",decimalNumber:!0,sign:"%",numberOfDecimals:0}),this.colsgrid.push({text:"Budget",field:"MTD"===this.comparison.value?"budMTD":"budYTD",decimalNumber:!0,numberOfDecimals:0}),this.colsgrid.push({text:"MTD"===this.comparison.value?"MTD vs Budget":"YTD vs Budget",field:"MTD"===this.comparison.value?"varBudMTD":"varBudYTD",decimalNumber:!0,numberOfDecimals:0}),this.colsgrid.push({text:"%",field:"MTD"===this.comparison.value?"perBudMTD":"perBudYTD",decimalNumber:!0,sign:"%",numberOfDecimals:0}),this.colsgrid.push({text:l.labels.m4,field:"m4",decimalNumber:!0,numberOfDecimals:0}),this.colsgrid.push({text:l.labels.m3,field:"m3",decimalNumber:!0,numberOfDecimals:0}),this.colsgrid.push({text:l.labels.m2,field:"m2",decimalNumber:!0,numberOfDecimals:0}),this.colsgrid.push({text:l.labels.m1,field:"m1",decimalNumber:!0,numberOfDecimals:0,hide:"MTD"===this.comparison.value}),this.colsgrid[0].decimalNumber=!1,this.colsgrid[0].supressMove=!0,this.colsgrid[0].pinned=!0});let n=[];for(const e of l.data){for(const l of Object.keys(e)){const t={isnumber:!1,value:"",field:l,bold:!1,isBudgetLine:!0};"title"===e.lt?"ld"!==l?(t.value="",t.isBudgetLine=!1):t.value=e[l]:e[l]&&!isNaN(e[l])&&e[l].indexOf(".")>0?(t.isnumber=!0,t.value=+e[l].toString().replace(/,/g,"")*("per"!==e.lf||l.startsWith("per")?1:100)):!isNaN(e[l])&&e[l]&&"0"!==e[l].substring(0,1)?(t.isnumber=!0,t.value=e[l]):(t.isnumber=!1,t.value=e[l]),t.field=l,t.bold="bold"===e.font||"title"===e.lt,n.push(t)}n.push({field:"sign",value:this.getSignFormat(e.lf)}),this.mainData.push(n),n=[]}this.loading=!1},l=>{this.loading=!1,this.dialog.alert(l.message)})}drillDetail(l){this.drillLoading=!0,this.drillDataControl=[];const n=this.FinanceReportApi.getDrillDetail(this.store.id,parseInt(this.selectedMonth.dateindex,10),l,+this.report.value);Object(hl.a)(n).subscribe(l=>{this.drillColsGrid=[],this.sub=this.translate.get(["drill-col.gl","drill-col.ld","drill-col.fs","drill-col.accT","drill-col.amtMTD","drill-col.amtYTD","drill-col.cMTD","drill-col.cYTD"]).subscribe(l=>{this.drillColsGrid.push({text:l["drill-col.gl"],field:"gl"}),this.drillColsGrid.push({text:l["drill-col.ld"],field:"ld"}),this.drillColsGrid.push({text:l["drill-col.accT"],field:"accT"}),this.drillColsGrid.push({text:l["drill-col.amtMTD"],field:"amtMTD",decimalNumber:!0,sign:"$"}),this.drillColsGrid.push({text:l["drill-col.amtYTD"],field:"amtYTD",decimalNumber:!0,sign:"$"}),this.drillColsGrid.push({text:l["drill-col.cMTD"],field:"cMTD"}),this.drillColsGrid.push({text:l["drill-col.cYTD"],field:"cYTD"})});let n=[];this.drillDown={amount:0,amountYTD:0,count:0,countYTD:0};for(const e of l.data){for(const l of Object.keys(e)){const t={isnumber:!1,value:"",field:l,bold:!1};e[l]&&!isNaN(e[l])&&e[l].indexOf(".")>0?(t.isnumber=!0,t.value=this.formatNumber(parseFloat(e[l].toString().replace(/,/g,"")))):!isNaN(e[l])&&e[l]&&"0"!==e[l].substring(0,1)?(t.isnumber=!0,t.value=e[l]):(t.isnumber=!1,t.value=e[l]),t.field=l,n.push(t)}this.drillDataControl.push(n),n=[],this.drillDown.amount+=+e.amtMTD,this.drillDown.amountYTD+=+e.amtYTD,this.drillDown.count+=+e.cMTD,this.drillDown.countYTD+=+e.cYTD}this.drillLoading=!1},l=>{this.drillLoading=!1,this.dialog.alert(l.message)})}showViewTrend(){this.loading=!0,this.mainData=[];const l=this.FinanceReportApi.getViewTrend(0,parseInt(this.selectedMonth.dateindex,10),this.store.id,this.comparison.value,+this.report.value);Object(hl.a)(l).subscribe(l=>{this.colsgrid=[],this.sub=this.translate.get(["header-col1.line_description","header-col1.target","header-col1.total"]).subscribe(n=>{this.colsgrid.push({text:n["header-col1.line_description"],field:"ld"}),this.colsgrid.push({text:n["header-col1.target"],field:"MTD"===this.comparison.value?"budMTD":"budYTD",decimalNumber:!0});for(const e of Object.keys(l.labels))this.colsgrid.push({field:e,text:l.labels[e],pinned:!1,decimalNumber:!0,editable:("budMTD"===e||"budYTD"===e)&&this.editBudget,formattedNumber:("budMTD"===e||"budYTD"===e)&&this.editBudget});this.colsgrid.push({text:n["header-col1.total"],field:"sTot",decimalNumber:!0}),this.colsgrid[0].decimalNumber=!1,this.colsgrid[0].supressMove=!0,this.colsgrid[0].pinned=!0});let n=[];for(const e of l.data){for(const l of Object.keys(e)){const t={isnumber:!1,value:"",field:l,bold:!1};"title"===e.lt?t.value="ld"!==l?"":e[l]:e[l]&&!isNaN(e[l])&&e[l].indexOf(".")>0?(t.isnumber=!0,t.value=this.formatNumber(parseFloat(e[l].toString().replace(/,/g,"")))):!isNaN(e[l])&&e[l]&&"0"!==e[l].substring(0,1)?(t.isnumber=!0,t.value=e[l]):(t.isnumber=!1,t.value=e[l]),t.field=l,t.bold="bold"===e.font||"title"===e.lt,n.push(t)}n.push({field:"sign",value:this.getSignFormat(e.lf)}),this.mainData.push(n),n=[]}this.loading=!1},l=>{this.loading=!1,this.dialog.alert(l.message)})}setDeafaultCols(l,n){this.sub=this.translate.get(["header-col1.line_description","header-col1.target","header-col1.total"]).subscribe(e=>{this.colsgrid.push({text:e["header-col1.line_description"],field:"ld"}),this.colsgrid.push({text:e["header-col1.total"],field:"MTD"===this.comparison.value?"sTot":"yTot",decimalNumber:!0,pinned:!0,supressMove:!0}),this.colsgrid.push({text:e["header-col1.target"],field:"MTD"===this.comparison.value?"budMTD":"budYTD",decimalNumber:!0,hide:!0});for(const t of Object.keys(l.stores)){const e=n.get(+l.stores[t].st);this.colsgrid.push({field:("MTD"===this.comparison.value?"s":"y")+(+t+1),text:e?e[this.instanceSettings.storeNameType]||"":l.stores[t]||"",pinned:!1,decimalNumber:!0})}this.colsgrid[0].decimalNumber=!1,this.colsgrid[0].supressMove=!0,this.colsgrid[0].pinned=!0})}setChildrenCols(l,n){this.sub=this.translate.get(["header-col1.line_description","header-col1.target"]).subscribe(e=>{if(this.colsgrid.push({text:e["header-col1.line_description"],field:"ld",children:[]}),l.stores)for(const t of Object.keys(l.stores)){const e=n.get(+l.stores[t].st);this.colsgrid.push({text:e?e[this.instanceSettings.storeNameType]||"":l.stores[t].st||"",children:[{headerName:"MTD",field:"s"+(+t+1),decimalNumber:!0,width:100,sign:"$"},{headerName:"1"===this.comparison1.value?"%GP":"YTD",field:"1"===this.comparison1.value?"MTD"===this.comparison.value?"mGP"+(+t+1):"yGP"+(+t+1):"y"+(+t+1),decimalNumber:!0,width:100,sign:"1"===this.comparison1.value?"%":"$"}]})}this.colsgrid[0].decimalNumber=!1,this.colsgrid[0].supressMove=!0,this.colsgrid[0].pinned=!0})}byStoreView(){this.loading=!0,this.mainData=[];const l=this.FinanceReportApi.getSideBySide(this.selectedStoregroup.groupIndex,parseInt(this.selectedMonth.dateindex,10),this.comparison.value,+this.report.value);Object(ml.b)(Object(hl.a)(l),this.coreCache.storesById$.pipe(Object(gl.a)())).subscribe(([l,n])=>{this.colsgrid=[],"0"===this.comparison1.value?this.setDeafaultCols(l,n):this.setChildrenCols(l,n);let e=[];for(const t of l.data){for(const l of Object.keys(t)){const n={isnumber:!1,value:"",field:l,bold:!1};"title"===t.lt1?n.value="ld"===l?t[l]:"":t[l]&&!isNaN(t[l])&&t[l].indexOf(".")>0?(n.isnumber=!0,n.value=this.formatNumber(parseFloat(t[l].toString().replace(/,/g,"")))):!isNaN(t[l])&&t[l]&&"0"!==t[l].substring(0,1)?(n.isnumber=!0,n.value=t[l]):(n.isnumber=!1,n.value=t[l]),n.field=l,n.bold="bold"===t.font||"title"===t.lt,e.push(n)}e.push({field:"sign",value:this.getSignFormat(t.lf)}),this.mainData.push(e),e=[]}this.loading=!1},l=>{this.loading=!1,this.dialog.alert(l.message)})}setBudgetView(){this.budgetLoading=!0,this.dataBudget=[],this.colsGridBudget=[],this.sub=this.translate.get(["header-col1.line_description"]).subscribe(l=>{this.colsGridBudget.push({text:l["header-col1.line_description"],field:"ld"}),this.colsGridBudget.push({text:"ln",field:"ln",hide:!0}),this.colsGridBudget.push({text:"MTD",field:"MTD",decimalNumber:!0,editable:!0,formattedNumber:!0}),this.colsGridBudget.push({text:"YTD",field:"YTD",decimalNumber:!0,editable:!0,formattedNumber:!0}),this.colsGridBudget[0].decimalNumber=!1,this.colsGridBudget[0].supressMove=!0,this.colsGridBudget[0].pinned=!0,this.mainData.forEach(l=>{const n=[];let e=!0;for(const t of l)"ld"===t.field&&(n.push({field:"ld",value:t.value}),""===t.value&&(e=!1)),"ln"===t.field&&n.push({field:"ln",value:t.value}),"budMTD"===t.field&&n.push({field:"MTD",value:t.value,editable:e}),"budYTD"===t.field&&n.push({field:"YTD",value:t.value,editable:e});this.dataBudget.push(n)}),this.budgetLoading=!1})}loadPage(){this.viewTrend||this.byStore?this.viewTrend?this.showViewTrend():this.byStore&&this.byStoreView():this.mainView()}formatNumber(l){return isNaN(l)||(l=l>0?parseFloat(l)+1e-6:parseFloat(l)-1e-6),this.format.transform(l,0,2)}getSignFormat(l){switch(l){case"per":return"%";case"amt":return"$";default:return""}}}var Cl=e("yK5/"),Tl=e("Ntwu"),Rl=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]     .c_modal{width:70%;height:80%}[_nghost-%COMP%]     .c_modal__dialog{height:100%}[_nghost-%COMP%]     .c_modal__content{height:100%}"]],data:{}});function yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-menu-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.setReport(l.context.$implicit)&&t),t}),null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,(function(l,n){l(n,2,0,null==n.context.$implicit?null:n.context.$implicit.name)}))}function xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","c_dropdown-std_menu"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["style","height: auto; max-height: 20pc; overflow-y: auto;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,yl)),t["\u0275did"](3,278528,null,0,b.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,3,0,n.component.report.items)}),null)}function Ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-loader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"app-loader",[],[[8,"className",0]],null,null,w.b,w.a)),t["\u0275did"](2,49152,null,0,D.a,[],null,null)],null,(function(l,n){l(n,1,0,t["\u0275nov"](n,2).cssClassByType)}))}function kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-menu-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.setStoregroup(l.context.$implicit)&&t),t}),null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,(function(l,n){l(n,2,0,n.context.$implicit.name)}))}function _l(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","c_dropdown-std_menu"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,8,"div",[["style","height: auto; max-height: 20pc; overflow-y: auto;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ml)),t["\u0275did"](3,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,kl)),t["\u0275did"](5,278528,null,0,b.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](6,0,null,null,3,"div",[["class","dropdown-menu-item dropdown-menu-actions"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,2,"button",[["class","btn btn--empty btn--color-primary btn--small"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openBsForm()&&t),t}),null,null)),(l()(),t["\u0275ted"](8,null,[""," "])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,3,0,!e.storegroups.length),l(n,5,0,e.storegroups)}),(function(l,n){var e=n.component;l(n,8,0,t["\u0275unv"](n,8,0,t["\u0275nov"](n,9).transform(e.i18nBs+"business-segment-filter.add-new")))}))}function Ol(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","c_dropdown-std less-border storegroup-select-box"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","c_dropdown-std_value"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggleStoregroupDropdown()&&t),t}),null,null)),(l()(),t["\u0275eld"](2,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,[" ",":"])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](6,null,[" ",""])),(l()(),t["\u0275eld"](7,0,null,null,0,"span",[["class","icon-arrow-s-down"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,_l)),t["\u0275did"](9,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,9,0,n.component.dropdownStoregroupOpened)}),(function(l,n){var e=n.component;l(n,4,0,t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform(e.i18nBs+"business-segment-filter.label"))),l(n,6,0,null==e.selectedStoregroup?null:e.selectedStoregroup.name)}))}function Il(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-menu-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.setStore(l.context.$implicit)&&t),t}),null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,(function(l,n){l(n,2,0,null==n.context.$implicit?null:n.context.$implicit.name)}))}function Sl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","c_dropdown-std_menu"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["style","height: auto; max-height: 20pc; overflow-y: auto;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Il)),t["\u0275did"](3,278528,null,0,b.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,3,0,n.component.stores)}),null)}function Fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","c_dropdown-std less-border store-select-box"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","c_dropdown-std_value"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggleStoreDropdown()&&t),t}),null,null)),(l()(),t["\u0275eld"](2,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",": "])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,null,0,"span",[["class","icon-arrow-s-down"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Sl)),t["\u0275did"](9,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,9,0,n.component.dropdownStoreOpened)}),(function(l,n){var e=n.component;l(n,4,0,t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform("header.report-store-label"))),l(n,6,0,null==e.store?null:e.store.name)}))}function Nl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","monthpicker-loader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"app-loader",[],[[8,"className",0]],null,null,w.b,w.a)),t["\u0275did"](2,49152,null,0,D.a,[],null,null)],null,(function(l,n){l(n,1,0,t["\u0275nov"](n,2).cssClassByType)}))}function Yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","monthpicker-month-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,8,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0,i=l.component;return"click"===n&&(u=!1!==t["\u0275nov"](l,2).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),"click"===n&&(u=!1!==i.setMonth(l.context.$implicit)&&u),u}),null,null)),t["\u0275did"](2,671744,[[8,4]],0,T.r,[T.o,T.a,b.k],{routerLink:[0,"routerLink"]},null),t["\u0275pad"](3,1),t["\u0275did"](4,1720320,null,2,T.q,[T.o,t.ElementRef,t.Renderer2,[2,T.p],[2,T.r]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),t["\u0275qud"](603979776,7,{links:1}),t["\u0275qud"](603979776,8,{linksWithHrefs:1}),t["\u0275pod"](7,{exact:0}),(l()(),t["\u0275ted"](8,null,["",""])),t["\u0275ppd"](9,2)],(function(l,n){var e=l(n,3,0,n.context.$implicit.url);l(n,2,0,e);var t=l(n,7,0,!0);l(n,4,0,t,"active")}),(function(l,n){l(n,1,0,t["\u0275nov"](n,2).target,t["\u0275nov"](n,2).href);var e=t["\u0275unv"](n,8,0,l(n,9,0,t["\u0275nov"](n.parent.parent.parent,0),n.context.$implicit.date_from,"MMM"));l(n,8,0,e)}))}function El(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"div",[["class","monthpicker-year"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","monthpicker-year-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"button",[["class","prev-year"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.prevYear()&&t),t}),null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"span",[["class","icon-arrow-s-left"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"span",[["class","year-title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["",""])),(l()(),t["\u0275eld"](6,0,null,null,1,"button",[["class","next-year"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.nextYear()&&t),t}),null,null)),(l()(),t["\u0275eld"](7,0,null,null,0,"span",[["class","icon-arrow-s-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,2,"div",[["class","monthpicker-year-months"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Yl)),t["\u0275did"](10,278528,null,0,b.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,10,0,n.context.$implicit.months)}),(function(l,n){var e=n.component;l(n,0,0,n.context.index!=e.selectedYear),l(n,2,0,0===e.selectedYear),l(n,5,0,n.context.$implicit.title),l(n,6,0,e.selectedYear==e.monthpickerYears.length-1)}))}function Gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","c_dropdown-std_menu monthpicker"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Nl)),t["\u0275did"](2,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,El)),t["\u0275did"](4,278528,null,0,b.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,2,0,!e.monthpickerYears.length),l(n,4,0,e.monthpickerYears)}),null)}function Vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-menu-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.setComparison(l.context.$implicit)&&t),t}),null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,(function(l,n){l(n,2,0,n.context.$implicit.name)}))}function jl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","c_dropdown-std_menu"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["style","height: auto; max-height: 20pc; overflow-y: auto;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Vl)),t["\u0275did"](3,278528,null,0,b.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,3,0,n.component.comparison.items)}),null)}function Al(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-menu-item"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.setComparison1(l.context.$implicit)&&t),t}),null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,(function(l,n){l(n,2,0,n.context.$implicit.name)}))}function Ll(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","c_dropdown-std_menu"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["style","height: auto; max-height: 20pc; overflow-y: auto;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Al)),t["\u0275did"](3,278528,null,0,b.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,3,0,n.component.comparison1.items)}),null)}function Bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","c_dropdown-std less-border comparison1-select-box"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","c_dropdown-std_value"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggleComparison1Dropdown()&&t),t}),null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["",""])),(l()(),t["\u0275eld"](4,0,null,null,0,"span",[["class","icon-arrow-s-down"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ll)),t["\u0275did"](6,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,6,0,n.component.dropdownComparison1Opened)}),(function(l,n){l(n,3,0,n.component.comparison1.name)}))}function Pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[],[[8,"hidden",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onExcelExport()&&t),t}),null,null)),(l()(),t["\u0275eld"](1,16777216,null,null,2,"i",[["class","material-icons"],["tooltipTheme","dark-auto"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var u=!0;return"focusin"===n&&(u=!1!==t["\u0275nov"](l,2).show()&&u),"mouseenter"===n&&(u=!1!==t["\u0275nov"](l,2).show()&&u),"focusout"===n&&(u=!1!==t["\u0275nov"](l,2).hide()&&u),"mouseleave"===n&&(u=!1!==t["\u0275nov"](l,2).hide()&&u),u}),null,null)),t["\u0275did"](2,147456,null,0,R.a,[t.ViewContainerRef,t.ComponentFactoryResolver,t.ChangeDetectorRef,y.b],{content:[0,"content"],tooltipTheme:[1,"tooltipTheme"]},null),(l()(),t["\u0275ted"](-1,null,["file_download"]))],(function(l,n){l(n,2,0,t["\u0275nov"](n.parent,116),"dark-auto")}),(function(l,n){l(n,0,0,n.component.loading)}))}function $l(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","c__table-row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","c__table-cell c__table-loading"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"app-loader",[],[[8,"className",0]],null,null,w.b,w.a)),t["\u0275did"](3,49152,null,0,D.a,[],null,null)],null,(function(l,n){l(n,2,0,t["\u0275nov"](n,3).cssClassByType)}))}function Ul(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"ag-grid",[["style","height:100%"]],null,[[null,"openDetailsClick"],["window","resize"]],(function(l,n,e){var u=!0,i=l.component;return"window:resize"===n&&(u=!1!==t["\u0275nov"](l,5).onResize()&&u),"openDetailsClick"===n&&(u=!1!==i.openDrillDetail(e)&&u),u}),x.b,x.a)),t["\u0275prd"](512,null,b.f,b.f,[t.LOCALE_ID]),t["\u0275prd"](512,null,M.a,M.a,[]),t["\u0275prd"](512,null,k.a,k.a,[_.a,O.a,I.a,C.j]),t["\u0275prd"](512,null,S.a,S.a,[]),t["\u0275did"](5,770048,[[5,4],["maingrid",4]],0,F.a,[b.d,b.f,M.a,N.a,k.a,Y.a,S.a,E.b,C.j,G.a,y.b,V.a],{data:[0,"data"],headers:[1,"headers"],showTotal:[2,"showTotal"],showCount:[3,"showCount"],allowSort:[4,"allowSort"],formattedValues:[5,"formattedValues"],autoFitColumns:[6,"autoFitColumns"],idGrid:[7,"idGrid"],negativeValuesSign:[8,"negativeValuesSign"]},{openDetailsClick:"openDetailsClick"})],(function(l,n){var e=n.component;l(n,5,0,e.mainData,e.colsgrid,!1,!1,!1,!1,!1,"maingridp","()")}),null)}function ql(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","content__section_body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["style","height: calc(100vh - 216px);"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ul)),t["\u0275did"](3,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,3,0,!n.component.loading)}),null)}function zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"ag-grid",[["style","height: 100%"]],null,[["window","resize"]],(function(l,n,e){var u=!0;return"window:resize"===n&&(u=!1!==t["\u0275nov"](l,5).onResize()&&u),u}),x.b,x.a)),t["\u0275prd"](512,null,b.f,b.f,[t.LOCALE_ID]),t["\u0275prd"](512,null,M.a,M.a,[]),t["\u0275prd"](512,null,k.a,k.a,[_.a,O.a,I.a,C.j]),t["\u0275prd"](512,null,S.a,S.a,[]),t["\u0275did"](5,770048,[[2,4],["griddrillbudget",4]],0,F.a,[b.d,b.f,M.a,N.a,k.a,Y.a,S.a,E.b,C.j,G.a,y.b,V.a],{data:[0,"data"],headers:[1,"headers"],showCount:[2,"showCount"],formattedValues:[3,"formattedValues"],idGrid:[4,"idGrid"]},null)],(function(l,n){var e=n.component;l(n,5,0,e.dataBudget,e.colsGridBudget,!1,!0,"grillBudget")}),null)}function Xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","c__table"],["style","height:100%"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,zl)),t["\u0275did"](2,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,!n.component.budgetLoading)}),null)}function Wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.drillExcelExport()&&t),t}),null,null)),(l()(),t["\u0275eld"](1,16777216,null,null,2,"i",[["class","material-icons"],["tooltipTheme","dark-auto"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var u=!0;return"focusin"===n&&(u=!1!==t["\u0275nov"](l,2).show()&&u),"mouseenter"===n&&(u=!1!==t["\u0275nov"](l,2).show()&&u),"focusout"===n&&(u=!1!==t["\u0275nov"](l,2).hide()&&u),"mouseleave"===n&&(u=!1!==t["\u0275nov"](l,2).hide()&&u),u}),null,null)),t["\u0275did"](2,147456,null,0,R.a,[t.ViewContainerRef,t.ComponentFactoryResolver,t.ChangeDetectorRef,y.b],{content:[0,"content"],tooltipTheme:[1,"tooltipTheme"]},null),(l()(),t["\u0275ted"](-1,null,["file_download"]))],(function(l,n){l(n,2,0,t["\u0275nov"](n.parent,116),"dark-auto")}),(function(l,n){var e=n.component;l(n,0,0,!e.drillDataControl.length||e.drillLoading)}))}function Hl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.drillPDFExport()&&t),t}),null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["picture_as_pdf"]))],null,(function(l,n){var e=n.component;l(n,0,0,!e.drillDataControl.length||e.drillLoading)}))}function Kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","c__table"],["style","height:100%;display: grid"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,8,"ag-grid",[],null,[["window","resize"]],(function(l,n,e){var u=!0;return"window:resize"===n&&(u=!1!==t["\u0275nov"](l,9).onResize()&&u),u}),x.b,x.a)),t["\u0275prd"](512,null,b.D,b.E,[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](3,278528,null,0,b.q,[b.D],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](4,{height:0,width:1}),t["\u0275prd"](512,null,b.f,b.f,[t.LOCALE_ID]),t["\u0275prd"](512,null,M.a,M.a,[]),t["\u0275prd"](512,null,k.a,k.a,[_.a,O.a,I.a,C.j]),t["\u0275prd"](512,null,S.a,S.a,[]),t["\u0275did"](9,770048,[[3,4],["griddrill",4]],0,F.a,[b.d,b.f,M.a,N.a,k.a,Y.a,S.a,E.b,C.j,G.a,y.b,V.a],{data:[0,"data"],headers:[1,"headers"],showTotal:[2,"showTotal"],showCount:[3,"showCount"],idGrid:[4,"idGrid"]},null)],(function(l,n){var e=n.component,t=l(n,4,0,"100%","99%");l(n,3,0,t),l(n,9,0,e.drillDataControl,e.drillColsGrid,!1,!1,"maingrid3")}),null)}function Zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","c__table-row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","c__table-cell c__table-loading"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"app-loader",[],[[8,"className",0]],null,null,w.b,w.a)),t["\u0275did"](3,49152,null,0,D.a,[],null,null)],null,(function(l,n){l(n,2,0,t["\u0275nov"](n,3).cssClassByType)}))}function Ql(l){return t["\u0275vid"](0,[t["\u0275pid"](0,b.e,[t.LOCALE_ID]),t["\u0275pid"](0,M.a,[]),t["\u0275qud"](402653184,1,{setupReportLineModal:0}),t["\u0275qud"](671088640,2,{griddrillbudget:0}),t["\u0275qud"](671088640,3,{griddrill:0}),t["\u0275qud"](402653184,4,{drillDownModal:0}),t["\u0275qud"](671088640,5,{maingrid:0}),t["\u0275qud"](402653184,6,{bsForm1:0}),(l()(),t["\u0275eld"](8,0,null,null,40,"div",[["class","page__actions_bar page__actions_bar--aligned"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,0,"div",[["class","align-left"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,38,"div",[["class","align-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,37,"div",[["class","content__section-header__actions"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,9,"div",[["class","c_dropdown-std less-border report-select-box"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,6,"div",[["class","c_dropdown-std_value"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggleReportDropdown()&&t),t}),null,null)),(l()(),t["\u0275eld"](14,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](16,null,["",":"])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](18,null,[" ",""])),(l()(),t["\u0275eld"](19,0,null,null,0,"span",[["class","icon-arrow-s-down"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,xl)),t["\u0275did"](21,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ol)),t["\u0275did"](23,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Fl)),t["\u0275did"](25,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](26,0,null,null,10,"div",[["class","c_dropdown-std monthpicker-wrapper less-border"]],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,7,"div",[["class","c_dropdown-std_value"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggleMonthpicker()&&t),t}),null,null)),(l()(),t["\u0275eld"](28,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](30,null,["",""])),t["\u0275ppd"](31,2),(l()(),t["\u0275ted"](32,null,[" "," "])),t["\u0275ppd"](33,2),(l()(),t["\u0275eld"](34,0,null,null,0,"span",[["class","icon-arrow-s-down"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Gl)),t["\u0275did"](36,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](37,0,null,null,9,"div",[["class","c_dropdown-std less-border comparison-select-box"]],null,null,null,null,null)),(l()(),t["\u0275eld"](38,0,null,null,6,"div",[["class","c_dropdown-std_value"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggleComparisonDropdown()&&t),t}),null,null)),(l()(),t["\u0275eld"](39,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](40,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](41,null,["",":"])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](43,null,[" ",""])),(l()(),t["\u0275eld"](44,0,null,null,0,"span",[["class","icon-arrow-s-down"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,jl)),t["\u0275did"](46,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Bl)),t["\u0275did"](48,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](49,0,null,null,20,"div",[["class","content__section"]],null,null,null,null,null)),(l()(),t["\u0275eld"](50,0,null,null,19,"div",[["class","content__section-header content__section-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](51,0,null,null,3,"h3",[["class","content__section-heading"],["style","float: left;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](52,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](53,null,[""," "])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](55,0,null,null,14,"div",[["style","float: right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](56,0,null,null,2,"button",[["class","btn btn--primary btn--small-2"],["style","width: 100px"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openBudget()&&t),t}),null,null)),(l()(),t["\u0275ted"](57,null,["",""])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](59,0,null,null,2,"button",[["class","btn btn--primary btn--small-2"],["style","width: 140px"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openSetupReportLine()&&t),t}),null,null)),(l()(),t["\u0275ted"](60,null,["",""])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0\xa0 "])),(l()(),t["\u0275and"](16777216,null,null,1,null,Pl)),t["\u0275did"](64,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](65,0,null,null,4,"app-tooltip-content",[["style","width:75px"]],[[1,"role",0],[8,"className",0],[2,"tooltip--with-header",null],[4,"top","px"],[4,"left","px"],[2,"in",null],[2,"fade",null]],[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var u=!0;return"focusin"===n&&(u=!1!==t["\u0275nov"](l,67).mouseIn()&&u),"mouseenter"===n&&(u=!1!==t["\u0275nov"](l,67).mouseIn()&&u),"focusout"===n&&(u=!1!==t["\u0275nov"](l,67).mouseOut()&&u),"mouseleave"===n&&(u=!1!==t["\u0275nov"](l,67).mouseOut()&&u),u}),h.c,h.a)),t["\u0275prd"](512,null,j.a,j.a,[y.b]),t["\u0275did"](67,4440064,[["tooltipUnits",4]],0,A.a,[t.ElementRef,j.a,L.a,b.d,t.Renderer2,t.ChangeDetectorRef,y.b],null,null),(l()(),t["\u0275ted"](68,1,[" "," "])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](70,0,null,null,2,"div",[["class","c__table"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,$l)),t["\u0275did"](72,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ql)),t["\u0275did"](74,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](75,0,null,null,5,"app-modal",[["class","modal-bs-form"]],null,[[null,"onInit"],[null,"close"]],(function(l,n,e){var t=!0,u=l.component;return"onInit"===n&&(t=!1!==u.onBsFormInit(e)&&t),"close"===n&&(t=!1!==u.closeBsForm()&&t),t}),B.b,B.a)),t["\u0275prd"](512,null,P.a,P.a,[y.b]),t["\u0275did"](77,1228800,null,0,$.a,[P.a,b.d,t.ElementRef,t.Renderer2,y.b],{modalTitle:[0,"modalTitle"]},{close:"close",onInit:"onInit"}),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](79,0,null,0,1,"bs-form",[],null,null,null,U.b,U.a)),t["\u0275did"](80,770048,[[6,4]],0,q.a,[V.a,z.a,O.a,C.j,X.a],{stores:[0,"stores"],segments:[1,"segments"]},null),(l()(),t["\u0275eld"](81,0,null,null,19,"app-modal",[["class","modal-generic"]],null,[[null,"onInit"],[null,"close"]],(function(l,n,e){var t=!0,u=l.component;return"onInit"===n&&(t=!1!==u.onModalSetupInit(e)&&t),"close"===n&&(t=!1!==u.onModalSetupClose()&&t),t}),B.b,B.a)),t["\u0275prd"](512,null,P.a,P.a,[y.b]),t["\u0275did"](83,1228800,null,0,$.a,[P.a,b.d,t.ElementRef,t.Renderer2,y.b],{modalTitle:[0,"modalTitle"]},{close:"close",onInit:"onInit"}),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](85,0,null,0,11,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](86,0,null,null,10,"div",[["class","content__section-header"],["style","width: 100%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](87,0,null,null,9,"table",[["style","width: 100%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](88,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](89,0,null,null,7,"td",[["style","text-align: right;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](90,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](91,0,null,null,2,"button",[["class","btn btn--primary btn--small-2"],["style","width: 100px"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSaveBudget()&&t),t}),null,null)),(l()(),t["\u0275ted"](92,null,["",""])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](94,0,null,null,2,"button",[["class","btn btn--alert btn--small-2"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelBudget()&&t),t}),null,null)),(l()(),t["\u0275ted"](95,null,["",""])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](97,0,null,0,3,"div",[["style","height:92%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](98,0,null,null,2,"div",[["class","content__section_body"],["style","height:100%"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Xl)),t["\u0275did"](100,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](101,0,null,null,2,"app-setup-report-line-modal",[],null,null,null,rl,il)),t["\u0275prd"](512,null,k.a,k.a,[_.a,O.a,I.a,C.j]),t["\u0275did"](103,4964352,[[1,4]],0,nl,[tl,O.a,C.j,N.a,k.a,ul.a,G.a,Y.a,y.b],null,null),(l()(),t["\u0275eld"](104,0,null,null,51,"app-modal",[["class","modal-generic"],["modalTitle",""]],null,[[null,"onInit"]],(function(l,n,e){var t=!0;return"onInit"===n&&(t=!1!==l.component.drillDownModalInit(e)&&t),t}),B.b,B.a)),t["\u0275prd"](512,null,P.a,P.a,[y.b]),t["\u0275did"](106,1228800,[[4,4],["drillDownModal",4]],0,$.a,[P.a,b.d,t.ElementRef,t.Renderer2,y.b],{modalTitle:[0,"modalTitle"]},{onInit:"onInit"}),(l()(),t["\u0275eld"](107,0,null,0,41,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](108,0,null,null,40,"div",[["class","small-12 medium-8 column overall-results"]],null,null,null,null,null)),(l()(),t["\u0275eld"](109,0,null,null,39,"table",[],null,null,null,null,null)),(l()(),t["\u0275eld"](110,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](111,0,null,null,9,"td",[["colspan","4"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Wl)),t["\u0275did"](113,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](114,0,null,null,4,"app-tooltip-content",[["style","width:75px"]],[[1,"role",0],[8,"className",0],[2,"tooltip--with-header",null],[4,"top","px"],[4,"left","px"],[2,"in",null],[2,"fade",null]],[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var u=!0;return"focusin"===n&&(u=!1!==t["\u0275nov"](l,116).mouseIn()&&u),"mouseenter"===n&&(u=!1!==t["\u0275nov"](l,116).mouseIn()&&u),"focusout"===n&&(u=!1!==t["\u0275nov"](l,116).mouseOut()&&u),"mouseleave"===n&&(u=!1!==t["\u0275nov"](l,116).mouseOut()&&u),u}),h.c,h.a)),t["\u0275prd"](512,null,j.a,j.a,[y.b]),t["\u0275did"](116,4440064,[["tooltipUnits",4]],0,A.a,[t.ElementRef,j.a,L.a,b.d,t.Renderer2,t.ChangeDetectorRef,y.b],null,null),(l()(),t["\u0275ted"](117,1,[" "," "])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,Hl)),t["\u0275did"](120,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](121,0,null,null,14,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](122,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](123,null,["",":"])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](125,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](126,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](127,null,["",""])),t["\u0275ppd"](128,2),(l()(),t["\u0275eld"](129,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](130,null,["",":"])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](132,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](133,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](134,null,["",""])),t["\u0275ppd"](135,2),(l()(),t["\u0275eld"](136,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](137,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](138,null,["",":"])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](140,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](141,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](142,null,["",""])),(l()(),t["\u0275eld"](143,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](144,null,["",":"])),t["\u0275pid"](131072,C.i,[C.j,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](146,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](147,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](148,null,["",""])),(l()(),t["\u0275eld"](149,0,null,0,3,"div",[["style","height:85%"]],null,null,null,null,null)),(l()(),t["\u0275eld"](150,0,null,null,2,"div",[["class","content__section_body"],["style","height:100%;max-height:none"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Kl)),t["\u0275did"](152,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](153,0,null,0,2,"div",[["class","c__table"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Zl)),t["\u0275did"](155,16384,null,0,b.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,21,0,e.dropdownReportOpened),l(n,23,0,e.byStore),l(n,25,0,!e.byStore||e.viewTrend),l(n,36,0,e.monthpickerOpened),l(n,46,0,e.dropdownComparisonOpened),l(n,48,0,e.byStore),l(n,64,0,null==e.currentUser?null:e.currentUser.isExportExcelAvailable),l(n,67,0),l(n,72,0,e.loading),l(n,74,0,!e.loading),l(n,77,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,77,0,t["\u0275nov"](n,78).transform(e.i18nBs+"business-segment-form.title")),"")),l(n,80,0,e.stores,e.storegroupsWithoutAll),l(n,83,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,83,0,t["\u0275nov"](n,84).transform("drilldown-budget.modal.title")),"")),l(n,100,0,!e.budgetLoading&&e.dataBudget),l(n,103,0),l(n,106,0,""),l(n,113,0,null==e.currentUser?null:e.currentUser.isExportExcelAvailable),l(n,116,0),l(n,120,0,null==e.currentUser?null:e.currentUser.isExportPdfAvailable),l(n,152,0,!e.drillLoading),l(n,155,0,e.drillLoading)}),(function(l,n){var e=n.component;l(n,16,0,t["\u0275unv"](n,16,0,t["\u0275nov"](n,17).transform("header.report-reports-label"))),l(n,18,0,null==e.report?null:e.report.name);var u=t["\u0275unv"](n,30,0,l(n,31,0,t["\u0275nov"](n,0),e.monthpickerValue,"MMMM"));l(n,30,0,u);var i=t["\u0275unv"](n,32,0,l(n,33,0,t["\u0275nov"](n,0),e.monthpickerValue,"y"));l(n,32,0,i),l(n,41,0,t["\u0275unv"](n,41,0,t["\u0275nov"](n,42).transform("header.report-comparison-label"))),l(n,43,0,e.comparison.name),l(n,53,0,t["\u0275unv"](n,53,0,t["\u0275nov"](n,54).transform("header.report-title"))),l(n,57,0,t["\u0275unv"](n,57,0,t["\u0275nov"](n,58).transform("drilldown-budget.edit-button"))),l(n,60,0,t["\u0275unv"](n,60,0,t["\u0275nov"](n,61).transform("drilldown-report-line.setup-button"))),l(n,65,0,t["\u0275nov"](n,67).role,t["\u0275nov"](n,67).hostClass,t["\u0275nov"](n,67).withHeader,t["\u0275nov"](n,67).top,t["\u0275nov"](n,67).left,t["\u0275nov"](n,67).isIn,t["\u0275nov"](n,67).isFade),l(n,68,0,t["\u0275unv"](n,68,0,t["\u0275nov"](n,69).transform("header-icons.download-excel"))),l(n,91,0,e.isSubmited),l(n,92,0,t["\u0275unv"](n,92,0,t["\u0275nov"](n,93).transform("drilldown-budget.save-button"))),l(n,95,0,t["\u0275unv"](n,95,0,t["\u0275nov"](n,96).transform("drilldown-budget.cancel-button"))),l(n,114,0,t["\u0275nov"](n,116).role,t["\u0275nov"](n,116).hostClass,t["\u0275nov"](n,116).withHeader,t["\u0275nov"](n,116).top,t["\u0275nov"](n,116).left,t["\u0275nov"](n,116).isIn,t["\u0275nov"](n,116).isFade),l(n,117,0,t["\u0275unv"](n,117,0,t["\u0275nov"](n,118).transform("header-icons.download-excel"))),l(n,123,0,t["\u0275unv"](n,123,0,t["\u0275nov"](n,124).transform("drill-down-modal.table.column.amount")));var o=t["\u0275unv"](n,127,0,l(n,128,0,t["\u0275nov"](n,1),null==e.drillDown?null:e.drillDown.amount,0));l(n,127,0,o),l(n,130,0,t["\u0275unv"](n,130,0,t["\u0275nov"](n,131).transform("drill-down-modal.table.column.amountYTD")));var s=t["\u0275unv"](n,134,0,l(n,135,0,t["\u0275nov"](n,1),null==e.drillDown?null:e.drillDown.amountYTD,0));l(n,134,0,s),l(n,138,0,t["\u0275unv"](n,138,0,t["\u0275nov"](n,139).transform("drill-down-modal.table.column.count"))),l(n,142,0,null==e.drillDown?null:e.drillDown.count),l(n,144,0,t["\u0275unv"](n,144,0,t["\u0275nov"](n,145).transform("drill-down-modal.table.column.countYTD"))),l(n,148,0,null==e.drillDown?null:e.drillDown.countYTD)}))}function Jl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"ng-component",[],null,[["window","click"]],(function(l,n,e){var u=!0;return"window:click"===n&&(u=!1!==t["\u0275nov"](l,5).windowClick(e)&&u),u}),Ql,Rl)),t["\u0275prd"](135680,null,$.a,$.a,[P.a,b.d,t.ElementRef,t.Renderer2,y.b]),t["\u0275prd"](4608,null,z.a,z.a,[al.a,cl.a]),t["\u0275prd"](512,null,M.a,M.a,[]),t["\u0275prd"](512,null,k.a,k.a,[_.a,O.a,I.a,C.j]),t["\u0275did"](5,245760,null,0,Dl,[tl,Cl.a,T.a,T.o,O.a,V.a,M.a,Tl.a,k.a,Y.a,I.a,C.j,X.a],null,null)],(function(l,n){l(n,5,0)}),null)}var ln=t["\u0275ccf"]("ng-component",Dl,Jl,{},{},[]),nn=e("QQfA"),en=e("IP0z"),tn=e("s6ns"),un=e("POq0"),on=e("821u"),sn=e("Xd0L"),dn=e("/HVE"),rn=e("IheW"),an=e("Mc5n"),cn=e("hOhj"),pn=e("butG"),hn=e("cUpR"),mn=e("Fwaw"),gn=e("zMNK"),fn=e("5GAg"),vn=e("l0Bn"),bn=e("kPC6"),wn=e("SXLW"),Dn=e("tdaM"),Cn=e("0sx3"),Tn=e("FFHx"),Rn=e("iTUp"),yn=e("l/h6"),xn=e("aBBA"),Mn=e("oiVm"),kn=e("Fbhx"),_n=e("/Lwf"),On=e("yotz"),In=e("T3zS");e.d(n,"FinanceReportModuleNgFactory",(function(){return Sn}));var Sn=t["\u0275cmf"](u,[],(function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,o.a,s.b,s.a,d.a,r.a,a.a,c.a,p.a,h.b,m.a,g.a,f.a,v.a,ln]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,b.p,b.o,[t.LOCALE_ID,[2,b.G]]),t["\u0275mpd"](4608,W.F,W.F,[]),t["\u0275mpd"](4608,nn.c,nn.c,[nn.i,nn.e,t.ComponentFactoryResolver,nn.h,nn.f,t.Injector,t.NgZone,b.d,en.b,[2,b.j]]),t["\u0275mpd"](5120,nn.j,nn.k,[nn.c]),t["\u0275mpd"](5120,tn.c,tn.d,[nn.c]),t["\u0275mpd"](135680,tn.e,tn.e,[nn.c,t.Injector,[2,b.j],[2,tn.b],tn.c,[3,tn.e],nn.e]),t["\u0275mpd"](4608,un.c,un.c,[]),t["\u0275mpd"](4608,on.i,on.i,[]),t["\u0275mpd"](5120,on.a,on.b,[nn.c]),t["\u0275mpd"](4608,sn.a,sn.v,[[2,sn.f],dn.a]),t["\u0275mpd"](4608,rn.k,rn.q,[b.d,t.PLATFORM_ID,rn.o]),t["\u0275mpd"](4608,rn.r,rn.r,[rn.k,rn.p]),t["\u0275mpd"](5120,rn.a,(function(l){return[l]}),[rn.r]),t["\u0275mpd"](4608,rn.n,rn.n,[]),t["\u0275mpd"](6144,rn.l,null,[rn.n]),t["\u0275mpd"](4608,rn.j,rn.j,[rn.l]),t["\u0275mpd"](6144,rn.b,null,[rn.j]),t["\u0275mpd"](4608,rn.f,rn.m,[rn.b,t.Injector]),t["\u0275mpd"](4608,rn.c,rn.c,[rn.f]),t["\u0275mpd"](4608,ul.a,ul.a,[y.b]),t["\u0275mpd"](4608,al.a,al.a,[y.b]),t["\u0275mpd"](4608,z.a,z.a,[al.a,cl.a]),t["\u0275mpd"](4608,an.f,an.f,[b.d,t.NgZone,cn.i,an.h]),t["\u0275mpd"](4608,tl,tl,[pn.a]),t["\u0275mpd"](1073742336,b.c,b.c,[]),t["\u0275mpd"](1073742336,T.s,T.s,[[2,T.x],[2,T.o]]),t["\u0275mpd"](1073742336,W.E,W.E,[]),t["\u0275mpd"](1073742336,W.m,W.m,[]),t["\u0275mpd"](1073742336,C.g,C.g,[]),t["\u0275mpd"](1073742336,en.a,en.a,[]),t["\u0275mpd"](1073742336,sn.l,sn.l,[[2,sn.d],[2,hn.f]]),t["\u0275mpd"](1073742336,dn.b,dn.b,[]),t["\u0275mpd"](1073742336,sn.u,sn.u,[]),t["\u0275mpd"](1073742336,mn.c,mn.c,[]),t["\u0275mpd"](1073742336,gn.g,gn.g,[]),t["\u0275mpd"](1073742336,cn.f,cn.f,[]),t["\u0275mpd"](1073742336,nn.g,nn.g,[]),t["\u0275mpd"](1073742336,tn.k,tn.k,[]),t["\u0275mpd"](1073742336,un.d,un.d,[]),t["\u0275mpd"](1073742336,fn.a,fn.a,[]),t["\u0275mpd"](1073742336,on.j,on.j,[]),t["\u0275mpd"](1073742336,sn.w,sn.w,[]),t["\u0275mpd"](1073742336,sn.n,sn.n,[]),t["\u0275mpd"](1073742336,rn.e,rn.e,[]),t["\u0275mpd"](1073742336,rn.d,rn.d,[]),t["\u0275mpd"](1073742336,vn.a,vn.a,[]),t["\u0275mpd"](1073742336,bn.a,bn.a,[]),t["\u0275mpd"](1073742336,wn.AgGridModule,wn.AgGridModule,[]),t["\u0275mpd"](1073742336,Dn.a,Dn.a,[]),t["\u0275mpd"](1073742336,Cn.a,Cn.a,[]),t["\u0275mpd"](1073742336,Tn.a,Tn.a,[]),t["\u0275mpd"](1073742336,Rn.a,Rn.a,[]),t["\u0275mpd"](1073742336,yn.a,yn.a,[xn.a]),t["\u0275mpd"](1073742336,Mn.a,Mn.a,[]),t["\u0275mpd"](1073742336,kn.a,kn.a,[xn.a]),t["\u0275mpd"](1073742336,an.g,an.g,[]),t["\u0275mpd"](1073742336,_n.a,_n.a,[]),t["\u0275mpd"](1073742336,On.b,On.b,[]),t["\u0275mpd"](1073742336,In.a,In.a,[]),t["\u0275mpd"](1073742336,u,u,[xn.a]),t["\u0275mpd"](256,sn.e,sn.i,[]),t["\u0275mpd"](256,rn.o,"XSRF-TOKEN",[]),t["\u0275mpd"](256,rn.p,"X-XSRF-TOKEN",[]),t["\u0275mpd"](1024,T.m,(function(){return[[{path:"",pathMatch:"full",component:Dl},{path:":date",component:Dl}]]}),[])])}))}}]);