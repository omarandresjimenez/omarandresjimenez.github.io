(window.webpackJsonp=window.webpackJsonp||[]).push([[63,79],{"/gN3":function(t,e,l){"use strict";var n=l("tFIl");class a extends n.a{constructor(t={}){super(),this.momentIsUtc=!1,this.fillAll(t,["order","name","width","minWidth","pinned","field","tooltipField","align","labelFormat","filter","drillIndex","editable","hide","children","valueGetter","valueFormatter","valueSetter","valueParser","momentFormat","momentIsUtc","customFormatter","cellRenderer","cellEditor","cellEditorParams","cellRendererFramework","cellRendererParams","cellClass","data"])}get hasDrill(){return null!==this.drillIndex}get hasNumericFormat(){return this.labelFormat!==o.Date&&this.labelFormat!==o.Moment&&this.labelFormat!==o.Default&&this.labelFormat!==o.Custom}get hasDefaultFormat(){return this.labelFormat===o.Default}get hasMoneyFormat(){return this.labelFormat===o.Money||this.labelFormat===o.Money2}get hasPercentageFormat(){return this.labelFormat===o.Percentage||this.labelFormat===o.Percentage1DecWithZeroMantissa||this.labelFormat===o.Percentage2DecWithZeroMantissa}}var o=function(t){return t[t.Date=0]="Date",t[t.Moment=1]="Moment",t[t.Money=2]="Money",t[t.Money2=3]="Money2",t[t.MoneyAbbr=4]="MoneyAbbr",t[t.Integer=5]="Integer",t[t.Float=6]="Float",t[t.FloatWithTwoDecimalPlaces=7]="FloatWithTwoDecimalPlaces",t[t.FloatWithOneDecimalPlace=8]="FloatWithOneDecimalPlace",t[t.Cnt=9]="Cnt",t[t.Percentage=10]="Percentage",t[t.Percentage1DecWithZeroMantissa=11]="Percentage1DecWithZeroMantissa",t[t.Percentage2DecWithZeroMantissa=12]="Percentage2DecWithZeroMantissa",t[t.Custom=13]="Custom",t[t.Default=14]="Default",t}({}),i=function(t){return t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Center=2]="Center",t}({}),r=function(t){return t[t.None=0]="None",t[t.String=1]="String",t[t.NumberRange=2]="NumberRange",t[t.DateRange=3]="DateRange",t[t.MultiChoice=4]="MultiChoice",t}({});class s{constructor(t={}){Object.keys(t).forEach(e=>this[e]=new.target.value(t[e]))}static value(t,e=null){return null==t?e:t}}l.d(e,"a",(function(){return a})),l.d(e,"d",(function(){return o})),l.d(e,"b",(function(){return i})),l.d(e,"c",(function(){return r})),l.d(e,"e",(function(){return s}))},Exwp:function(t,e,l){"use strict";l.r(e);var n=l("8Y7J");const a="cabinet.operations.by-store.";class o{constructor(t){t.addLoaderWithPrefixedTranslations("/cabinet/operations/by-store",a)}}var i=l("pMnS"),r=l("NcP4"),s=l("t68o"),c=l("zbXB"),d=l("GsI2"),u=l("eliu"),p=l("0Xvm"),g=l("VOAG"),m=l("aYrz"),h=l("tfhy"),b=l("HOtD"),f=l("ubcW"),C=l("FpoO"),x=l("JNvI"),v=l("pGru"),M=l("YbeN"),y=l("RiRU"),O=l("/kTj"),_=l("OTv+"),P=l("eeq/"),w=l("zXMq"),k=l("2Vgt"),T=l("+2T5"),F=l("SVse"),R=l("S5eV"),D=l("zeHk"),S=l("+bil"),A=l("S+vS"),G=l("ChPW"),I=l("TSSN"),E=l("Lxd7"),B=l("IqdZ"),$=l("TUN4"),j=l("K5C0"),N=l("mvzq"),L=l("Mz6y"),V=l("QQfA"),z=l("hOhj"),H=l("/HVE"),q=l("5GAg"),W=l("IP0z"),Z=l("cUpR"),X=l("MlvX"),U=l("Xd0L"),J=l("Azqq"),K=l("JjoW"),Y=l("s7LF"),Q=l("HsOI"),tt=l("dJrM"),et=l("omvX"),lt=l("oJZn"),nt=l("pBi1"),at=l("mS0u"),ot=l("MmlZ"),it=l("fFD9"),rt=l("pCim");class st{constructor(t,e,l){this.translate=t,this.filterData=e,this.dataService=l,this.i18n=a,this.isOpened=!0,this.isEmptyChartPanel=!1,this.chartClick=new n.EventEmitter,this.totalItemClick=new n.EventEmitter,this.editTotalFields=new n.EventEmitter,this.isAccClient=!1,this.isByStackedBars=!1,this.subs=[]}get hasEditTotalButton(){return!this.isAccClient&&this.totals&&this.totals.length>1}get chartClass(){return{"by-salesperson":this.viewType===rt.e.BySalesperson,"by-make":this.viewType===rt.e.ByMake,"by-model":this.viewType===rt.e.ByModel,"by-customer":this.viewType===rt.e.ByCustomer}}set sub(t){this.subs.push(t)}ngOnInit(){this.data$=this.dataService.bottomBarData$,this.initSubscriptions()}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe())}onToggle(){this.isOpened=!this.isOpened}onChartClick(t){this.chartClick.emit(t.data)}onTotalItemClick(t){this.totalItemClick.emit(t)}onEditTotalFields(){this.editTotalFields.emit()}onFilterChange(t,e){switch(t){case"viewType":this.dataService.setBottomBarViewType(e)}}onByStackedBarsChange(t){this.dataService.setByStackedBars(t),this.isByStackedBars=t}initSubscriptions(){this.sub=this.filterData.selectedReport$.subscribe(t=>{this.isEmptyChartPanel=!this.filterData.isSalesReport(t)}),this.sub=this.translate.get(["bottom-bar.filters.view.label","bottom-bar.filters.view.by-salesperson.label","bottom-bar.filters.view.by-make.label","bottom-bar.filters.view.by-model.label","bottom-bar.filters.view.by-customer.label"].map(t=>a+t)).pipe(Object(it.a)(this.dataService.bottomBarViewType$)).subscribe(([t,e])=>{const l={label:t[a+"bottom-bar.filters.view.label"],name:"viewType",items:[{label:t[a+"bottom-bar.filters.view.by-salesperson.label"],value:rt.e.BySalesperson},{label:t[a+"bottom-bar.filters.view.by-make.label"],value:rt.e.ByMake},{label:t[a+"bottom-bar.filters.view.by-model.label"],value:rt.e.ByModel},{label:t[a+"bottom-bar.filters.view.by-customer.label"],value:rt.e.ByCustomer}]};l.value=e,this.viewType=e,this.filters=[l]})}}var ct=l("9oLD"),dt=l("2Vo4"),ut=l("pLZG"),pt=l("/uUt"),gt=l("Kj3r"),mt=l("lJxs"),ht=l("w1tV"),bt=l("vkgz"),ft=l("LvDl");class Ct{constructor(t,e,l,n){this.filterData=t,this.dataApi=e,this.translate=l,this.formatter=n,this.defaultViewType=rt.e.BySalesperson,this._data$=new dt.a(void 0),this._loading$=new dt.a(void 0),this._bottomBarData$=new dt.a(void 0),this._bottomBarViewType$=new dt.a(this.defaultViewType),this._byStackedBars$=new dt.a(!1),this.subs=[],this.initInternal()}set sub(t){this.subs.push(t)}destroy(){this.subs.forEach(t=>t.unsubscribe()),this.subs=[],this._data$.next(void 0),this._bottomBarData$.next(void 0),this._bottomBarViewType$.next(this.defaultViewType)}init(){this.initSubscriptions()}setBottomBarViewType(t){this._bottomBarViewType$.next(t)}setByStackedBars(t){this._byStackedBars$.next(t)}initInternal(){this.data$=this._data$.pipe(Object(ut.a)(t=>!!t)),this.loading$=this._loading$.asObservable(),this.bottomBarViewType$=this._bottomBarViewType$.pipe(Object(ut.a)(t=>!!t),Object(pt.a)()),this.bottomBarData$=this.data$.pipe(Object(it.a)(this.bottomBarViewType$,this._byStackedBars$,this.filterData.isAcc$,this.translate.get(["bottom-bar.chart.amount.label","bottom-bar.chart.count.label"].map(t=>a+t))),Object(gt.a)(100),Object(mt.a)(([t,e,l,n,o])=>{const i={};for(const a of t.data){const t=a[e];if(!t)continue;const l="F"===a.status&&n,o=l?"accFrontGross":"FrontGross",r=l?"accBackGross":"BackGross";i[t]||(i[t]={title:t,frontGross:0,backGross:0,cnt:0}),i[t].frontGross+=a[o]?+a[o]:+a.amt||0,i[t].backGross+=a[r]?+a[r]:0,i[t].cnt+=1}const r=ft.sortBy(Object.keys(i).map(t=>i[t]),[t=>t.title.toLowerCase()]),s={data:[[],[]],labels:[],colors:[[],[]],tooltip:{titles:[[],[]],labels:[[],[]]},xAxes:{stacked:l,ticks:{fontSize:12}},yAxes:{stacked:l}};for(const c of r)["frontGross","backGross"].forEach((t,e)=>{s.data[e].push(+c[t]),s.colors[e].push(0===e?"blue":"blue-light"),s.tooltip.titles[e].push(c.title),s.tooltip.labels[e].push(o[a+"bottom-bar.chart.amount.label"]+": "+this.formatter.abbrMoney(+c[t],{K:1,M:1})+" | "+o[a+"bottom-bar.chart.count.label"]+": "+this.formatter.number(+c.cnt,{noZeroMantissa:!0}))}),s.labels.push(c.title.substr(0,25));return s}),Object(ht.a)())}initSubscriptions(){this.sub=this.filterData.value$.pipe(Object(gt.a)(100),Object(bt.a)(()=>this._loading$.next(!0))).subscribe(t=>{this.dataApi.getByStore(t).subscribe(t=>{this._data$.next(t),this._loading$.next(!1)})}),this.sub=this.filterData.viewTypeFilter$.pipe(Object(ut.a)(t=>!!t)).subscribe(({type:t})=>{this.setBottomBarViewType(t)})}}var xt=n["\u0275crt"]({encapsulation:0,styles:[[".grid-wrapper[_ngcontent-%COMP%]{width:100%;flex:1 1 100%;height:100%;max-width:100%;background-color:#fff;box-shadow:2px 2px 5px 1px #c1bebe}.top-controls-block[_ngcontent-%COMP%]{height:60px;display:flex;justify-content:space-between}.top-controls-block-left[_ngcontent-%COMP%]{width:calc(100% - 160px);flex:1 1 calc(100% - 160px);padding:20px 20px 10px;display:flex;align-items:center}.top-controls-block-right[_ngcontent-%COMP%]{width:160px;flex:1 0 160px;padding:20px 20px 10px;display:flex;align-items:center;justify-content:flex-end}.top-controls-block-heading[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#404040;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.filters-block[_ngcontent-%COMP%]{height:70px;padding:10px 20px 20px}.grid-block[_ngcontent-%COMP%]{display:flex;height:calc(100% - 60px - 70px)}.grid-block-content[_ngcontent-%COMP%]{width:calc(100% - 40px);flex:1 0 calc(100% - 40px);position:relative}.grid-block-content[_ngcontent-%COMP%]   app-default-grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;will-change:auto;transition:all .5s ease;transform:translate3d(0,0,0)}.grid-block-sidebar[_ngcontent-%COMP%]{width:40px;flex:0 0 40px;border-left:1px solid #ddd}.grid-block-more-info-trigger[_ngcontent-%COMP%]{display:block;height:60px;cursor:pointer;position:relative}.grid-block-more-info-trigger[_ngcontent-%COMP%]:before{content:'\\E5D4';font-family:\"Material Icons\";font-size:24px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.grid-block-more-info-trigger.opened[_ngcontent-%COMP%]:before{content:'\\E5D3'}.top-control-btn[_ngcontent-%COMP%]{color:#5b5b5b;cursor:pointer;margin-left:20px;margin-top:-2px;display:inline-block}.top-control-label[_ngcontent-%COMP%]{color:#747474;font-size:14px;margin-left:10px}.mat-checked[_ngcontent-%COMP%]   .top-control-label[_ngcontent-%COMP%]{color:#2196f3}.tabs-block[_ngcontent-%COMP%]{height:60px;padding:10px 20px 16px}.tab[_ngcontent-%COMP%]{display:inline-block;height:34px;line-height:34px;border-radius:17px;padding-left:15px;padding-right:15px;color:#404040;font-size:14px;font-weight:500;background-color:#e5e5e5;cursor:pointer}.tab.active[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]:hover{color:#3498db;background-color:#e2eff8}.tab[_ngcontent-%COMP%]:not(:last-child){margin-right:15px}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 0 10px;height:45px}.modal-header-right[_ngcontent-%COMP%]   .top-control-btn[_ngcontent-%COMP%]:last-child{margin-right:-4px}.modal-header.with-outer-padding-overwrite[_ngcontent-%COMP%]{margin-top:-19px;margin-left:-19px;margin-right:-19px;padding:10px 20px}.modal-header.with-padding[_ngcontent-%COMP%]{padding:10px 20px}.modal-body[_ngcontent-%COMP%]{height:calc(100% - 45px);position:relative}.modal-body.with-footer[_ngcontent-%COMP%]{height:calc(100% - 45px - 50px)}.modal-body.full-height[_ngcontent-%COMP%]{height:100%}.modal-body.with-min-size[_ngcontent-%COMP%]{min-width:850px;min-height:300px;margin-left:-19px;margin-right:-19px}.modal-body.with-outer-padding-overwrite[_ngcontent-%COMP%]{margin-left:-19px;margin-right:-19px;margin-bottom:-19px}.modal-body[_ngcontent-%COMP%]   app-default-grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}.modal-footer[_ngcontent-%COMP%]{height:50px;display:flex;align-items:center;justify-content:flex-end;background:#eee;margin:0 -19px -19px;padding:0 19px}.modal-footer-text[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#404040;padding-right:15px}.modal-footer-text.last[_ngcontent-%COMP%]{padding-left:15px;padding-right:0}.modal-footer-text.last[_ngcontent-%COMP%]:before{content:'|';position:relative;left:-13px}.modal-heading[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.fi-list[_ngcontent-%COMP%]{display:flex;margin:25px 0;padding:15px 0;border-bottom:1px solid #ddd}.fi-list.single[_ngcontent-%COMP%]{padding:5px 0;margin:0;border-bottom:0}.fi-list-item[_ngcontent-%COMP%]{width:33%;flex:0 0 33%;padding:0 5px}.single[_ngcontent-%COMP%]   .fi-list-item[_ngcontent-%COMP%]:nth-of-type(1){padding-left:0}.single[_ngcontent-%COMP%]   .fi-list-item[_ngcontent-%COMP%]:nth-of-type(3){padding-right:0}.penetration-list.horizontal[_ngcontent-%COMP%]{display:flex;align-items:center}.penetration-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin:25px 0;padding:15px 0 30px;border-bottom:1px solid #ddd}.horizontal[_ngcontent-%COMP%]   .penetration-item[_ngcontent-%COMP%]{width:50%;flex:0 0 50%;padding:10px 15px 10px 0;margin:0;border-bottom:none}.penetration-title[_ngcontent-%COMP%]{width:30%;flex:0 0 30%;font-size:14px;color:#404040;padding-right:5px;overflow:hidden;text-overflow:ellipsis}.penetration-graph[_ngcontent-%COMP%]{width:50%;flex:0 0 50%;padding:0 5px}.penetration-rank[_ngcontent-%COMP%]{width:20%;flex:0 0 20%;padding:0 5px;text-align:center}.chargeback[_ngcontent-%COMP%]{text-align:center;margin:50px 0 30px}.chargeback[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{margin:0 0 5px;font-size:20px;font-weight:600}.chargeback-value[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#404040}.control-btn-settings[_ngcontent-%COMP%]{display:inline-block;width:24px;height:24px;position:relative;cursor:pointer}.control-btn-settings[_ngcontent-%COMP%]:before{content:'\\e8b8';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#5b5b5b;font-size:24px;font-family:\"Material Icons\"}.drill-info[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;list-style:none;padding:0;margin:0}.drill-info-item[_ngcontent-%COMP%]{color:#404040;font-size:14px;margin-right:25px}.drill-info-label[_ngcontent-%COMP%]{font-weight:400}.drill-info-value[_ngcontent-%COMP%]{font-weight:500}[_nghost-%COMP%]{display:block;flex:0 0 50px;transition:flex .5s ease}.opened[_nghost-%COMP%]{flex:0 0 275px}.empty-chart-panel[_nghost-%COMP%]{flex:0 0 50px}.bottom-bar-header[_ngcontent-%COMP%]{height:50px;padding:5px 20px;display:flex;align-items:center;justify-content:space-between;border-top:1px solid #ddd}  .opened .bottom-bar-header{border-top:none;border-bottom:1px solid #ddd}.bottom-bar-header.narrow[_ngcontent-%COMP%]{height:110px}.bottom-bar-header-left[_ngcontent-%COMP%], .bottom-bar-header-right[_ngcontent-%COMP%]{display:flex;align-items:center}.narrow[_ngcontent-%COMP%]   .bottom-bar-header-right[_ngcontent-%COMP%]{display:block}.bottom-bar-body[_ngcontent-%COMP%]{height:0;overflow:hidden;transition:height .5s ease}  .opened .bottom-bar-body{height:calc(100% - 50px)}  .opened .bottom-bar-body.wide{height:calc(100% - 110px)}.bottom-bar-trigger[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#747474;cursor:pointer;position:relative;padding-left:24px;text-transform:uppercase}.bottom-bar-trigger[_ngcontent-%COMP%]:before{content:'\\e316';font-family:\"Material Icons\";font-size:24px;color:inherit;cursor:inherit;display:inline-block;position:absolute;left:0;top:50%;transform:translateY(-54%)}  .opened .bottom-bar-trigger:before{content:'\\e313'}.bottom-bar-label[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#404040;margin-right:20px}.store-details[_ngcontent-%COMP%]{height:100%}.store-details-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;padding:20px 20px 10px;height:80px}.store-details-body[_ngcontent-%COMP%]{height:calc(100% - 80px);padding:10px 20px 20px}.store-details-heading[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:500;color:#404040}mat-form-field[_ngcontent-%COMP%]{margin-right:15px}app-bar-chart[_ngcontent-%COMP%]{max-height:125px}.chart-label[_ngcontent-%COMP%]{display:inline-block;font-size:12px;color:#747474;margin-top:15px;margin-right:20px;position:relative;padding-left:22px}.chart-label[_ngcontent-%COMP%]:before{content:'';display:inline-block;width:12px;height:12px;position:absolute;top:50%;left:0;transform:translateY(-45%)}.chart-label.front-gross[_ngcontent-%COMP%]:before{background-color:#00458f}.chart-label.back-gross[_ngcontent-%COMP%]:before{background-color:#44b4d4}.totals-list[_ngcontent-%COMP%]{display:flex;width:600px;margin:0;padding:0;list-style:none}.totals-list-item[_ngcontent-%COMP%]{width:33%;flex:0 0 33%;font-size:14px;font-weight:500;color:#404040}.totals-list-label[_ngcontent-%COMP%]{display:inline-block}.totals-list-value.clickable[_ngcontent-%COMP%]{color:#3498db;text-decoration:underline;cursor:pointer}"]],data:{}});function vt(t){return n["\u0275vid"](0,[(t()(),n["\u0275eld"](0,0,null,null,2,"button",[["class","bottom-bar-trigger"]],null,[[null,"click"]],(function(t,e,l){var n=!0;return"click"===e&&(n=!1!==t.component.onToggle()&&n),n}),null,null)),(t()(),n["\u0275ted"](1,null,["",""])),n["\u0275pid"](131072,I.i,[I.j,n.ChangeDetectorRef])],null,(function(t,e){var l=e.component;t(e,1,0,n["\u0275unv"](e,1,0,n["\u0275nov"](e,2).transform(l.i18n+(l.isOpened?"bottom-bar.expand.label":"bottom-bar.collapse.label"))))}))}function Mt(t){return n["\u0275vid"](0,[(t()(),n["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(t()(),n["\u0275eld"](1,0,null,null,1,"span",[["class","totals-list-label"]],null,null,null,null,null)),(t()(),n["\u0275ted"](2,null,["",""])),(t()(),n["\u0275ted"](-1,null,[": "])),(t()(),n["\u0275eld"](4,0,null,null,2,"span",[["class","totals-list-value"]],[[2,"clickable",null]],[[null,"click"]],(function(t,e,l){var n=!0;return"click"===e&&(n=!1!==(t.parent.context.$implicit.clickable&&t.component.onTotalItemClick(t.parent.context.$implicit))&&n),n}),null,null)),(t()(),n["\u0275ted"](5,null,["",""])),n["\u0275ppd"](6,2)],null,(function(t,e){t(e,2,0,e.parent.context.$implicit.label),t(e,4,0,e.parent.context.$implicit.clickable);var l=n["\u0275unv"](e,5,0,t(e,6,0,n["\u0275nov"](e.parent.parent.parent.parent,0),e.parent.context.$implicit.value,"cnt"));t(e,5,0,l)}))}function yt(t){return n["\u0275vid"](0,[(t()(),n["\u0275eld"](0,0,null,null,2,"li",[["class","totals-list-item"]],null,null,null,null,null)),(t()(),n["\u0275and"](16777216,null,null,1,null,Mt)),n["\u0275did"](2,16384,null,0,F.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.context.$implicit.label)}),null)}function Ot(t){return n["\u0275vid"](0,[(t()(),n["\u0275eld"](0,0,null,null,2,"ul",[["class","totals-list"]],null,null,null,null,null)),(t()(),n["\u0275and"](16777216,null,null,1,null,yt)),n["\u0275did"](2,278528,null,0,F.m,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.context.$implicit)}),null)}function _t(t){return n["\u0275vid"](0,[(t()(),n["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),n["\u0275and"](16777216,null,null,1,null,Ot)),n["\u0275did"](2,278528,null,0,F.m,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),n["\u0275and"](0,null,null,0))],(function(t,e){t(e,2,0,e.component.accTotals)}),null)}function Pt(t){return n["\u0275vid"](0,[(t()(),n["\u0275eld"](0,0,null,null,2,"span",[["class","bottom-bar-label"]],null,null,null,null,null)),(t()(),n["\u0275ted"](1,null,["",": ",""])),n["\u0275ppd"](2,2)],null,(function(t,e){var l=e.parent.context.$implicit.label,a=n["\u0275unv"](e,1,1,t(e,2,0,n["\u0275nov"](e.parent.parent.parent,0),e.parent.context.$implicit.value,e.parent.context.$implicit.format));t(e,1,0,l,a)}))}function wt(t){return n["\u0275vid"](0,[(t()(),n["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),n["\u0275and"](16777216,null,null,1,null,Pt)),n["\u0275did"](2,16384,null,0,F.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),n["\u0275and"](0,null,null,0))],(function(t,e){t(e,2,0,e.context.$implicit.visible)}),null)}function kt(t){return n["\u0275vid"](0,[(t()(),n["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),n["\u0275and"](16777216,null,null,1,null,wt)),n["\u0275did"](2,278528,null,0,F.m,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),n["\u0275and"](0,null,null,0))],(function(t,e){t(e,2,0,e.component.totals)}),null)}function Tt(t){return n["\u0275vid"](0,[(t()(),n["\u0275eld"](0,16777216,null,null,2,"button",[["class","control-btn-settings"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(t,e,l){var a=!0,o=t.component;return"longpress"===e&&(a=!1!==n["\u0275nov"](t,1).show()&&a),"keydown"===e&&(a=!1!==n["\u0275nov"](t,1)._handleKeydown(l)&&a),"touchend"===e&&(a=!1!==n["\u0275nov"](t,1)._handleTouchend()&&a),"click"===e&&(a=!1!==o.onEditTotalFields()&&a),a}),null,null)),n["\u0275did"](1,212992,null,0,L.d,[V.c,n.ElementRef,z.e,n.ViewContainerRef,n.NgZone,H.a,q.c,q.h,L.b,[2,W.b],[2,L.a],[2,Z.f]],{message:[0,"message"]},null),n["\u0275pid"](131072,I.i,[I.j,n.ChangeDetectorRef]),(t()(),n["\u0275and"](0,null,null,0))],(function(t,e){var l=e.component;t(e,1,0,n["\u0275unv"](e,1,0,n["\u0275nov"](e,2).transform(l.i18n+"edit-total-fields.button.tooltip")))}),null)}function Ft(t){return n["\u0275vid"](0,[(t()(),n["\u0275eld"](0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(t,e,l){var a=!0;return"click"===e&&(a=!1!==n["\u0275nov"](t,1)._selectViaInteraction()&&a),"keydown"===e&&(a=!1!==n["\u0275nov"](t,1)._handleKeydown(l)&&a),a}),X.b,X.a)),n["\u0275did"](1,8568832,[[10,4]],0,U.p,[n.ElementRef,n.ChangeDetectorRef,[2,U.j],[2,U.o]],{value:[0,"value"]},null),(t()(),n["\u0275ted"](2,0,[" "," "]))],(function(t,e){t(e,1,0,e.context.$implicit.value)}),(function(t,e){t(e,0,0,n["\u0275nov"](e,1)._getTabIndex(),n["\u0275nov"](e,1).selected,n["\u0275nov"](e,1).multiple,n["\u0275nov"](e,1).active,n["\u0275nov"](e,1).id,n["\u0275nov"](e,1)._getAriaSelected(),n["\u0275nov"](e,1).disabled.toString(),n["\u0275nov"](e,1).disabled),t(e,2,0,e.context.$implicit.label)}))}function Rt(t){return n["\u0275vid"](0,[(t()(),n["\u0275eld"](0,0,null,null,11,"mat-select",[["class","mat-select"],["role","listbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(t,e,l){var a=!0,o=t.component;return"keydown"===e&&(a=!1!==n["\u0275nov"](t,5)._handleKeydown(l)&&a),"focus"===e&&(a=!1!==n["\u0275nov"](t,5)._onFocus()&&a),"blur"===e&&(a=!1!==n["\u0275nov"](t,5)._onBlur()&&a),"ngModelChange"===e&&(a=!1!==o.onFilterChange(t.context.$implicit.name,l)&&a),a}),J.b,J.a)),n["\u0275prd"](6144,null,U.j,null,[K.c]),n["\u0275did"](2,671744,null,0,Y.v,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,Y.r,null,[Y.v]),n["\u0275did"](4,16384,null,0,Y.s,[[4,Y.r]],null,null),n["\u0275did"](5,2080768,null,3,K.c,[z.i,n.ChangeDetectorRef,n.NgZone,U.b,n.ElementRef,[2,W.b],[2,Y.u],[2,Y.k],[2,Q.c],[6,Y.r],[8,null],K.a,q.j],{placeholder:[0,"placeholder"]},null),n["\u0275qud"](603979776,10,{options:1}),n["\u0275qud"](603979776,11,{optionGroups:1}),n["\u0275qud"](603979776,12,{customTrigger:0}),n["\u0275prd"](2048,[[1,4],[2,4]],Q.d,null,[K.c]),(t()(),n["\u0275and"](16777216,null,1,1,null,Ft)),n["\u0275did"](11,278528,null,0,F.m,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.context.$implicit.value),t(e,5,0,e.context.$implicit.label),t(e,11,0,e.context.$implicit.items)}),(function(t,e){t(e,0,1,[n["\u0275nov"](e,4).ngClassUntouched,n["\u0275nov"](e,4).ngClassTouched,n["\u0275nov"](e,4).ngClassPristine,n["\u0275nov"](e,4).ngClassDirty,n["\u0275nov"](e,4).ngClassValid,n["\u0275nov"](e,4).ngClassInvalid,n["\u0275nov"](e,4).ngClassPending,n["\u0275nov"](e,5).id,n["\u0275nov"](e,5).tabIndex,n["\u0275nov"](e,5)._getAriaLabel(),n["\u0275nov"](e,5)._getAriaLabelledby(),n["\u0275nov"](e,5).required.toString(),n["\u0275nov"](e,5).disabled.toString(),n["\u0275nov"](e,5).errorState,n["\u0275nov"](e,5).panelOpen?n["\u0275nov"](e,5)._optionIds:null,n["\u0275nov"](e,5).multiple,n["\u0275nov"](e,5)._ariaDescribedby||null,n["\u0275nov"](e,5)._getAriaActiveDescendant(),n["\u0275nov"](e,5).disabled,n["\u0275nov"](e,5).errorState,n["\u0275nov"](e,5).required,n["\u0275nov"](e,5).empty])}))}function Dt(t){return n["\u0275vid"](0,[(t()(),n["\u0275eld"](0,0,null,null,12,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,tt.b,tt.a)),n["\u0275did"](1,7520256,null,9,Q.c,[n.ElementRef,n.ChangeDetectorRef,[2,U.h],[2,W.b],[2,Q.a],H.a,n.NgZone,[2,et.a]],null,null),n["\u0275qud"](603979776,1,{_controlNonStatic:0}),n["\u0275qud"](335544320,2,{_controlStatic:0}),n["\u0275qud"](603979776,3,{_labelChildNonStatic:0}),n["\u0275qud"](335544320,4,{_labelChildStatic:0}),n["\u0275qud"](603979776,5,{_placeholderChild:0}),n["\u0275qud"](603979776,6,{_errorChildren:1}),n["\u0275qud"](603979776,7,{_hintChildren:1}),n["\u0275qud"](603979776,8,{_prefixChildren:1}),n["\u0275qud"](603979776,9,{_suffixChildren:1}),(t()(),n["\u0275and"](16777216,null,1,1,null,Rt)),n["\u0275did"](12,278528,null,0,F.m,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,12,0,e.component.filters)}),(function(t,e){t(e,0,1,["standard"==n["\u0275nov"](e,1).appearance,"fill"==n["\u0275nov"](e,1).appearance,"outline"==n["\u0275nov"](e,1).appearance,"legacy"==n["\u0275nov"](e,1).appearance,n["\u0275nov"](e,1)._control.errorState,n["\u0275nov"](e,1)._canLabelFloat,n["\u0275nov"](e,1)._shouldLabelFloat(),n["\u0275nov"](e,1)._hasFloatingLabel(),n["\u0275nov"](e,1)._hideControlPlaceholder(),n["\u0275nov"](e,1)._control.disabled,n["\u0275nov"](e,1)._control.autofilled,n["\u0275nov"](e,1)._control.focused,"accent"==n["\u0275nov"](e,1).color,"warn"==n["\u0275nov"](e,1).color,n["\u0275nov"](e,1)._shouldForward("untouched"),n["\u0275nov"](e,1)._shouldForward("touched"),n["\u0275nov"](e,1)._shouldForward("pristine"),n["\u0275nov"](e,1)._shouldForward("dirty"),n["\u0275nov"](e,1)._shouldForward("valid"),n["\u0275nov"](e,1)._shouldForward("invalid"),n["\u0275nov"](e,1)._shouldForward("pending"),!n["\u0275nov"](e,1)._animationsEnabled])}))}function St(t){return n["\u0275vid"](0,[(t()(),n["\u0275eld"](0,0,null,null,23,"div",[["class","bottom-bar-body"]],[[2,"wide",null]],null,null,null,null)),(t()(),n["\u0275eld"](1,0,null,null,22,"div",[["class","store-details"]],null,null,null,null,null)),(t()(),n["\u0275eld"](2,0,null,null,9,"div",[["class","store-details-header"]],null,null,null,null,null)),(t()(),n["\u0275eld"](3,0,null,null,7,"div",[["class","store-details-header-left"]],null,null,null,null,null)),(t()(),n["\u0275and"](16777216,null,null,1,null,Dt)),n["\u0275did"](5,16384,null,0,F.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),n["\u0275eld"](6,0,null,null,4,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"],[null,"focus"]],(function(t,e,l){var a=!0,o=t.component;return"focus"===e&&(a=!1!==n["\u0275nov"](t,8)._inputElement.nativeElement.focus()&&a),"change"===e&&(a=!1!==o.onByStackedBarsChange(l.checked)&&a),a}),lt.b,lt.a)),n["\u0275prd"](5120,null,Y.q,(function(t){return[t]}),[nt.b]),n["\u0275did"](8,1228800,null,0,nt.b,[n.ElementRef,q.h,n.ChangeDetectorRef,[8,null],n.NgZone,nt.a,[2,et.a],[2,W.b]],{checked:[0,"checked"]},{change:"change"}),(t()(),n["\u0275ted"](9,0,[" "," "])),n["\u0275pid"](131072,I.i,[I.j,n.ChangeDetectorRef]),(t()(),n["\u0275eld"](11,0,null,null,0,"div",[["class","store-details-header-right"]],null,null,null,null,null)),(t()(),n["\u0275eld"](12,0,null,null,11,"div",[["class","store-details-body"]],null,null,null,null,null)),(t()(),n["\u0275eld"](13,0,null,null,4,"app-bar-chart",[],null,[[null,"chartClick"]],(function(t,e,l){var n=!0;return"chartClick"===e&&(n=!1!==t.component.onChartClick(l)&&n),n}),at.b,at.a)),n["\u0275prd"](512,null,F.B,F.C,[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](15,278528,null,0,F.l,[F.B],{ngClass:[0,"ngClass"]},null),n["\u0275did"](16,638976,null,0,ot.a,[n.ElementRef,P.a],{config:[0,"config"]},{chartClick:"chartClick"}),n["\u0275pid"](131072,F.b,[n.ChangeDetectorRef]),(t()(),n["\u0275eld"](18,0,null,null,2,"span",[["class","chart-label front-gross"]],null,null,null,null,null)),(t()(),n["\u0275ted"](19,null,["",""])),n["\u0275pid"](131072,I.i,[I.j,n.ChangeDetectorRef]),(t()(),n["\u0275eld"](21,0,null,null,2,"span",[["class","chart-label back-gross"]],null,null,null,null,null)),(t()(),n["\u0275ted"](22,null,["",""])),n["\u0275pid"](131072,I.i,[I.j,n.ChangeDetectorRef])],(function(t,e){var l=e.component;t(e,5,0,l.filters),t(e,8,0,l.isByStackedBars),t(e,15,0,l.chartClass),t(e,16,0,n["\u0275unv"](e,16,0,n["\u0275nov"](e,17).transform(l.data$)))}),(function(t,e){var l=e.component;t(e,0,0,l.isAccClient),t(e,6,0,n["\u0275nov"](e,8).id,n["\u0275nov"](e,8).disabled?null:-1,n["\u0275nov"](e,8).checked,n["\u0275nov"](e,8).disabled,"before"==n["\u0275nov"](e,8).labelPosition,"NoopAnimations"===n["\u0275nov"](e,8)._animationMode),t(e,9,0,n["\u0275unv"](e,9,0,n["\u0275nov"](e,10).transform(l.i18n+"bottom-bar.stacked-bars.label"))),t(e,19,0,n["\u0275unv"](e,19,0,n["\u0275nov"](e,20).transform(l.i18n+"bottom-bar.chart.frontend-gross.label"))),t(e,22,0,n["\u0275unv"](e,22,0,n["\u0275nov"](e,23).transform(l.i18n+"bottom-bar.chart.backend-gross.label")))}))}function At(t){return n["\u0275vid"](0,[n["\u0275pid"](0,_.a,[P.a,O.b]),(t()(),n["\u0275eld"](1,0,null,null,10,"div",[["class","bottom-bar-header"]],[[2,"narrow",null]],null,null,null,null)),(t()(),n["\u0275eld"](2,0,null,null,2,"div",[["class","bottom-bar-header-left"]],null,null,null,null,null)),(t()(),n["\u0275and"](16777216,null,null,1,null,vt)),n["\u0275did"](4,16384,null,0,F.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),n["\u0275eld"](5,0,null,null,6,"div",[["class","bottom-bar-header-right"]],[[2,"account-client",null]],null,null,null,null)),(t()(),n["\u0275and"](16777216,null,null,1,null,_t)),n["\u0275did"](7,16384,null,0,F.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),n["\u0275and"](16777216,null,null,1,null,kt)),n["\u0275did"](9,16384,null,0,F.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),n["\u0275and"](16777216,null,null,1,null,Tt)),n["\u0275did"](11,16384,null,0,F.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),n["\u0275and"](16777216,null,null,1,null,St)),n["\u0275did"](13,16384,null,0,F.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(t,e){var l=e.component;t(e,4,0,!l.isEmptyChartPanel),t(e,7,0,l.isAccClient),t(e,9,0,!l.isAccClient),t(e,11,0,l.hasEditTotalButton),t(e,13,0,!l.isEmptyChartPanel)}),(function(t,e){var l=e.component;t(e,1,0,l.isAccClient),t(e,5,0,l.isAccClient)}))}var Gt=l("zp2H"),It=l("v67E"),Et=l("2v1Z"),Bt=l("BFEL"),$t=l("zp1y"),jt=l("wd/R"),Nt=l("BTBr"),Lt=l("VHTt"),Vt=l("/gN3"),zt=l("NAMS");class Ht{constructor(t,e,l,n,o,i,r,s){this.document=t,this.translate=e,this.dialog=l,this.tracking=n,this.filterData=o,this.dataApi=i,this.dataService=r,this.authService=s,this.i18n=a,this.allowPagination=!1,this.isAccClient=!1,this.showAccTotals=!1,this.isCommentsView=!1,this.commentType=zt.a.Operations,this.isHAG=!1,this.PARTS_REPORT=6,this.SP_REPORT=5,this.SRO_REPORT=7,this.subs=[]}set sub(t){this.subs.push(t)}ngOnInit(){this.currentUser=this.authService.getCurrentUser(),this.isHAG=this.currentUser.instance_name.indexOf("HAG")>=0,this.dataService.init(),this.filterData.setCurrentPage(rt.b.ByStore),this.filterData.showFilters(["store","dateRange","report","view","opsfilter"]),this.loading$=this.dataService.loading$,this.initGridOptions(),this.initStreams(),this.initSubscriptions()}ngOnDestroy(){this.dataService.destroy(),this.subs.forEach(t=>t.unsubscribe())}onTrackTableChanges(){this.trackAction(Nt.a.Load,this.table.grid)}onFilterChanged(t){const e=t.api.getModel();this.setTotals(e&&e.rowsToDisplay)}exportDataAs(t){const e=(new Date).toDateString(),l=this.filterData.getFiltersListItems();this.sub=this.translate.get(a+"byPage.export.file-name").subscribe(n=>{let a=n+" "+e;switch("7"===this.report.value&&(a=n+" "+e+" - ServiceOpenRO"),t){case Lt.a.XLS:this.table.exportDataAsXls(a,l),this.trackAction(Nt.a.ExportXls,this.table.grid);break;case Lt.a.PDF:this.table.exportDataAsPdf(a,l,()=>this.trackAction(Nt.a.ExportPdf,this.table.grid),{max:11,invisible:["comment_count"]})}})}exportDetailsDataAs(t){this.sub=this.translate.get(a+"drill.modal.export.file-name").subscribe(e=>{const l=e+" "+this.selectedControl;switch(t){case Lt.a.XLS:this.detailsGrid.exportDataAsXls(l);break;case Lt.a.PDF:this.detailsGrid.exportDataAsPdf(l)}})}exportBalanceDataAs(t){this.sub=this.translate.get(a+"balance.modal.export.file-name").subscribe(e=>{switch(t){case Lt.a.XLS:this.balanceGrid.exportDataAsXls(e);break;case Lt.a.PDF:this.balanceGrid.exportDataAsPdf(e)}})}openEditTotalFieldsModal(){this.editTotalFieldsModal.showModal()}closeEditTotalFieldsModal(){this.editTotalFieldsModal.closeModal()}saveTotalFields(t){this.dataApi.saveTotalFields({report:this.report.value,fields:t}).subscribe(()=>{this.sub=this.translate.get(a+"total-fields.message.success").subscribe(t=>this.dialog.success(t)),t.forEach(t=>{this.totals.forEach(e=>{e.field===t.field&&(e.visible=t.visible)}),this.columns.forEach(e=>{e.field===t.field&&e.data&&(e.data.isTotal=t.visible)})}),this.closeEditTotalFieldsModal()})}onTotalItemClick(t){switch(t.key){case"balance":this.showBalanceModal()}}onCloseComments(){this.commentNode=null,this.isCommentsView=!1,this.table.agGrid.api.refreshCells(),this.hostClass="host-old"}onCommentsChange(t){this.commentNode.setDataValue("comment_last",t.last),this.commentNode.setDataValue("comment_count",t.total),null!=this.commentNode&&null!=this.commentNode.data&&(this.commentNode.data.comment_last=t.last,this.commentNode.data.comment_count=t.total,this.table.agGrid.api.refreshCells())}trackAction(t,e){const l=this.filterData.getFiltersListItems();this.tracking.log({page:Nt.b.Operations,section:Nt.c.ByStore,event:t,params:l,grid:e})}initStreams(){}initSubscriptions(){this.sub=this.dataService.data$.pipe(Object($t.a)(this.filterData.selectedReport$)).subscribe(([t,e])=>{this.columns=[],this.isHAG||"7"!==e?t.labels.forEach((t,l)=>{this.columns.push(new Vt.a({field:t.c,name:t.b,labelFormat:this.mapColLabelFormat(t.c),filter:this.mapColFilter(t.c),cellRenderer:this.mapColCellRenderer(t.c),align:this.mapColAlign(t.c),data:{isTotal:+t.totalfield},pinned:this.isAccClient&&this.filterData.isAccReport(e)&&l<=5?"left":null}))}):this.columns=this.getColumnDefsRO(),this.data=t.data,this.isHAG||"7"!==e||(this.totalROData=this.data.pop()),this.isHAG||"6"!==e||this.data.pop(),this.balanceAmt=+t.balanceAmt,this.allowPagination=this.data.length>1e3,setTimeout(()=>{this.setTotals()}),this.trackAction(Nt.a.Load)}),this.sub=this.filterData.selectedReport$.pipe(Object(it.a)(this.filterData.reports$),Object(mt.a)(([t,e])=>e.find(e=>e.value===t))).subscribe(t=>this.report=t),this.sub=this.filterData.selectedStore$.pipe(Object(it.a)(this.filterData.stores$),Object(mt.a)(([t,e])=>e.find(e=>e.value===t))).subscribe(t=>this.store=t),this.sub=this.filterData.isAcc$.pipe(Object(it.a)(this.filterData.selectedReport$)).subscribe(([t,e])=>{this.isAccClient=t,this.reportId=e,this.showAccTotals=t&&this.filterData.isAccTotalsReport(e)}),this.hostClass="host-old"}getColumnDefsRO(){const t=[],e={[Vt.d.Money]:Vt.c.NumberRange,[Vt.d.Integer]:Vt.c.NumberRange,[Vt.d.Default]:Vt.c.String};return this.sub=this.translate.get([a+"open-parts-grid-store",a+"open-parts-grid-age",a+"open-parts-grid-rodate",a+"open-parts-grid-ro",a+"open-parts-grid-custname",a+"open-parts-grid-year",a+"open-parts-grid-make",a+"open-parts-grid-advisor",a+"open-parts-grid-totsale",a+"open-parts-grid-totgross",a+"open-parts-grid-customerpay",a+"open-parts-grid-warranty",a+"open-parts-grid-internal",a+"open-parts-grid-sale",a+"open-parts-grid-gross",a+"open-parts-grid-parts",a+"open-parts-grid-sublet",a+"open-parts-grid-misc",a+"open-parts-grid-lube",a+"open-parts-grid-shopcharge",a+"open-parts-grid-discounts",a+"open-parts-grid-labor",a+"open-parts-grid-comments",a+"open-parts-grid-comments-count"]).subscribe(l=>{t.push({name:"",children:[{name:"Id",field:"storeid",hide:!0},{name:l[a+"open-parts-grid-store"],field:"storeName",filter:e[Vt.d.Default],hide:!0,pinned:!0,supressMove:!0},{name:l[a+"open-parts-grid-age"],field:"Age",filter:e[Vt.d.Integer],align:Vt.b.Center,pinned:!0,supressMove:!0},{name:l[a+"open-parts-grid-rodate"],field:"Opendate",labelFormat:Vt.d.Date,filter:e[Vt.d.Default],align:Vt.b.Left,pinned:!0,supressMove:!0},{name:l[a+"open-parts-grid-ro"],field:"RO",filter:e[Vt.d.Default],align:Vt.b.Center,pinned:!0,supressMove:!0},{name:l[a+"open-parts-grid-custname"],filter:e[Vt.d.Default],field:"CustomerName",pinned:!0,supressMove:!0},{name:l[a+"open-parts-grid-year"],field:"StrYear",filter:e[Vt.d.Integer],align:Vt.b.Center},{name:l[a+"open-parts-grid-make"],filter:e[Vt.d.Default],field:"Make"},{name:l[a+"open-parts-grid-advisor"],filter:e[Vt.d.Default],field:"AdvisorName"},{name:l[a+"open-parts-grid-totsale"],field:"TotSale",labelFormat:Vt.d.Money,filter:e[Vt.d.Money],align:Vt.b.Right},{name:l[a+"open-parts-grid-totgross"],field:"TotGross",labelFormat:Vt.d.Money,filter:e[Vt.d.Money],align:Vt.b.Right}]},{name:l[a+"open-parts-grid-customerpay"],align:Vt.b.Center,headerClass:"colorGroupHeader",children:[{name:l[a+"open-parts-grid-sale"],field:"C_LaborSale",labelFormat:Vt.d.Money,filter:e[Vt.d.Money],align:Vt.b.Right,cellClass:"customcell",headerClass:"colorHeader"},{name:l[a+"open-parts-grid-gross"],field:"C_LaborGross",labelFormat:Vt.d.Money,filter:e[Vt.d.Money],align:Vt.b.Right,cellClass:"customcell",headerClass:"colorHeader"}]},{name:l[a+"open-parts-grid-warranty"],align:Vt.b.Center,headerClass:"noncolorGroupHeader",children:[{name:l[a+"open-parts-grid-sale"],field:"W_LaborSale",labelFormat:Vt.d.Money,filter:e[Vt.d.Money],align:Vt.b.Right,headerClass:"noncolorHeader"},{name:l[a+"open-parts-grid-gross"],field:"W_LaborGross",labelFormat:Vt.d.Money,filter:e[Vt.d.Money],align:Vt.b.Right,headerClass:"noncolorHeader"}]},{name:l[a+"open-parts-grid-internal"],align:Vt.b.Center,headerClass:"colorGroupHeader",children:[{name:l[a+"open-parts-grid-sale"],field:"I_LaborSale",labelFormat:Vt.d.Money,filter:e[Vt.d.Money],align:Vt.b.Right,cellClass:"customcell",headerClass:"colorHeader"},{name:l[a+"open-parts-grid-gross"],field:"I_LaborGross",labelFormat:Vt.d.Money,filter:e[Vt.d.Money],align:Vt.b.Right,cellClass:"customcell",headerClass:"colorHeader"}]},{name:l[a+"open-parts-grid-parts"],align:Vt.b.Center,headerClass:"noncolorGroupHeader",children:[{name:l[a+"open-parts-grid-sale"],field:"PartsSale",labelFormat:Vt.d.Money,filter:e[Vt.d.Money],align:Vt.b.Right,headerClass:"noncolorHeader"},{name:l[a+"open-parts-grid-gross"],field:"PartsGross",labelFormat:Vt.d.Money,filter:e[Vt.d.Money],align:Vt.b.Right,headerClass:"noncolorHeader"}]},{name:l[a+"open-parts-grid-misc"],align:Vt.b.Center,headerClass:"colorGroupHeader",children:[{name:l[a+"open-parts-grid-sale"],field:"MiscSale",labelFormat:Vt.d.Money,filter:e[Vt.d.Money],align:Vt.b.Right,cellClass:"customcell",headerClass:"colorHeader"},{name:l[a+"open-parts-grid-gross"],field:"MiscGross",labelFormat:Vt.d.Money,filter:e[Vt.d.Money],align:Vt.b.Right,cellClass:"customcell",headerClass:"colorHeader"}]},{name:l[a+"open-parts-grid-sublet"],align:Vt.b.Center,headerClass:"noncolorGroupHeader",children:[{name:l[a+"open-parts-grid-sale"],field:"SubletSale",labelFormat:Vt.d.Money,filter:e[Vt.d.Money],align:Vt.b.Right,headerClass:"noncolorHeader"},{name:l[a+"open-parts-grid-gross"],field:"SubletGross",labelFormat:Vt.d.Money,filter:e[Vt.d.Money],align:Vt.b.Right,headerClass:"noncolorHeader"}]},{name:l[a+"open-parts-grid-lube"],align:Vt.b.Center,headerClass:"colorGroupHeader",children:[{name:l[a+"open-parts-grid-sale"],field:"LubeSale",labelFormat:Vt.d.Money,filter:e[Vt.d.Money],align:Vt.b.Right,cellClass:"customcell",headerClass:"colorHeader"},{name:l[a+"open-parts-grid-gross"],field:"LubeGross",labelFormat:Vt.d.Money,filter:e[Vt.d.Money],align:Vt.b.Right,cellClass:"customcell",headerClass:"colorHeader"}]},{name:l[a+"open-parts-grid-shopcharge"],align:Vt.b.Center,headerClass:"noncolorGroupHeader",children:[{name:l[a+"open-parts-grid-sale"],field:"ShopChargeSale",labelFormat:Vt.d.Money,filter:e[Vt.d.Money],align:Vt.b.Right,headerClass:"noncolorHeader"},{name:l[a+"open-parts-grid-gross"],field:"ShopChargeGross",labelFormat:Vt.d.Money,filter:e[Vt.d.Money],align:Vt.b.Right,headerClass:"noncolorHeader"}]},{name:l[a+"open-parts-grid-discounts"],align:Vt.b.Center,headerClass:"colorGroupHeader",children:[{name:l[a+"open-parts-grid-labor"],field:"LaborDiscount",labelFormat:Vt.d.Money,filter:e[Vt.d.Money],align:Vt.b.Right,cellClass:"customcell",headerClass:"colorHeader"},{name:l[a+"open-parts-grid-parts"],field:"PartsDiscount",labelFormat:Vt.d.Money,filter:e[Vt.d.Money],align:Vt.b.Right,cellClass:"customcell",headerClass:"colorHeader"}]},{name:l[a+"open-parts-grid-comments"],align:Vt.b.Center,headerClass:"noncolorGroupHeader",children:[{name:l[a+"open-parts-grid-comments"],field:"comment_last",align:Vt.b.Left},{name:l[a+"open-parts-grid-comments-count"],field:"comment_count",align:Vt.b.Center,cellRenderer:this.mapColCellRenderer("comment_count")}]})}),t}setTotals(t){this.showAccTotals?this.setAccTotals(t):this.setCommonTotals(t)}setCommonTotals(t){this.totals=[],this.accTotals=[];let e=[];e=t?t.map(t=>t.data):this.data;let l=1;if(this.filterData.selectedReport$.subscribe(t=>{l=t}),this.isHAG||"7"!==l?this.columns.filter(t=>t.hasMoneyFormat&&!!e.find(e=>!!e[t.field]||0===e[t.field])).forEach(t=>{const l=e.reduce((e,l)=>+l[t.field]+e,0);this.totals.push({field:t.field,label:t.name,value:l,format:"amt",visible:t.data&&t.data.isTotal})}):this.totals.push({field:"TotSale",label:"SALES",value:this.totalROData.TotSale,format:"amt",visible:!0}),this.reportId===this.PARTS_REPORT){let t=0;e.filter(t=>!!t.PartsCount&&0!=+t.PartsCount).forEach(e=>{t+=1}),this.translate.get(a+"table.total.count").subscribe(e=>{this.totals.push({field:"count",label:e,value:t,format:"cnt",visible:!0})})}else this.reportId===this.SP_REPORT?this.translate.get(a+"table.total.count").subscribe(t=>{this.totals.push({field:"PartDesc",label:t,value:this.table.getCount(),format:"cnt",visible:!0})}):this.reportId===this.SRO_REPORT.toString()?this.translate.get(a+"table.total.count").subscribe(t=>{let e=this.table.getCount();void 0===this.data&&null===this.data||(e=[...new Set(this.data.map(t=>t.RO))].length),this.totals.push({field:"count",label:t,value:e,format:"cnt",visible:!0})}):this.translate.get(a+"table.total.count").subscribe(t=>{this.totals.push({field:"count",label:t,value:this.table.getCount(),format:"cnt",visible:!0})})}setAccTotals(t){this.totals=[],this.accTotals=[];let e=[];e=t?t.map(t=>t.data):this.data,this.translate.get(["acc-total.acc-front-gross","acc-total.acc-back-gross","acc-total.acc-total-gross","acc-total.fi-front-gross","acc-total.fi-back-gross","acc-total.fi-total-gross","acc-total.amount","acc-total.deal-count","acc-total.total-avg","acc-total.avg-days","acc-total.memo-balance-amount","acc-total.acc-avg-front","acc-total.acc-avg-back","acc-total.acc-avg-total","acc-total.fi-avg-front","acc-total.fi-avg-back","acc-total.fi-avg-total"].map(t=>a+t)).pipe(Object($t.a)(this.filterData.selectedAccView$)).subscribe(([t,l])=>{let n=0;const o={acc:{front:0,back:0,total:0},fi:{front:0,back:0,total:0},deal:e.reduce((t,e)=>(e.dealCnt?+e.dealCnt:0)+t,0)},i=0===o.deal?1:o.deal;if(-1!==[rt.d.FiOnlyNotDelivered,rt.d.FiOnlyAccVariance].indexOf(l)){for(const t of e)o.acc.front+=t.accFrontGross?+t.accFrontGross:0,o.acc.back+=t.accBackGross?+t.accBackGross:0,o.fi.front+=t.FrontGross?+t.FrontGross:0,o.fi.back+=t.BackGross?+t.BackGross:0;o.acc.total=o.acc.front+o.acc.back,o.fi.total=o.fi.front+o.fi.back}else if(e.filter(t=>t.accFI&&-1!==t.accFI.indexOf("ACC")).forEach(t=>{o.acc.front+=t.accFrontGross?+t.accFrontGross:0,o.acc.back+=t.accBackGross?+t.accBackGross:0,o.acc.total+=t.accTotalGross?+t.accTotalGross:0}),-1!==[rt.d.Summary,rt.d.FiOnly].indexOf(l)){const t=jt().add(-1,"days");e.filter(t=>t.accFI&&-1!==t.accFI.indexOf("FI")).forEach(e=>{o.fi.front+=e.FrontGross?+e.FrontGross:0,o.fi.back+=e.BackGross?+e.BackGross:0,o.fi.total+=e.amt?+e.amt:0,n+=t.diff(jt(e.acctDate),"days")})}switch(l){case rt.d.Summary:this.accTotals.push([{label:t[a+"acc-total.acc-front-gross"],value:o.acc.front},{label:t[a+"acc-total.acc-back-gross"],value:o.acc.back},{label:t[a+"acc-total.acc-total-gross"],value:o.acc.total}]),this.accTotals.push([{label:t[a+"acc-total.fi-front-gross"],value:o.fi.front},{label:t[a+"acc-total.fi-back-gross"],value:o.fi.back},{label:t[a+"acc-total.fi-total-gross"],value:o.fi.total}]),this.accTotals.push([{label:t[a+"acc-total.amount"],value:o.acc.total+o.fi.total},{label:t[a+"acc-total.deal-count"],value:o.deal},{label:t[a+"acc-total.total-avg"],value:(o.acc.total+o.fi.total)/i}]),this.accTotals.push([{label:"",value:""},{label:"",value:""},{label:t[a+"acc-total.memo-balance-amount"],value:this.balanceAmt,clickable:!0,key:"balance"}]);break;case rt.d.Accounting:this.accTotals.push([{label:t[a+"acc-total.acc-front-gross"],value:o.acc.front},{label:t[a+"acc-total.acc-back-gross"],value:o.acc.back},{label:t[a+"acc-total.acc-total-gross"],value:o.acc.total}]),this.accTotals.push([{label:t[a+"acc-total.acc-avg-front"],value:o.acc.front/i},{label:t[a+"acc-total.acc-avg-back"],value:o.acc.back/i},{label:t[a+"acc-total.acc-avg-total"],value:o.acc.total/i}]),this.accTotals.push([{label:"",value:""},{label:t[a+"acc-total.deal-count"],value:o.deal},{label:"",value:""}]);break;case rt.d.FiOnly:this.accTotals.push([{label:t[a+"acc-total.fi-front-gross"],value:o.fi.front},{label:t[a+"acc-total.fi-back-gross"],value:o.fi.back},{label:t[a+"acc-total.fi-total-gross"],value:o.fi.total}]),this.accTotals.push([{label:t[a+"acc-total.fi-avg-front"],value:o.fi.front/i},{label:t[a+"acc-total.fi-avg-back"],value:o.fi.back/i},{label:t[a+"acc-total.fi-avg-total"],value:o.fi.total/i}]),this.accTotals.push([{label:"",value:""},{label:t[a+"acc-total.deal-count"],value:o.deal},{label:"",value:""}]);break;default:this.accTotals.push([{label:t[a+"acc-total.acc-front-gross"],value:o.acc.front},{label:t[a+"acc-total.acc-back-gross"],value:o.acc.back},{label:t[a+"acc-total.acc-total-gross"],value:o.acc.total}]),this.accTotals.push([{label:t[a+"acc-total.fi-front-gross"],value:o.fi.front},{label:t[a+"acc-total.fi-back-gross"],value:o.fi.back},{label:t[a+"acc-total.fi-total-gross"],value:o.fi.total}]),this.accTotals.push([{label:"",value:""},{label:t[a+"acc-total.deal-count"],value:o.deal},{label:t[a+"acc-total.total-avg"],value:(o.acc.total+(l===rt.d.FiOnlyAccVariance?0:o.fi.total))/i}])}l===rt.d.FiOnly&&this.accTotals.push([{label:"",value:""},{label:"",value:""},{label:t[a+"acc-total.avg-days"],value:n/i}])})}mapColLabelFormat(t){const e={entry:Vt.d.Date,Age:Vt.d.Integer,FrontGross:Vt.d.Money,BackGross:Vt.d.Money,accFrontGross:Vt.d.Money,accBackGross:Vt.d.Money,accTotalGross:Vt.d.Money,TotalGross:Vt.d.Money,amt:Vt.d.Money,Cost:Vt.d.Money,TotalSale:Vt.d.Money,TotalCost:Vt.d.Money,TotalPartsSale:Vt.d.Money,TotalGP:Vt.d.Money,BackGrossVar:Vt.d.Money,frontGrossVar:Vt.d.Money,FrontGrossVar:Vt.d.Money,Laborgross:Vt.d.Money,Partsgross:Vt.d.Money,PartsCount:Vt.d.Integer,ROTotal_C:Vt.d.Money,ROTotal_I:Vt.d.Money,ROTotal_W:Vt.d.Money,ROTotal:Vt.d.Money};return!e[t]&&(t.toLowerCase().indexOf("gross")>-1||t.toLowerCase().indexOf("total")>-1)?Vt.d.Money:e[t]||Vt.d.Default}mapColFilter(t){return{entry:Vt.c.DateRange,strYear:Vt.c.NumberRange,DealType:Vt.c.MultiChoice,Make:Vt.c.MultiChoice,Model:Vt.c.MultiChoice,Age:Vt.c.NumberRange,status:Vt.c.MultiChoice,SalesmenName:Vt.c.MultiChoice,FIManagerName:Vt.c.MultiChoice,FrontGross:Vt.c.NumberRange,BackGross:Vt.c.NumberRange,accFrontGross:Vt.c.NumberRange,accBackGross:Vt.c.NumberRange,accTotalGross:Vt.c.NumberRange,amt:Vt.c.NumberRange,Cost:Vt.c.NumberRange,TotalSale:Vt.c.NumberRange,TotalCost:Vt.c.NumberRange,BackGrossVar:Vt.c.NumberRange,frontGrossVar:Vt.c.NumberRange,FrontGrossVar:Vt.c.NumberRange}[t]||Vt.c.String}mapColCellRenderer(t){const e=(t,e)=>{const l=this.document.createElement("span");return l.innerText=t.valueFormatted,l.className="link",l.addEventListener("click",l=>{l.preventDefault(),l.stopPropagation(),this.selectedControl=t.data[e],this.isByStock="stock"===e,this.showDetailsModal()}),l};return{deal:t=>e(t,"deal"),stock:t=>e(t,"stock"),comment_count:t=>{const e=this.document.createElement("span");return e.innerText=t.valueFormatted,e.className="ag-comments-trigger",e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),this.commentNode=t.node,this.commentSubType=t.data.comment_key,this.commentTitles=t.columnApi.getAllDisplayedColumns().filter(t=>-1===t.getColId().indexOf("comment_")).map(e=>({label:e.getColDef().headerName,value:e.getColDef().valueFormatter(t)})),this.isCommentsView=!0,this.hostClass="host-new"}),e}}[t]}mapColAlign(t){return{comment_count:Vt.b.Right,accFI:Vt.b.Right}[t]||Vt.b.Left}showDetailsModal(){this.detailsData=null,this.detailsTotals=[],this.detailsLoading=!0,this.detailsModal.showModal();const t=["drill.modal.grid.column.gl-acc","drill.modal.grid.column.gl-desc","drill.modal.grid.column.gl-type","drill.modal.grid.column.gl-date","drill.modal.grid.column.posting-desc","drill.modal.grid.column.post-amount","drill.modal.grid.column.jrn-id","drill.modal.grid.column.ref-idc","drill.modal.grid.column.gross-spec","drill.modal.footer.total.count"].map(t=>a+t);this.sub=this.translate.get(t).pipe(Object($t.a)(this.filterData.value$)).subscribe(([e,{report:l,store:n}])=>{const o={d:Vt.d.Date,PostAmount:Vt.d.Money2},i={d:Vt.c.DateRange,PostAmount:Vt.c.NumberRange};this.detailsColumns=["GLAcct","GLDesc","AccType","d","a","PostAmount","JournalID","b","GLGross"].map((l,n)=>new Vt.a({field:l,name:e[t[n]],labelFormat:o[l]||Vt.d.Default,filter:i[l]||Vt.c.String,align:Vt.b.Right})),this.detailsTotalsFields=this.detailsColumns.filter(t=>t.hasNumericFormat).map(t=>t.field),this.dataApi.getDetailsByControl({report:l,store:n,control:this.selectedControl,byStock:this.isByStock}).subscribe(({data:t})=>{this.detailsData=t,this.detailsLoading=!1;const l=t.reduce((t,e)=>t+ +e.PostAmount,0);this.detailsTotals=[{label:e[a+"drill.modal.grid.column.post-amount"],value:l,format:"amt2"},{label:e[a+"drill.modal.footer.total.count"],value:t.length,format:"cnt"}]})})}showBalanceModal(){this.balanceData=null,this.balanceTotals=[],this.balanceLoading=!0,this.balanceModal.showModal();const t=["balance.modal.grid.column.gl-acc","balance.modal.grid.column.gl-desc","balance.modal.grid.column.gl-type","balance.modal.grid.column.gl-date","balance.modal.grid.column.posting-desc","balance.modal.grid.column.post-amount","balance.modal.grid.column.jrn-id","balance.modal.grid.column.ref-id","balance.modal.grid.column.fi-stock-type","balance.modal.grid.column.fi-deal-type","balance.modal.grid.column.fi-status","balance.modal.footer.total.count"].map(t=>a+t);this.sub=this.translate.get(t).pipe(Object($t.a)(this.filterData.value$)).subscribe(([e,l])=>{const n={d:Vt.d.Date,PostAmount:Vt.d.Money},o={d:Vt.c.DateRange,PostAmount:Vt.c.NumberRange};this.balanceColumns=["GLAcct","GLDesc","AccType","d","a","PostAmount","JournalID","b","StockType","DealType","Status"].map((l,a)=>new Vt.a({field:l,name:e[t[a]],labelFormat:n[l]||Vt.d.Default,filter:o[l]||Vt.c.String,align:Vt.b.Right})),this.balanceTotalsFields=this.balanceColumns.filter(t=>t.hasNumericFormat).map(t=>t.field),this.dataApi.getDetailsBalance(l).subscribe(({data:t})=>{this.balanceData=t,this.balanceLoading=!1;const l=t.reduce((t,e)=>t+ +e.PostAmount,0);this.balanceTotals=[{label:e[a+"balance.modal.grid.column.post-amount"],value:l,format:"amt"},{label:e[a+"balance.modal.footer.total.count"],value:t.length,format:"cnt"}]})})}initGridOptions(){this.gridOptions={}}}var qt=l("xxE9"),Wt=n["\u0275crt"]({encapsulation:0,styles:[[".grid-wrapper[_ngcontent-%COMP%]{width:100%;flex:1 1 100%;height:100%;max-width:100%;background-color:#fff;box-shadow:2px 2px 5px 1px #c1bebe}.top-controls-block[_ngcontent-%COMP%]{height:60px;display:flex;justify-content:space-between}.top-controls-block-left[_ngcontent-%COMP%]{width:calc(100% - 160px);flex:1 1 calc(100% - 160px);padding:20px 20px 10px;display:flex;align-items:center}.top-controls-block-right[_ngcontent-%COMP%]{width:160px;flex:1 0 160px;padding:20px 20px 10px;display:flex;align-items:center;justify-content:flex-end}.top-controls-block-heading[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#404040;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.filters-block[_ngcontent-%COMP%]{height:70px;padding:10px 20px 20px}.grid-block[_ngcontent-%COMP%]{display:flex}.grid-block-content[_ngcontent-%COMP%]{width:calc(100% - 40px);flex:1 0 calc(100% - 40px);position:relative}.grid-block-content[_ngcontent-%COMP%]   app-default-grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;will-change:auto;transition:all .5s ease;transform:translate3d(0,0,0)}.grid-block-sidebar[_ngcontent-%COMP%]{width:40px;flex:0 0 40px;border-left:1px solid #ddd}.grid-block-more-info-trigger[_ngcontent-%COMP%]{display:block;height:60px;cursor:pointer;position:relative}.grid-block-more-info-trigger[_ngcontent-%COMP%]:before{content:'\\E5D4';font-family:\"Material Icons\";font-size:24px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.grid-block-more-info-trigger.opened[_ngcontent-%COMP%]:before{content:'\\E5D3'}.top-control-btn[_ngcontent-%COMP%]{color:#5b5b5b;cursor:pointer;margin-left:20px;margin-top:-2px;display:inline-block}.top-control-label[_ngcontent-%COMP%]{color:#747474;font-size:14px;margin-left:10px}.mat-checked[_ngcontent-%COMP%]   .top-control-label[_ngcontent-%COMP%]{color:#2196f3}.tabs-block[_ngcontent-%COMP%]{height:60px;padding:10px 20px 16px}.tab[_ngcontent-%COMP%]{display:inline-block;height:34px;line-height:34px;border-radius:17px;padding-left:15px;padding-right:15px;color:#404040;font-size:14px;font-weight:500;background-color:#e5e5e5;cursor:pointer}.tab.active[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]:hover{color:#3498db;background-color:#e2eff8}.tab[_ngcontent-%COMP%]:not(:last-child){margin-right:15px}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 0 10px;height:45px}.modal-header-right[_ngcontent-%COMP%]   .top-control-btn[_ngcontent-%COMP%]:last-child{margin-right:-4px}.modal-header.with-outer-padding-overwrite[_ngcontent-%COMP%]{margin-top:-19px;margin-left:-19px;margin-right:-19px;padding:10px 20px}.modal-header.with-padding[_ngcontent-%COMP%]{padding:10px 20px}.modal-body[_ngcontent-%COMP%]{height:calc(100% - 45px);position:relative}.modal-body.with-footer[_ngcontent-%COMP%]{height:calc(100% - 45px - 50px)}.modal-body.full-height[_ngcontent-%COMP%]{height:100%}.modal-body.with-min-size[_ngcontent-%COMP%]{min-width:850px;min-height:300px;margin-left:-19px;margin-right:-19px}.modal-body.with-outer-padding-overwrite[_ngcontent-%COMP%]{margin-left:-19px;margin-right:-19px;margin-bottom:-19px}.modal-body[_ngcontent-%COMP%]   app-default-grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}.modal-footer[_ngcontent-%COMP%]{height:50px;display:flex;align-items:center;justify-content:flex-end;background:#eee;margin:0 -19px -19px;padding:0 19px}.modal-footer-text[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#404040;padding-right:15px}.modal-footer-text.last[_ngcontent-%COMP%]{padding-left:15px;padding-right:0}.modal-footer-text.last[_ngcontent-%COMP%]:before{content:'|';position:relative;left:-13px}.modal-heading[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.fi-list[_ngcontent-%COMP%]{display:flex;margin:25px 0;padding:15px 0;border-bottom:1px solid #ddd}.fi-list.single[_ngcontent-%COMP%]{padding:5px 0;margin:0;border-bottom:0}.fi-list-item[_ngcontent-%COMP%]{width:33%;flex:0 0 33%;padding:0 5px}.single[_ngcontent-%COMP%]   .fi-list-item[_ngcontent-%COMP%]:nth-of-type(1){padding-left:0}.single[_ngcontent-%COMP%]   .fi-list-item[_ngcontent-%COMP%]:nth-of-type(3){padding-right:0}.penetration-list.horizontal[_ngcontent-%COMP%]{display:flex;align-items:center}.penetration-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin:25px 0;padding:15px 0 30px;border-bottom:1px solid #ddd}.horizontal[_ngcontent-%COMP%]   .penetration-item[_ngcontent-%COMP%]{width:50%;flex:0 0 50%;padding:10px 15px 10px 0;margin:0;border-bottom:none}.penetration-title[_ngcontent-%COMP%]{width:30%;flex:0 0 30%;font-size:14px;color:#404040;padding-right:5px;overflow:hidden;text-overflow:ellipsis}.penetration-graph[_ngcontent-%COMP%]{width:50%;flex:0 0 50%;padding:0 5px}.penetration-rank[_ngcontent-%COMP%]{width:20%;flex:0 0 20%;padding:0 5px;text-align:center}.chargeback[_ngcontent-%COMP%]{text-align:center;margin:50px 0 30px}.chargeback[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{margin:0 0 5px;font-size:20px;font-weight:600}.chargeback-value[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#404040}.control-btn-settings[_ngcontent-%COMP%]{display:inline-block;width:24px;height:24px;position:relative;cursor:pointer}.control-btn-settings[_ngcontent-%COMP%]:before{content:'\\e8b8';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#5b5b5b;font-size:24px;font-family:\"Material Icons\"}.drill-info[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;list-style:none;padding:0;margin:0}.drill-info-item[_ngcontent-%COMP%]{color:#404040;font-size:14px;margin-right:25px}.drill-info-label[_ngcontent-%COMP%]{font-weight:400}.drill-info-value[_ngcontent-%COMP%]{font-weight:500}[_nghost-%COMP%]{display:flex;height:100%;background-color:#fff}.host-new[_nghost-%COMP%]{flex:0 0 calc(100% - 450px)!important;width:calc(100% - 450px)!important}.host-old[_nghost-%COMP%]{flex:0 0 100%!important;width:100%!important}[_nghost-%COMP%]     app-bar-chart{width:100%;overflow-x:auto}[_nghost-%COMP%]     app-bar-chart.by-salesperson .chart{width:2500px}[_nghost-%COMP%]     app-bar-chart.by-customer .chart{width:9000px}[_nghost-%COMP%]     .ag-theme-material .link{text-decoration:underline}[_nghost-%COMP%]     .ag-theme-material span.ag-group-contracted{flex:0 0 20px;margin-right:4px}[_nghost-%COMP%]     .ag-theme-material .green, [_nghost-%COMP%]     .ag-theme-material .green-light, [_nghost-%COMP%]     .ag-theme-material .orange, [_nghost-%COMP%]     .ag-theme-material .red{position:relative;padding-right:15px}[_nghost-%COMP%]     .ag-theme-material .green-light:before, [_nghost-%COMP%]     .ag-theme-material .green:before, [_nghost-%COMP%]     .ag-theme-material .orange:before, [_nghost-%COMP%]     .ag-theme-material .red:before{content:'';display:block;width:12px;height:12px;border-radius:50%;position:absolute;top:50%;right:0;transform:translateY(-50%)}[_nghost-%COMP%]     .ag-theme-material .green:before{background-color:#1d8700}[_nghost-%COMP%]     .ag-theme-material .green-light:before{background-color:#8aa309}[_nghost-%COMP%]     .ag-theme-material .orange:before{background-color:#e9910b}[_nghost-%COMP%]     .ag-theme-material .red:before{background-color:#d74901}.grid-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 60px);position:relative}.grid-block[_ngcontent-%COMP%]   app-default-grid[_ngcontent-%COMP%]{will-change:auto;transition:all .5s ease;transform:translate3d(0,0,0);flex:1 1 auto;overflow:hidden}.top-controls-block-right[_ngcontent-%COMP%]{align-items:flex-start}[_nghost-%COMP%]     .customcell{background-color:#ccecff!important}[_nghost-%COMP%]     .colorGroupHeader{background-color:#ccecff!important;padding-left:120px!important;padding-right:0!important}[_nghost-%COMP%]     .noncolorGroupHeader{padding-left:120px!important;padding-right:0!important}[_nghost-%COMP%]     .colorHeader{background-color:#ccecff!important;padding-left:30px!important;padding-right:64px!important}[_nghost-%COMP%]     .noncolorHeader{padding-left:30px!important;padding-right:64px!important}[_nghost-%COMP%]     .ag-theme-material .ag-header-row:first-child .ag-header-group-cell{border-top:1px solid #ddd}[_nghost-%COMP%]     .ag-theme-material .ag-icon-expanded{cursor:pointer}"]],data:{}});function Zt(t){return n["\u0275vid"](0,[(t()(),n["\u0275eld"](0,0,null,null,1,"app-comments",[],[[8,"className",0]],[[null,"commentsClose"],[null,"commentsChange"]],(function(t,e,l){var n=!0,a=t.component;return"commentsClose"===e&&(n=!1!==a.onCloseComments()&&n),"commentsChange"===e&&(n=!1!==a.onCommentsChange(l)&&n),n}),C.b,C.a)),n["\u0275did"](1,4964352,null,0,x.a,[v.a,M.a,y.a,n.ChangeDetectorRef,O.b],{type:[0,"type"],subType:[1,"subType"],titles:[2,"titles"]},{commentsClose:"commentsClose",commentsChange:"commentsChange"})],(function(t,e){var l=e.component;t(e,1,0,l.commentType,l.commentSubType,l.commentTitles)}),(function(t,e){t(e,0,0,n["\u0275nov"](e,1).hostClass)}))}function Xt(t){return n["\u0275vid"](0,[(t()(),n["\u0275eld"](0,0,null,null,2,"span",[["class","modal-footer-text"]],[[2,"last",null]],null,null,null,null)),(t()(),n["\u0275ted"](1,null,[" ",": "," "])),n["\u0275ppd"](2,2)],null,(function(t,e){t(e,0,0,e.context.last);var l=e.context.$implicit.label,a=n["\u0275unv"](e,1,1,t(e,2,0,n["\u0275nov"](e.parent,0),e.context.$implicit.value,e.context.$implicit.format));t(e,1,0,l,a)}))}function Ut(t){return n["\u0275vid"](0,[(t()(),n["\u0275eld"](0,0,null,null,2,"span",[["class","modal-footer-text"]],[[2,"last",null]],null,null,null,null)),(t()(),n["\u0275ted"](1,null,[" ",": "," "])),n["\u0275ppd"](2,2)],null,(function(t,e){t(e,0,0,e.context.last);var l=e.context.$implicit.label,a=n["\u0275unv"](e,1,1,t(e,2,0,n["\u0275nov"](e.parent,0),e.context.$implicit.value,e.context.$implicit.format));t(e,1,0,l,a)}))}function Jt(t){return n["\u0275vid"](0,[n["\u0275pid"](0,_.a,[P.a,O.b]),n["\u0275qud"](402653184,1,{table:0}),n["\u0275qud"](402653184,2,{editTotalFieldsModal:0}),n["\u0275qud"](402653184,3,{detailsModal:0}),n["\u0275qud"](402653184,4,{detailsGrid:0}),n["\u0275qud"](402653184,5,{balanceModal:0}),n["\u0275qud"](402653184,6,{balanceGrid:0}),(t()(),n["\u0275eld"](7,0,null,null,15,"div",[["class","grid-wrapper"]],null,null,null,null,null)),(t()(),n["\u0275eld"](8,0,null,null,7,"div",[["class","top-controls-block"]],null,null,null,null,null)),(t()(),n["\u0275eld"](9,0,null,null,2,"div",[["class","top-controls-block-left"]],null,null,null,null,null)),(t()(),n["\u0275eld"](10,0,null,null,1,"h3",[["class","top-controls-block-heading"]],null,null,null,null,null)),(t()(),n["\u0275ted"](11,null,["",""])),(t()(),n["\u0275eld"](12,0,null,null,3,"div",[["class","top-controls-block-right"]],null,null,null,null,null)),(t()(),n["\u0275eld"](13,0,null,null,2,"app-export-buttons",[],[[2,"small",null]],[[null,"dataExport"]],(function(t,e,l){var n=!0;return"dataExport"===e&&(n=!1!==t.component.exportDataAs(l)&&n),n}),w.b,w.a)),n["\u0275did"](14,114688,null,0,k.a,[T.a],{disabled:[0,"disabled"]},{dataExport:"dataExport"}),n["\u0275pid"](131072,F.b,[n.ChangeDetectorRef]),(t()(),n["\u0275eld"](16,0,null,null,6,"div",[["class","grid-block"]],null,null,null,null,null)),(t()(),n["\u0275eld"](17,0,null,null,3,"app-default-grid",[],null,[[null,"onTrackChanges"],[null,"filterChanged"]],(function(t,e,l){var n=!0,a=t.component;return"onTrackChanges"===e&&(n=!1!==a.onTrackTableChanges()&&n),"filterChanged"===e&&(n=!1!==a.onFilterChanged(l)&&n),n}),R.b,R.a)),n["\u0275prd"](512,null,D.a,D.a,[S.a,A.a,G.a,I.j,E.a]),n["\u0275did"](19,4964352,[[1,4],["table",4]],0,B.a,[P.a,D.a,$.a,j.a,N.a,O.b,T.a],{data:[0,"data"],columns:[1,"columns"],customGridOptions:[2,"customGridOptions"],loading:[3,"loading"],pagination:[4,"pagination"]},{onTrackChanges:"onTrackChanges",filterChanged:"filterChanged"}),n["\u0275pid"](131072,F.b,[n.ChangeDetectorRef]),(t()(),n["\u0275eld"](21,0,null,null,1,"app-bottom-bar",[],[[2,"opened",null],[2,"empty-chart-panel",null]],[[null,"editTotalFields"],[null,"totalItemClick"]],(function(t,e,l){var n=!0,a=t.component;return"editTotalFields"===e&&(n=!1!==a.openEditTotalFieldsModal()&&n),"totalItemClick"===e&&(n=!1!==a.onTotalItemClick(l)&&n),n}),At,xt)),n["\u0275did"](22,245760,null,0,st,[I.j,ct.a,Ct],{totals:[0,"totals"],accTotals:[1,"accTotals"],isAccClient:[2,"isAccClient"]},{totalItemClick:"totalItemClick",editTotalFields:"editTotalFields"}),(t()(),n["\u0275and"](16777216,null,null,1,null,Zt)),n["\u0275did"](24,16384,null,0,F.n,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),n["\u0275eld"](25,0,null,null,18,"app-modal",[["class","modal-generic"]],null,null,null,Gt.b,Gt.a)),n["\u0275prd"](512,null,It.a,It.a,[O.b]),n["\u0275did"](27,1228800,[[3,4],["detailsModal",4]],0,Et.a,[It.a,F.d,n.ElementRef,n.Renderer2,O.b],{modalTitle:[0,"modalTitle"]},null),n["\u0275pid"](131072,I.i,[I.j,n.ChangeDetectorRef]),(t()(),n["\u0275eld"](29,0,null,0,7,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),n["\u0275eld"](30,0,null,null,3,"div",[["class","modal-header-left"]],null,null,null,null,null)),(t()(),n["\u0275eld"](31,0,null,null,2,"h2",[["class","modal-heading"]],null,null,null,null,null)),(t()(),n["\u0275ted"](32,null,[" ",": "," "])),n["\u0275pid"](131072,I.i,[I.j,n.ChangeDetectorRef]),(t()(),n["\u0275eld"](34,0,null,null,2,"div",[["class","modal-header-right"]],null,null,null,null,null)),(t()(),n["\u0275eld"](35,0,null,null,1,"app-export-buttons",[],[[2,"small",null]],[[null,"dataExport"]],(function(t,e,l){var n=!0;return"dataExport"===e&&(n=!1!==t.component.exportDetailsDataAs(l)&&n),n}),w.b,w.a)),n["\u0275did"](36,114688,null,0,k.a,[T.a],null,{dataExport:"dataExport"}),(t()(),n["\u0275eld"](37,0,null,0,3,"div",[["class","modal-body with-footer with-min-size"]],null,null,null,null,null)),(t()(),n["\u0275eld"](38,0,null,null,2,"app-default-grid",[["style","height: 100%; width: 100%;"]],null,null,null,R.b,R.a)),n["\u0275prd"](512,null,D.a,D.a,[S.a,A.a,G.a,I.j,E.a]),n["\u0275did"](40,4964352,[[4,4],["detailsGrid",4]],0,B.a,[P.a,D.a,$.a,j.a,N.a,O.b,T.a],{data:[0,"data"],columns:[1,"columns"],summaryFields:[2,"summaryFields"],customGridOptions:[3,"customGridOptions"],loading:[4,"loading"]},null),(t()(),n["\u0275eld"](41,0,null,0,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),n["\u0275and"](16777216,null,null,1,null,Xt)),n["\u0275did"](43,278528,null,0,F.m,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),n["\u0275eld"](44,0,null,null,15,"app-modal",[["class","modal-generic"]],null,null,null,Gt.b,Gt.a)),n["\u0275prd"](512,null,It.a,It.a,[O.b]),n["\u0275did"](46,1228800,[[5,4],["balanceModal",4]],0,Et.a,[It.a,F.d,n.ElementRef,n.Renderer2,O.b],{modalTitle:[0,"modalTitle"]},null),n["\u0275pid"](131072,I.i,[I.j,n.ChangeDetectorRef]),(t()(),n["\u0275eld"](48,0,null,0,4,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),n["\u0275eld"](49,0,null,null,0,"div",[["class","modal-header-left"]],null,null,null,null,null)),(t()(),n["\u0275eld"](50,0,null,null,2,"div",[["class","modal-header-right"]],null,null,null,null,null)),(t()(),n["\u0275eld"](51,0,null,null,1,"app-export-buttons",[],[[2,"small",null]],[[null,"dataExport"]],(function(t,e,l){var n=!0;return"dataExport"===e&&(n=!1!==t.component.exportBalanceDataAs(l)&&n),n}),w.b,w.a)),n["\u0275did"](52,114688,null,0,k.a,[T.a],null,{dataExport:"dataExport"}),(t()(),n["\u0275eld"](53,0,null,0,3,"div",[["class","modal-body with-footer with-min-size"]],null,null,null,null,null)),(t()(),n["\u0275eld"](54,0,null,null,2,"app-default-grid",[["style","height: 100%; width: 100%;"]],null,null,null,R.b,R.a)),n["\u0275prd"](512,null,D.a,D.a,[S.a,A.a,G.a,I.j,E.a]),n["\u0275did"](56,4964352,[[6,4],["balanceGrid",4]],0,B.a,[P.a,D.a,$.a,j.a,N.a,O.b,T.a],{data:[0,"data"],columns:[1,"columns"],summaryFields:[2,"summaryFields"],customGridOptions:[3,"customGridOptions"],loading:[4,"loading"]},null),(t()(),n["\u0275eld"](57,0,null,0,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),n["\u0275and"](16777216,null,null,1,null,Ut)),n["\u0275did"](59,278528,null,0,F.m,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),n["\u0275eld"](60,0,null,null,5,"app-modal",[["class","modal-budget-form"]],null,null,null,Gt.b,Gt.a)),n["\u0275prd"](512,null,It.a,It.a,[O.b]),n["\u0275did"](62,1228800,[[2,4],["editTotalFieldsModal",4]],0,Et.a,[It.a,F.d,n.ElementRef,n.Renderer2,O.b],{modalTitle:[0,"modalTitle"]},null),n["\u0275pid"](131072,I.i,[I.j,n.ChangeDetectorRef]),(t()(),n["\u0275eld"](64,0,null,0,1,"app-edit-total-fields",[],null,[[null,"save"],[null,"cancel"]],(function(t,e,l){var n=!0,a=t.component;return"save"===e&&(n=!1!==a.saveTotalFields(l)&&n),"cancel"===e&&(n=!1!==a.closeEditTotalFieldsModal()&&n),n}),f.c,f.b)),n["\u0275did"](65,638976,null,0,Bt.a,[],{report:[0,"report"],data:[1,"data"]},{save:"save",cancel:"cancel"})],(function(t,e){var l=e.component;t(e,14,0,n["\u0275unv"](e,14,0,n["\u0275nov"](e,15).transform(l.loading$))),t(e,19,0,l.data,l.columns,l.gridOptions,n["\u0275unv"](e,19,3,n["\u0275nov"](e,20).transform(l.loading$)),l.allowPagination),t(e,22,0,l.totals,l.accTotals,l.showAccTotals),t(e,24,0,l.isCommentsView),t(e,27,0,n["\u0275unv"](e,27,0,n["\u0275nov"](e,28).transform(l.i18n+"drill.modal.title"))),t(e,36,0),t(e,40,0,l.detailsData,l.detailsColumns,l.detailsTotalsFields,l.gridOptions,l.detailsLoading),t(e,43,0,l.detailsTotals),t(e,46,0,n["\u0275unv"](e,46,0,n["\u0275nov"](e,47).transform(l.i18n+"balance.modal.title"))),t(e,52,0),t(e,56,0,l.balanceData,l.balanceColumns,l.balanceTotalsFields,l.gridOptions,l.balanceLoading),t(e,59,0,l.balanceTotals),t(e,62,0,n["\u0275unv"](e,62,0,n["\u0275nov"](e,63).transform(l.i18n+"edit-total-fields.modal.title"))),t(e,65,0,null==l.report?null:l.report.label,l.totals)}),(function(t,e){var l=e.component;t(e,11,0,null==l.store?null:l.store.label),t(e,13,0,n["\u0275nov"](e,14).small),t(e,21,0,n["\u0275nov"](e,22).isOpened,n["\u0275nov"](e,22).isEmptyChartPanel),t(e,32,0,n["\u0275unv"](e,32,0,n["\u0275nov"](e,33).transform(l.i18n+(l.isByStock?"drill.modal.stock-number.label":"drill.modal.deal.label"))),l.selectedControl),t(e,35,0,n["\u0275nov"](e,36).small),t(e,51,0,n["\u0275nov"](e,52).small)}))}function Kt(t){return n["\u0275vid"](0,[(t()(),n["\u0275eld"](0,0,null,null,1,"ng-component",[],[[8,"className",0]],null,null,Jt,Wt)),n["\u0275did"](1,245760,null,0,Ht,[F.d,I.j,A.a,G.a,ct.a,qt.a,Ct,T.a],null,null)],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,n["\u0275nov"](e,1).hostClass)}))}var Yt=n["\u0275ccf"]("ng-component",Ht,Kt,{},{},[]),Qt=l("POq0"),te=l("s6ns"),ee=l("821u"),le=l("IheW"),ne=l("5cj1"),ae=l("gavF"),oe=l("4asF"),ie=l("Mc5n"),re=l("iInd"),se=l("zMNK"),ce=l("Fwaw"),de=l("l0Bn"),ue=l("kPC6"),pe=l("SXLW"),ge=l("tdaM"),me=l("0sx3"),he=l("81ID"),be=l("oiVm"),fe=l("xSwO"),Ce=l("t5D1"),xe=l("iTUp"),ve=l("FFHx"),Me=l("PyFA"),ye=l("aBBA"),Oe=l("Cr+6"),_e=l("CSbZ"),Pe=l("/Lwf"),we=l("yotz"),ke=l("T3zS");l.d(e,"ByStoreModuleNgFactory",(function(){return Te}));var Te=n["\u0275cmf"](o,[],(function(t){return n["\u0275mod"]([n["\u0275mpd"](512,n.ComponentFactoryResolver,n["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,r.a,s.a,c.b,c.a,d.a,u.a,p.a,g.a,m.a,h.a,b.b,f.a,Yt]],[3,n.ComponentFactoryResolver],n.NgModuleRef]),n["\u0275mpd"](4608,F.p,F.o,[n.LOCALE_ID,[2,F.G]]),n["\u0275mpd"](4608,Y.F,Y.F,[]),n["\u0275mpd"](4608,Qt.c,Qt.c,[]),n["\u0275mpd"](4608,V.c,V.c,[V.i,V.e,n.ComponentFactoryResolver,V.h,V.f,n.Injector,n.NgZone,F.d,W.b,[2,F.i]]),n["\u0275mpd"](5120,V.j,V.k,[V.c]),n["\u0275mpd"](5120,K.a,K.b,[V.c]),n["\u0275mpd"](4608,Z.e,U.c,[[2,U.g],[2,U.l]]),n["\u0275mpd"](5120,L.b,L.c,[V.c]),n["\u0275mpd"](5120,te.c,te.d,[V.c]),n["\u0275mpd"](135680,te.e,te.e,[V.c,n.Injector,[2,F.i],[2,te.b],te.c,[3,te.e],V.e]),n["\u0275mpd"](4608,ee.i,ee.i,[]),n["\u0275mpd"](5120,ee.a,ee.b,[V.c]),n["\u0275mpd"](4608,U.a,U.v,[[2,U.f],H.a]),n["\u0275mpd"](4608,le.k,le.q,[F.d,n.PLATFORM_ID,le.o]),n["\u0275mpd"](4608,le.r,le.r,[le.k,le.p]),n["\u0275mpd"](5120,le.a,(function(t){return[t]}),[le.r]),n["\u0275mpd"](4608,le.n,le.n,[]),n["\u0275mpd"](6144,le.l,null,[le.n]),n["\u0275mpd"](4608,le.j,le.j,[le.l]),n["\u0275mpd"](6144,le.b,null,[le.j]),n["\u0275mpd"](4608,le.f,le.m,[le.b,n.Injector]),n["\u0275mpd"](4608,le.c,le.c,[le.f]),n["\u0275mpd"](4608,$.a,$.a,[O.b]),n["\u0275mpd"](4608,Y.f,Y.f,[]),n["\u0275mpd"](4608,ne.c,ne.c,[le.c,Z.b]),n["\u0275mpd"](5120,ae.c,ae.j,[V.c]),n["\u0275mpd"](4608,oe.a,oe.a,[te.e]),n["\u0275mpd"](4608,ne.d,ne.d,[]),n["\u0275mpd"](4608,ie.f,ie.f,[F.d,n.NgZone,z.i,ie.h]),n["\u0275mpd"](4608,Ct,Ct,[ct.a,qt.a,I.j,P.a]),n["\u0275mpd"](1073742336,F.c,F.c,[]),n["\u0275mpd"](1073742336,Y.E,Y.E,[]),n["\u0275mpd"](1073742336,Y.m,Y.m,[]),n["\u0275mpd"](1073742336,re.s,re.s,[[2,re.x],[2,re.o]]),n["\u0275mpd"](1073742336,I.g,I.g,[]),n["\u0275mpd"](1073742336,Qt.d,Qt.d,[]),n["\u0275mpd"](1073742336,Q.e,Q.e,[]),n["\u0275mpd"](1073742336,W.a,W.a,[]),n["\u0275mpd"](1073742336,se.g,se.g,[]),n["\u0275mpd"](1073742336,H.b,H.b,[]),n["\u0275mpd"](1073742336,z.f,z.f,[]),n["\u0275mpd"](1073742336,V.g,V.g,[]),n["\u0275mpd"](1073742336,U.l,U.l,[[2,U.d],[2,Z.f]]),n["\u0275mpd"](1073742336,U.u,U.u,[]),n["\u0275mpd"](1073742336,U.s,U.s,[]),n["\u0275mpd"](1073742336,U.q,U.q,[]),n["\u0275mpd"](1073742336,K.d,K.d,[]),n["\u0275mpd"](1073742336,nt.d,nt.d,[]),n["\u0275mpd"](1073742336,nt.c,nt.c,[]),n["\u0275mpd"](1073742336,q.a,q.a,[]),n["\u0275mpd"](1073742336,L.e,L.e,[]),n["\u0275mpd"](1073742336,ce.c,ce.c,[]),n["\u0275mpd"](1073742336,te.k,te.k,[]),n["\u0275mpd"](1073742336,ee.j,ee.j,[]),n["\u0275mpd"](1073742336,U.w,U.w,[]),n["\u0275mpd"](1073742336,U.n,U.n,[]),n["\u0275mpd"](1073742336,le.e,le.e,[]),n["\u0275mpd"](1073742336,le.d,le.d,[]),n["\u0275mpd"](1073742336,de.a,de.a,[]),n["\u0275mpd"](1073742336,ue.a,ue.a,[]),n["\u0275mpd"](1073742336,pe.AgGridModule,pe.AgGridModule,[]),n["\u0275mpd"](1073742336,ge.a,ge.a,[]),n["\u0275mpd"](1073742336,me.a,me.a,[]),n["\u0275mpd"](1073742336,Y.A,Y.A,[]),n["\u0275mpd"](1073742336,ne.b,ne.b,[]),n["\u0275mpd"](1073742336,ae.i,ae.i,[]),n["\u0275mpd"](1073742336,ae.f,ae.f,[]),n["\u0275mpd"](1073742336,he.a,he.a,[]),n["\u0275mpd"](1073742336,be.a,be.a,[]),n["\u0275mpd"](1073742336,fe.a,fe.a,[]),n["\u0275mpd"](1073742336,Ce.a,Ce.a,[]),n["\u0275mpd"](1073742336,xe.a,xe.a,[]),n["\u0275mpd"](1073742336,ve.a,ve.a,[]),n["\u0275mpd"](1073742336,Me.a,Me.a,[[3,Me.a],ye.a]),n["\u0275mpd"](1073742336,Oe.a,Oe.a,[]),n["\u0275mpd"](1073742336,_e.a,_e.a,[ye.a]),n["\u0275mpd"](1073742336,ie.g,ie.g,[]),n["\u0275mpd"](1073742336,Pe.a,Pe.a,[]),n["\u0275mpd"](1073742336,we.b,we.b,[]),n["\u0275mpd"](1073742336,ke.a,ke.a,[]),n["\u0275mpd"](1073742336,o,o,[ye.a]),n["\u0275mpd"](256,U.e,U.i,[]),n["\u0275mpd"](256,le.o,"XSRF-TOKEN",[]),n["\u0275mpd"](256,le.p,"X-XSRF-TOKEN",[]),n["\u0275mpd"](1024,re.m,(function(){return[[{path:"",component:Ht}]]}),[])])}))},"OTv+":function(t,e,l){"use strict";l.d(e,"a",(function(){return n})),l("/kTj");class n{constructor(t,e){this.formatter=t,this.debug=e.factory(new.target.name)}transform(t,e,l){if(null===t)return 0;switch(Array.isArray(t)&&"from-array"!==e&&(t="%"===t[1]&&"from-array-abbr"!==e?t[0]/100:t[0]),"from-array-abbr"===e&&(e="abbr"),e){case"money":case"amt":return this.formatter.money(t);case"amt2":return this.formatter.money(t,{fractional:2,noZeroMantissa:!1,currencySign:"$"});case"per":return this.formatter.percentage(t);case"per1":return this.formatter.percentage(t,1,!1);case"per2":return this.formatter.percentage(t,2,!1);case"per-3f":return this.formatter.percentage(t,3);case"per-round":return this.formatter.percentage(t,0);case"number":case"cnt":return this.formatter.number(t,{fractional:0});case"cnt0":this.formatter.number(t,{fractional:0,thousandDelimiter:""});case"abbr":return this.formatter.abbrNum(t,l);case"abbr-money":return this.formatter.abbrMoney(t,l);case"from-array":return this.formatter.fromArray(t,l);default:return this.debug.warn("Unknown format: %s. Value: %s",e,t),this.formatter.number(t,{fractional:0})}}}}}]);