(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+lok":function(n,l,e){"use strict";var t=e("8Y7J"),i=e("jqm9"),a=e("/kTj"),s=e("TSSN"),o=e("giT0"),u=e("xj9N"),r=e("SVse"),c=e("OTv+"),d=e("eeq/");e("emhj"),e.d(l,"a",(function(){return h})),e.d(l,"b",(function(){return b}));var h=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;align-items:flex-end;height:100%}.fi-block-left[_ngcontent-%COMP%]{width:calc(100% - 23px);flex:0 0 calc(100% - 23px);padding-right:5px}.fi-block-right[_ngcontent-%COMP%]{width:23px;flex:0 0 23px;padding-left:5px}.fi-block-title[_ngcontent-%COMP%]{font-size:14px;color:#747474;text-align:right}.fi-block-sum[_ngcontent-%COMP%]{font-weight:500;font-size:18px;color:#404040;text-align:right}.fi-block-rank-block[_ngcontent-%COMP%]{padding-bottom:4px}"]],data:{}});function g(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,16777216,null,null,6,"div",[["class","growth"],["tooltipTheme","dark"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(n,l,e){var i=!0;return"focusin"===l&&(i=!1!==t["\u0275nov"](n,1).show()&&i),"mouseenter"===l&&(i=!1!==t["\u0275nov"](n,1).show()&&i),"focusout"===l&&(i=!1!==t["\u0275nov"](n,1).hide()&&i),"mouseleave"===l&&(i=!1!==t["\u0275nov"](n,1).hide()&&i),i}),null,null)),t["\u0275did"](1,147456,null,0,i.a,[t.ViewContainerRef,t.ComponentFactoryResolver,t.ChangeDetectorRef,a.b],{content:[0,"content"],tooltipTheme:[1,"tooltipTheme"]},null),t["\u0275ppd"](2,3),t["\u0275pod"](3,{value:0}),t["\u0275pid"](131072,s.i,[s.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](5,0,null,null,1,"app-growth-indicator",[],[[2,"positive",null],[2,"warning",null],[2,"negative",null]],null,null,o.b,o.a)),t["\u0275did"](6,49152,null,0,u.a,[],{value:[0,"value"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){var e=l.component,i=t["\u0275unv"](l,1,0,t["\u0275nov"](l,4).transform("control-center.common.tooltip.previous-month",n(l,3,0,t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),e.data.previous,"abbr-money",2)))));n(l,1,0,i,"dark"),n(l,6,0,e.data.rankGrowth)}),(function(n,l){n(l,5,0,t["\u0275nov"](l,6).positiveClass,t["\u0275nov"](l,6).warningClass,t["\u0275nov"](l,6).negativeClass)}))}function f(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","growth"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"app-growth-indicator",[],[[2,"positive",null],[2,"warning",null],[2,"negative",null]],null,null,o.b,o.a)),t["\u0275did"](2,49152,null,0,u.a,[],{value:[0,"value"]},null)],(function(n,l){n(l,2,0,l.component.data.rankGrowth)}),(function(n,l){n(l,1,0,t["\u0275nov"](l,2).positiveClass,t["\u0275nov"](l,2).warningClass,t["\u0275nov"](l,2).negativeClass)}))}function p(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,g)),t["\u0275did"](2,16384,null,0,r.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,f)),t["\u0275did"](4,16384,null,0,r.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){var e=l.component;n(l,2,0,e.data.previous),n(l,4,0,!e.data.previous)}),null)}function b(n){return t["\u0275vid"](2,[t["\u0275pid"](0,c.a,[d.a,a.b]),(n()(),t["\u0275eld"](1,0,null,null,7,"div",[["class","fi-block-left"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"div",[["class","fi-block-title"]],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,["",":"])),(n()(),t["\u0275eld"](4,0,null,null,4,"div",[["class","fi-block-sum"]],null,null,null,null,null)),t["\u0275prd"](512,null,r.A,r.B,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](6,278528,null,0,r.k,[r.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),t["\u0275ted"](7,null,["",""])),t["\u0275ppd"](8,3),(n()(),t["\u0275eld"](9,0,null,null,3,"div",[["class","fi-block-right"]],null,null,null,null,null)),(n()(),t["\u0275eld"](10,0,null,null,2,"div",[["class","fi-block-rank-block"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,p)),t["\u0275did"](12,16384,null,0,r.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,6,0,"fi-block-sum",e.customValueClass),n(l,12,0,e.showGrowIndicator)}),(function(n,l){var e=l.component;n(l,3,0,e.label);var i=t["\u0275unv"](l,7,0,n(l,8,0,t["\u0275nov"](l,0),e.data.value,"abbr-money",2));n(l,7,0,i)}))}},"05KG":function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));class t{}},"1rys":function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));class t{}},BFEL:function(n,l,e){"use strict";e.d(l,"a",(function(){return a}));var t=e("8Y7J"),i=e("LvDl");class a{constructor(){this.save=new t.EventEmitter,this.cancel=new t.EventEmitter,this.fields=[],this.loading=!0}ngOnInit(){}ngOnChanges(n){n.data&&this.data&&(this.fields=i.cloneDeep(this.data).filter(n=>"count"!==n.field))}onSave(){this.loading=!0,this.save.emit(this.fields)}onCancel(){this.cancel.emit(),this.loading=!0}toggle(){this.loading=!1}}},CSbZ:function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));class t{constructor(n){n.addLoaderWithPrefixedTranslations("/widgets/edit-total-fields","")}}},"Cr+6":function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));class t{}},DnKK:function(n,l,e){"use strict";e.d(l,"a",(function(){return s}));var t=e("XNiG"),i=e("1G5W");function a(n){return"function"==typeof n}const s=(n,l="ngOnDestroy")=>e=>{const s=n[l];if(!1===a(s))throw new Error("".concat(n.constructor.name," is using untilDestroyed but doesn't implement ").concat(l));return n.__takeUntilDestroy||(n.__takeUntilDestroy=new t.a,n[l]=function(){a(s)&&s.apply(this,arguments),n.__takeUntilDestroy.next(!0),n.__takeUntilDestroy.complete()}),e.pipe(Object(i.a)(n.__takeUntilDestroy))}},"E+en":function(n,l,e){"use strict";e.d(l,"a",(function(){return a})),e.d(l,"b",(function(){return u}));var t=e("8Y7J"),i=e("SVse"),a=(e("s7LF"),e("ZdEx"),e("/kTj"),t["\u0275crt"]({encapsulation:0,styles:["[_nghost-%COMP%] {\n\n    }"],data:{}}));function s(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","c_checkbox-label"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""]))],null,(function(n,l){n(l,1,0,l.component.label)}))}function o(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","c_checkbox-label"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""]))],null,(function(n,l){n(l,1,0,l.component.label)}))}function u(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,7,"label",[["class","c_checkbox"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,s)),t["\u0275did"](2,16384,null,0,i.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](3,0,null,null,2,"div",[["class","c_checkbox-toggle"]],[[2,"c_checkbox-toggle__disabled",null]],null,null,null,null)),(n()(),t["\u0275eld"](4,0,null,null,0,"input",[["type","checkbox"]],[[8,"disabled",0],[8,"checked",0]],[[null,"change"]],(function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.onChange()&&t),t}),null,null)),(n()(),t["\u0275eld"](5,0,null,null,0,"div",[["class","c_checkbox-toggle-view"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,o)),t["\u0275did"](7,16384,null,0,i.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,2,0,e.label&&"left"===e.labelPos),n(l,7,0,e.label&&"right"===e.labelPos)}),(function(n,l){var e=l.component;n(l,3,0,e.disabled),n(l,4,0,e.disabled,e.value)}))}},JLSR:function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));var t=function(n){return n.Amount="amount",n.Count="count",n}({})},LL99:function(n,l,e){"use strict";var t=e("wd/R"),i=function(n){return n.List="list",n.Date="date",n.DateMonth="date-month",n.DateRange="date-range",n.Toggle="toggle",n}({});function a(n,l,e){return l&&n&&e?n.filter(n=>n&&l[n.name]&&-1!==e.indexOf(n.name)).map(n=>{let e;switch(n.type){case i.List:const a=n.items.find(e=>e.value===l[n.name]);e=a&&a.label||"";break;case i.DateRange:const[s,o]=l[n.name].split("|");e=t(s).format("MM/DD/YYYY")+" - "+t(o).format("MM/DD/YYYY");break;case i.DateMonth:e=t(l.date).format("MMMM YYYY")||"";break;case i.Toggle:e=n.checked?n.label2:n.label}return{label:n.label,value:e}}).filter(n=>!!n):[]}function s(n,l,e,t,a){return{name:n,label:l,min:t,max:a,type:e||i.Date}}function o(n,l,e,t,a,s){return{name:n,items:l,label:e,type:i.List,default:r(l,t),canAddItem:a,allowSearch:s}}function u(n,l,e,t,a,s){return{name:n,checked:l,value:e,value2:t,label:a,label2:s,type:i.Toggle}}function r(n,l){const e=null!=l?l:n&&n[0]&&n[0].value;return void 0!==e?e:null}var c=e("LvDl"),d=e("tFIl");let h=(()=>{class n extends d.a{constructor(n={}){super();const l=new.target.valuePublicFieldNames;this.fillAll(n,l)}clone(n={}){return super.clone(n)}get isFullyFilled(){return n.valuePublicFieldNames.every(n=>!c.isNil(this[n]))}}return n.valuePublicFieldNames=["group","store","date","dateIndex","dateRange","report","opsfilter"],n})();e.d(l,"a",(function(){return"0"})),e.d(l,"b",(function(){return i})),e.d(l,"d",(function(){return a})),e.d(l,"e",(function(){return s})),e.d(l,"f",(function(){return o})),e.d(l,"g",(function(){return u})),e.d(l,"c",(function(){return h}))},LbCI:function(n,l,e){"use strict";e.r(l);var t=e("8Y7J");class i{constructor(n){n.addLoaderWithPrefixedTranslations("/error-pages","")}}var a=e("pMnS"),s=e("TSSN");class o{constructor(n,l){this.topNav=n,this.appLoader=l}ngOnInit(){setTimeout(()=>this.appLoader.hide()),this.topNav&&this.topNav.clearLinks()}}var u=e("nutA"),r=e("Gg3P"),c=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function d(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","page-404"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,s.i,[s.j,t.ChangeDetectorRef])],null,(function(n,l){n(l,2,0,t["\u0275unv"](l,2,0,t["\u0275nov"](l,3).transform("page-404")))}))}var h=t["\u0275ccf"]("ng-component",o,(function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,d,c)),t["\u0275did"](1,114688,null,0,o,[[2,u.a],r.a],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),g=e("SxV6"),f=e("vkgz"),p=e("lJxs"),b=e("/kTj"),v=e("aR35");class m{constructor(n,l,e){this.session=n,this.router=l,this.debug=e.factory(new.target.name)}get cabinetUrl(){return v.a.cabinetUrl}canActivate(n,l){return this.checkLogin(l.url)}checkLogin(n){const l=0===n.indexOf(this.cabinetUrl);return this.session.isLoggedIn$.pipe(Object(g.a)(),Object(f.a)(e=>e&&!l&&this.router.navigate([this.cabinetUrl+n])),Object(p.a)(n=>!n||l))}}var C=e("+2T5"),_=e("iInd"),x=e("aBBA");e.d(l,"ErrorPagesModuleNgFactory",(function(){return y}));var y=t["\u0275cmf"](i,[],(function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[a.a,h]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,m,m,[C.a,_.o,b.b]),t["\u0275mpd"](1073742336,_.s,_.s,[[2,_.x],[2,_.o]]),t["\u0275mpd"](1073742336,s.g,s.g,[]),t["\u0275mpd"](1073742336,i,i,[x.a]),t["\u0275mpd"](1024,_.m,(function(){return[[{path:"not-found",component:o,canActivate:[m]}]]}),[])])}))},MmlZ:function(n,l,e){"use strict";e.d(l,"a",(function(){return a}));var t=e("8Y7J"),i=e("MO+k");class a{constructor(n,l){this.elementRef=n,this.formatter=l,this.chartClick=new t.EventEmitter,this.chartConfig={type:"bar",data:{labels:[],datasets:[{backgroundColor:[],borderColor:[],borderWidth:1,data:[]}]},options:{responsive:!0,maintainAspectRatio:!1,tooltips:{titleFontSize:12,callbacks:{label:n=>{const l=this.config.tooltip&&this.config.tooltip.labels;return l&&(this.isMultiple?l[n.datasetIndex][n.index]:l[n.index])},title:n=>{const[l]=n,e=this.config.tooltip&&this.config.tooltip.titles;return e&&(this.isMultiple?e[l.datasetIndex][l.index]:e[l.index])}}},legend:{display:!1},scales:{xAxes:[{display:!0,stacked:!1,scaleLabel:{display:!1},gridLines:{display:!1},ticks:{fontSize:window.innerWidth<400?8:14}}],yAxes:[{display:!0,stacked:!1,scaleLabel:{display:!1},gridLines:{drawTicks:!1,drawBorder:!1},ticks:{padding:8,fontSize:window.innerWidth<400?8:12,callback:n=>n<1&&n>0||n<0&&n>-1?"":this.formatter.abbrNum(n)}}]}}}}ngOnInit(){this.el=this.elementRef.nativeElement,this.canvas=this.el.querySelector("canvas"),this.chart=new i.Chart(this.canvas,this.chartConfig)}ngOnChanges(n){if(this.config){const n=this.chartConfig.data;n.labels=this.config.labels,this.isMultiple?this.config.data.forEach((l,e)=>{n.datasets[e]||(n.datasets[e]={backgroundColor:[],borderColor:[],borderWidth:1,data:[]}),n.datasets[e].data=l,n.datasets[e].backgroundColor=this.getColors(this.config.colors[e]),n.datasets[e].borderColor=n.datasets[e].backgroundColor}):(n.datasets[0].data=this.config.data,n.datasets[0].backgroundColor=this.getColors(this.config.colors),n.datasets[0].borderColor=n.datasets[0].backgroundColor),1===this.config.data.length&&(this.chartConfig.options.scales.yAxes[0].ticks.beginAtZero=!0),this.config.tooltip&&(this.chartConfig.options.tooltips.titleFontSize=this.config.tooltip.titleFontSize||12),this.config.xAxes&&Object.assign(this.chartConfig.options.scales.xAxes[0],this.config.xAxes),this.config.yAxes&&Object.assign(this.chartConfig.options.scales.yAxes[0],this.config.yAxes)}setTimeout(()=>this.chart.update({duration:300}),10)}onChartClick(n){const l=this.chart.getElementsAtEvent(n)[0];l&&this.chartClick.emit({index:l._index,data:this.config.barData&&this.config.barData[l._index]})}getAsDataUrl(){return this.canvas?this.canvas.toDataURL():null}get isMultiple(){return this.config.data&&this.config.data[0]instanceof Array}getColors(n){const l={yellow:"#F0B213",orange:"#E9910B",red:"#D74901","green-light":"#8AA309",green:"#1E8700","blue-light":"#44B4D4",blue:"#00458F","strong-red":"#CC0000","deep-red":"#830000"};return n.map(n=>l[n]||"#8AA309")}}},NNFQ:function(n,l,e){"use strict";e.d(l,"a",(function(){return i}));var t=e("MO+k");class i{constructor(n,l){this.elementRef=n,this.formatter=l,this.chartConfig={type:"line",data:{labels:[],datasets:[{cubicInterpolationMode:"monotone",backgroundColor:"rgba(12, 81, 156, 0.55)",borderWidth:3,borderColor:"#0C5192",fill:!0,lineTension:0,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"bevel",pointBorderColor:["#9cbcd3"],pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"#9cbcd3",pointHoverBorderWidth:2,pointRadius:0,pointHitRadius:10,spanGaps:!0}]},options:{responsive:!0,maintainAspectRatio:!1,tooltips:{callbacks:{label:n=>this.config.tooltip&&this.config.tooltip.labels&&this.config.tooltip.labels[n.index],title:n=>{const[l]=n;return this.config.tooltip.titles[l.index]}}},legend:{display:!1},scales:{xAxes:[{scaleLabel:{display:!1},gridLines:{display:!1},ticks:{fontSize:window.innerWidth<400?8:14}}],yAxes:[{stacked:!0,scaleLabel:{display:!1},gridLines:{drawTicks:!1,drawBorder:!1},ticks:{padding:8,callback:n=>n<1&&n>0||n<0&&n>-1?"":this.formatter.abbrNum(n)}}]}}}}ngOnInit(){this.el=this.elementRef.nativeElement,this.canvas=this.el.querySelector("canvas"),this.chart=new t.Chart(this.canvas,this.chartConfig)}ngOnChanges(n){if(this.config){const n=this.chartConfig.data;n.labels=this.config.labels,n.datasets[0].data=this.config.data;const l=Math.max(...this.config.data);l<11&&l>0&&(this.chartConfig.options.scales.yAxes[0].ticks.stepSize=1)}setTimeout(()=>this.chart.update({duration:300}),10)}}},POq0:function(n,l,e){"use strict";e.d(l,"c",(function(){return u})),e.d(l,"b",(function(){return r})),e.d(l,"a",(function(){return c})),e.d(l,"d",(function(){return d}));var t=e("KCVW"),i=e("8Y7J"),a=e("HDdC"),s=e("XNiG"),o=e("Kj3r");let u=(()=>{class n{create(n){return"undefined"==typeof MutationObserver?null:new MutationObserver(n)}}return n.ngInjectableDef=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new n},token:n,providedIn:"root"}),n})(),r=(()=>{class n{constructor(n){this._mutationObserverFactory=n,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((n,l)=>this._cleanupObserver(l))}observe(n){const l=Object(t.d)(n);return new a.a(n=>{const e=this._observeElement(l).subscribe(n);return()=>{e.unsubscribe(),this._unobserveElement(l)}})}_observeElement(n){if(this._observedElements.has(n))this._observedElements.get(n).count++;else{const l=new s.a,e=this._mutationObserverFactory.create(n=>l.next(n));e&&e.observe(n,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(n,{observer:e,stream:l,count:1})}return this._observedElements.get(n).stream}_unobserveElement(n){this._observedElements.has(n)&&(this._observedElements.get(n).count--,this._observedElements.get(n).count||this._cleanupObserver(n))}_cleanupObserver(n){if(this._observedElements.has(n)){const{observer:l,stream:e}=this._observedElements.get(n);l&&l.disconnect(),e.complete(),this._observedElements.delete(n)}}}return n.ngInjectableDef=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new n(Object(i["\u0275\u0275inject"])(u))},token:n,providedIn:"root"}),n})();class c{constructor(n,l,e){this._contentObserver=n,this._elementRef=l,this._ngZone=e,this.event=new i.EventEmitter,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(n){this._disabled=Object(t.b)(n),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(n){this._debounce=Object(t.e)(n),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const n=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?n.pipe(Object(o.a)(this.debounce)):n).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}class d{}},RHbX:function(n,l,e){"use strict";e.d(l,"a",(function(){return a})),e.d(l,"b",(function(){return s}));var t=e("8Y7J"),i=e("SVse"),a=(e("Xrj0"),t["\u0275crt"]({encapsulation:0,styles:[".loader--overlay[_nghost-%COMP%], .loader--overlay-transparent[_nghost-%COMP%]\n      {\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          left: 0;\n          top: 0;\n          z-index: 15;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n      }\n\n      .loader--overlay[_nghost-%COMP%] {\n          background-color: rgba(255, 255, 255, 0.8);\n      }"],data:{}}));function s(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","c__loader"]],null,null,null,null,null)),t["\u0275prd"](512,null,i.A,i.B,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,i.k,[i.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),t["\u0275eld"](3,0,null,null,0,"div",[["class","c__loader-item"]],null,null,null,null,null)),(n()(),t["\u0275eld"](4,0,null,null,0,"div",[["class","c__loader-item"]],null,null,null,null,null)),(n()(),t["\u0275eld"](5,0,null,null,0,"div",[["class","c__loader-item"]],null,null,null,null,null))],(function(n,l){n(l,2,0,"c__loader",l.component.cssClassByType)}),null)}},"W+wd":function(n,l,e){"use strict";var t=e("tFIl");let i=(()=>{class n extends t.a{constructor(n={}){super();const l=new.target.valuePublicFieldNames;this.fillAll(n,l)}clone(n={}){return super.clone(n)}}return n.valuePublicFieldNames=["category","kpiType","group","groupSlno","kpiIndex","date","dateIndex","period","view"],n})();var a=function(n){return n[n.Public=1]="Public",n[n.My=3]="My",n}({}),s=function(n){return n.Docs="0",n.Schedules="1",n.Operarions="2",n}({}),o=function(n){return n.Summary="Summary",n.Details="Details",n.ByStore="By Store",n}({}),u=function(n){return n.Summary="1",n.Accounting="2",n.FiOnly="3",n.FiOnlyNotDelivered="4",n.FiOnlyAccVariance="5",n}({});e.d(l,"b",(function(){return i})),e.d(l,"c",(function(){return a})),e.d(l,"a",(function(){return s})),e.d(l,"d",(function(){return o})),e.d(l,"e",(function(){return u}))},X9r4:function(n,l,e){"use strict";var t=e("8Y7J"),i=e("SVse");e("nAQW"),e.d(l,"a",(function(){return a})),e.d(l,"b",(function(){return o}));var a=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;width:100%}.panel__header[_ngcontent-%COMP%]{background-color:#789cb4;border-top-left-radius:5px;border-top-right-radius:5px;height:30px;line-height:30px;padding:0 10px;font-size:16px;font-weight:700;color:#fff}.panel__header--clickable[_ngcontent-%COMP%]{cursor:pointer}.panel__body[_ngcontent-%COMP%]{background-color:#f5f5f5;border-bottom-left-radius:5px;border-bottom-right-radius:5px;height:calc(100% - 30px);padding:10px;overflow:hidden}.panel--white[_nghost-%COMP%]   .panel__body[_ngcontent-%COMP%]{background-color:#fff}.panel--hoverable[_nghost-%COMP%]   .panel__body[_ngcontent-%COMP%]{background-color:#fff;transition:background-color .3s linear}.panel--hoverable[_nghost-%COMP%]   .panel__body[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.panel--disabled[_nghost-%COMP%]   .panel__body[_ngcontent-%COMP%]{position:relative}.panel--disabled[_nghost-%COMP%]   .panel__body[_ngcontent-%COMP%]:after{content:'';position:absolute;left:0;right:0;top:0;bottom:0;opacity:.5;background-color:#f5f5f5}.panel--hoverable.panel--disabled[_nghost-%COMP%]   .panel__body[_ngcontent-%COMP%]:after{background-color:#fff}"]],data:{}});function s(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","title"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""]))],null,(function(n,l){n(l,1,0,l.component.label)}))}function o(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","panel__header"]],[[2,"panel__header--clickable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onHeaderClick(e)&&t),t}),null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,s)),t["\u0275did"](2,16384,null,0,i.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275ncd"](null,0),(n()(),t["\u0275eld"](4,0,null,null,1,"div",[["class","panel__body"]],null,null,null,null,null)),t["\u0275ncd"](null,1)],(function(n,l){n(l,2,0,l.component.label)}),(function(n,l){n(l,0,0,l.component.isHeaderClickable)}))}},Xrj0:function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));class t{constructor(){this.type="default"}get cssClassByType(){return"loader--".concat(this.type)}}},ZdEx:function(n,l,e){"use strict";e.d(l,"a",(function(){return i}));var t=e("8Y7J");e("/kTj");class i{constructor(n){this.labelPos="right",this.disabled=!1,this.cChange=new t.EventEmitter,this.propagateChange=n=>{},this.propagateTouch=()=>{},this.debug=n.factory(new.target.name)}get value(){return this.debug.log("Getter value:",this._value),this._value}set value(n){this.debug.log("Setter value:",n),this._value=n,this.propagateChange(this._value)}onChange(){this.value=!this.value,this.cChange.emit(this.value),this.debug.log("OnChange. _value: %s",this._value)}writeValue(n){void 0!==n&&(this.value=n)}registerOnChange(n){this.propagateChange=n}registerOnTouched(n){this.propagateTouch=n}setDisabledState(n){this.disabled=n}}},emhj:function(n,l,e){"use strict";e.d(l,"a",(function(){return i}));var t=e("/kTj");class i{constructor(n){this.customValueClass="valueClass",this.showGrowIndicator=!0,this.debug=n.factory(new.target.name,t.a.All)}get valueClass(){const n=this.data&&this.data.rankGrowth;return{positive:n>0,warning:0===n,negative:n<0}}ngOnInit(){}}},f9bo:function(n,l,e){"use strict";e.d(l,"a",(function(){return o}));var t=e("8Y7J"),i=(e("s7LF"),e("wd/R")),a=e("/kTj");const s=()=>{};Object(t.forwardRef)(()=>o);class o{constructor(n,l,e){this.cabinetComponent=n,this.translate=l,this.monthChange=new t.EventEmitter,this.disabled=!1,this.years=[],this.selectedYear=0,this.opened=!1,this.monthShortNames=[],this.monthLongNames=[],this.onTouchedCallback=s,this.onChangeCallback=s,this.subs=[],this.debug=e.factory(new.target.name,a.a.All)}get valueMonthLong(){return this.monthLongNames[new Date(this.value).getMonth()]}get valueMonthShort(){return this.monthShortNames[new Date(this.value).getMonth()]}get valueUrl(){return this.makeUrl(new Date(this.value))}get value(){return this.innerValue}set value(n){n!==this.innerValue&&(this.innerValue=n,this.onChangeCallback(n))}set sub(n){this.subs.push(n)}ngOnInit(){this.setupYearsList(),this.setupMonthTranslations()}ngOnDestroy(){this.subs.forEach(n=>n.unsubscribe())}onBlur(){this.onTouchedCallback()}writeValue(n){+n===this.innerValue||isNaN(+n)||(this.innerValue=+n)}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}windowClick(n){this.opened&&!n.target.closest(".monthpicker-wrapper")&&(this.opened=!1,this.onBlur())}prevYear(){this.selectedYear--}nextYear(){this.selectedYear++}toggleMonthpicker(){this.opened=!this.disabled&&!this.opened}setMonth(n){this.opened=!1,this.value=new Date(n.date_from).getTime(),this.monthChange.emit(n)}setupYearsList(){this.cabinetComponent.complexDataPromise.then(n=>{const l=[],e=[];n.month.forEach(n=>{const e=new Date(n.date_from),t=e.getFullYear();void 0===l[t]&&(l[t]={title:t.toString(),months:[]});const i=Object.assign({},n,{url:this.makeUrl(e),monthIndex:e.getMonth()});l[t].months.unshift(i)});for(const t of Object.keys(l))l[t].months.length&&e.push(l[t]);return this.years=e,this.selectedYear=e.length-1,e})}setupMonthTranslations(){const n=["month.full.january","month.full.february","month.full.march","month.full.april","month.full.may","month.full.june","month.full.july","month.full.august","month.full.september","month.full.october","month.full.november","month.full.december"],l=["month.short.january","month.short.february","month.short.march","month.short.april","month.short.may","month.short.june","month.short.july","month.short.august","month.short.september","month.short.october","month.short.november","month.short.december"];this.sub=this.translate.stream(n).subscribe(l=>{this.monthLongNames=n.map(n=>l[n])}),this.sub=this.translate.stream(l).subscribe(n=>{this.monthShortNames=l.map(l=>n[l])})}makeUrl(n){return i(n).format("MM_YYYY")}}},ish5:function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));class t{}},iv73:function(n,l,e){"use strict";e.d(l,"a",(function(){return o})),e.d(l,"b",(function(){return g}));var t=e("8Y7J"),i=e("RHbX"),a=e("Xrj0"),s=e("SVse"),o=(e("s7LF"),e("f9bo"),e("dyEe"),e("TSSN"),e("/kTj"),t["\u0275crt"]({encapsulation:0,styles:["[_nghost-%COMP%] {\n\n    }"],data:{}}));function u(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","monthpicker-loader"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"app-loader",[],[[8,"className",0]],null,null,i.b,i.a)),t["\u0275did"](2,49152,null,0,a.a,[],null,null)],null,(function(n,l){n(l,1,0,t["\u0275nov"](l,2).cssClassByType)}))}function r(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","monthpicker-month-item"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"a",[],[[2,"active",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.setMonth(n.context.$implicit)&&t),t}),null,null)),(n()(),t["\u0275ted"](2,null,["",""])),t["\u0275ppd"](3,1)],null,(function(n,l){var e=l.component;n(l,1,0,e.valueUrl===l.context.$implicit.url);var i=t["\u0275unv"](l,2,0,n(l,3,0,t["\u0275nov"](l.parent.parent.parent.parent,1),e.monthShortNames[l.context.$implicit.monthIndex]));n(l,2,0,i)}))}function c(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,10,"div",[["class","monthpicker-year"]],[[8,"hidden",0]],null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","monthpicker-year-header"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"button",[["class","prev-year"]],[[8,"disabled",0]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.prevYear()&&t),t}),null,null)),(n()(),t["\u0275eld"](3,0,null,null,0,"span",[["class","icon-arrow-s-left"]],null,null,null,null,null)),(n()(),t["\u0275eld"](4,0,null,null,1,"span",[["class","year-title"]],null,null,null,null,null)),(n()(),t["\u0275ted"](5,null,["",""])),(n()(),t["\u0275eld"](6,0,null,null,1,"button",[["class","next-year"]],[[8,"disabled",0]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.nextYear()&&t),t}),null,null)),(n()(),t["\u0275eld"](7,0,null,null,0,"span",[["class","icon-arrow-s-right"]],null,null,null,null,null)),(n()(),t["\u0275eld"](8,0,null,null,2,"div",[["class","monthpicker-year-months"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,r)),t["\u0275did"](10,278528,null,0,s.l,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,10,0,l.context.$implicit.months)}),(function(n,l){var e=l.component;n(l,0,0,l.context.index!=e.selectedYear),n(l,2,0,0===e.selectedYear),n(l,5,0,l.context.$implicit.title),n(l,6,0,e.selectedYear==e.years.length-1)}))}function d(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","c_dropdown-std_menu monthpicker"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,u)),t["\u0275did"](2,16384,null,0,s.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,c)),t["\u0275did"](4,278528,null,0,s.l,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var e=l.component;n(l,2,0,!e.years.length),n(l,4,0,e.years)}),null)}function h(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,11,"div",[["class","c_dropdown-std monthpicker-wrapper less-border"]],[[2,"disabled",null]],null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,8,"div",[["class","c_dropdown-std_value"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.toggleMonthpicker()&&t),t}),null,null)),(n()(),t["\u0275eld"](2,0,null,null,6,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,1,"strong",[["class","hide-for-mobile"]],null,null,null,null,null)),(n()(),t["\u0275ted"](4,null,["",""])),(n()(),t["\u0275eld"](5,0,null,null,1,"strong",[["class","show-for-mobile"]],null,null,null,null,null)),(n()(),t["\u0275ted"](6,null,["",""])),(n()(),t["\u0275ted"](7,null,[" "," "])),t["\u0275ppd"](8,2),(n()(),t["\u0275eld"](9,0,null,null,0,"span",[["class","icon-arrow-s-down"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,d)),t["\u0275did"](11,16384,null,0,s.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,11,0,l.component.opened)}),(function(n,l){var e=l.component;n(l,0,0,e.disabled),n(l,4,0,e.valueMonthLong),n(l,6,0,e.valueMonthShort);var i=t["\u0275unv"](l,7,0,n(l,8,0,t["\u0275nov"](l.parent,0),e.value,"y"));n(l,7,0,i)}))}function g(n){return t["\u0275vid"](0,[t["\u0275pid"](0,s.e,[t.LOCALE_ID]),t["\u0275pid"](0,s.w,[]),(n()(),t["\u0275and"](16777216,null,null,1,null,h)),t["\u0275did"](3,16384,null,0,s.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,3,0,l.component.value)}),null)}},mS0u:function(n,l,e){"use strict";var t=e("8Y7J");e("MmlZ"),e("eeq/"),e.d(l,"a",(function(){return i})),e.d(l,"b",(function(){return a}));var i=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;height:100%}.chart[_ngcontent-%COMP%]{height:100%;min-width:100%;position:relative}canvas[_ngcontent-%COMP%]{max-width:100%;width:100%;height:100%}"]],data:{}});function a(n){return t["\u0275vid"](2,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","chart"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,0,"canvas",[],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onChartClick(e)&&t),t}),null,null))],null,null)}},nAQW:function(n,l,e){"use strict";e.d(l,"a",(function(){return i}));var t=e("8Y7J");class i{constructor(){this.hoverable=!1,this.headerClick=new t.EventEmitter,this.disabled=!1}get isHeaderClickable(){return!!this.headerClick.observers.length}ngOnInit(){}onHeaderClick(n){this.headerClick.emit(n)}}},nutA:function(n,l,e){"use strict";var t=e("iInd"),i=e("2Vo4"),a=e("fFD9"),s=e("pLZG"),o=e("q92s"),u=e("eIep"),r=e("SxV6"),c=e("lJxs"),d=(e("/kTj"),e("aR35"));class h{constructor(n,l){this.urlTree=n,this.info=l}get isExact(){return!(!this.info||void 0===this.info.exact)&&this.info.exact}}e.d(l,"a",(function(){return g}));class g{constructor(n,l){this.router=n,this._links$=new i.a([]),this._relativeTo$=new i.a(void 0),this.debug=l.factory(new.target.name),this.setupStreams(),this.debug.streams(this,["selected$","linksWithTree$","_links$","_relativeTo$"])}get cabinetUrl(){return d.a.cabinetUrl}setLinks(n,l){this._links$.next(n),this._relativeTo$.next(l)}clearLinks(){this.setLinks([])}setupStreams(){this.linksWithTree$=this._links$.pipe(Object(a.a)(this._relativeTo$,this.buildUrlLinksWithTree.bind(this)));const n=this.router.events.pipe(Object(s.a)(n=>n instanceof t.e));this.selected$=this.linksWithTree$.pipe(Object(o.a)(n.pipe(Object(u.a)(()=>this.linksWithTree$.pipe(Object(r.a)())))),Object(c.a)(n=>{const l=n.find(n=>this.router.isActive(n.urlTree,n.isExact));return l&&l.info}))}buildUrlLinksWithTree(n,l){return n.map(n=>{const e=this.router.createUrlTree([l?n.url:this.cabinetUrl+n.url],{relativeTo:l});return new h(e,n)})}}},"o/Hh":function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));class t{}},oiVm:function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));class t{}},qp19:function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));class t{}},qwjS:function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));class t{}},rCmf:function(n,l,e){"use strict";var t=e("8Y7J");e("NNFQ"),e("eeq/"),e.d(l,"a",(function(){return i})),e.d(l,"b",(function(){return a}));var i=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;padding:10px;height:100%;width:100%;overflow:auto;overflow-y:hidden}.chart[_ngcontent-%COMP%]{height:100%;min-width:100%}canvas[_ngcontent-%COMP%]{width:100%;height:100%}"]],data:{}});function a(n){return t["\u0275vid"](2,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","chart"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,0,"canvas",[],null,null,null,null,null))],null,null)}},sVT6:function(n,l,e){"use strict";e.d(l,"a",(function(){return a}));var t=e("8Y7J"),i=e("/kTj");class a{constructor(n){this.daysClick=new t.EventEmitter,this.debug=n.factory(new.target.name,i.a.All)}get hasDaysLink(){return!!this.daysClick.observers.length}ngOnInit(){}onDaysClick(){this.daysClick.emit({daysFrom:this.data.daysFrom,daysTo:this.data.daysTo})}getGraphWidth(n,l){let e=0;return this.data[l]&&(e=this.data[n]/this.data[l]*100),e<0&&(e=0),e>100&&(e=100),e+"%"}}},ubcW:function(n,l,e){"use strict";var t=e("8Y7J"),i=e("oJZn"),a=e("pBi1"),s=e("5GAg"),o=e("omvX"),u=e("IP0z"),r=e("s7LF"),c=e("TSSN"),d=e("SVse"),h=e("bujt"),g=e("Fwaw"),f=e("BFEL");e.d(l,"b",(function(){return p})),e.d(l,"c",(function(){return v})),e.d(l,"a",(function(){return m}));var p=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}.edit-total-fields-label[_ngcontent-%COMP%]{font-size:12px;color:#747474}.edit-total-fields-report-name[_ngcontent-%COMP%]{font-size:14px;color:#404040;margin:0 0 10px}.edit-total-fields-table[_ngcontent-%COMP%]{min-width:230px}.edit-total-fields-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .edit-total-fields-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px;padding:10px 0}.edit-total-fields-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500;color:#747474}.edit-total-fields-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){text-align:left}.edit-total-fields-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){text-align:right}.edit-total-fields-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;color:#404040}.edit-total-fields-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1){text-align:left}.edit-total-fields-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){text-align:right}.edit-total-fields-submit-wrapper[_ngcontent-%COMP%]{text-align:right;transform:translate(15px,10px)}.mat-button[_ngcontent-%COMP%]     .mat-button-wrapper{font-weight:400;text-transform:uppercase}"]],data:{}});function b(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,10,null,null,null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,9,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,[" "," "])),(n()(),t["\u0275eld"](4,0,null,null,6,"td",[],null,null,null,null,null)),(n()(),t["\u0275eld"](5,0,null,null,5,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"focus"]],(function(n,l,e){var i=!0,a=n.component;return"focus"===l&&(i=!1!==t["\u0275nov"](n,6)._inputElement.nativeElement.focus()&&i),"ngModelChange"===l&&(i=!1!==(n.context.$implicit.visible=e)&&i),"change"===l&&(i=!1!==a.toggle()&&i),i}),i.b,i.a)),t["\u0275did"](6,1228800,null,0,a.b,[t.ElementRef,s.h,t.ChangeDetectorRef,[8,null],t.NgZone,a.a,[2,o.a],[2,u.b]],{checked:[0,"checked"]},{change:"change"}),t["\u0275prd"](1024,null,r.q,(function(n){return[n]}),[a.b]),t["\u0275did"](8,671744,null,0,r.v,[[8,null],[8,null],[8,null],[6,r.q]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,r.r,null,[r.v]),t["\u0275did"](10,16384,null,0,r.s,[[4,r.r]],null,null)],(function(n,l){n(l,6,0,l.context.$implicit.visible),n(l,8,0,l.context.$implicit.visible)}),(function(n,l){n(l,3,0,l.context.$implicit.label),n(l,5,1,[t["\u0275nov"](l,6).id,t["\u0275nov"](l,6).disabled?null:-1,t["\u0275nov"](l,6).checked,t["\u0275nov"](l,6).disabled,"before"==t["\u0275nov"](l,6).labelPosition,"NoopAnimations"===t["\u0275nov"](l,6)._animationMode,t["\u0275nov"](l,10).ngClassUntouched,t["\u0275nov"](l,10).ngClassTouched,t["\u0275nov"](l,10).ngClassPristine,t["\u0275nov"](l,10).ngClassDirty,t["\u0275nov"](l,10).ngClassValid,t["\u0275nov"](l,10).ngClassInvalid,t["\u0275nov"](l,10).ngClassPending])}))}function v(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,24,"div",[["class","edit-total-fields"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"span",[["class","edit-total-fields-label"]],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,c.i,[c.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](4,0,null,null,1,"h4",[["class","edit-total-fields-report-name"]],null,null,null,null,null)),(n()(),t["\u0275ted"](5,null,["",""])),(n()(),t["\u0275eld"](6,0,null,null,9,"table",[["class","edit-total-fields-table"]],null,null,null,null,null)),(n()(),t["\u0275eld"](7,0,null,null,6,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](8,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),t["\u0275ted"](9,null,[" "," "])),t["\u0275pid"](131072,c.i,[c.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](11,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),t["\u0275ted"](12,null,[" "," "])),t["\u0275pid"](131072,c.i,[c.j,t.ChangeDetectorRef]),(n()(),t["\u0275and"](16777216,null,null,1,null,b)),t["\u0275did"](15,278528,null,0,d.l,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](16,0,null,null,8,"div",[["class","edit-total-fields-submit-wrapper"]],null,null,null,null,null)),(n()(),t["\u0275eld"](17,0,null,null,3,"button",[["color","primary"],["mat-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onSave()&&t),t}),h.b,h.a)),t["\u0275did"](18,180224,null,0,g.b,[t.ElementRef,s.h,[2,o.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(n()(),t["\u0275ted"](19,0,[" "," "])),t["\u0275pid"](131072,c.i,[c.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](21,0,null,null,3,"button",[["color","primary"],["mat-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onCancel()&&t),t}),h.b,h.a)),t["\u0275did"](22,180224,null,0,g.b,[t.ElementRef,s.h,[2,o.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](23,0,[" "," "])),t["\u0275pid"](131072,c.i,[c.j,t.ChangeDetectorRef])],(function(n,l){var e=l.component;n(l,15,0,e.fields),n(l,18,0,!e.fields.length||e.loading,"primary"),n(l,22,0,"primary")}),(function(n,l){var e=l.component;n(l,2,0,t["\u0275unv"](l,2,0,t["\u0275nov"](l,3).transform("total-fields.report"))),n(l,5,0,e.report),n(l,9,0,t["\u0275unv"](l,9,0,t["\u0275nov"](l,10).transform("edit-total-fields.field-column"))),n(l,12,0,t["\u0275unv"](l,12,0,t["\u0275nov"](l,13).transform("edit-total-fields.total-field"))),n(l,17,0,t["\u0275nov"](l,18).disabled||null,"NoopAnimations"===t["\u0275nov"](l,18)._animationMode),n(l,19,0,t["\u0275unv"](l,19,0,t["\u0275nov"](l,20).transform("edit-total-fields.save-button"))),n(l,21,0,t["\u0275nov"](l,22).disabled||null,"NoopAnimations"===t["\u0275nov"](l,22)._animationMode),n(l,23,0,t["\u0275unv"](l,23,0,t["\u0275nov"](l,24).transform("edit-total-fields.cancel-button")))}))}var m=t["\u0275ccf"]("app-edit-total-fields",f.a,(function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-edit-total-fields",[],null,null,null,v,p)),t["\u0275did"](1,638976,null,0,f.a,[],null,null)],(function(n,l){n(l,1,0)}),null)}),{report:"report",data:"data"},{save:"save",cancel:"cancel"},[])},wKOt:function(n,l,e){"use strict";var t=e("8Y7J"),i=e("OTv+"),a=e("eeq/"),s=e("/kTj"),o=e("TSSN"),u=e("SVse");e("sVT6"),e.d(l,"a",(function(){return r})),e.d(l,"b",(function(){return d}));var r=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}.aging-row[_ngcontent-%COMP%]{display:flex;min-height:50px}.aging-col[_ngcontent-%COMP%]{display:flex;align-items:flex-start;border-bottom:1px solid #ddd}.aging-col[_ngcontent-%COMP%]:nth-of-type(1){width:20%;flex:0 0 20%;padding:15px 5px 15px 0}  .compact .aging-col:nth-of-type(1){width:25%;flex:0 0 25%}.aging-col[_ngcontent-%COMP%]:nth-of-type(2){width:40%;flex:0 0 40%;padding:15px 5px}  .compact .aging-col:nth-of-type(2){width:37%;flex:0 0 37%}.aging-col[_ngcontent-%COMP%]:nth-of-type(3){width:40%;flex:0 0 40%;padding:15px 0 15px 5px}  .compact .aging-col:nth-of-type(3){width:38%;flex:0 0 38%}.aging-col[_ngcontent-%COMP%]:last-of-type{border-right:none}.aging-days[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.aging-days[_ngcontent-%COMP%]   .clickable[_ngcontent-%COMP%]{cursor:pointer;color:#3498db}.aging-info[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:flex-end;flex-wrap:wrap;width:100%;font-size:14px;font-weight:500}.aging-info-left[_ngcontent-%COMP%]{flex:1 0 80px}  .compact .aging-info-left{width:100%;flex:0 0 100%}.aging-info-right[_ngcontent-%COMP%]{flex:0 0 90px;display:flex;justify-content:flex-end;padding-left:10px}  .compact .aging-info-right{width:100%;flex:0 0 100%}.aging-label[_ngcontent-%COMP%]{width:100%;flex:0 0 100%;font-size:14px;font-weight:400;color:#747474;text-align:right}.aging-col[_ngcontent-%COMP%]:nth-child(1)   .aging-label[_ngcontent-%COMP%]{text-align:left}.aging-info-value[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#404040;text-align:right}.graph[_ngcontent-%COMP%]{width:80px;height:20px;background:#ddd}.graph-bar[_ngcontent-%COMP%]{display:block;width:100%;height:100%}.units[_ngcontent-%COMP%]   .graph-bar[_ngcontent-%COMP%]{background-color:#004e9a}.amount[_ngcontent-%COMP%]   .graph-bar[_ngcontent-%COMP%]{background-color:#44b4d5}"]],data:{}});function c(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["- ",""]))],null,(function(n,l){n(l,1,0,l.component.data.daysTo)}))}function d(n){return t["\u0275vid"](2,[t["\u0275pid"](0,i.a,[a.a,s.b]),(n()(),t["\u0275eld"](1,0,null,null,34,"div",[["class","aging-row"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,8,"div",[["class","aging-col"]],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,7,"div",[["class","aging-days"]],null,null,null,null,null)),(n()(),t["\u0275eld"](4,0,null,null,2,"div",[["class","aging-label"]],null,null,null,null,null)),(n()(),t["\u0275ted"](5,null,["",""])),t["\u0275pid"](131072,o.i,[o.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](7,0,null,null,3,"span",[],[[2,"clickable",null]],[[null,"click"]],(function(n,l,e){var t=!0,i=n.component;return"click"===l&&(t=!1!==(i.hasDaysLink&&i.onDaysClick())&&t),t}),null,null)),(n()(),t["\u0275ted"](8,null,[" "," "])),(n()(),t["\u0275and"](16777216,null,null,1,null,c)),t["\u0275did"](10,16384,null,0,u.m,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](11,0,null,null,11,"div",[["class","aging-col"]],null,null,null,null,null)),(n()(),t["\u0275eld"](12,0,null,null,10,"div",[["class","aging-info units"]],null,null,null,null,null)),(n()(),t["\u0275eld"](13,0,null,null,5,"div",[["class","aging-info-left"]],null,null,null,null,null)),(n()(),t["\u0275eld"](14,0,null,null,2,"div",[["class","aging-label"]],null,null,null,null,null)),(n()(),t["\u0275ted"](15,null,["",""])),t["\u0275pid"](131072,o.i,[o.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](17,0,null,null,1,"div",[["class","aging-info-value"]],null,null,null,null,null)),(n()(),t["\u0275ted"](18,null,["",""])),(n()(),t["\u0275eld"](19,0,null,null,3,"div",[["class","aging-info-right"]],null,null,null,null,null)),(n()(),t["\u0275eld"](20,0,null,null,2,"div",[["class","aging-info-graph"]],null,null,null,null,null)),(n()(),t["\u0275eld"](21,0,null,null,1,"div",[["class","graph units"]],null,null,null,null,null)),(n()(),t["\u0275eld"](22,0,null,null,0,"span",[["class","graph-bar"]],[[4,"width",null]],null,null,null,null)),(n()(),t["\u0275eld"](23,0,null,null,12,"div",[["class","aging-col"]],null,null,null,null,null)),(n()(),t["\u0275eld"](24,0,null,null,11,"div",[["class","aging-info amount"]],null,null,null,null,null)),(n()(),t["\u0275eld"](25,0,null,null,6,"div",[["class","aging-info-left"]],null,null,null,null,null)),(n()(),t["\u0275eld"](26,0,null,null,2,"div",[["class","aging-label"]],null,null,null,null,null)),(n()(),t["\u0275ted"](27,null,["",""])),t["\u0275pid"](131072,o.i,[o.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](29,0,null,null,2,"div",[["class","aging-info-value"]],null,null,null,null,null)),(n()(),t["\u0275ted"](30,null,["",""])),t["\u0275ppd"](31,3),(n()(),t["\u0275eld"](32,0,null,null,3,"div",[["class","aging-info-right"]],null,null,null,null,null)),(n()(),t["\u0275eld"](33,0,null,null,2,"div",[["class","aging-info-graph"]],null,null,null,null,null)),(n()(),t["\u0275eld"](34,0,null,null,1,"div",[["class","graph amount"]],null,null,null,null,null)),(n()(),t["\u0275eld"](35,0,null,null,0,"span",[["class","graph-bar"]],[[4,"width",null]],null,null,null,null))],(function(n,l){n(l,10,0,l.component.data.daysTo)}),(function(n,l){var e=l.component;n(l,5,0,t["\u0275unv"](l,5,0,t["\u0275nov"](l,6).transform("widgets.aging-analysis-block.days.label"))),n(l,7,0,e.hasDaysLink),n(l,8,0,e.data.daysFrom),n(l,15,0,t["\u0275unv"](l,15,0,t["\u0275nov"](l,16).transform("widgets.aging-analysis-block.column.units.name"))),n(l,18,0,e.data.value),n(l,22,0,e.getGraphWidth("value","totalUnits")),n(l,27,0,t["\u0275unv"](l,27,0,t["\u0275nov"](l,28).transform("widgets.aging-analysis-block.column.amount.name")));var i=t["\u0275unv"](l,30,0,n(l,31,0,t["\u0275nov"](l,0),e.data.money,"abbr-money",2));n(l,30,0,i),n(l,35,0,e.getGraphWidth("money","totalAmount"))}))}},zCXV:function(n,l,e){"use strict";e.d(l,"a",(function(){return m}));var t=e("2Vo4"),i=e("LRne"),a=e("SxV6"),s=e("eIep"),o=e("nYR2"),u=e("zp1y"),r=e("vkgz"),c=e("CqXF"),d=e("fFD9"),h=e("pLZG"),g=e("lJxs"),f=e("LvDl"),p=e("tFIl"),b=(e("/kTj"),e("W+wd"));const v={measures:!1,categories:!1};class m{constructor(n,l,e,i,a){this.dialog=l,this.instanceAppSettingsApi=e,this.userAppSettingsApi=i,this.translate=a,this.savingSpinner$=new t.a(!1),this.loadingSpinner$=new t.a(!0),this.selectedKpiLevel$=new t.a(void 0),this.rawMeasuresIndex$=new t.a(void 0),this._measuresIndex$=new t.a(void 0),this._categoriesIndex$=new t.a(void 0),this.orderOfMeasures$=new t.a(void 0),this.orderOfCategories$=new t.a(void 0),this._enableSorting$=new t.a(v),this._measureSortingSetting$=new t.a(void 0),this.debug=n.factory(new.target.name),this.initMainStreams(),this.debug.streams(this,["sortedRawMeasures$","sortedMeasures$","sortedCategories$","selectedKpiLevel$","rawMeasuresIndex$","measuresIndex$","categoriesIndex$","orderOfMeasures$","orderOfCategories$","savingSpinner$","loadingSpinner$","spinner$"])}saveSortingOrder(n){this.savingSpinner$.next(!0),this.appSettingsApi.pipe(Object(a.a)(),Object(s.a)(l=>l.save("pages.kpi.dashboard.measures-and-categories-order",n)),Object(o.a)(()=>this.savingSpinner$.next(!1))).subscribe(()=>{this.orderOfCategories$.next(n.categoriesOrder),this.orderOfMeasures$.next(n.measuresOrder),this._enableSorting$.next({measures:n.enableSortingMeasures,categories:n.enableSortingCategories}),this._measureSortingSetting$.next(n)},n=>{this.debug.warn("saveOrder(): Can not save. HTTP Error: %O",n),this.translate.get("modal.set-sorting.server-error.can-not-save-order").subscribe(n=>this.dialog.warning(n+this.dialog.tryAgainLaterMessage))})}reset(n=!1){this._measuresIndex$.next(void 0),this._categoriesIndex$.next(void 0),this.rawMeasuresIndex$.next(void 0),this.orderOfCategories$.next(void 0),this.orderOfMeasures$.next(void 0),this._enableSorting$.next({measures:!1,categories:!1}),n&&this._measureSortingSetting$.next(void 0)}setPayload(n,l){this.loadingSpinner$.next(!0),this.reset();const e=new Map,t=new Map,i=new Map;n.forEach(n=>{const l=n.kpiIndex&&p.c.number(n.kpiIndex);if(this.debug.assert(void 0!==l,"Measure has broken ID. Not processed. Raw ID:",n.id),void 0===l)return;const a={id:l,name:p.c.string(n.name),categoryId:p.c.number(n.section_id)};t.set(a.id,a);let s=i.get(a.categoryId);void 0===s&&(s={id:a.categoryId,name:p.c.string(n.category)},i.set(s.id,s)),e.set(l,n)}),this.rawMeasuresIndex$.next(e),this._measuresIndex$.next(t),this._categoriesIndex$.next(i),this.selectedKpiLevel$.next(l),this.loadSortingOrder().pipe(Object(o.a)(()=>this.loadingSpinner$.next(!1))).subscribe(void 0,()=>{})}loadSortingOrder(){return this.appSettingsApi.pipe(Object(a.a)(),Object(u.a)(this._measureSortingSetting$),Object(s.a)(([n,l])=>l?Object(i.a)(l):n.get("pages.kpi.dashboard.measures-and-categories-order")),Object(r.a)(n=>{this.orderOfMeasures$.next(this.filterSavedIds(n.measuresOrder,this._measuresIndex$)),this.orderOfCategories$.next(this.filterSavedIds(n.categoriesOrder,this._categoriesIndex$)),this._enableSorting$.next({measures:n.enableSortingMeasures,categories:n.enableSortingCategories}),this._measureSortingSetting$.next(n)},()=>{this.orderOfMeasures$.next(void 0),this.orderOfCategories$.next(void 0),this._enableSorting$.next({measures:!1,categories:!1}),this._measureSortingSetting$.next(void 0)}),Object(c.a)(void 0))}filterSavedIds(n,l){const e=l.getValue(),t=e?Array.from(e.keys()):[],i=f.intersection(n,t),a=f.difference(t,n);if(i.length!==n.length){const l=f.difference(n,t);this.debug.log("filterSavedIds()Can not found some measures by ID's that saved in sorting order array. May be this measures has been deleted. ID's:",l)}return[...a,...i]}initMainStreams(){const n=(n,l)=>l.pipe(Object(d.a)(n),Object(h.a)(([,n])=>void 0!==n),Object(g.a)(([n,l])=>n instanceof Array?n.map(n=>l.get(n)):Array.from(l.values())));this.sortedMeasures$=n(this._measuresIndex$,this.orderOfMeasures$),this.sortedCategories$=n(this._categoriesIndex$,this.orderOfCategories$).pipe(Object(d.a)(this.loadingSpinner$),Object(h.a)(([,n])=>!n),Object(g.a)(([n])=>n)),this.sortedRawMeasures$=n(this.rawMeasuresIndex$,this.orderOfMeasures$).pipe(Object(d.a)(this.loadingSpinner$),Object(h.a)(([,n])=>!n),Object(g.a)(([n])=>n)),this.measuresIndex$=this._measuresIndex$.pipe(Object(h.a)(n=>void 0!==n)),this.categoriesIndex$=this._categoriesIndex$.pipe(Object(h.a)(n=>void 0!==n)),this.enableSorting$=this._enableSorting$.asObservable(),this.spinner$=this.loadingSpinner$.pipe(Object(d.a)(this.savingSpinner$,(n,l)=>n||l)),this.appSettingsApi=this.selectedKpiLevel$.pipe(Object(g.a)(n=>n===b.c.My?this.userAppSettingsApi:this.instanceAppSettingsApi))}}}}]);