(self.webpackChunkteck=self.webpackChunkteck||[]).push([[385],{67339:function(ce){function E(F,H){var a=F.getCenter(),O=F.getZoom(),S=F.getBearing(),w=F.getPitch();H.forEach(function(i){i.jumpTo({center:a,zoom:O,bearing:S,pitch:w})})}ce.exports=function t(){var F,H=arguments.length;if(1===H)F=arguments[0];else{F=[];for(var a=0;a<H;a++)F.push(arguments[a])}var O=[];function S(){F.forEach(function(v,C){v.on("move",O[C])})}function w(){F.forEach(function(v,C){v.off("move",O[C])})}function i(v,C){w(),E(v,C),S()}return F.forEach(function(v,C){O[C]=i.bind(null,v,F.filter(function(D,R){return R!==C}))}),S(),function(){w(),O=[],F=[]}}},49982:function(ce,E,t){"use strict";t.d(E,{q:function(){return W}});var F=t(15671),H=t(43144),a=t(65542),O=t(75791),S=t(19855),w=t(21347),i=t(40714),v=t(42585),C=t(46940),D=t(30325),R=t(94720),Y=t(69808),N=t(29772),j=function(ee){return{active:ee}};function z(x,ee){if(1&x){var te=a.EpF();a.TgZ(0,"button",3),a.NdJ("click",function(){a.CHM(te);var se=a.oxw();return se.switchMapMode(se.mapModeEnum.PATTERN)}),a.ALo(1,"transloco"),a._uU(2),a.ALo(3,"transloco"),a.qZA()}if(2&x){var X=a.oxw();a.s9C("matTooltip",a.lcZ(1,3,"viewModeTranslation.pattern.tooltip")),a.Q6J("ngClass",a.VKq(7,j,X.mapSettings.patternMode)),a.xp6(2),a.hij(" ",a.lcZ(3,5,"viewModeTranslation.pattern.title")," ")}}function Q(x,ee){1&x&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"transloco"),a.qZA()),2&x&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"viewModeTranslation.hole.title")))}function he(x,ee){1&x&&a._UZ(0,"span",6)}var o=function(ee,te){return{active:ee,compare:te}};function V(x,ee){if(1&x){var te=a.EpF();a.TgZ(0,"button",3),a.NdJ("click",function(){a.CHM(te);var Te=a.oxw();return Te.switchMapMode(Te.mapModeEnum.HOLES)}),a.ALo(1,"transloco"),a.YNc(2,Q,3,3,"span",4),a.YNc(3,he,1,0,"ng-template",null,5,a.W1O),a.qZA()}if(2&x){var X=a.MAs(4),ve=a.oxw();a.s9C("matTooltip",a.lcZ(1,4,"viewModeTranslation.hole.tooltip")),a.Q6J("ngClass",a.WLB(6,o,ve.mapSettings.holesMode,ve.isComparePage)),a.xp6(2),a.Q6J("ngIf",!ve.isComparePage)("ngIfElse",X)}}function Ce(x,ee){if(1&x&&(a.TgZ(0,"span",10),a.ALo(1,"transloco"),a.ALo(2,"async"),a._uU(3),a.ALo(4,"transloco"),a.qZA()),2&x){var te=a.oxw(2);a.Q6J("matTooltip",a.lcZ(1,2,a.lcZ(2,4,te.isDataPointsNotMaintainable$)?"viewModeTranslation.data_points.tooltip.disabled":"viewModeTranslation.data_points.tooltip.enabled")),a.xp6(3),a.Oqu(a.lcZ(4,6,"viewModeTranslation.data_points.title"))}}function P(x,ee){if(1&x&&(a._UZ(0,"span",11),a.ALo(1,"transloco"),a.ALo(2,"async")),2&x){var te=a.oxw(2);a.Q6J("matTooltip",a.lcZ(1,1,a.lcZ(2,3,te.isDataPointsNotMaintainable$)?"viewModeTranslation.data_points.tooltip.disabled":"viewModeTranslation.data_points.tooltip.enabled"))}}function re(x,ee){if(1&x){var te=a.EpF();a.TgZ(0,"button",7),a.NdJ("click",function(){a.CHM(te);var Te=a.oxw();return Te.switchMapMode(Te.mapModeEnum.DATA_POINTS)}),a.ALo(1,"async"),a.YNc(2,Ce,5,8,"span",8),a.YNc(3,P,3,5,"ng-template",null,9,a.W1O),a.qZA()}if(2&x){var X=a.MAs(4),ve=a.oxw();a.Q6J("ngClass",a.WLB(6,o,ve.mapSettings.dataPointsMode,ve.isComparePage))("disabled",a.lcZ(1,4,ve.isDataPointsNotMaintainable$)),a.xp6(2),a.Q6J("ngIf",!ve.isComparePage)("ngIfElse",X)}}function ae(x,ee){if(1&x){var te=a.EpF();a.TgZ(0,"button",7),a.NdJ("click",function(){a.CHM(te);var se=a.oxw();return se.switchMapMode(se.mapModeEnum.HOTSPOTS)}),a.TgZ(1,"span",10),a.ALo(2,"transloco"),a._uU(3),a.ALo(4,"transloco"),a.qZA()()}if(2&x){var X=a.oxw();a.Q6J("ngClass",a.VKq(8,j,X.mapSettings.hotSpotsMode))("disabled",X.isHotSpotsNotMaintainable),a.xp6(1),a.Q6J("matTooltip",a.lcZ(2,4,X.isHotSpotsNotMaintainable?"viewModeTranslation.hotspots.tooltip.disabled":"viewModeTranslation.hotspots.tooltip.enabled")),a.xp6(2),a.Oqu(a.lcZ(4,6,"viewModeTranslation.hotspots.title"))}}var e=function(ee){return{compare:ee}},le=O.H.PATTERN,ne=O.H.HOLES,$=O.H.DATA_POINTS,I=O.H.HOTSPOTS,G=S.K.COMPARING,W=function(){var x=function(){function ee(te,X,ve){(0,F.Z)(this,ee),this.route=te,this.permissionsService=X,this.mapStateService=ve,this.updateMapSettingsEmitter=new a.vpe,this.mapModeEnum=O.H,this.minesEnum=w.q}return(0,H.Z)(ee,[{key:"isShovelElevationRelated",get:function(){return(0,i.iF)(this.colorMap)}},{key:"isHotSpotsNotMaintainable",get:function(){return!i.Qs.includes(this.colorMap)}},{key:"mapMode",get:function(){var X=this.mapSettings;switch(!0){case X.dataPointsMode:return $;case X.holesMode:return ne;case X.hotSpotsMode:return I;default:return le}}},{key:"ngOnInit",value:function(){this.isComparePage=this.route.url.includes(G),this.permissions=this.permissionsService.getViewSwitcherPermissions(),this.isDataPointsNotMaintainable$=this.mapStateService.isDataPointsNotMaintainable$(this.mine)}},{key:"switchMapMode",value:function(X){X!==this.mapMode&&this.updateMapSettingsEmitter.emit(Object.assign(Object.assign({},this.mapSettings),{patternMode:X===le,holesMode:X===ne,dataPointsMode:X===$,hotSpotsMode:X===I}))}},{key:"isHVCMine",value:function(X){return C.ZA.isHVC(X)}},{key:"isRDOMine",value:function(X){return C.ZA.isRDO(X)}},{key:"isMetalMine",value:function(X){return C.ZA.isMetalMine(X)}}]),ee}();return x.\u0275fac=function(te){return new(te||x)(a.Y36(D.F0),a.Y36(R.$A),a.Y36(R.I3))},x.\u0275cmp=a.Xpm({type:x,selectors:[["dabo-map-mode-toggle"]],inputs:{mapSettings:"mapSettings",mine:"mine",colorMap:"colorMap"},outputs:{updateMapSettingsEmitter:"updateMapSettingsEmitter"},features:[a._Bn([{provide:v.Hn,useValue:{scope:"map-view-mode",alias:"viewModeTranslation"}}])],decls:5,vars:7,consts:[[1,"visibility-mode","map-switcher","button-group","button-group--medium",3,"ngClass"],["class","button-group__item reset-btn","type","button",3,"matTooltip","ngClass","click",4,"ngIf"],["class","reset-btn button-group__item","type","button",3,"ngClass","disabled","click",4,"ngIf"],["type","button",1,"button-group__item","reset-btn",3,"matTooltip","ngClass","click"],[4,"ngIf","ngIfElse"],["iconHoles",""],[1,"icon","icon-hole"],["type","button",1,"reset-btn","button-group__item",3,"ngClass","disabled","click"],[3,"matTooltip",4,"ngIf","ngIfElse"],["iconDataPoints",""],[3,"matTooltip"],[1,"icon","icon-pattern",3,"matTooltip"]],template:function(te,X){1&te&&(a.TgZ(0,"div",0),a.YNc(1,z,4,9,"button",1),a.YNc(2,V,5,9,"button",1),a.YNc(3,re,5,9,"button",2),a.YNc(4,ae,5,10,"button",2),a.qZA()),2&te&&(a.Q6J("ngClass",a.VKq(5,e,X.isComparePage)),a.xp6(1),a.Q6J("ngIf",X.permissions.patternView.visible&&!X.isComparePage),a.xp6(1),a.Q6J("ngIf",X.permissions.holesView.visible&&(!X.isComparePage||!X.isHVCMine(X.mine))),a.xp6(1),a.Q6J("ngIf",X.permissions.dataPointsView.visible&&(!X.isHVCMine(X.mine)&&!X.isShovelElevationRelated||X.isRDOMine(X.mine))),a.xp6(1),a.Q6J("ngIf",(null==X.permissions.HotSpotAnalysisView?null:X.permissions.HotSpotAnalysisView.visible)&&!X.isComparePage))},directives:[Y.mk,Y.O5,N.gM],pipes:[v.Ot,Y.Ov],styles:['.map-switcher.button-group--medium[_ngcontent-%COMP%]   .button-group__item[disabled][_ngcontent-%COMP%]:hover, .map-switcher.button-group--medium[_ngcontent-%COMP%]   .button-group__item[disabled][_ngcontent-%COMP%]{background-color:#dee1e4;color:#0003}.map-switcher[_ngcontent-%COMP%]{position:absolute;top:10px;left:calc(50% - 140px)}.map-switcher.compare[_ngcontent-%COMP%]{left:calc(50% - 44px)}.map-switcher--kpi[_ngcontent-%COMP%]{top:22px}.map-switcher.button-group--medium[_ngcontent-%COMP%]   .button-group__item[_ngcontent-%COMP%]{background-color:#fffffff2;color:#586b7a;font-size:12px;min-width:80px;transition:.7ms;vertical-align:middle;border:none;outline:none}.map-switcher.button-group--medium[_ngcontent-%COMP%]   .button-group__item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{color:#586b7a}.map-switcher.button-group--medium[_ngcontent-%COMP%]   .button-group__item[_ngcontent-%COMP%]:not([disabled], .disabled)[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000000e6}.map-switcher.button-group--medium[_ngcontent-%COMP%]   .button-group__item[_ngcontent-%COMP%]:not([disabled], .disabled)[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]:before{color:#000000e6}.map-switcher.button-group--medium[_ngcontent-%COMP%]   .button-group__item.disabled[_ngcontent-%COMP%], .map-switcher.button-group--medium[_ngcontent-%COMP%]   .button-group__item[_ngcontent-%COMP%]:disabled{background-color:#dee1e4;color:#00000042;cursor:not-allowed}.map-switcher.button-group--medium[_ngcontent-%COMP%]   .button-group__item.disabled[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before, .map-switcher.button-group--medium[_ngcontent-%COMP%]   .button-group__item[_ngcontent-%COMP%]:disabled   .icon[_ngcontent-%COMP%]:before{color:#0003}.map-switcher.button-group--medium[_ngcontent-%COMP%]   .button-group__item.active[_ngcontent-%COMP%], .map-switcher.button-group--medium[_ngcontent-%COMP%]   .button-group__item[_ngcontent-%COMP%]:not([disabled], .disabled)[_ngcontent-%COMP%]:active{background-color:#0065bd;color:#fffffff2}.map-switcher.button-group--medium[_ngcontent-%COMP%]   .button-group__item.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before, .map-switcher.button-group--medium[_ngcontent-%COMP%]   .button-group__item[_ngcontent-%COMP%]:not([disabled], .disabled)[_ngcontent-%COMP%]:active   .icon[_ngcontent-%COMP%]:before{color:#fffffff2}.map-switcher.button-group--medium[_ngcontent-%COMP%]   .button-group__item.active[_ngcontent-%COMP%]:not([disabled], .disabled)[_ngcontent-%COMP%]:hover, .map-switcher.button-group--medium[_ngcontent-%COMP%]   .button-group__item[_ngcontent-%COMP%]:not([disabled], .disabled)[_ngcontent-%COMP%]:active:not([disabled], .disabled)[_ngcontent-%COMP%]:hover{background-color:#0056a2;color:#fff}.map-switcher.button-group--medium[_ngcontent-%COMP%]   .button-group__item.active[_ngcontent-%COMP%]:not([disabled], .disabled)[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]:before, .map-switcher.button-group--medium[_ngcontent-%COMP%]   .button-group__item[_ngcontent-%COMP%]:not([disabled], .disabled)[_ngcontent-%COMP%]:active:not([disabled], .disabled)[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]:before{color:#fff}.map-switcher.button-group--medium[_ngcontent-%COMP%]   .button-group__item.compare[_ngcontent-%COMP%]{min-width:44px;padding:8px 16px}@font-face{font-family:dabaha;src:url(/assets/fonts/dabaha.eot);src:url(/assets/fonts/dabaha.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/dabaha.ttf) format("truetype"),url(/assets/fonts/dabaha.woff) format("woff"),url(/assets/fonts/dabaha.svg) format("svg");font-weight:400;font-style:normal;font-display:block}.icon[_ngcontent-%COMP%]{font-family:dabaha!important;speak:none;width:16px;height:16px;font-size:16px;font-style:normal;font-weight:400;font-feature-settings:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon--disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:initial}.icon--hidden[_ngcontent-%COMP%]{display:none}.icon-byc[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\ea04";color:#008cff}.icon-byc[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\ea05";margin-left:-1em;color:#008cff}.icon-byc[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\ea06";margin-left:-1em;color:#586b7a}.icon-byc[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\ea07";margin-left:-1em;color:#586b7a}.icon-information[_ngcontent-%COMP%]:before{content:"\\ea03";color:#586b7a}.icon-colormap[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9fe";color:#f25050}.icon-colormap[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9ff";margin-left:-1em;color:#f2c94c}.icon-colormap[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\ea00";margin-left:-1em;color:#1f8ff7}.icon-colormap[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\ea01";margin-left:-1em;color:#39be04}.icon-colormap[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\ea02";margin-left:-1em;color:#586b7a}.icon-drillbit[_ngcontent-%COMP%]:before{content:"\\e9fc";color:#00afbd}.icon-report[_ngcontent-%COMP%]:before{content:"\\e9fa";color:#0065bd}.icon-quality[_ngcontent-%COMP%]:before{content:"\\e9fb";color:#d5b1f1}.icon-permissions[_ngcontent-%COMP%]:before{content:"\\e9f9";color:#00afbd}.icon-batchedit[_ngcontent-%COMP%]:before{content:"\\e9f8";color:#0165bd}.icon-comment[_ngcontent-%COMP%]:before{content:"\\e9f4";color:#0065bd}.icon-actions[_ngcontent-%COMP%]:before{content:"\\e9f5";color:#0065bd}.icon-add-comment[_ngcontent-%COMP%]:before{content:"\\e9f6";color:#0065bd}.icon-scorecard[_ngcontent-%COMP%]:before{content:"\\e9f7";color:#0065bd}.icon-data-error[_ngcontent-%COMP%]:before{content:"\\e9f3";color:#586b7a}.icon-BL-1z[_ngcontent-%COMP%]:before{content:"\\e9e5";color:#366cfb}.icon-BL-2z-1[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9e6";color:#366cfb}.icon-BL-2z-1[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9e7";margin-left:-1em;color:#eef3fb}.icon-BL-2z-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9e8";color:#eef3fb}.icon-BL-2z-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9e9";margin-left:-1em;color:#366cfb}.icon-BL-3z-1[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9ea";color:#366cfb}.icon-BL-3z-1[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9eb";margin-left:-1em;color:#b8d3fd}.icon-BL-3z-1[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9ec";margin-left:-1em;color:#eef3fb}.icon-BL-3z-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9ed";color:#b8d3fd}.icon-BL-3z-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9ee";margin-left:-1em;color:#366cfb}.icon-BL-3z-2[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9ef";margin-left:-1em;color:#eef3fb}.icon-BL-3z-3[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9f0";color:#e3edfb}.icon-BL-3z-3[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9f1";margin-left:-1em;color:#f4f8fb}.icon-BL-3z-3[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9f2";margin-left:-1em;color:#366cfb}.icon-hole-pumped[_ngcontent-%COMP%]:before{content:"\\e9e3"}.icon-history[_ngcontent-%COMP%]:before{content:"\\e9e2";color:#586b7a}.icon-crusher[_ngcontent-%COMP%]:before{content:"\\e9e4";color:#0165bd}.icon-calculator[_ngcontent-%COMP%]:before{content:"\\e9e1";color:#0165bd}.icon-issue[_ngcontent-%COMP%]:before{content:"\\e9de";color:#e68537}.icon-nitrate[_ngcontent-%COMP%]:before{content:"\\e9df";color:#0165bd}.icon-vibration[_ngcontent-%COMP%]:before{content:"\\e9e0";color:#0165bd}.icon-angled[_ngcontent-%COMP%]:before{content:"\\e9dd"}.icon-userguide[_ngcontent-%COMP%]:before{content:"\\e9dc";color:#0165bd}.icon-crew[_ngcontent-%COMP%]:before{content:"\\e9db";color:#586b7a}.icon-bench[_ngcontent-%COMP%]:before{content:"\\e9d7";color:#586b7a}.icon-pat-group[_ngcontent-%COMP%]:before{content:"\\e9d8";color:#586b7a}.icon-pat-small[_ngcontent-%COMP%]:before{content:"\\e9d9";color:#586b7a}.icon-patt[_ngcontent-%COMP%]:before, .icon-patt-light[_ngcontent-%COMP%]:before{content:"\\e9da";color:#586b7a}.icon-patt-light[_ngcontent-%COMP%]:before{opacity:.5}.icon-safety[_ngcontent-%COMP%]:before{content:"\\e9d6";color:#0165bd}.icon-godown[_ngcontent-%COMP%]:before{content:"\\e9d3";color:#586b7a}.icon-growup[_ngcontent-%COMP%]:before{content:"\\e9d4";color:#586b7a}.icon-growup-light[_ngcontent-%COMP%]:before{content:"\\e9d4";color:#fff;opacity:.5}.icon-circle[_ngcontent-%COMP%]:before{content:"\\e9d5";color:#586b7a}.icon-sliders[_ngcontent-%COMP%]:before{content:"\\e9d2";color:#586b7a}.icon-chart[_ngcontent-%COMP%]:before{content:"\\e9d1";color:#586b7a}.icon-no-data-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9cb";color:#8bade0}.icon-no-data-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9cc";margin-left:-1em;color:#586b7a}.icon-no-data-3[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9cd";color:#586b7a}.icon-no-data-3[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9ce";margin-left:-1em;color:#8bade0}.icon-no-data-4[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9cf";color:#8bade0}.icon-no-data-4[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9d0";margin-left:-1em;color:#586b7a}.icon-connection[_ngcontent-%COMP%]:before{content:"\\e9c8";color:#586b7a}.icon-dashboard[_ngcontent-%COMP%]:before{content:"\\e9c9";color:#586b7a}.icon-temperature[_ngcontent-%COMP%]:before{content:"\\e9ca";color:#586b7a}.icon-menu-1[_ngcontent-%COMP%]:before{content:"\\e9c6";color:#586b7a}.icon-menu-2[_ngcontent-%COMP%]:before{content:"\\e9c7";color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9b4";color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9b5";margin-left:-1em;color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9b6";margin-left:-1em;color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e9b7";margin-left:-1em;color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e9b8";margin-left:-1em;color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e9b9";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3-6[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e9ba";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3-6[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e9bb";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3-6[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e9bc";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9bd";color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9be";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9bf";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e9c0";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e9c1";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e9c2";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e9c3";margin-left:-1em;color:#586b7a}.icon-w1-2[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e9c4";margin-left:-1em;color:#586b7a}.icon-w1-2[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e9c5";margin-left:-1em;color:#586b7a}.icon-hole-precond[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9b2";color:#000;opacity:.75}.icon-hole-precond[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9b3";margin-left:-1em;color:#fff}.icon-w1[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e97c";color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e97d";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e97e";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e97f";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e980";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e981";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e982";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e983";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e984";margin-left:-1em;color:#586b7a}.icon-w2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e985";color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e986";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e987";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e988";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e989";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e98a";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e98b";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e98c";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e98d";margin-left:-1em;color:#586b7a}.icon-w3[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e98e";color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e98f";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e990";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e991";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e992";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e993";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e994";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e995";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e996";margin-left:-1em;color:#586b7a}.icon-w4[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e997";color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e998";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e999";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e99a";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e99b";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e99c";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e99d";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e99e";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e99f";margin-left:-1em;color:#586b7a}.icon-w5[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9a0";color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9a1";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9a2";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e9a3";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e9a4";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e9a5";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e9a6";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e9a7";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e9a8";margin-left:-1em;color:#586b7a}.icon-w6[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9a9";color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9aa";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9ab";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e9ac";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e9ad";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e9ae";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e9af";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e9b0";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e9b1";margin-left:-1em;color:#586b7a}.icon-T-Icon[_ngcontent-%COMP%]:before{content:"\\e97a";color:#fff}.icon-tasks[_ngcontent-%COMP%]:before{content:"\\e97b";color:#586b7a}.icon-pdf_template[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e967";color:#fff}.icon-pdf_template[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e968";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e969";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e96a";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e96b";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e96c";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e96d";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e96e";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e96f";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path10[_ngcontent-%COMP%]:before{content:"\\e970";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path11[_ngcontent-%COMP%]:before{content:"\\e971";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path12[_ngcontent-%COMP%]:before{content:"\\e972";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path13[_ngcontent-%COMP%]:before{content:"\\e973";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path14[_ngcontent-%COMP%]:before{content:"\\e974";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path15[_ngcontent-%COMP%]:before{content:"\\e975";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path16[_ngcontent-%COMP%]:before{content:"\\e976";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path17[_ngcontent-%COMP%]:before{content:"\\e977";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path18[_ngcontent-%COMP%]:before{content:"\\e978";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path19[_ngcontent-%COMP%]:before{content:"\\e979";margin-left:-.7998046875em;color:#d0dae0}.icon-ellipsis[_ngcontent-%COMP%]:before{content:"\\e966";color:#586b7a}.icon-edit[_ngcontent-%COMP%]:before{content:"\\e965";color:#586b7a}.icon-help-center[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e963";color:#ffe845}.icon-help-center[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e964";margin-left:-1em;color:#000;opacity:.5029}.icon-driver[_ngcontent-%COMP%]:before{content:"\\e95a";color:#0165bd}.icon-eye-crossed[_ngcontent-%COMP%]:before{content:"\\e95b";color:#586b7a}.icon-eye[_ngcontent-%COMP%]:before{content:"\\e95c";color:#586b7a}.icon-grade[_ngcontent-%COMP%]:before{content:"\\e95d";color:#586b7a}.icon-ropes-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e95e";color:#586b7a}.icon-ropes-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e95f";margin-left:-1em;color:#0165bd}.icon-ropes[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e960";color:#586b7a}.icon-ropes[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e961";margin-left:-1em;color:#0165bd}.icon-score[_ngcontent-%COMP%]:before{content:"\\e962";color:#586b7a}.icon-search[_ngcontent-%COMP%]:before{content:"\\e959";color:#586b7a}.icon-progress[_ngcontent-%COMP%]:before{content:"\\e958";color:#586b7a}.icon-day-shift[_ngcontent-%COMP%]:before{content:"\\e955";color:#fcd47d}.icon-night-shift[_ngcontent-%COMP%]:before{content:"\\e956";color:#7d8c9a}.icon-segment[_ngcontent-%COMP%]:before{content:"\\e957";color:#586b7a}.icon-print[_ngcontent-%COMP%]:before{content:"\\e954";color:#586b7a}.icon-success[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e951";color:#fff}.icon-success[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e952";margin-left:-1em;color:#8bade0}.icon-success[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e953";margin-left:-1em;color:#39be04}.icon-misfire[_ngcontent-%COMP%]:before{content:"\\e950";color:#ff8200}.icon-no-selection[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e949";color:#fff}.icon-no-selection[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e94a";margin-left:-1em;color:#8bade0}.icon-no-selection[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e94b";margin-left:-1em;color:#eaeef6}.icon-no-selection[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e94c";margin-left:-1em;color:#1f8ff7}.icon-no-selection[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e94d";margin-left:-1em;color:#586b7a}.icon-home[_ngcontent-%COMP%]:before{content:"\\e948";color:#586b7a}.icon-feedback-normal[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e93f";color:#31495d;opacity:.8504}.icon-feedback-normal[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e940";margin-left:-.7861328125em;color:#ffaf00}.icon-feedback-normal[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e941";margin-left:-.7861328125em;color:#fff}.icon-feedback-selected[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e942";color:#0165bd}.icon-feedback-selected[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e943";margin-left:-.7861328125em;color:#fff}.icon-feedback-selected[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e944";margin-left:-.7861328125em;color:#ffaf00}.icon-feedback-selected[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e945";margin-left:-.7861328125em;color:#586b7a}.icon-map-feedback-small[_ngcontent-%COMP%]:before{content:"\\e946";color:#ffaf00}.icon-map-feedback[_ngcontent-%COMP%]:before{content:"\\e947";color:#586b7a}.icon-equip-driller[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e911";color:#fff}.icon-equip-driller[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e912";margin-left:-1em;color:#0165bd}.icon-equip-driller[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e913";margin-left:-1em;color:#0165bd}.icon-equip-loader[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e939";color:#fff}.icon-equip-loader[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e93a";margin-left:-1em;color:#0165bd}.icon-equip-loader[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e93b";margin-left:-1em;color:#0165bd}.icon-equip-shovel[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e93c";color:#fff}.icon-equip-shovel[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e93d";margin-left:-1em;color:#0165bd}.icon-equip-shovel[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e93e";margin-left:-1em;color:#0165bd}.icon-alert[_ngcontent-%COMP%]:before{content:"\\e900";color:#ff8200}.icon-arrow-down[_ngcontent-%COMP%]:before{content:"\\e901";color:#586b7a}.icon-arrow-left[_ngcontent-%COMP%]:before{content:"\\e902";color:#586b7a}.icon-arrow-right[_ngcontent-%COMP%]:before{content:"\\e903";color:#586b7a}.icon-arrow-top[_ngcontent-%COMP%]:before{content:"\\e904";color:#586b7a}.icon-blast[_ngcontent-%COMP%]:before, .icon-blast-light[_ngcontent-%COMP%]:before{content:"\\e905";color:#f25050}.icon-blast-light[_ngcontent-%COMP%]:before{color:#586b7a;opacity:.5}.icon-calendar[_ngcontent-%COMP%]:before{content:"\\e906";color:#0165bd}.icon-checkmark[_ngcontent-%COMP%]:before{content:"\\e907";color:#586b7a}.icon-close[_ngcontent-%COMP%]:before{content:"\\e908";color:#586b7a}.icon-coal[_ngcontent-%COMP%]:before{content:"\\e909";color:#586b7a}.icon-cost[_ngcontent-%COMP%]:before{content:"\\e90a";color:#ff8200}.icon-critical[_ngcontent-%COMP%]:before{content:"\\e90b";color:#c55563}.icon-datepicker[_ngcontent-%COMP%]:before{content:"\\e90c";color:#586b7a}.icon-destination[_ngcontent-%COMP%]:before{content:"\\e90d";color:#39be04}.icon-drill[_ngcontent-%COMP%]:before{content:"\\e90e";color:#00afbd}.icon-empty[_ngcontent-%COMP%]:before{content:"\\e90f";color:#a4afbe}.icon-env[_ngcontent-%COMP%]:before{content:"\\e910";color:#39be04}.icon-filter[_ngcontent-%COMP%]:before{content:"\\e914";color:#586b7a}.icon-flag[_ngcontent-%COMP%]:before{content:"\\e915";color:#f54f63}.icon-grid[_ngcontent-%COMP%]:before{content:"\\e916";color:#0165bd}.icon-group[_ngcontent-%COMP%]:before{content:"\\e917";color:#586b7a}.icon-help[_ngcontent-%COMP%]:before{content:"\\e918";color:#586b7a}.icon-help-light[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e963";color:#586b7a;opacity:.2}.icon-help-light[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e964";margin-left:-1em;color:#586b7a;opacity:.75}.icon-hole[_ngcontent-%COMP%]:before{content:"\\e919";color:#0165bd}.icon-kpi[_ngcontent-%COMP%]:before{content:"\\e91a";color:#0165bd}.icon-kpi-cda[_ngcontent-%COMP%]:before{content:"\\e91a";color:#e1c06b}.icon-letter[_ngcontent-%COMP%]:before{content:"\\e91b";color:#586b7a}.icon-list[_ngcontent-%COMP%]:before{content:"\\e91c";color:#0165bd}.icon-load[_ngcontent-%COMP%]:before{content:"\\e91d";color:#0165bd}.icon-loaded[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e91e";color:#a4afbe}.icon-loaded[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e91f";margin-left:-1em;color:#1f8ff7}.icon-mail[_ngcontent-%COMP%]:before{content:"\\e920";color:#586b7a}.icon-map-collapse[_ngcontent-%COMP%]:before{content:"\\e921";color:#586b7a}.icon-map-compare-tool[_ngcontent-%COMP%]:before{content:"\\e922";color:#586b7a}.icon-map-expand[_ngcontent-%COMP%]:before{content:"\\e923";color:#586b7a}.icon-map-legend[_ngcontent-%COMP%]:before{content:"\\e924";color:#586b7a}.icon-map-polygon-tool[_ngcontent-%COMP%]:before{content:"\\e925";color:#586b7a}.icon-map-toggle[_ngcontent-%COMP%]:before{content:"\\e926";color:#586b7a}.icon-map-visibility[_ngcontent-%COMP%]:before{content:"\\e927";color:#586b7a}.icon-minus[_ngcontent-%COMP%]:before{content:"\\e928";color:#586b7a}.icon-no-data[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e929";color:#fff}.icon-no-data[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e94e";margin-left:-1em;color:#8bade0}.icon-no-data[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e94f";margin-left:-1em;color:#586b7a}.icon-notifications[_ngcontent-%COMP%]:before{content:"\\e92a";color:#586b7a}.icon-pattern[_ngcontent-%COMP%]:before{content:"\\e92b";color:#0165bd}.icon-piechart[_ngcontent-%COMP%]:before{content:"\\e92c";color:#00afbd}.icon-plus[_ngcontent-%COMP%]:before{content:"\\e92d";color:#586b7a}.icon-refresh[_ngcontent-%COMP%]:before{content:"\\e92e";color:#586b7a}.icon-road[_ngcontent-%COMP%]:before{content:"\\e92f"}.icon-roadblock[_ngcontent-%COMP%]:before{content:"\\e930";color:#f25050}.icon-roadpin[_ngcontent-%COMP%]:before{content:"\\e931";color:#ff8200}.icon-settings[_ngcontent-%COMP%]:before{content:"\\e932";color:#586b7a}.icon-shovel[_ngcontent-%COMP%]:before{content:"\\e933";color:#0165bd}.icon-target[_ngcontent-%COMP%]:before{content:"\\e934";color:#586b7a}.icon-time[_ngcontent-%COMP%]:before{content:"\\e935";color:#586b7a}.icon-truck[_ngcontent-%COMP%]:before{content:"\\e936";color:#0165bd}.icon-user[_ngcontent-%COMP%]:before{content:"\\e937";color:#586b7a}.icon-waste[_ngcontent-%COMP%]:before{content:"\\e938";color:#586b7a}.icon-info[_ngcontent-%COMP%]:before{content:"\\ea03";color:#586b7a}']}),x}()},35204:function(ce,E,t){"use strict";t.d(E,{U:function(){return ae}});var F=t(89062),H=t(15671),a=t(43144),O=t(591),S=t(30567),w=t(80910),i=t(8903),v=t(21086),C=t(22868),D=t(40537),R=t(87545),Y=t(17489),j=t(338),z=t(57676),Q=t(46940),he=t(48924),o=t(65542),V=t(94720),Ce=t(4208),P=j.A.TOP,re=j.A.BOTTOM,ae=function(){var e=function(){function le(ne,$,I){(0,H.Z)(this,le),this.spinnerService=ne,this.treeDataService=$,this.coalSeamsApiService=I,this.treeData$=new O.X(null)}return(0,a.Z)(le,[{key:"treeData",get:function(){return this.treeData$.value},set:function($){this.treeData$.next($)}},{key:"addItem",value:function($,I){if($.children){var x,G=$.children.find(function(ee){return ee.coalSeamType&&ee.coalSeamType===P}),W=$.children.find(function(ee){return ee.coalSeamType&&ee.coalSeamType===re});switch(!0){case!G:x=0;break;case!W:x=1;break;default:x=$.children.length}$.children.splice(x,0,I),this.updateTreeData()}}},{key:"updateItem",value:function($,I){$.status=I.status,$.statusMessage=I.statusMessage,$.filename=I.filename,this.updateTreeData()}},{key:"deleteItem",value:function($,I){$.children=$.children.filter(function(G){return G.uuid!==I.uuid}),this.updateTreeData()}},{key:"applyTreeFilter",value:function($,I,G){var W=this;this.spinnerService.startSpinner(I?{active:!0,statusMessage:I}:{active:!0}),this.treeData=[];var ee=G||{dateFrom:(0,z.XD)($).subtract(6,"months").startOf("day").valueOf(),dateTo:(0,z.XD)($).endOf("day").valueOf()};return this.treeDataService.getTreeData($,Object.assign({coalSeams:Q.ZA.isCoalMine($),patternType:ee.patternType||this.getDefaultPatternType($)},ee)).pipe((0,C.b)(function(te){W.treeData=te}),(0,D.x)(function(){return W.spinnerService.stopSpinner()}))}},{key:"setTree",value:function($,I){var G=this,W=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],x=I?{active:!0,statusMessage:I}:{active:!0};return this.treeDataService.getStoredTreeData($).pipe((0,C.b)(function(){G.spinnerService.startSpinner(x)}),(0,R.w)(function(ee){return(0,S.D)({treeData:(0,w.s)(function(){return(0,Y.isNil)(ee)},G.treeDataService.getTreeData($),(0,i.D)([ee])),coalSeams:(0,w.s)(function(){return Q.ZA.isCoalMine($)&&W},G.coalSeamsApiService.getTreeData($),(0,v.of)({}))})}),(0,C.b)(function(ee){var te=G.buildTreeWithCoalSeams(ee);G.treeData$.next(te)}),(0,D.x)(function(){return G.spinnerService.stopSpinner()}))}},{key:"buildTreeWithCoalSeams",value:function($){var I=this,W=$.coalSeams;return $.treeData.map(function(x){return Object.assign(Object.assign({},x),{children:x.children.map(function(ee){var te=I.treeDataService.getCoalSeamsByElevation(W,x,ee);return Object.assign(Object.assign({},ee),{miningArea:x.name,children:[].concat((0,F.Z)(te),(0,F.Z)(ee.children))})})})})}},{key:"getDefaultPatternType",value:function($){return(he.cyclePhases[$]||he.cyclePhases.default).filter(function(G){return!G.unchecked}).map(function(G){return G.value})}},{key:"updateTreeData",value:function(){this.treeData$.next(this.treeData$.value)}}]),le}();return e.\u0275fac=function(ne){return new(ne||e)(o.LFG(V.V),o.LFG(V.yU),o.LFG(Ce.P))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e}()},67626:function(ce,E,t){"use strict";t.d(E,{b:function(){return Qe}});var F=t(89062),H=t(15671),a=t(43144),O=t(73237),S=t(61120),w=t(60136),i=t(57777),v=t(46940),C=t(22451),D=t(10079),R=t(96357),Y=t(17489),N=t(7625),j=t(92198),z=t(24850),Q=t(84709),he=[{name:"Hole ID",property:"drilledNumber"},{name:"Drill Date",property:"drillDate"},{name:"Zn, %",property:Q.T.ZINC},{name:"Pb, %",property:Q.T.LEAD},{name:"sPb, %",property:Q.T.SOLUBLE},{name:"rPb, %",property:Q.T.RPB},{name:"Fe, %",property:Q.T.IRON},{name:"Ba, %",property:Q.T.BARIUM},{name:"Ag, oz/t",property:Q.T.SILVER},{name:"Cu, %",property:Q.T.COPPER},{name:"SiO\u2082, %",property:Q.T.SILICON_DIOXIDE},{name:"Cd, %",property:Q.T.CADMIUM},{name:"S, %",property:Q.T.SULFUR},{name:"Weathered",property:"isWeathered"},{name:"Sample Number",property:"sampleNumber"},{name:"Sample ID",property:"sampleId"},{name:"Sample Type",property:"sampleType"},{name:"Test Date",property:"testDate"}],o=[5,10,25,50],V=t(81042),Ce=t(4199),P=t(65542),re=t(94720),ae=t(1249),e=t(62387),le=t(69808),ne=t(82768),$=t(77093),I=t(47423),G=t(55710);function W(Se,Ze){if(1&Se){var De=P.EpF();P.TgZ(0,"dabo-table",6),P.NdJ("filteredDataEmitter",function(ge){return P.CHM(De),P.oxw().getFilteredAssays(ge)}),P.qZA()}if(2&Se){var pe=P.oxw();P.Q6J("columns",pe.assaysColumns)("displayedColumns",pe.displayedColumns)("filterPredicate",pe.assayFilterPredicate)("filter",pe.filter)("mine",pe.mine)("paginationConfig",pe.paginationConfig)("stickyColumnIndex",0)("tableData",pe.tableData)}}function x(Se,Ze){1&Se&&P.GkF(0)}function ee(Se,Ze){if(1&Se&&P.YNc(0,x,1,0,"ng-container",7),2&Se){var De=P.oxw(),pe=P.MAs(1),Pe=P.MAs(5);P.Q6J("ngTemplateOutlet",null!=De.tableData&&De.tableData.length?pe:Pe)}}function te(Se,Ze){1&Se&&P._UZ(0,"dabo-no-data-message")}function X(Se,Ze){1&Se&&(P.ynx(0,8),P.TgZ(1,"div",9),P._UZ(2,"div",10),P.qZA(),P.BQk())}var ve=C.a.DATE_TIME_SEC,se=C.a.DEFAULT,Te=D.P.CSV,Ee=R.G.ASSAYS,Qe=function(){var Se=function(Ze){(0,w.Z)(pe,Ze);var De=(0,i.Z)(pe);function pe(Pe,ge,me,ue){var Me;return(0,H.Z)(this,pe),(Me=De.call(this)).mapStateService=Pe,Me.exportStateService=ge,Me.exportGenerator=me,Me.cdr=ue,Me.assaysColumns=he,Me.displayedColumns=he.map(function(n){return n.property}),Me.isLoading=!1,Me.exportDisabled=!1,Me.paginationConfig={pageSizeOptions:o,pageSize:10},Me.assayFilterPredicate=function(n,Ue){return Ue.split(",").includes(n.uniqueHoleId)},Me}return(0,a.Z)(pe,[{key:"ngOnInit",value:function(){var me,ge=this;this.initAssaysTable(),this.exportStateService.generationHandler$.pipe((0,N.R)(this.destroy$)).subscribe(function(ue){ge.exportDisabled=null==ue?void 0:ue.generationStarted,ge.cdr.markForCheck(),((null==ue?void 0:ue.generationCanceled)||(null==ue?void 0:ue.generationComplete)||(null==ue?void 0:ue.generationError))&&ge.isConnectionEstablished$&&ge.isConnectionEstablished$.unsubscribe()}),null===(me=this.mapStateService.mapLoading$)||void 0===me||me.pipe((0,N.R)(this.destroy$)).subscribe(function(ue){ge.exportDisabled=ue})}},{key:"ngOnDestroy",value:function(){(0,O.Z)((0,S.Z)(pe.prototype),"ngOnDestroy",this).call(this),this.exportGenerator.close()}},{key:"getFilteredAssays",value:function(ge){this.assaysIds=ge.map(function(me){return me.uniqueHoleId})}},{key:"exportTable",value:function(){var ge=this;this.exportGenerator.establishConnection();var me=this.exportGenerator.generateFileName(this.assaysIds,Te,Ee),ue={holeIds:this.assaysIds,reportType:Ee,reportFormat:Te,reportId:(0,V.Z)()};this.isConnectionEstablished$=this.exportGenerator.isConnectionEstablished$().subscribe(function(){return ge.exportGenerator.generateExportFile(me,ue)})}},{key:"initAssaysTable",value:function(){var ge=this;this.mapStateService.assayLoading$.pipe((0,N.R)(this.destroy$)).subscribe(function(me){ge.isLoading=me}),this.mapStateService.assays$.pipe((0,j.h)(function(me){return!(0,Y.isEmpty)(me)}),(0,z.U)(function(me){return ge.prepareAssaysForTable(me.current.features)}),(0,N.R)(this.destroy$)).subscribe(function(me){ge.isLoading=!1,ge.tableData=me})}},{key:"prepareAssaysForTable",value:function(ge){var me=this;return ge.reduce(function(ue,Me){var n=Me.properties;return n.noAssays?ue:[].concat((0,F.Z)(ue),[Object.assign(Object.assign({},n),me.transformProps(n))])},[])}},{key:"transformProps",value:function(ge){var me=ge.drillDate,ue=ge.testDate,Me=ge.isWeathered,n=new Ce.Qf;return{testDate:v.Ov.transformToMineUTCTimeZone(this.mine,ue,ve),drillDate:v.Ov.transformToMineUTCTimeZone(this.mine,me,se),isWeathered:n.transform(Me)}}}]),pe}(v.eO);return Se.\u0275fac=function(De){return new(De||Se)(P.Y36(re.I3),P.Y36(re.jN),P.Y36(ae.J),P.Y36(P.sBO))},Se.\u0275cmp=P.Xpm({type:Se,selectors:[["dabo-assays-table"]],inputs:{mine:"mine",filter:"filter"},features:[P.qOj],decls:10,vars:3,consts:[["table",""],["template",""],["noData",""],["fxFlex","100%","widgetIcon","icon-hole","widgetTitle","Assays",1,"teck-basic-card"],["headerAdditionalActions","","daboDebounceClick","","mat-button","",1,"export-button","btn","btn--outline","btn--xs",3,"disabled","debounceClick"],["widgetBody","",4,"ngIf","ngIfElse"],["sortActive","drillDate","sortDirection","desc","sortDisableClear","",1,"assay-table",3,"columns","displayedColumns","filterPredicate","filter","mine","paginationConfig","stickyColumnIndex","tableData","filteredDataEmitter"],[4,"ngTemplateOutlet"],["widgetBody",""],["fxFill","","fxLayout","column","fxLayoutAlign","center center",1,"base-spinner-wrapper"],[1,"spinner"]],template:function(De,pe){if(1&De&&(P.YNc(0,W,1,8,"ng-template",null,0,P.W1O),P.YNc(2,ee,1,1,"ng-template",null,1,P.W1O),P.YNc(4,te,1,0,"ng-template",null,2,P.W1O),P.TgZ(6,"dabo-widget-collapsible",3)(7,"button",4),P.NdJ("debounceClick",function(){return pe.exportTable()}),P._uU(8," Export "),P.qZA(),P.YNc(9,X,3,0,"ng-container",5),P.qZA()),2&De){var Pe=P.MAs(3);P.xp6(7),P.Q6J("disabled",!pe.tableData||0===pe.tableData.length||pe.exportDisabled),P.xp6(2),P.Q6J("ngIf",pe.isLoading)("ngIfElse",Pe)}},directives:[e.a,le.tP,ne._,$.yH,I.lW,G.J,le.O5,$.s9,$.xw,$.Wh],encapsulation:2}),Se}()},36848:function(ce,E,t){"use strict";t.d(E,{c:function(){return Y}});var F=t(15671),H=t(43144),a=t(60136),O=t(57777),S=t(46940),w=t(9234),i=t(19855),v=t(65542),C=t(30325),D=w.L.RIGHT,R=w.L.LEFT,Y=function(){var N=function(j){(0,a.Z)(Q,j);var z=(0,O.Z)(Q);function Q(he,o){var V;return(0,F.Z)(this,Q),(V=z.call(this)).router=he,V.cdr=o,V.noChartFunctionality=!0,V.loading=!1,V.isComparePage=V.router.url.includes(i.K.COMPARING),V.chartContainerPadding=30,V.chartHeight=400,V}return(0,H.Z)(Q,[{key:"setBiggestHeight",value:function(o){this.height=(o[R]>o[D]?o[R]:o[D])+this.chartContainerPadding,this.cdr.markForCheck()}}]),Q}(S.eO);return N.\u0275fac=function(z){return new(z||N)(v.Y36(C.F0),v.Y36(v.sBO))},N.\u0275dir=v.lG2({type:N,features:[v.qOj]}),N}()},6492:function(ce,E,t){"use strict";t.d(E,{I:function(){return Xe}});var F=t(97685),H=t(4942),a=t(15671),O=t(43144),S=t(60136),w=t(57777),i=t(65542),v=t(17489),C=t(21086),D=t(80910),R=t(7625),Y=t(22868),N=t(92198),j=t(87545),z=t(54375),Q=t(46940),he=t(75791),o=t(38001),V=t(40714),Ce=t(5379),P=t(36848),re=t(94720),ae=t(78090),e=t(30325),le=t(69808),ne=t(11066),$=t(23322),I=t(83515),G=t(465),W=t(88279),x=t(71654);function ee(J,_e){1&J&&(i.TgZ(0,"th",12),i._uU(1," Summary "),i.qZA()),2&J&&i.uIk("colspan",4)}function te(J,_e){1&J&&(i.TgZ(0,"th",13),i._uU(1,"Metric"),i.qZA())}function X(J,_e){if(1&J&&(i.TgZ(0,"td",14),i._uU(1),i.qZA()),2&J){var u=_e.$implicit;i.xp6(1),i.Oqu(u.name)}}function ve(J,_e){1&J&&(i.TgZ(0,"th",13),i._uU(1,"Value"),i.qZA())}function se(J,_e){if(1&J&&(i.TgZ(0,"td",14),i._uU(1),i.ALo(2,"detectNullValue"),i.qZA()),2&J){var u=_e.$implicit;i.xp6(1),i.Oqu(i.lcZ(2,1,u.current))}}function Te(J,_e){1&J&&i._UZ(0,"tr",15)}function Ee(J,_e){1&J&&i._UZ(0,"tr",16)}function Qe(J,_e){1&J&&i._UZ(0,"tr",17)}var Se=function(){return["header"]},Ze=function(){return["metric","current"]},De=function(){var J=function(){function _e(u,U){(0,a.Z)(this,_e),this.customDecimalPipe=u,this.mineStateService=U,this.columns=["header","metric","current"]}return(0,O.Z)(_e,[{key:"characteristicsData",set:function(U){this.tableData=[{name:"ANFO Equivalent PF, ".concat(Q.ZA.isMetalMine(this.mineStateService.getSelectedMineArea())?"kg/T":"kg/m\xb3"," "),current:this.customDecimalPipe.transform(U.anfoCurrent)},{name:"Blastability, BI",current:this.customDecimalPipe.transform(U.blastabilityCurrent)}]}}]),_e}();return J.\u0275fac=function(u){return new(u||J)(i.Y36(G.n),i.Y36(re.Hj))},J.\u0275cmp=i.Xpm({type:J,selectors:[["dabo-characteristics-table"]],inputs:{mineSite:"mineSite",characteristicsData:"characteristicsData"},decls:14,vars:7,consts:[[1,"characteristics-wrapper"],[1,"characteristics-table-content"],["aria-label","characteristics-table","mat-table","",1,"teck-basic-table",3,"dataSource"],["matColumnDef","header"],["class","table-title","scope","col","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","metric"],["mat-header-cell","","scope","col",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","current"],["mat-header-row","","class","main-table-header table-header",4,"matHeaderRowDef"],["mat-header-row","","class","metric-header-row table-header",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["scope","col","mat-header-cell","",1,"table-title"],["mat-header-cell","","scope","col"],["mat-cell",""],["mat-header-row","",1,"main-table-header","table-header"],["mat-header-row","",1,"metric-header-row","table-header"],["mat-row",""]],template:function(u,U){1&u&&(i.TgZ(0,"div",0)(1,"div",1)(2,"table",2),i.ynx(3,3),i.YNc(4,ee,2,1,"th",4),i.BQk(),i.ynx(5,5),i.YNc(6,te,2,0,"th",6),i.YNc(7,X,2,1,"td",7),i.BQk(),i.ynx(8,8),i.YNc(9,ve,2,0,"th",6),i.YNc(10,se,3,3,"td",7),i.BQk(),i.YNc(11,Te,1,0,"tr",9),i.YNc(12,Ee,1,0,"tr",10),i.YNc(13,Qe,1,0,"tr",11),i.qZA()()()),2&u&&(i.xp6(2),i.Q6J("dataSource",U.tableData),i.xp6(9),i.Q6J("matHeaderRowDef",i.DdM(4,Se)),i.xp6(1),i.Q6J("matHeaderRowDef",i.DdM(5,Ze)),i.xp6(1),i.Q6J("matRowDefColumns",i.DdM(6,Ze)))},directives:[W.BZ,W.w1,W.fO,W.ge,W.Dz,W.ev,W.as,W.XQ,W.nj,W.Gk],pipes:[x.R],styles:[".table-title[_ngcontent-%COMP%]{font-style:normal;font-family:Rubik,dabaha,sans-serif;font-weight:500;font-size:12px;line-height:16px}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{font-weight:400;border:none;text-align:center}.mat-cell[_ngcontent-%COMP%]:first-child, .mat-header-cell[_ngcontent-%COMP%]:first-child{text-align:left;font-weight:400}.teck-basic-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{box-shadow:none}.teck-basic-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{height:27px;color:#2e384d;font-weight:400}.teck-basic-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:first-child   .mat-cell[_ngcontent-%COMP%]{border-top:none}.teck-basic-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(even){background-color:#f6f7fb99}.teck-basic-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}.teck-basic-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{background-color:#0165bd0f}.teck-basic-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{font-weight:400}.teck-basic-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:not(:first-child){font-size:14px;color:#2e384d}.teck-basic-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{color:#2e384d;border:none;font-size:14px;line-height:1.69;letter-spacing:normal}.table-header[_ngcontent-%COMP%]{height:24px;box-shadow:none}.table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400}.main-table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#282d32;font-weight:500;font-size:12px}.metric-header-row.mat-header-row[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#030f29;font-size:12px;background:rgba(203,211,231,.18);opacity:.4}"]}),J}(),pe=t(72810);function Pe(J,_e){if(1&J&&(i.TgZ(0,"p",5),i._uU(1),i.qZA()),2&J){var u=i.oxw();i.xp6(1),i.Oqu(u.comparingPageChartTitle)}}function ge(J,_e){1&J&&(i.TgZ(0,"span"),i._uU(1," There is no chart functionality "),i._UZ(2,"br"),i._uU(3," for the current color map "),i.qZA())}function me(J,_e){1&J&&(i.TgZ(0,"span"),i._uU(1," No color map selected "),i.qZA())}function ue(J,_e){if(1&J&&(i.ynx(0),i.TgZ(1,"p",6),i.YNc(2,ge,4,0,"span",7),i.YNc(3,me,2,0,"span",7),i.qZA(),i.BQk()),2&J){var u=i.oxw();i.xp6(1),i.Q6J("ngClass",u.marginTopClasses),i.xp6(1),i.Q6J("ngIf",u.colorMap),i.xp6(1),i.Q6J("ngIf",!u.colorMap)}}function Me(J,_e){if(1&J&&i._UZ(0,"dabo-characteristics-table",14),2&J){var u=i.oxw(3);i.Q6J("characteristicsData",u.metrics)}}function n(J,_e){if(1&J&&(i.TgZ(0,"div",12),i.YNc(1,Me,1,1,"dabo-characteristics-table",13),i.qZA()),2&J){var u=i.oxw(2);i.xp6(1),i.Q6J("ngIf",u.metrics)}}function Ue(J,_e){if(1&J&&i._UZ(0,"dabo-distribution-chart",15),2&J){var u=i.oxw(2);i.ekj("metrics",u.isMetricsTableAvailable),i.Q6J("chartConfig",u.chartConfigs)("marginTopClasses",u.marginTopClasses)("chartConfigBySelections",u.chartsBySelections)}}function Ne(J,_e){if(1&J&&(i.TgZ(0,"dabo-chart-container",8)(1,"div",9),i.YNc(2,n,2,1,"div",10),i.YNc(3,Ue,1,5,"dabo-distribution-chart",11),i.qZA()()),2&J){var u=i.oxw();i.Q6J("marginTopClasses",u.marginTopClasses)("loading",u.loading||u.loadingForPolygonSelections)("isComparingPage",u.isComparePage),i.xp6(1),i.ekj("comparing-page",u.isComparePage),i.xp6(1),i.Q6J("ngIf",u.isMetricsTableAvailable),i.xp6(1),i.Q6J("ngIf",(u.chartConfigs||u.chartsBySelections)&&u.isChartShown)}}var He=he.H.DATA_POINTS,ze=he.H.HOLES,Le=o.N.AVERAGE_FRAGMENTATION,Je=o.N.DRILL_PRODUCTIVITY,Be=o.N.POWDER_FACTOR,Ie=new Map([[o.N.FRAGMENTATION_P50,Le],[o.N.FRAGMENTATION_P80,Le],[o.N.FRAGMENTATION_TOP_SIZE,Le]]),Xe=function(){var J=function(_e){(0,S.Z)(U,_e);var u=(0,w.Z)(U);function U(p,l,y,_,L,q,xe,Re,We,je,Oe){var ye;return(0,a.Z)(this,U),(ye=u.call(this,q,xe)).distributionChartService=p,ye.mapStateService=l,ye.mineStateService=y,ye.polygonToolSelectionService=_,ye.legendFilteringService=L,ye.router=q,ye.cdr=xe,ye.syncChartAxisService=Re,ye.syncChartAxisStoreService=We,ye.patternService=je,ye.compareService=Oe,ye.resetSyncAxisCheckbox=new i.vpe,ye.mapModesEnum=he.H,ye.colorMapsEnum=o.N,ye.loadingForPolygonSelections=!1,ye.mine=ye.mineStateService.getSelectedMineArea(),ye.chartContainerPadding=30,ye.chartHeight=400,ye}return(0,O.Z)(U,[{key:"isAnyFragmentation",get:function(){return(0,V.lH)(this.colorMap)||this.colorMap===Le}},{key:"isMetricsTableAvailable",get:function(){return!this.isAnyFragmentation&&this.mapMode!==He&&(0,v.isEmpty)(this.chartsBySelections)&&Q.ZA.isCoalMine(this.mine)}},{key:"comparingPageChartTitle",get:function(){var l,y,_=null!==(y=null===(l=Ce.y[this.colorMap][this.mine])||void 0===l?void 0:l.title)&&void 0!==y?y:Ce.y[this.colorMap].title;return"".concat(_," (").concat((0,V.oL)(this.side).title,")")}},{key:"isChartPositionChanged",get:function(){return!(0,v.isNil)(this.chartsBySelections)&&!this.loadingForPolygonSelections||!this.loading&&!(0,v.isNil)(this.chartConfigs)}},{key:"marginTopClasses",get:function(){var l=this.height-this.chartContainerPadding;return{"mt-20":l<this.chartHeight||!this.isComparePage,"mt-150":l>=this.chartHeight}}},{key:"ngOnChanges",value:function(l){var y=l.resetChartsByCompareTool,_=l.selectionMode;y&&!(null==y?void 0:y.isFirstChange())&&(this.chartConfigs=this.distributionChartService.getCachedData()[this.colorMap]),_&&!(null==_?void 0:_.isFirstChange())&&this.handleSelectionMode(_.currentValue)}},{key:"ngOnInit",value:function(){this.subscribeOnViewChanges(),this.subscribeOnLegendChanges(),this.subscribeOnRemoveSelection(),this.handleSyncAxisAction(),this.isComparePage&&this.subscribeOnBiggestHeight()}},{key:"onResize",value:function(l){if(this.isComparePage){var y=this.compareService.distributionPerPatternHeight$.getValue();this.compareService.distributionPerPatternHeight$.next(Object.assign(Object.assign({},y),(0,H.Z)({},this.side,l.newRect.height)))}}},{key:"getDistributionLabel",value:function(l){return this.isComparePage?"Distribution Charts":l===Le||(0,V.lH)(l)?"Distribution Curve:":"Distribution Chart: "}},{key:"subscribeOnBiggestHeight",value:function(){var l=this;this.side&&this.compareService.distributionPerPatternHeight$.asObservable().pipe((0,R.R)(this.destroy$)).subscribe(function(y){l.setBiggestHeight(y)})}},{key:"subscribeOnViewChanges",value:function(){var l=this,y=this.distributionChartService.patternIdsForRequest$.pipe((0,Y.b)(function(){return l.resetSyncAxisState()}));(0,z.combineLatest)([this.mapStateService.colorMapChanged$(),this.mapStateService.mapModeChanged$().pipe((0,Y.b)(function(_){var L=_.mode;l.resetSyncAxisState(),l.loading=!0,l.mapMode=L,l.distributionChartService.clearCache(),l.cdr.markForCheck()})),y]).pipe((0,Y.b)(function(_){var xe,q=(0,F.Z)(_,1)[0];l.colorMap=(null!==(xe=Ie.get(q))&&void 0!==xe?xe:l.patternService.getSelectedPatternIds().length)?q:null,l.chartConfigs=null,(0,v.isEmpty)(l.chartsBySelections)||(l.chartsBySelections=null,l.loadingForPolygonSelections=!0),l.noChartFunctionality=!l.colorMap||!(0,V.XA)(q)||l.isDistributionForRDO(),l.cdr.markForCheck()}),(0,N.h)(function(_){var L=(0,F.Z)(_,1);return l.isChartAvailable(L[0])}),(0,j.w)(function(){var _=l.distributionChartService.getCachedData();return(0,v.isEmpty)(_)?l.getDistributionChart().pipe((0,R.R)(l.destroy$)):(0,C.of)(_)}),(0,R.R)(this.destroy$)).subscribe(function(_){var L;l.distributionChartService.distributionChartData$.next(_),l.chartConfigs=null!==(L=_[l.colorMap])&&void 0!==L?L:{},l.metrics=null==_?void 0:_.metrics,l.loading=!1,l.cdr.detectChanges()},function(){l.loading=!1,l.distributionChartService.clearCache(),l.chartConfigs={}})}},{key:"subscribeOnLegendChanges",value:function(){var l=this;this.legendFilteringService.selectedLegends$.pipe((0,Y.b)(function(y){(null==y?void 0:y.length)>0&&!(0,V.lH)(l.colorMap)&&!l.isFragmentationForHvc()&&(l.loading=!0,l.cdr.markForCheck())}),(0,N.h)(function(){return l.isChartAvailable(l.colorMap)&&!(0,V.lH)(l.colorMap)&&!l.isFragmentationForHvc()}),(0,j.w)(function(y){return y.length?l.getDistributionChart(y,l.colorMap):(0,C.of)({})}),(0,R.R)(this.destroy$)).subscribe(function(y){var _;l.chartConfigs=null!==(_=y[l.colorMap])&&void 0!==_?_:{},l.loading=!1,l.cdr.markForCheck()},function(){l.loading=!1,l.chartConfigs={}})}},{key:"subscribeOnRemoveSelection",value:function(){var l=this;this.polygonToolSelectionService.resetSelectionsChart$().pipe((0,N.h)(function(){return l.isChartAvailable(l.colorMap)}),(0,Y.b)(function(){l.loading=!l.isFragmentationForHvc(),l.resetSyncAxisState(),l.cdr.markForCheck()}),(0,j.w)(function(){return l.removeSelection()}),(0,R.R)(this.destroy$)).subscribe(function(y){var _;(0,v.isEmpty)(l.distributionChartService.getCachedData())&&l.distributionChartService.distributionChartData$.next(y),l.chartConfigs=l.isFragmentationForHvc()?l.distributionChartService.getCachedData()[l.colorMap]:null!==(_=y[l.colorMap])&&void 0!==_?_:{},l.metrics=l.distributionChartService.getCachedData().metrics,l.loading=!1,l.cdr.detectChanges()})}},{key:"isChartAvailable",value:function(l){return(0,V.XA)(l)&&!this.polygonToolSelectionService.hasActiveSelections()}},{key:"removeSelection",value:function(){var l=this.legendFilteringService.selectedLegends$.getValue(),y=this.distributionChartService.getCachedData();return(0,D.s)(function(){return(0,v.isEmpty)(y)},this.getDistributionChart(),(0,D.s)(function(){return!(0,v.isEmpty)(y)&&!(0,v.isArray)(l)},(0,C.of)(y),(0,D.s)(function(){return(0,v.isEmpty)(l)},(0,C.of)({}),this.getDistributionChart(l,this.colorMap))))}},{key:"getDistributionChart",value:function(l,y){switch(this.loading=!0,this.mapStateService.getMapMode()){case ze:return this.distributionChartService.getDistributionChart(l,y);case He:return this.distributionChartService.getDataPointsDistributionChart(l,y);default:return(0,C.of)({})}}},{key:"handleSelectionMode",value:function(l){(0,V.XA)(this.colorMap)?this.onSelection(l):(this.chartsBySelections=null,this.resetSyncAxisState(),this.loadingForPolygonSelections=!0)}},{key:"onSelection",value:function(l){var y=this,_=l.charts,L=l.reset,xe=l.reduplicate;if(void 0!==L&&L)return this.chartsBySelections=null,this.loadingForPolygonSelections=xe,void this.resetSyncAxisState();if((0,v.isEmpty)(_)&&!this.isFragmentationForHvc())this.loadingForPolygonSelections=!0,this.chartConfigs=null;else{if(this.chartConfigs=null,this.syncChartAxisStoreService.getState()&&(null==_?void 0:_.length)>1){var Re=_.map(function(Oe){return Oe[y.colorMap]}),We=(0,v.cloneDeep)(Re);this.syncChartAxisService.setConfigsCopy(We);var je=(0,v.cloneDeep)(Re);this.chartsBySelections=this.syncChartAxisService.getAxisCopy(je)}else this.chartsBySelections=_.map(function(Oe){return Oe[y.colorMap]}),this.syncChartAxisService.setConfigsCopy(this.chartsBySelections);this.isFragmentationForHvc()&&(this.chartsBySelections=this.chartsBySelections.map(function(Oe){return Object.assign(Object.assign({},Oe),{data:[]})})),this.loading=!1,this.loadingForPolygonSelections=!1}}},{key:"isDistributionForRDO",value:function(){return[Be,Je].includes(this.colorMap)&&!Q.ZA.isRDO(this.mine)}},{key:"isFragmentationForHvc",value:function(){return this.colorMap===Le&&Q.ZA.isHVC(this.mineStateService.getSelectedMineArea())}},{key:"handleSyncAxisAction",value:function(){var l=this;this.syncChartAxisService.onChartConfigUpdate().pipe((0,R.R)(this.destroy$)).subscribe(function(y){l.chartsBySelections=y,l.cdr.detectChanges()})}},{key:"resetSyncAxisState",value:function(){this.syncChartAxisService.setConfigsCopy([]),this.resetSyncAxisCheckbox.emit(!1)}}]),U}(P.c);return J.\u0275fac=function(u){return new(u||J)(i.Y36(re.wP),i.Y36(re.I3),i.Y36(re.Hj),i.Y36(ae.nY),i.Y36(re.ol),i.Y36(e.F0),i.Y36(i.sBO),i.Y36(ae.FJ),i.Y36(ae.a7),i.Y36(re.c5),i.Y36(ae.zY,8))},J.\u0275cmp=i.Xpm({type:J,selectors:[["dabo-distribution-chart-container"]],inputs:{resetChartsByCompareTool:"resetChartsByCompareTool",side:"side",selectionMode:"selectionMode",isChartShown:"isChartShown"},outputs:{resetSyncAxisCheckbox:"resetSyncAxisCheckbox"},features:[i.qOj,i.TTD],decls:7,vars:9,consts:[[1,"container"],["class","chart-title",4,"ngIf"],[1,"container__chart",3,"resized"],[4,"ngIf","ngIfElse"],["chartTemplate",""],[1,"chart-title"],[1,"no-chart-functionality",3,"ngClass"],[4,"ngIf"],[3,"marginTopClasses","loading","isComparingPage"],[1,"metrics-chart"],["class","table-wrapper",4,"ngIf"],["class","distribution-chart",3,"chartConfig","marginTopClasses","chartConfigBySelections","metrics",4,"ngIf"],[1,"table-wrapper"],[3,"characteristicsData",4,"ngIf"],[3,"characteristicsData"],[1,"distribution-chart",3,"chartConfig","marginTopClasses","chartConfigBySelections"]],template:function(u,U){if(1&u&&(i.TgZ(0,"div")(1,"div",0),i.YNc(2,Pe,2,1,"p",1),i.TgZ(3,"div",2),i.NdJ("resized",function(y){return U.onResize(y)}),i.YNc(4,ue,4,3,"ng-container",3),i.qZA()(),i.YNc(5,Ne,4,7,"ng-template",null,4,i.W1O),i.qZA()),2&u){var p=i.MAs(6);i.Udp("height",U.height,"px"),i.xp6(1),i.ekj("comparing-page",U.isComparePage),i.xp6(1),i.Q6J("ngIf",U.isComparePage&&U.colorMap&&U.isChartShown),i.xp6(1),i.ekj("align-top",U.isChartPositionChanged),i.xp6(1),i.Q6J("ngIf",U.noChartFunctionality)("ngIfElse",p)}},directives:[le.O5,ne.a5,le.mk,$.oO,I.S,De,pe.e],styles:[".p-1[_ngcontent-%COMP%]{padding:10px!important}.pl-1[_ngcontent-%COMP%]{padding-left:10px!important}.mg-0[_ngcontent-%COMP%]{margin:0!important}.mb-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-1[_ngcontent-%COMP%]{padding-bottom:1rem!important}.mt-8[_ngcontent-%COMP%]{margin-top:8px}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.mt-200[_ngcontent-%COMP%]{margin-top:200px}.mt-150[_ngcontent-%COMP%], .container.comparing-page[_ngcontent-%COMP%]   .no-chart-functionality.mt-150[_ngcontent-%COMP%]{margin-top:150px}.mt-reset[_ngcontent-%COMP%]{margin-top:0!important}.pd0[_ngcontent-%COMP%]{padding:0!important}.pdl0[_ngcontent-%COMP%]{padding-left:0!important}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.text-right[_ngcontent-%COMP%]{text-align:right}.icon-control[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]:before{color:#fff}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.hidden[_ngcontent-%COMP%]{display:none}.text-error[_ngcontent-%COMP%]{color:#d92121;font-weight:400;font-size:12px;line-height:14px;margin-top:8px}.font-thin[_ngcontent-%COMP%]{font-weight:400}.font-normal[_ngcontent-%COMP%]{font-weight:500}.mat-drawer-container[_ngcontent-%COMP%]   .mat-drawer-content[_ngcontent-%COMP%]{height:100vh;overflow-x:hidden;background-color:#edeeef}dabo-sidebar-navigation[_ngcontent-%COMP%]{width:44px;min-width:44px}@media only screen and (min-width: 1201px){dabo-sidebar-navigation[_ngcontent-%COMP%]{width:60px;min-width:60px}}.mat-drawer-side[_ngcontent-%COMP%]{border:none}.sidebar-wrapper[_ngcontent-%COMP%]{background-color:#fff;border-right:none;width:44px;position:fixed;z-index:99;top:0;left:0;height:100%}@media only screen and (min-width: 1201px){.sidebar-wrapper[_ngcontent-%COMP%]{width:60px}}.container__chart[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]   .chart-title[_ngcontent-%COMP%]{position:relative;top:12px;text-align:center;font-weight:500;margin-top:0;font-size:12px;z-index:2}.container.comparing-page[_ngcontent-%COMP%]   .container__chart.align-top[_ngcontent-%COMP%]{align-items:flex-start}.container.comparing-page[_ngcontent-%COMP%]   .metrics-chart[_ngcontent-%COMP%]{flex-direction:column-reverse;width:auto;padding-top:0}.container.comparing-page[_ngcontent-%COMP%]   .metrics-chart[_ngcontent-%COMP%]   .distribution-chart[_ngcontent-%COMP%], .container.comparing-page[_ngcontent-%COMP%]   .metrics-chart[_ngcontent-%COMP%]   .distribution-chart.metrics[_ngcontent-%COMP%]{width:100%}.container.comparing-page[_ngcontent-%COMP%]   .metrics-chart[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{align-self:start;width:50%}.container[_ngcontent-%COMP%]   .no-chart-functionality[_ngcontent-%COMP%]{text-align:center;font-weight:500;font-size:12px;line-height:18px}.container[_ngcontent-%COMP%]   .metrics-chart[_ngcontent-%COMP%]{display:flex;justify-content:center;width:calc(100vw - 368px);padding-top:20px;padding-bottom:20px}@media only screen and (min-width: 1201px){.container[_ngcontent-%COMP%]   .metrics-chart[_ngcontent-%COMP%]{width:calc(100vw - 384px)}}.container[_ngcontent-%COMP%]   .metrics-chart[_ngcontent-%COMP%]   .distribution-chart[_ngcontent-%COMP%]{width:inherit}.container[_ngcontent-%COMP%]   .metrics-chart[_ngcontent-%COMP%]   .distribution-chart.metrics[_ngcontent-%COMP%]{width:calc(100vw - 630px)}@media only screen and (min-width: 1201px){.container[_ngcontent-%COMP%]   .metrics-chart[_ngcontent-%COMP%]   .distribution-chart.metrics[_ngcontent-%COMP%]{width:calc(100vw - 646px)}}@media screen and (min-width: 1280px) and (max-width: 1440px){.container[_ngcontent-%COMP%]   .metrics-chart[_ngcontent-%COMP%]   .distribution-chart[_ngcontent-%COMP%]{width:90%}}@media screen and (min-width: 1440px) and (max-width: 1920px){.container[_ngcontent-%COMP%]   .metrics-chart[_ngcontent-%COMP%]   .distribution-chart[_ngcontent-%COMP%]{width:80%}}@media screen and (min-width: 1920px) and (max-width: 2256px){.container[_ngcontent-%COMP%]   .metrics-chart[_ngcontent-%COMP%]   .distribution-chart[_ngcontent-%COMP%]{width:70%}}@media screen and (min-width: 2256px){.container[_ngcontent-%COMP%]   .metrics-chart[_ngcontent-%COMP%]   .distribution-chart[_ngcontent-%COMP%]{width:60%}}"],changeDetection:0}),J}()},93804:function(ce,E,t){"use strict";t.d(E,{h:function(){return _e}});var F=t(97685),H=t(4942),a=t(15671),O=t(43144),S=t(60136),w=t(57777),i=t(7625),v=t(22868),C=t(92198),D=t(87545),R=t(75791),Y=t(17489),N=t(21086),j=t(5379),z=t(40714),Q=t(54375),he=t(36848),o=t(65542),V=t(94720),Ce=t(30325),P=t(78090),re=t(69808),ae=t(11066),e=t(23322),le=t(83515),ne=t(39195),$=t(27107),I=t(38001),G=t(77093);function W(u,U){if(1&u&&(o.TgZ(0,"div",4)(1,"div",5),o._uU(2),o.qZA(),o.TgZ(3,"div",6),o._uU(4),o.qZA()()),2&u){var p=U.$implicit,l=o.oxw();o.ekj("distribution-summary-bin--bold",p.bold),o.xp6(2),o.AsE("",p.label," ",l.unit,""),o.xp6(2),o.hij("",p.value," %")}}function x(u,U){if(1&u&&(o.TgZ(0,"div",9)(1,"div",10)(2,"a",11),o._uU(3),o.qZA()(),o.TgZ(4,"div",12),o._uU(5),o.qZA()()),2&u){var p=U.$implicit;o.xp6(2),o.Q6J("href",p.link,o.LSH),o.xp6(1),o.Oqu(p.path),o.xp6(2),o.hij("",p.value," %")}}function ee(u,U){if(1&u&&(o.TgZ(0,"div",7)(1,"p"),o._uU(2,"Patterns:"),o.qZA(),o.YNc(3,x,6,3,"div",8),o.qZA()),2&u){var p=o.oxw();o.xp6(3),o.Q6J("ngForOf",p.patterns)("ngForTrackBy",p.trackByPatternId)}}var te=function(){var u=function(){function U(){(0,a.Z)(this,U),this.bins=[],this.patterns=[]}return(0,O.Z)(U,[{key:"data",set:function(l){var y=this;if(l){var _,L=((0,H.Z)(_={},I.N.DRILL_COMPLIANCE,ne.IHB[this.mine]),(0,H.Z)(_,I.N.DRILLING_XY_COLLAR_DEVIATION,ne.SMK[this.mine]),_);this.bins=L[this.colorMap].ranges.map(function(q){return Object.assign(Object.assign({},q),{value:l.score[q.id]})}),this.unit=L[this.colorMap].unit,this.patterns=l.patterns.map(function(q){return Object.assign(Object.assign({},q),{link:(0,$.g)(String(q.id),y.mine)})})}}},{key:"trackByPatternId",value:function(l,y){return y.id}},{key:"trackByBinId",value:function(l,y){return y.id}}]),U}();return u.\u0275fac=function(p){return new(p||u)},u.\u0275cmp=o.Xpm({type:u,selectors:[["dabo-distribution-per-hole-summary"]],inputs:{mine:"mine",colorMap:"colorMap",data:"data"},decls:6,vars:3,consts:[[1,"distribution-summary"],[1,"distribution-summary-score"],["fxLayout","row","fxLayoutGap","6px","class","distribution-summary-bin",3,"distribution-summary-bin--bold",4,"ngFor","ngForOf","ngForTrackBy"],["class","distribution-summary-patterns",4,"ngIf"],["fxLayout","row","fxLayoutGap","6px",1,"distribution-summary-bin"],["fxFlex","calc(74% - 6px)",1,"distribution-summary-bin__label"],["fxFlex","29%",1,"distribution-summary-bin__value"],[1,"distribution-summary-patterns"],["fxLayout","row","fxLayoutGap","6px","class","distribution-summary-pattern",4,"ngFor","ngForOf","ngForTrackBy"],["fxLayout","row","fxLayoutGap","6px",1,"distribution-summary-pattern"],["fxFlex","calc(74% -6px)",1,"distribution-summary-pattern__label"],["target","_blank",3,"href"],["fxFlex","26%",1,"distribution-summary-pattern__value"]],template:function(p,l){1&p&&(o.TgZ(0,"div",0)(1,"div",1)(2,"p"),o._uU(3,"Score:"),o.qZA(),o.YNc(4,W,5,5,"div",2),o.qZA(),o.YNc(5,ee,4,2,"div",3),o.qZA()),2&p&&(o.xp6(4),o.Q6J("ngForOf",l.bins)("ngForTrackBy",l.trackByBinId),o.xp6(1),o.Q6J("ngIf",(null==l.patterns?null:l.patterns.length)>1))},directives:[re.sg,G.xw,G.SQ,G.yH,re.O5],styles:[".distribution-summary[_ngcontent-%COMP%]{height:auto;max-height:380px;width:100%;border:1px solid rgba(88,107,122,.1);padding:10px 0 10px 10px;font-family:Rubik,dabaha,sans-serif;font-size:13px;color:#586b7a;line-height:13px;overflow-y:auto}.distribution-summary[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.distribution-summary[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.distribution-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;color:#000000e6;margin:0 0 8px}.distribution-summary-score[_ngcontent-%COMP%]{margin-bottom:8px}.distribution-summary-score[_ngcontent-%COMP%]   .distribution-summary-bin--bold[_ngcontent-%COMP%]{font-weight:500}.distribution-summary-score[_ngcontent-%COMP%]   .distribution-summary-bin__label[_ngcontent-%COMP%], .distribution-summary-score[_ngcontent-%COMP%]   .distribution-summary-bin__value[_ngcontent-%COMP%], .distribution-summary[_ngcontent-%COMP%]   .distribution-summary-pattern__label[_ngcontent-%COMP%]{text-align:left}.distribution-summary[_ngcontent-%COMP%]   .distribution-summary-pattern__label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0065bd;text-decoration:none}.distribution-summary[_ngcontent-%COMP%]   .distribution-summary-pattern__value[_ngcontent-%COMP%]{text-align:left}"]}),u}(),X=t(73237),ve=t(61120),se=t(67258),Te=t(46940),Ee=t(23178),Qe=t(43489),Se=t(18583),Ze=t(20295),De=["chartRef"],pe=se.x.MAP_CLICK,Pe=function(){var u=function(U){(0,S.Z)(l,U);var p=(0,w.Z)(l);function l(y,_,L){var q;return(0,a.Z)(this,l),(q=p.call(this)).xyDeviationChartConfigService=y,q.drillComplianceChartConfigService=_,q.holeStateService=L,q.columnWidth=8,q.clickStream$=null,q}return(0,O.Z)(l,[{key:"chartPayload",set:function(_){this.cancelSubscription(),this.isXyDeviation=this.colorMap===I.N.DRILLING_XY_COLLAR_DEVIATION,this.chart=this.createChart(_),this.resizeChart()}},{key:"ngOnDestroy",value:function(){this.xyDeviationChartConfigService.removeCircles(),clearTimeout(this.timer),clearTimeout(this.resizeTimer),(0,X.Z)((0,ve.Z)(l.prototype),"ngOnDestroy",this).call(this)}},{key:"createChart",value:function(_){var L=this;return new Ee.kL(this.colorMap===I.N.DRILL_COMPLIANCE?this.drillComplianceChartConfigService.getConfig(_,{load:function(){return L.subscribeOnHoleClick()},redraw:function(){return L.timer=setTimeout(function(){return L.chartScroll(L.selectedPointId)},100)}}):this.xyDeviationChartConfigService.getConfig(_,function(){var q;L.subscribeOnHoleClick(),L.xyDeviationChartConfigService.drawCircles(null===(q=L.chart)||void 0===q?void 0:q.ref)},function(){var q;return L.xyDeviationChartConfigService.drawCircles(null===(q=L.chart)||void 0===q?void 0:q.ref)}))}},{key:"cancelSubscription",value:function(){this.clickStream$ instanceof Qe.L&&(this.clickStream$.unsubscribe(),this.clickStream$.complete())}},{key:"subscribeOnHoleClick",value:function(){var _=this;this.clickStream$=this.holeStateService.holeStateChanged().pipe((0,v.b)(function(L){(0,Y.isEmpty)(L)||(_.selectedPointId=L.payload),_.setSelectedChartItem(L.payload)}),(0,Se.g)(100),(0,C.h)(function(L){return L.eventType===pe}),(0,i.R)(this.destroy$)).subscribe(function(L){_.isXyDeviation||_.chartScroll(L.payload)})}},{key:"setSelectedChartItem",value:function(_){var L,xe=!!_;null===(L=this.chart.ref.series[0].data[this.getHoleIndex(_||this.selectedPointId)])||void 0===L||L.select(xe,!1)}},{key:"chartScroll",value:function(_){var L,q=null===(L=this.chartRef)||void 0===L?void 0:L.nativeElement.getElementsByClassName("highcharts-scrolling");this.isScroll()&&q&&(q[0].scrollLeft=(this.getHoleIndex(_)-this.columnWidth)*this.columnWidth*2)}},{key:"isScroll",value:function(){var _,L;return(null===(_=this.chart)||void 0===_?void 0:_.ref.chartWidth)<(null===(L=this.chart)||void 0===L?void 0:L.ref.series[0].data.length)*this.columnWidth*2}},{key:"getHoleIndex",value:function(_){var L;return null===(L=this.chart)||void 0===L?void 0:L.ref.series[0].data.findIndex(function(q){return q.uniqueHoleId===_})}},{key:"resizeChart",value:function(){this.resizeTimer=setTimeout(function(){window.dispatchEvent(new Event("resize"))},0)}}]),l}(Te.eO);return u.\u0275fac=function(p){return new(p||u)(o.Y36(Ze.y),o.Y36(P._2),o.Y36(V.$c))},u.\u0275cmp=o.Xpm({type:u,selectors:[["dabo-distribution-per-hole-chart"]],viewQuery:function(p,l){var y;1&p&&o.Gf(De,5),2&p&&o.iGM(y=o.CRH())&&(l.chartRef=y.first)},inputs:{colorMap:"colorMap",chartPayload:"chartPayload"},features:[o.qOj],decls:2,vars:3,consts:[[3,"chart"],["chartRef",""]],template:function(p,l){1&p&&o._UZ(0,"div",0,1),2&p&&(o.ekj("xy-deviation",l.isXyDeviation),o.Q6J("chart",l.chart))},directives:[Ee.Dm],styles:[".xy-deviation[_ngcontent-%COMP%]{height:400px;width:400px;margin-left:auto;margin-right:auto}"],changeDetection:0}),u}();function ge(u,U){if(1&u&&(o.TgZ(0,"p",7),o._uU(1," We can\u2019t build a chart for more than 6000 holes. "),o._UZ(2,"br"),o._uU(3," Try again with fewer holes. "),o.qZA()),2&u){var p=o.oxw(3);o.Q6J("ngClass",p.marginTopClasses)}}function me(u,U){if(1&u&&(o.ynx(0),o._UZ(1,"dabo-distribution-per-hole-summary",8),o.TgZ(2,"div",9),o._UZ(3,"dabo-distribution-per-hole-chart",10),o.qZA(),o.BQk()),2&u){var p=o.oxw().$implicit,l=o.oxw(2);o.xp6(1),o.Q6J("mine",l.mine)("colorMap",l.colorMap)("data",null==p?null:p.summary),o.xp6(2),o.Q6J("colorMap",l.colorMap)("chartPayload",p)}}function ue(u,U){1&u&&o.GkF(0)}function Me(u,U){if(1&u&&(o.ynx(0),o.YNc(1,ue,1,0,"ng-container",11),o.BQk()),2&u){o.oxw(3);var p=o.MAs(4);o.xp6(1),o.Q6J("ngTemplateOutlet",p)}}function n(u,U){if(1&u&&(o.ynx(0),o.TgZ(1,"div",4),o.YNc(2,ge,4,1,"p",5),o.YNc(3,me,4,5,"ng-container",6),o.YNc(4,Me,2,1,"ng-container",6),o.qZA(),o.BQk()),2&u){var p=U.$implicit,l=o.oxw(2);o.xp6(1),o.Q6J("ngClass",l.selectionWrapperClasses),o.xp6(1),o.Q6J("ngIf",!p.hasSupportForNumberOfHoles),o.xp6(1),o.Q6J("ngIf",p.hasData&&p.hasSupportForNumberOfHoles),o.xp6(1),o.Q6J("ngIf",!p.hasData)}}function Ue(u,U){if(1&u&&(o.ynx(0),o.YNc(1,n,5,4,"ng-container",3),o.BQk()),2&u){var p=o.oxw();o.xp6(1),o.Q6J("ngForOf",p.selectionsWidgets)("ngForTrackBy",p.trackBySelectionId)}}function Ne(u,U){if(1&u&&(o.ynx(0),o._UZ(1,"dabo-distribution-per-hole-summary",8),o.TgZ(2,"div",9),o._UZ(3,"dabo-distribution-per-hole-chart",10),o.qZA(),o.BQk()),2&u){var p=o.oxw(2);o.xp6(1),o.Q6J("mine",p.mine)("colorMap",p.colorMap)("data",null==p.widgetPerColorMap?null:p.widgetPerColorMap.summary),o.xp6(2),o.Q6J("colorMap",p.colorMap)("chartPayload",p.widgetPerColorMap)}}function He(u,U){if(1&u&&o.YNc(0,Ne,4,5,"ng-container",0),2&u){var p=o.oxw(),l=o.MAs(4);o.Q6J("ngIf",p.hasDataPerPatterns)("ngIfElse",l)}}function ze(u,U){if(1&u&&(o.TgZ(0,"div",12),o._UZ(1,"dabo-no-data-message"),o.qZA()),2&u){var p=o.oxw();o.Q6J("ngClass",p.marginTopClasses)}}var Le=function(){var u=function(){function U(){(0,a.Z)(this,U)}return(0,O.Z)(U,[{key:"twoSelectionsHostClass",get:function(){return this.isSelectionsMode&&2===this.selectionsWidgets.length}},{key:"selectionsAvailableClass",get:function(){return this.isSelectionsMode}},{key:"comparingPageClass",get:function(){return this.isComparePage}},{key:"selectionWrapperClasses",get:function(){return{"distribution-per-hole-widget-wrapper--one-selection":1===this.selectionsWidgets.length,"distribution-per-hole-widget-wrapper--two-selections":2===this.selectionsWidgets.length}}},{key:"trackBySelectionId",value:function(l,y){return y.selectionId}}]),U}();return u.\u0275fac=function(p){return new(p||u)},u.\u0275cmp=o.Xpm({type:u,selectors:[["dabo-distribution-per-hole-widgets"]],hostVars:6,hostBindings:function(p,l){2&p&&o.ekj("two-selection",l.twoSelectionsHostClass)("selections",l.selectionsAvailableClass)("comparing-page",l.comparingPageClass)},inputs:{isComparePage:"isComparePage",isSelectionsMode:"isSelectionsMode",selectionsWidgets:"selectionsWidgets",mine:"mine",colorMap:"colorMap",marginTopClasses:"marginTopClasses",hasDataPerPatterns:"hasDataPerPatterns",widgetPerColorMap:"widgetPerColorMap"},decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["patternsTemplate",""],["noData",""],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngClass"],["class","distribution-per-no-functionality",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"distribution-per-no-functionality",3,"ngClass"],[1,"distribution-per-hole-widget__summary",3,"mine","colorMap","data"],[1,"distribution-per-hole-widget__chart"],[3,"colorMap","chartPayload"],[4,"ngTemplateOutlet"],[1,"distribution-per-hole-no-data",3,"ngClass"]],template:function(p,l){if(1&p&&(o.YNc(0,Ue,2,2,"ng-container",0),o.YNc(1,He,1,2,"ng-template",null,1,o.W1O),o.YNc(3,ze,2,1,"ng-template",null,2,o.W1O)),2&p){var y=o.MAs(2);o.Q6J("ngIf",l.isSelectionsMode)("ngIfElse",y)}},directives:[re.O5,re.sg,re.mk,e.oO,te,Pe,re.tP],styles:[".selections[_nghost-%COMP%]   .distribution-per-hole-widget-wrapper--one-selection[_ngcontent-%COMP%], .selections[_nghost-%COMP%], [_nghost-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center}.selections[_nghost-%COMP%]   .distribution-per-hole-widget-wrapper--one-selection[_ngcontent-%COMP%]   .distribution-per-hole-widget__chart[_ngcontent-%COMP%], [_nghost-%COMP%]   .distribution-per-hole-widget__chart[_ngcontent-%COMP%]{width:calc(100% - 161px)}.selections[_nghost-%COMP%]   .distribution-per-hole-widget-wrapper--one-selection[_ngcontent-%COMP%]   .distribution-per-hole-widget__summary[_ngcontent-%COMP%], [_nghost-%COMP%]   .distribution-per-hole-widget__summary[_ngcontent-%COMP%]{min-width:158px;margin-right:21px}.comparing-page.selections[_nghost-%COMP%]   .distribution-per-hole-widget-wrapper--one-selection[_ngcontent-%COMP%], .comparing-page[_nghost-%COMP%]{width:100%;flex-direction:column-reverse;padding-top:0}.comparing-page.selections[_nghost-%COMP%]   .distribution-per-hole-widget-wrapper--one-selection[_ngcontent-%COMP%]   .distribution-per-hole-widget__chart[_ngcontent-%COMP%], .comparing-page[_nghost-%COMP%]   .distribution-per-hole-widget__chart[_ngcontent-%COMP%]{width:100%}.comparing-page.selections[_nghost-%COMP%]   .distribution-per-hole-widget-wrapper--one-selection[_ngcontent-%COMP%]   .distribution-per-hole-widget__summary[_ngcontent-%COMP%], .comparing-page[_nghost-%COMP%]   .distribution-per-hole-widget__summary[_ngcontent-%COMP%]{margin:20px 0;width:158px;align-self:center}[_nghost-%COMP%]{padding:20px 30px}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.two-selection[_nghost-%COMP%]{padding:20px 0}.selections[_nghost-%COMP%]   .distribution-per-hole-widget-wrapper--two-selections[_ngcontent-%COMP%]{width:calc(50% - 30px);padding-right:30px;display:flex;flex-direction:column-reverse;justify-content:flex-start}.selections[_nghost-%COMP%]   .distribution-per-hole-widget-wrapper--two-selections[_ngcontent-%COMP%]:nth-of-type(2){padding-right:0}.selections[_nghost-%COMP%]   .distribution-per-hole-widget-wrapper--two-selections[_ngcontent-%COMP%]   .distribution-per-hole-widget__chart[_ngcontent-%COMP%]{width:100%}.selections[_nghost-%COMP%]   .distribution-per-hole-widget-wrapper--two-selections[_ngcontent-%COMP%]   .distribution-per-hole-widget__summary[_ngcontent-%COMP%]{width:158px;margin:10px auto}[_nghost-%COMP%]   .distribution-per-hole-no-data[_ngcontent-%COMP%]{margin:0 auto}[_nghost-%COMP%]   .distribution-per-no-functionality[_ngcontent-%COMP%]{margin:10px auto;text-align:center;font-weight:500;font-size:12px;line-height:18px}"],changeDetection:0}),u}();function Je(u,U){if(1&u&&(o.TgZ(0,"p",5),o._uU(1),o.qZA()),2&u){var p=o.oxw();o.xp6(1),o.Oqu(p.comparingPageChartTitle)}}function Ve(u,U){1&u&&(o.TgZ(0,"span"),o._uU(1," There is no chart functionality "),o._UZ(2,"br"),o._uU(3," for the current color map "),o.qZA())}function Ke(u,U){1&u&&(o.TgZ(0,"span"),o._uU(1," No color map selected "),o.qZA())}function Ge(u,U){if(1&u&&(o.TgZ(0,"p",8),o.YNc(1,Ve,4,0,"span",9),o.YNc(2,Ke,2,0,"span",9),o.qZA()),2&u){var p=o.oxw(2);o.Q6J("ngClass",p.marginTopClasses),o.xp6(1),o.Q6J("ngIf",p.colorMap),o.xp6(1),o.Q6J("ngIf",!p.colorMap)}}function Be(u,U){if(1&u&&(o.TgZ(0,"p",8),o._uU(1," We can\u2019t build a chart for more than 6000 holes. "),o._UZ(2,"br"),o._uU(3," Try again with fewer holes. "),o.qZA()),2&u){var p=o.oxw(3);o.Q6J("ngClass",p.marginTopClasses)}}function Ie(u,U){if(1&u&&o.YNc(0,Be,4,1,"p",10),2&u){var p=o.oxw(2);o.Q6J("ngIf",!p.hasSupportForNumberOfHoles)}}function Xe(u,U){if(1&u&&(o.ynx(0),o.YNc(1,Ge,3,3,"p",6),o.YNc(2,Ie,1,1,"ng-template",null,7,o.W1O),o.BQk()),2&u){var p=o.MAs(3),l=o.oxw();o.xp6(1),o.Q6J("ngIf",l.noFunctionalityByColorMap)("ngIfElse",p)}}function J(u,U){if(1&u&&(o.TgZ(0,"dabo-chart-container",11),o._UZ(1,"dabo-distribution-per-hole-widgets",12),o.qZA()),2&u){var p=o.oxw();o.Q6J("marginTopClasses",p.marginTopClasses)("loading",p.loading)("isComparingPage",p.isComparePage),o.xp6(1),o.Q6J("isComparePage",p.isComparePage)("isSelectionsMode",p.isSelectionsMode)("selectionsWidgets",p.selectionsWidgets)("mine",p.mine)("colorMap",p.colorMap)("marginTopClasses",p.marginTopClasses)("hasDataPerPatterns",p.hasDataPerPatterns)("widgetPerColorMap",p.widgetPerColorMap)}}var _e=function(){var u=function(U){(0,S.Z)(l,U);var p=(0,w.Z)(l);function l(y,_,L,q,xe,Re,We,je){var Oe;return(0,a.Z)(this,l),(Oe=p.call(this,xe,q)).mapStateService=y,Oe.distributionChartService=_,Oe.mineStateService=L,Oe.cdr=q,Oe.router=xe,Oe.polygonToolSelectionService=Re,Oe.patternService=We,Oe.compareService=je,Oe.selectionsWidgets=[],Oe.isSelectionsMode=!1,Oe.chartContainerPadding=30,Oe.chartHeight=400,Oe}return(0,O.Z)(l,[{key:"title",get:function(){return this.isComparePage?"Distribution Charts:":"Distribution Chart:"}},{key:"subTitle",get:function(){var _=this.isSelectionsMode?"(Selection)":"";return this.isComparePage?"per hole":"".concat(j.y[this.mapStateService.selectedColorMap$.getValue()].title," per hole ").concat(_)}},{key:"comparingPageChartTitle",get:function(){return"".concat(j.y[this.colorMap].title," (").concat((0,z.oL)(this.side).title,")")}},{key:"needsAlignTop",get:function(){return this.hasDataPerPatterns&&!this.loading&&!this.noChartFunctionality}},{key:"mine",get:function(){return this.mineStateService.getSelectedMineArea()}},{key:"hasDataPerPatterns",get:function(){var _;return!(0,Y.isEmpty)(null===(_=this.widgetPerColorMap)||void 0===_?void 0:_.holes)||!!this.selectionsWidgets.length}},{key:"hasSupportForNumberOfHoles",get:function(){return this.distributionChartService.hasSupportForNumberOfHole(this.colorMap)}},{key:"noFunctionalityByColorMap",get:function(){return!this.distributionChartService.isDistributionPerHoleAvailable(this.colorMap)}},{key:"ngOnInit",value:function(){this.subscribeOnViewChanges(),this.isComparePage&&this.subscribeOnBiggestHeight()}},{key:"marginTopClasses",get:function(){var _=this.height-this.chartContainerPadding;return{"mt-20":_<this.chartHeight||!this.isComparePage,"mt-200":_>=this.chartHeight}}},{key:"onResize",value:function(_){if(this.isComparePage){var L=this.compareService.distributionPerHoleHeight$.getValue();this.compareService.distributionPerHoleHeight$.next(Object.assign(Object.assign({},L),(0,H.Z)({},this.side,_.newRect.height)))}}},{key:"subscribeOnBiggestHeight",value:function(){var _=this;this.side&&this.compareService.distributionPerHoleHeight$.asObservable().pipe((0,i.R)(this.destroy$)).subscribe(function(L){_.setBiggestHeight(L)})}},{key:"subscribeOnViewChanges",value:function(){var _=this;(0,Q.combineLatest)([this.mapStateService.colorMapChanged$(),this.distributionChartService.patternIdsForRequest$,this.polygonToolSelectionService.selectionStateChangeForDistribution()]).pipe((0,v.b)(function(L){var xe=(0,F.Z)(L,1)[0];_.colorMap=_.patternService.getSelectedPatternIds().length?xe:null,_.isSelectionsMode=_.polygonToolSelectionService.hasActiveSelections()&&_.distributionChartService.isDistributionPerHolePerSelectionAvailable(_.colorMap),_.noChartFunctionality=!_.distributionChartService.isDistributionPerHoleAvailable(xe)||!_.distributionChartService.hasSupportForNumberOfHole(xe),_.cdr.markForCheck()}),(0,C.h)(function(){return!_.noChartFunctionality}),(0,v.b)(function(){_.setLoaderState(!0)}),(0,D.w)(function(){if(_.isSelectionsMode){var L=_.polygonToolSelectionService.getMapSelectionState(R.H.HOLES).selectionsData;return 2===_.selectionsWidgets.length&&_.selectionsWidgets.length>L.length?_.removeSelection(L):_.distributionChartService.getDistributionPerSelection(L)}return _.loadChartByPatterns()}),(0,i.R)(this.destroy$)).subscribe(function(L){_.isSelectionsMode?_.selectionsWidgets=L:_.setDistributionPerPattern(L),_.loading=!1,_.cdr.detectChanges()},function(){_.setLoaderState(!1),_.distributionChartService.clearDistributionPerHole()})}},{key:"removeSelection",value:function(_){var L=this.selectionsWidgets.filter(function(q){return q.selectionId!==_[0].selectionId}).map(function(q){return Object.assign(Object.assign({},q),{indexOfSelection:0,numberOfSections:1})});return(0,N.of)(L)}},{key:"setDistributionPerPattern",value:function(_){this.selectionsWidgets=[],this.hasSupportForNumberOfHoles?this.widgetPerColorMap=_[this.colorMap]:this.noChartFunctionality=!0}},{key:"loadChartByPatterns",value:function(){var _=this.distributionChartService.getDistributionPerHole();return(0,Y.isEmpty)(_[this.colorMap])?this.distributionChartService.getDistributionPerHoleByPattern():(0,N.of)(_)}},{key:"setLoaderState",value:function(_){this.loading=_,this.cdr.markForCheck()}}]),l}(he.c);return u.\u0275fac=function(p){return new(p||u)(o.Y36(V.I3),o.Y36(V.wP),o.Y36(V.Hj),o.Y36(o.sBO),o.Y36(Ce.F0),o.Y36(P.nY),o.Y36(V.c5),o.Y36(P.zY,8))},u.\u0275cmp=o.Xpm({type:u,selectors:[["dabo-distribution-per-hole"]],inputs:{side:"side"},features:[o.qOj],decls:7,vars:9,consts:[[1,"distribution-per-hole-widget"],["class","chart-title",4,"ngIf"],[1,"distribution-per-hole-content",3,"resized"],[4,"ngIf","ngIfElse"],["widgetsTemplate",""],[1,"chart-title"],["class","distribution-per-hole-content__no-functionality",3,"ngClass",4,"ngIf","ngIfElse"],["noSupportForNumberOfHoles",""],[1,"distribution-per-hole-content__no-functionality",3,"ngClass"],[4,"ngIf"],["class","distribution-per-hole-content__no-functionality",3,"ngClass",4,"ngIf"],[3,"marginTopClasses","loading","isComparingPage"],[3,"isComparePage","isSelectionsMode","selectionsWidgets","mine","colorMap","marginTopClasses","hasDataPerPatterns","widgetPerColorMap"]],template:function(p,l){if(1&p&&(o.TgZ(0,"div")(1,"div",0),o.YNc(2,Je,2,1,"p",1),o.TgZ(3,"div",2),o.NdJ("resized",function(L){return l.onResize(L)}),o.YNc(4,Xe,4,2,"ng-container",3),o.qZA()(),o.YNc(5,J,2,11,"ng-template",null,4,o.W1O),o.qZA()),2&p){var y=o.MAs(6);o.Udp("height",l.height,"px"),o.xp6(1),o.ekj("comparing-page",l.isComparePage),o.xp6(1),o.Q6J("ngIf",l.isComparePage&&l.colorMap),o.xp6(1),o.ekj("distribution-per-hole-content--align-top",l.needsAlignTop),o.xp6(1),o.Q6J("ngIf",l.noChartFunctionality)("ngIfElse",y)}},directives:[re.O5,ae.a5,re.mk,e.oO,le.S,Le],styles:[".p-1[_ngcontent-%COMP%]{padding:10px!important}.pl-1[_ngcontent-%COMP%]{padding-left:10px!important}.mg-0[_ngcontent-%COMP%]{margin:0!important}.mb-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-1[_ngcontent-%COMP%]{padding-bottom:1rem!important}.mt-8[_ngcontent-%COMP%]{margin-top:8px}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.mt-200[_ngcontent-%COMP%], .distribution-per-hole-widget.comparing-page[_ngcontent-%COMP%]   .distribution-per-hole-content__no-functionality.mt-200[_ngcontent-%COMP%]{margin-top:200px}.mt-150[_ngcontent-%COMP%]{margin-top:150px}.mt-reset[_ngcontent-%COMP%]{margin-top:0!important}.pd0[_ngcontent-%COMP%]{padding:0!important}.pdl0[_ngcontent-%COMP%]{padding-left:0!important}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.text-right[_ngcontent-%COMP%]{text-align:right}.icon-control[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]:before{color:#fff}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.hidden[_ngcontent-%COMP%]{display:none}.text-error[_ngcontent-%COMP%]{color:#d92121;font-weight:400;font-size:12px;line-height:14px;margin-top:8px}.font-thin[_ngcontent-%COMP%]{font-weight:400}.font-normal[_ngcontent-%COMP%]{font-weight:500}.distribution-per-hole-widget[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.distribution-per-hole-widget[_ngcontent-%COMP%]   .distribution-per-hole-content[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}.distribution-per-hole-widget[_ngcontent-%COMP%]   .distribution-per-hole-content__no-functionality[_ngcontent-%COMP%]{text-align:center;font-weight:500;font-size:12px;line-height:18px;margin-top:12px}.distribution-per-hole-widget[_ngcontent-%COMP%]   .distribution-per-hole-content[_ngcontent-%COMP%]   .distribution-per-hole-widget__widgets[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;width:100%;padding:20px 30px}.distribution-per-hole-widget[_ngcontent-%COMP%]   .distribution-per-hole-content[_ngcontent-%COMP%]   .distribution-per-hole-widget__widgets[_ngcontent-%COMP%]   .distribution-per-hole-widget__chart[_ngcontent-%COMP%]{width:calc(100% - 161px)}.distribution-per-hole-widget[_ngcontent-%COMP%]   .distribution-per-hole-content[_ngcontent-%COMP%]   .distribution-per-hole-widget__widgets[_ngcontent-%COMP%]   .distribution-per-hole-widget__summary[_ngcontent-%COMP%]{min-width:158px;margin-right:21px}.distribution-per-hole-widget[_ngcontent-%COMP%]   .distribution-per-hole-content[_ngcontent-%COMP%]   .distribution-per-hole-widget__widgets--selections[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center}.distribution-per-hole-widget[_ngcontent-%COMP%]   .distribution-per-hole-content[_ngcontent-%COMP%]   .distribution-per-hole-widget__widgets--selections[_ngcontent-%COMP%]   .distribution-per-hole-widget-wrapper[_ngcontent-%COMP%]{width:50%;display:flex;flex-direction:column-reverse}.distribution-per-hole-widget[_ngcontent-%COMP%]   .distribution-per-hole-content[_ngcontent-%COMP%]   .distribution-per-hole-widget__widgets--selections[_ngcontent-%COMP%]   .distribution-per-hole-widget-wrapper--one-selection[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row}.distribution-per-hole-widget[_ngcontent-%COMP%]   .distribution-per-hole-content[_ngcontent-%COMP%]   .distribution-per-hole-widget__widgets--selections[_ngcontent-%COMP%]   .distribution-per-hole-widget-wrapper--one-selection[_ngcontent-%COMP%]   .distribution-per-hole-widget__chart[_ngcontent-%COMP%]{width:calc(100% - 161px)}.distribution-per-hole-widget[_ngcontent-%COMP%]   .distribution-per-hole-content[_ngcontent-%COMP%]   .distribution-per-hole-widget__widgets--selections[_ngcontent-%COMP%]   .distribution-per-hole-widget-wrapper--one-selection[_ngcontent-%COMP%]   .distribution-per-hole-widget__summary[_ngcontent-%COMP%]{min-width:158px;margin-right:21px}.distribution-per-hole-widget[_ngcontent-%COMP%]   .distribution-per-hole-content[_ngcontent-%COMP%]   .distribution-per-hole-widget__widgets--selections[_ngcontent-%COMP%]   .distribution-per-hole-widget__chart[_ngcontent-%COMP%]{width:100%}.distribution-per-hole-widget[_ngcontent-%COMP%]   .distribution-per-hole-content[_ngcontent-%COMP%]   .distribution-per-hole-widget__widgets--selections[_ngcontent-%COMP%]   .distribution-per-hole-widget__summary[_ngcontent-%COMP%]{width:158px;margin:10px auto}.distribution-per-hole-widget.comparing-page[_ngcontent-%COMP%]   .chart-title[_ngcontent-%COMP%]{position:relative;top:12px;text-align:center;font-weight:500;margin-bottom:5px;font-size:12px;margin-top:0}.distribution-per-hole-widget.comparing-page[_ngcontent-%COMP%]   .distribution-per-hole-content--align-top[_ngcontent-%COMP%]{align-items:flex-start;margin-top:28px}.distribution-per-hole-widget.comparing-page[_ngcontent-%COMP%]   .distribution-per-hole-content__no-functionality[_ngcontent-%COMP%]{margin-top:20px}.distribution-per-hole-widget.comparing-page[_ngcontent-%COMP%]   .distribution-per-hole-content[_ngcontent-%COMP%]   .distribution-per-hole-widget__widgets[_ngcontent-%COMP%]{flex-direction:column-reverse;width:auto;padding-top:0}.distribution-per-hole-widget.comparing-page[_ngcontent-%COMP%]   .distribution-per-hole-content[_ngcontent-%COMP%]   .distribution-per-hole-widget__widgets[_ngcontent-%COMP%]   .distribution-per-hole-widget__chart[_ngcontent-%COMP%]{width:100%}.distribution-per-hole-widget.comparing-page[_ngcontent-%COMP%]   .distribution-per-hole-content[_ngcontent-%COMP%]   .distribution-per-hole-widget__widgets[_ngcontent-%COMP%]   .distribution-per-hole-widget__summary[_ngcontent-%COMP%]{margin:20px 0;width:158px;align-self:center}"],changeDetection:0}),u}()},8722:function(ce,E,t){"use strict";t.d(E,{Ik:function(){return a.I}}),t(20314),t(67626);var a=t(6492)},20314:function(ce,E,t){"use strict";t.d(E,{I:function(){return Yt}});var F=t(97685),H=t(89062),a=t(15671),O=t(43144),S=t(97326),w=t(60136),i=t(57777),v=t(28258),C=t(90149),D=t(7625),R=t(92198),Y=t(24850),N=t(87545),j=t(21086),z=t(17489),Q=t(42585),he=t(99191),o=t(21347),V=t(53773),Ce=t(57676),P=t(46940),re=t(27107),ae=t(52031),e=t(65542),le=t(94720),ne=t(35204),$=t(4208),I=t(82304),G=t(78090),W=t(69808),x=t(93075),ee=[{name:"year",value:12},{name:"6_mths",value:6},{name:"3_mths",value:3},{name:"month",value:1}],te=t(58278),X=t(48924),ve=t(5010),se=t(16952),Te=t(90508),Ee=t(86856),Qe=t(75778),Se=t(94965),Ze=t(68659),De=t(67322),pe=t(29772),Pe=t(47423),ge=["dateRangePicker"],me=["datepickerContent"];function ue(g,A){if(1&g){var s=e.EpF();e.TgZ(0,"span",13),e.NdJ("click",function(){return e.CHM(s),e.oxw().clear()}),e.qZA()}if(2&g){var c=e.oxw();e.Q6J("matTooltip",c.clearTooltip)("matTooltipPosition","above")}}var Me=["*"],n=function(){var g=function(A){(0,w.Z)(c,A);var s=(0,i.Z)(c);function c(m){var r;return(0,a.Z)(this,c),(r=s.call(this)).treeFilterDateService=m,r.handleApply=new e.vpe,r.resetForm=new e.vpe,r.updateDateRange=new e.vpe,r.keepOpen=!1,r}return(0,O.Z)(c,[{key:"clickEvent",value:function(r){var d;(null===(d=this.matCalendar)||void 0===d?void 0:d.contains(r.target))||(this.groupInstance.patchValue(this.treeFilterDateService.formState,{emitEvent:!1}),this.treeFilterDateService.dateRange=new Ee.C0(this.treeFilterDateService.formState.dateRange.start,this.treeFilterDateService.formState.dateRange.end))}},{key:"isDateRangeSelected",get:function(){var r=this.getValue();return r.start&&r.end}},{key:"getControlByName",value:function(r){return this.getControl().get(r)}},{key:"clear",value:function(){this.resetForm.emit(),this.handleApply.emit()}},{key:"open",value:function(){this.appendContent(),this.controlPredefinedRanges(),this.keepOpen=!1}},{key:"close",value:function(r){this.keepOpen&&r.open()}},{key:"appendContent",value:function(){!this.datepickerContent.nativeElement||(this.matCalendar=document.getElementsByClassName("mat-datepicker-content")[0],this.matCalendar.prepend(this.datepickerContent.nativeElement))}},{key:"controlPredefinedRanges",value:function(){var d,r=this;null===(d=this.groupInstance.get("preselectDate"))||void 0===d||d.valueChanges.pipe((0,D.R)(this.dateRangePicker.closedStream),(0,Qe.x)(function(T,oe){return JSON.stringify(T)===JSON.stringify(oe)}),(0,R.h)(function(T){return!(0,z.isNull)(T)})).subscribe(function(T){var ie=(0,F.Z)(T,1)[0];r.keepOpen=!0,r.updateDateRange.emit(ie),r.treeFilterDateService.dateRange=new Ee.C0(r.groupInstance.get("dateRange").value.start,r.groupInstance.get("dateRange").value.end),r.dateRangePicker.close()})}},{key:"applyDisabled",get:function(){var r=this.treeFilterDateService.dateRange,d=r.start,T=r.end,oe=this.treeFilterDateService.formState,ie=oe.cyclePhases,K=oe.preselectDate,we=oe.dateRange,tt=we.end;if(d&&!T)return!0;var $e,nt=(null==d?void 0:d.isSame(we.start,"day"))&&(null==T?void 0:T.isSame(tt,"day")),be=(0,H.Z)(ie).sort();return $e=ie.length?(0,z.isEqual)(this.groupInstance.value.cyclePhases.sort(),be)&&(0,z.isEqual)(this.groupInstance.value.preselectDate,K):(0,z.isEqual)(this.groupInstance.value.preselectDate,K),this.groupInstance.invalid||(d?$e&&!!nt:$e)}}]),c}(Se.C);return g.\u0275fac=function(s){return new(s||g)(e.Y36(ve.k))},g.\u0275cmp=e.Xpm({type:g,selectors:[["dabo-tree-date-range-picker"]],viewQuery:function(s,c){var m;1&s&&(e.Gf(ge,5),e.Gf(me,5)),2&s&&(e.iGM(m=e.CRH())&&(c.dateRangePicker=m.first),e.iGM(m=e.CRH())&&(c.datepickerContent=m.first))},hostBindings:function(s,c){1&s&&e.NdJ("click",function(r){return c.clickEvent(r)},!1,e.evT)},inputs:{maxDate:"maxDate",clearTooltip:"clearTooltip"},outputs:{handleApply:"handleApply",resetForm:"resetForm",updateDateRange:"updateDateRange"},features:[e._Bn([{provide:x.Cf,useExisting:(0,e.Gpc)(function(){return g}),multi:!0},{provide:x.JU,useExisting:(0,e.Gpc)(function(){return g}),multi:!0},{provide:Ee.q_,useClass:Ze.l}]),e.qOj],ngContentSelectors:Me,decls:20,vars:20,consts:[[1,"date-range-picker","tree-date-range-picker",3,"formGroup"],["appearance","legacy","floatLabel","never"],[1,"date-range-picker__label"],[3,"formGroupName","max","rangePicker","click"],["matStartDate","","readonly","",3,"formControl"],["matEndDate","","readonly","",3,"formControl"],["class","icon icon-close",3,"matTooltip","matTooltipPosition","click",4,"ngIf"],["matPrefix","",3,"for"],["disabled","false",3,"panelClass","opened","closed"],["dateRangePicker",""],["matDateRangePickerApply","","mat-button","",3,"disabled","click"],[1,"tree-date-range-picker__content-wrapper"],["datepickerContent",""],[1,"icon","icon-close",3,"matTooltip","matTooltipPosition","click"]],template:function(s,c){if(1&s){var m=e.EpF();e.F$t(),e.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label",2),e._uU(3),e.ALo(4,"transloco"),e.qZA(),e.TgZ(5,"mat-date-range-input",3),e.NdJ("click",function(){return e.CHM(m),e.MAs(11).open()}),e._UZ(6,"input",4)(7,"input",5),e.qZA(),e.YNc(8,ue,1,2,"span",6),e._UZ(9,"mat-datepicker-toggle",7),e.TgZ(10,"mat-date-range-picker",8,9),e.NdJ("opened",function(){return c.open()})("closed",function(){e.CHM(m);var T=e.MAs(11);return c.close(T)}),e.TgZ(12,"mat-date-range-picker-actions")(13,"button",10),e.NdJ("click",function(){return c.handleApply.emit()}),e._uU(14),e.ALo(15,"transloco"),e.qZA()()()(),e.TgZ(16,"div",11)(17,"div",null,12),e.Hsn(19),e.qZA()()()}if(2&s){var r=e.MAs(11);e.Q6J("formGroup",c.groupInstance),e.xp6(3),e.Oqu(e.lcZ(4,16,"patternsTreeTranslation.tree_datepicker.choose_date_range")),e.xp6(2),e.Q6J("formGroupName",c.controlName)("max",c.maxDate)("rangePicker",r),e.xp6(1),e.Q6J("formControl",c.getControlByName("start")),e.xp6(1),e.Q6J("formControl",c.getControlByName("end")),e.xp6(1),e.Q6J("ngIf",c.isDateRangeSelected),e.xp6(1),e.Q6J("for",r),e.xp6(1),e.Q6J("panelClass","tree-date-range-picker__calendar"),e.xp6(3),e.Tol("tree-date-range-picker__action-apply btn btn--outline"),e.ekj("disabled",c.applyDisabled),e.Q6J("disabled",c.applyDisabled),e.xp6(1),e.hij(" ",e.lcZ(15,18,"patternsTreeTranslation.tree_datepicker.apply")," ")}},directives:[x.JL,x.sg,De.KE,De.hX,Ee.wx,x.x0,Ee.zY,x.Fj,x.JJ,x.oH,Ee.By,W.O5,pe.gM,Ee.nW,De.qo,Ee._g,Ee.M5,Pe.lW,Ee.DK],pipes:[Q.Ot],encapsulation:2}),g}(),Ue=t(69832),Ne=t(23322),He=t(14623);function ze(g,A){if(1&g&&(e.TgZ(0,"mat-button-toggle",6),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&g){var s=A.$implicit,c=e.oxw(2);e.Q6J("ngClass","toggles-"+c.mineCyclePhases.length)("value",s.value),e.xp6(1),e.hij(" ",e.lcZ(2,3,"patternsTreeTranslation.tree_filter."+s.value)," ")}}function Le(g,A){if(1&g&&(e.TgZ(0,"mat-button-toggle-group",4),e.YNc(1,ze,3,5,"mat-button-toggle",5),e.qZA()),2&g){var s=e.oxw();e.Q6J("multiple",!0)("formControl",s.cyclePhasesControl),e.xp6(1),e.Q6J("ngForOf",s.mineCyclePhases)}}function Je(g,A){if(1&g&&(e.TgZ(0,"mat-list-option",7),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&g){var s=A.$implicit;e.Q6J("value",s.value),e.xp6(1),e.hij(" ",e.lcZ(2,2,"patternsTreeTranslation.tree_filter."+s.name)," ")}}var Ve=function(){var g=function(){function A(s){(0,a.Z)(this,A),this.treeFilterDateService=s}return(0,O.Z)(A,[{key:"ngOnInit",value:function(){var c=this;this.treeFilterDateService.months$.subscribe(function(m){c.preselectDateControl.setValue(m)})}},{key:"cyclePhasesControl",get:function(){return this.groupInstance.get("cyclePhases")}},{key:"preselectDateControl",get:function(){return this.groupInstance.get("preselectDate")}}]),A}();return g.\u0275fac=function(s){return new(s||g)(e.Y36(ve.k))},g.\u0275cmp=e.Xpm({type:g,selectors:[["dabo-tree-filter"]],inputs:{groupInstance:"groupInstance",mineCyclePhases:"mineCyclePhases",preselectDates:"preselectDates"},decls:4,vars:4,consts:[[1,"tree-filter__container",3,"formGroup"],["class","tree-filter__toggle-group","aria-label","Cycle phase",3,"multiple","formControl",4,"ngIf"],["formControlName","preselectDate",1,"tree-filter__preselect-dates",3,"multiple"],[3,"value",4,"ngFor","ngForOf"],["aria-label","Cycle phase",1,"tree-filter__toggle-group",3,"multiple","formControl"],[3,"ngClass","value",4,"ngFor","ngForOf"],[3,"ngClass","value"],[3,"value"]],template:function(s,c){1&s&&(e.TgZ(0,"div",0),e.YNc(1,Le,2,3,"mat-button-toggle-group",1),e.TgZ(2,"mat-selection-list",2),e.YNc(3,Je,3,4,"mat-list-option",3),e.qZA()()),2&s&&(e.Q6J("formGroup",c.groupInstance),e.xp6(1),e.Q6J("ngIf",c.mineCyclePhases.length),e.xp6(1),e.Q6J("multiple",!1),e.xp6(1),e.Q6J("ngForOf",c.preselectDates))},directives:[x.JL,x.sg,W.O5,Ue.A9,x.JJ,x.oH,W.sg,Ue.Yi,W.mk,Ne.oO,He.Ub,x.u,He.vS],pipes:[Q.Ot],encapsulation:2}),g}(),Ke=function(){var g=function(A){(0,w.Z)(c,A);var s=(0,i.Z)(c);function c(m,r,d,T,oe,ie){var K;return(0,a.Z)(this,c),(K=s.call(this)).mineStateService=m,K.fb=r,K.mainTreeDataService=d,K.treeFilterDateService=T,K.localizationLocalService=oe,K.adapter=ie,K.resetPatternsState=new e.vpe,K.maxDate=(0,Ce.XD)(K.mineStateService.getSelectedMineArea()),K.initialPreselectedDate=6,K.preselectDates=ee,K}return(0,O.Z)(c,[{key:"ngOnInit",value:function(){var r=this;this.mineStateService.selectedMineArea$.pipe((0,D.R)(this.destroy$)).subscribe(function(d){r.mineCyclePhases=X.cyclePhases[d.value]||X.cyclePhases.default,r.initForm(),r.adapter.setLocale(d.value===o.q.CDA?te.n.ES:te.n.EN)})}},{key:"initForm",value:function(){var r=this.mineCyclePhases.filter(function(d){return!d.unchecked}).map(function(d){return d.value});this.filterForm=this.fb.group({dateRange:this.fb.group({start:this.fb.control(""),end:this.fb.control("")}),cyclePhases:this.fb.control(r,P.ZA.isCDA(this.mineStateService.getSelectedMineArea())?[]:x.kI.required),preselectDate:this.fb.control([this.initialPreselectedDate])}),this.updateDateRange(this.initialPreselectedDate),this.treeFilterDateService.formState=(0,z.cloneDeep)(this.filterForm.value),this.treeFilterDateService.dateRange=(0,z.cloneDeep)(this.filterForm.value.dateRange)}},{key:"updateDateRange",value:function(r){var d=(0,Ce.XD)(this.mineStateService.getSelectedMineArea()).subtract(r,"months"),T=(0,Ce.XD)(this.mineStateService.getSelectedMineArea());this.filterForm.patchValue({dateRange:{start:d,end:T}})}},{key:"resetForm",value:function(){var r=this.getCyclePhasesValues();this.filterForm.reset({cyclePhases:r})}},{key:"applyHandler",value:function(){this.resetPatternsState.emit();var r=this.filterForm.value,d=r.dateRange,T=r.cyclePhases,oe={dateFrom:P.Ov.transformToMineDayBounders(this.mineStateService.getSelectedMineArea(),d.start),dateTo:P.Ov.transformToMineDayBounders(this.mineStateService.getSelectedMineArea(),d.end,!0),patternType:T};this.treeFilterDateService.formState=(0,z.cloneDeep)(this.filterForm.value);var ie="".concat(this.localizationLocalService.translateText("spinner.loading_tree1")," ").concat(this.mineStateService.getSelectedMineArea().toUpperCase()," ").concat(this.localizationLocalService.translateText("spinner.loading_tree2"));this.mainTreeDataService.applyTreeFilter(this.mineStateService.getSelectedMineArea(),ie,(0,z.omitBy)(oe,z.isNil)).subscribe()}},{key:"getCyclePhasesValues",value:function(){return this.mineCyclePhases.map(function(r){return r.value})}}]),c}(P.eO);return g.\u0275fac=function(s){return new(s||g)(e.Y36(le.Hj),e.Y36(x.qu),e.Y36(ne.U),e.Y36(ve.k),e.Y36(se.bM),e.Y36(Te._A))},g.\u0275cmp=e.Xpm({type:g,selectors:[["dabo-tree-date-picker"]],outputs:{resetPatternsState:"resetPatternsState"},features:[e.qOj],decls:4,vars:10,consts:[[3,"formGroup"],[3,"groupInstance","maxDate","controlName","clearTooltip","handleApply","resetForm","updateDateRange"],[3,"groupInstance","mineCyclePhases","preselectDates"]],template:function(s,c){1&s&&(e.TgZ(0,"form",0)(1,"dabo-tree-date-range-picker",1),e.NdJ("handleApply",function(){return c.applyHandler()})("resetForm",function(){return c.resetForm()})("updateDateRange",function(r){return c.updateDateRange(r)}),e.ALo(2,"transloco"),e._UZ(3,"dabo-tree-filter",2),e.qZA()()),2&s&&(e.Q6J("formGroup",c.filterForm),e.xp6(1),e.s9C("clearTooltip",e.lcZ(2,8,"patternsTreeTranslation.tree_datepicker.clear_all")),e.Q6J("groupInstance",c.filterForm)("maxDate",c.maxDate)("controlName","dateRange"),e.xp6(2),e.Q6J("groupInstance",c.filterForm)("mineCyclePhases",c.mineCyclePhases)("preselectDates",c.preselectDates))},directives:[x._Y,x.JL,x.sg,n,Ve],pipes:[Q.Ot],encapsulation:2}),g}(),Ge=t(77069),Be=t(18776),Ie=t(48966),Xe=t(82207),J=t(77093),_e=function(A){return{"show-reset":A}};function u(g,A){if(1&g){var s=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){return e.CHM(s),e.oxw(2).openDialog()}),e._uU(1),e.qZA()}if(2&g){var c=e.oxw().$implicit,m=e.oxw();e.Q6J("ngClass",e.VKq(2,_e,m.controlsSetting.reset)),e.xp6(1),e.hij(" ",c("patternsTreeTranslation.reset.title")," ")}}function U(g,A){if(1&g){var s=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){return e.CHM(s),e.oxw(2).openExportingModal()}),e._uU(1),e.qZA()}if(2&g){var c=e.oxw().$implicit,m=e.oxw();e.Q6J("disabled",m.exportDisabled),e.xp6(1),e.hij(" ",c("patternsTreeTranslation.export.title")," ")}}function p(g,A){if(1&g&&(e.TgZ(0,"div",1),e.YNc(1,u,2,4,"button",2),e.YNc(2,U,2,2,"button",3),e.qZA()),2&g){var s=e.oxw();e.s9C("fxLayoutAlign",s.checklistSelection.hasValue()||s.controlsSetting.reset?"space-between center":"end center"),e.Q6J("ngClass",s.controlsSetting.reset?"button-controls-compare":"button-controls"),e.xp6(1),e.Q6J("ngIf",(s.checklistSelection.hasValue()||s.controlsSetting.reset)&&!s.controlsSetting.selectAll),e.xp6(1),e.Q6J("ngIf",s.controlsSetting.controls&&!s.isCDA)}}var l=function(){var g=function(A){(0,w.Z)(c,A);var s=(0,i.Z)(c);function c(m,r,d,T,oe,ie){var K;return(0,a.Z)(this,c),(K=s.call(this)).cdr=m,K.reportsExportsService=r,K.dialog=d,K.patternsService=T,K.mainTreeDataService=oe,K.mineStateService=ie,K.deselectAll=new e.vpe,K}return(0,O.Z)(c,[{key:"isCDA",get:function(){return P.ZA.isCDA(this.mineStateService.getSelectedMineArea())}},{key:"ngOnInit",value:function(){var r=this;this.reportsExportsService.generationHandler$.pipe((0,D.R)(this.destroy$)).subscribe(function(d){r.exportDisabled=null==d?void 0:d.generationStarted,r.cdr.detectChanges()})}},{key:"openExportingModal",value:function(){if(!this.exportDisabled){var r=this.patternsService.getSelectedPatternsNames(this.mainTreeDataService.treeData);return this.dialog.open(Ge.G,{panelClass:["modal-base","modal--reports-export"],data:{pageType:"mainPage",selectedPatterns:r}})}}},{key:"openDialog",value:function(){var r=this;this.dialog.open(Be.YV,{panelClass:["modal-base","modal--reset"],data:{messageTranslationKey:"patternsTreeTranslation.reset.message"}}).afterClosed().pipe((0,D.R)(this.destroy$)).subscribe(function(T){T&&r.deselectAll.emit()})}}]),c}(P.eO);return g.\u0275fac=function(s){return new(s||g)(e.Y36(e.sBO),e.Y36(le.jN),e.Y36(Ie.uw),e.Y36(Xe.c),e.Y36(ne.U),e.Y36(le.Hj))},g.\u0275cmp=e.Xpm({type:g,selectors:[["dabo-tree-export"]],inputs:{controlsSetting:"controlsSetting",checklistSelection:"checklistSelection"},outputs:{deselectAll:"deselectAll"},features:[e.qOj],decls:1,vars:0,consts:[[3,"fxLayoutAlign","ngClass",4,"transloco"],[3,"fxLayoutAlign","ngClass"],["class","btn btn--xs btn--outline button-controls--reset","mat-button","",3,"ngClass","click",4,"ngIf"],["mat-button","","class","btn btn--xs btn--outline button-controls--export",3,"disabled","click",4,"ngIf"],["mat-button","",1,"btn","btn--xs","btn--outline","button-controls--reset",3,"ngClass","click"],["mat-button","",1,"btn","btn--xs","btn--outline","button-controls--export",3,"disabled","click"]],template:function(s,c){1&s&&e.YNc(0,p,3,4,"div",0)},directives:[Q.KI,J.Wh,W.mk,Ne.oO,W.O5,Pe.lW],styles:[".button-controls[_ngcontent-%COMP%], .button-controls-compare[_ngcontent-%COMP%]{height:24px;padding-right:8px;padding-left:6px;background-color:#f6f7f7}.button-controls-compare[_ngcontent-%COMP%]{padding-left:16px;position:sticky;top:0;width:auto}.button-controls--reset[_ngcontent-%COMP%]{min-width:50px}.button-controls--export[_ngcontent-%COMP%]{min-width:54px}"]}),g}(),y=t(77446),_=t(37143),L=t(13873),q=t(2487),xe=t(13367),Re=t(34594),We=t(21265),je=t(85899),Oe=t(74107),ye=t(79814),it=["benchLevel"];function at(g,A){1&g&&(e.TgZ(0,"h2"),e._uU(1,"Import File"),e.qZA())}function rt(g,A){1&g&&(e.TgZ(0,"h2"),e._uU(1,"Edit coal seam file"),e.qZA())}function ct(g,A){1&g&&e._UZ(0,"span",33)}function lt(g,A){if(1&g&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"titlecase"),e.qZA()),2&g){var s=e.oxw();e.xp6(1),e.HOy(" ",e.lcZ(2,4,s.getFormControl("fileType").value)," coal seam file for elevation level ",s.getFormControl("benchLevel").value,", ",s.getFormControl("miningArea").value," mining area already exists. By clicking \u201cConfirm\u201d it will be overwritten. If you want to keep current ",e.lcZ(3,6,s.getFormControl("fileType").value)," coal seams, click \u201cCancel\u201d button or choose another mining area, elevation level, or file type. ")}}function st(g,A){if(1&g){var s=e.EpF();e.TgZ(0,"span",37),e.NdJ("click",function(){return e.CHM(s),e.oxw(2).removeFile()}),e.qZA()}}function gt(g,A){if(1&g&&(e.TgZ(0,"div",35),e._uU(1),e.YNc(2,st,1,0,"span",36),e.qZA()),2&g){var s=e.oxw();e.xp6(1),e.hij(" ",s.getFormControl("file").value.name," "),e.xp6(1),e.Q6J("ngIf",!s.fileIsUploading)}}function dt(g,A){1&g&&(e.TgZ(0,"span"),e._uU(1,"Choose file ..."),e.qZA())}function pt(g,A){1&g&&(e.TgZ(0,"span"),e._uU(1,"Replace file ..."),e.qZA())}function ft(g,A){if(1&g){var s=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){return e.CHM(s),e.oxw(),e.MAs(44).click()}),e.YNc(1,dt,2,0,"span",0),e.YNc(2,pt,2,0,"span",0),e.qZA()}if(2&g){var c=e.oxw();e.xp6(1),e.Q6J("ngIf",!c.editMode&&!c.fileAlreadyExists),e.xp6(1),e.Q6J("ngIf",c.editMode||c.fileAlreadyExists)}}function mt(g,A){1&g&&(e.TgZ(0,"div",39),e._uU(1," Wrong file type or extension. Please choose a correct file "),e.qZA())}function ut(g,A){if(1&g&&(e.TgZ(0,"div",39),e._uU(1),e.qZA()),2&g){var s=e.oxw();e.xp6(1),e.Oqu(s.formErrorMessage)}}var _t=function(){var g=function(A){(0,w.Z)(c,A);var s=(0,i.Z)(c);function c(m,r,d){var T;return(0,a.Z)(this,c),(T=s.call(this)).data=m,T.formBuilder=r,T.dialogRef=d,T.save$=new e.vpe,T.fileAlreadyExists=!1,T.fileIsUploading=!1,T.formErrorMessage=null,T.radioType={top:"top",bottom:"bottom"},T.form=T.formBuilder.group({miningArea:["",{validators:[x.kI.required]}],benchLevel:["",{validators:[xe.m.benchLevelValidator,x.kI.required]}],fileType:["",{validators:[x.kI.required]}],file:[null,{validators:[x.kI.required,xe.m.fileExtensionValidator("dxf")]}]}),T.form.valueChanges.subscribe(function(){T.fileAlreadyExists=!T.editMode&&!!T.getFileNode()}),T}return(0,O.Z)(c,[{key:"ngOnInit",value:function(){this.setDefaultForm()}},{key:"editMode",get:function(){return this.data.editMode}},{key:"mineArea",get:function(){return this.data.mineArea}},{key:"getFormControl",value:function(r){return this.form.get(r)}},{key:"getFileNode",value:function(){var r=this.getFormControl("fileType").value.toUpperCase()||this.radioType.top.toUpperCase();return this.data.getFileNode(r)}},{key:"setDefaultForm",value:function(){var r=this.editMode?this.data.node.coalSeamType.toLowerCase():this.radioType.top;for(var d in this.form.patchValue({miningArea:this.data.mineArea,benchLevel:String(this.data.benchLevel),fileType:r},{emitEvent:!0}),this.form.controls)this.form.controls.hasOwnProperty(d)&&!["file","fileType"].includes(d)&&this.form.controls[d].disable()}},{key:"closeModal",value:function(){this.dialogRef.close()}},{key:"onFileSelect",value:function(r){var T=r.target;this.form.patchValue({file:r.target.files[0]}),this.getFormControl("file").updateValueAndValidity(),T.value="",this.formErrorMessage=null}},{key:"removeFile",value:function(){this.formErrorMessage=null,this.form.patchValue({file:null}),this.getFormControl("file").updateValueAndValidity()}},{key:"submitForm",value:function(){this.fileIsUploading=!0,this.editMode||this.fileAlreadyExists?this.updateFile():this.uploadFile()}},{key:"updateFile",value:function(){var r=new FormData,d=this.editMode?this.data.node.uuid:this.getFileNode().uuid;r.append("file",this.getFormControl("file").value),this.data.onConfirm(!0,d,r,this.requestComplete.bind(this),this.errorHandler.bind(this))}},{key:"uploadFile",value:function(){var r=new FormData;this.formErrorMessage=null,r.append("miningArea",this.data.mineArea),r.append("benchLevel",this.data.benchLevel),r.append("file",this.getFormControl("file").value),r.append("coalSeamType",this.getFormControl("fileType").value.toUpperCase()),this.data.onConfirm(!1,r,this.requestComplete.bind(this),this.errorHandler.bind(this))}},{key:"errorHandler",value:function(r){var d,T,oe,ie=null!==(oe=null!==(T=null===(d=null==r?void 0:r.error)||void 0===d?void 0:d.error)&&void 0!==T?T:null==r?void 0:r.message)&&void 0!==oe?oe:"",K=null==r?void 0:r.status;if(409===K){if(this.fileAlreadyExists=!this.editMode&&!!this.getFileNode(),this.fileAlreadyExists)return this.fileIsUploading=!1,void(this.formErrorMessage=null);this.formErrorMessage="".concat(ie," Please refresh the page.")}else K<500&&ie.includes("type")?(this.getFormControl("file").setErrors({inValidExt:!0}),this.formErrorMessage="Server response: ".concat(ie)):this.formErrorMessage=K>=500?"Something went wrong. Please try again.":"Something went wrong. Please check your internet connection and try again.";this.fileIsUploading=!1}},{key:"requestComplete",value:function(){this.fileIsUploading=!1,this.formErrorMessage=null,this.dialogRef.close(!0)}}]),c}(P.eO);return g.\u0275fac=function(s){return new(s||g)(e.Y36(Ie.WI),e.Y36(x.qu),e.Y36(Ie.so))},g.\u0275cmp=e.Xpm({type:g,selectors:[["dabo-files-import-dialog"]],viewQuery:function(s,c){var m;1&s&&e.Gf(it,7),2&s&&e.iGM(m=e.CRH())&&(c.benchLevelInput=m.first)},outputs:{save$:"save$"},features:[e.qOj],decls:53,vars:36,consts:[[4,"ngIf"],[1,"fill-remaining-space"],["class","icon icon-close","mat-dialog-close","",4,"ngIf"],["daboKeydownEscape","","fxFill","",3,"fxShow","keydownEmitter"],["color","primary","mode","indeterminate"],[1,"container__form",3,"formGroup"],["fxLayout","row"],["fxLayout","column",1,"dropdown-wrapper"],["fxLayout","column","fxLayoutGap","10px",1,"file-specs","short"],["fxFlex","50%","fxLayout","column",1,"form-field-wrapper"],["for","mineSiteId",1,"form__label"],["floatLabel","never",1,"mat-select--custom"],["formControlName","miningArea","id","mineSiteId",1,"import-file"],[3,"value"],["for","benchLevel",1,"form__label"],["id","benchLevel","formControlName","benchLevel","placeholder","eg. 1423.5","type","text",1,"base-text-input","import-file"],["benchLevel",""],[1,"radio-wrapper"],["for","radioButtonGroupId",1,"form__label"],["fxLayout","column","id","radioButtonGroupId","formControlName","fileType"],[3,"disabled","value"],["class","form__label--red",4,"ngIf"],["fxLayout","row",1,"file-choose"],["fxFlex","100%","fxLayout","column",1,"form-field-wrapper"],[1,"form__label","mt-8"],["class","file-info",4,"ngIf"],["accept",".dxf","id","input-file-id","type","file",1,"hidden",3,"change"],["fileUpload",""],["class","btn-upload btn btn--xs btn--primary btn--orange","mat-button","",3,"click",4,"ngIf"],["class","text-error",4,"ngIf"],["align","center","fxLayoutGap","12px"],["fxFlex","calc(50% - 10px)","mat-button","","mat-dialog-close","","tabindex","-1",1,"modal__btn","btn","btn--secondary",3,"disabled"],["fxFlex","calc(50% - 10px)","mat-button","",1,"modal__btn","btn","btn--primary",3,"disabled","click"],["mat-dialog-close","",1,"icon","icon-close"],[1,"form__label--red"],[1,"file-info"],["class","icon icon-close",3,"click",4,"ngIf"],[1,"icon","icon-close",3,"click"],["mat-button","",1,"btn-upload","btn","btn--xs","btn--primary","btn--orange",3,"click"],[1,"text-error"]],template:function(s,c){1&s&&(e.TgZ(0,"mat-toolbar")(1,"mat-toolbar-row"),e.YNc(2,at,2,0,"h2",0),e.YNc(3,rt,2,0,"h2",0),e._UZ(4,"div",1),e.YNc(5,ct,1,0,"span",2),e.qZA()(),e.TgZ(6,"div",3),e.NdJ("keydownEmitter",function(){return c.closeModal()}),e._UZ(7,"mat-progress-bar",4),e.qZA(),e.TgZ(8,"mat-dialog-content")(9,"span"),e._uU(10,"Specify file type and choose file for import:"),e.qZA(),e.TgZ(11,"form",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"label",10),e._uU(17," Mining Area: "),e.qZA(),e.TgZ(18,"mat-form-field",11)(19,"mat-label"),e._uU(20," Select "),e.qZA(),e.TgZ(21,"mat-select",12)(22,"mat-option",13),e._uU(23),e.qZA()()()(),e.TgZ(24,"div",9)(25,"label",14),e._uU(26," Bench level: "),e.qZA(),e._UZ(27,"input",15,16),e.qZA()()(),e.TgZ(29,"div",17)(30,"label",18),e._uU(31,"File type:"),e.qZA(),e.TgZ(32,"mat-radio-group",19)(33,"mat-radio-button",20),e._uU(34," Top Coal seam "),e.qZA(),e.TgZ(35,"mat-radio-button",20),e._uU(36," Bottom Coal seam "),e.qZA()()()(),e.YNc(37,lt,4,8,"div",21),e.TgZ(38,"div",22)(39,"div",23)(40,"label",24),e._uU(41,"Select your local (.dxf) file:"),e.qZA(),e.YNc(42,gt,3,2,"div",25),e.TgZ(43,"input",26,27),e.NdJ("change",function(r){return c.onFileSelect(r)}),e.qZA(),e.YNc(45,ft,3,2,"button",28),e.YNc(46,mt,2,0,"div",29),e.YNc(47,ut,2,1,"div",29),e.qZA()()()(),e.TgZ(48,"mat-dialog-actions",30)(49,"button",31),e._uU(50," Cancel "),e.qZA(),e.TgZ(51,"button",32),e.NdJ("click",function(){return c.submitForm()}),e._uU(52," Confirm "),e.qZA()()),2&s&&(e.xp6(2),e.Q6J("ngIf",!c.editMode),e.xp6(1),e.Q6J("ngIf",c.editMode),e.xp6(2),e.Q6J("ngIf",!c.fileIsUploading),e.xp6(1),e.Q6J("fxShow",c.fileIsUploading),e.xp6(5),e.Q6J("formGroup",c.form),e.xp6(7),e.ekj("cursor--not-allowed",!0),e.xp6(1),e.ekj("select--label",c.getFormControl("miningArea").touched)("select--label--focus",!c.getFormControl("miningArea").touched),e.xp6(2),e.ekj("field--focus",!c.getFormControl("miningArea").touched),e.xp6(1),e.Q6J("value",c.mineArea),e.xp6(1),e.hij(" ",c.mineArea," "),e.xp6(2),e.ekj("form__label--error",c.getFormControl("benchLevel").touched&&!c.getFormControl("benchLevel").valid),e.xp6(2),e.ekj("cursor--not-allowed",!0)("ng-invalid",c.getFormControl("benchLevel").touched&&!c.getFormControl("benchLevel").valid),e.xp6(6),e.ekj("disabled",c.editMode),e.Q6J("disabled",c.editMode)("value","top"),e.xp6(2),e.ekj("disabled",c.editMode),e.Q6J("disabled",c.editMode)("value","bottom"),e.xp6(2),e.Q6J("ngIf",c.fileAlreadyExists),e.xp6(5),e.Q6J("ngIf",c.getFormControl("file").valid),e.xp6(3),e.Q6J("ngIf",c.getFormControl("file").invalid),e.xp6(1),e.Q6J("ngIf",c.getFormControl("file").value&&(null==c.getFormControl("file").errors?null:c.getFormControl("file").errors.inValidExt)),e.xp6(1),e.Q6J("ngIf",c.formErrorMessage),e.xp6(2),e.Q6J("disabled",c.fileIsUploading),e.xp6(2),e.Q6J("disabled",!c.form.valid||c.fileIsUploading||(null==c.form.controls.file.errors?null:c.form.controls.file.errors.inValidExt)))},directives:[Re.Ye,Re.rD,W.O5,Ie.ZT,We.h,J.s9,Ne.b8,je.pW,Ie.xY,x._Y,x.JL,x.sg,J.xw,J.SQ,J.yH,De.KE,De.hX,Oe.gD,x.JJ,x.u,Te.ey,x.Fj,ye.VQ,ye.U0,Pe.lW,Ie.H8],pipes:[W.rS],encapsulation:2}),g}();function qe(g,A){if(1&g){var s=e.EpF();e.TgZ(0,"div",2)(1,"a",3),e.NdJ("click",function(){return e.CHM(s),e.oxw().openModal()}),e.qZA()()}2&g&&(e.xp6(1),e.Q6J("matTooltip","Import Coal seams")("matTooltipPosition","above"))}function ht(g,A){if(1&g){var s=e.EpF();e.TgZ(0,"div",4)(1,"a",5),e.NdJ("click",function(){return e.CHM(s),e.oxw().openModal()}),e.qZA()()}}var Ct=function(){var g=function(){function A(s){(0,a.Z)(this,A),this.dialog=s,this.editMode=!1,this.children=[],this.handleAdd=new e.vpe,this.handleEdit=new e.vpe}return(0,O.Z)(A,[{key:"openModal",value:function(){this.dialog.open(_t,{panelClass:["modal-base","modal--file-import-patterns"],data:{node:this.node,editMode:this.editMode,benchLevel:this.editMode?this.node.benchLevel:this.node.name,mineArea:this.node.miningArea,onConfirm:this.onConfirm.bind(this),getFileNode:this.getFileNode.bind(this)},disableClose:!0})}},{key:"getFileNode",value:function(c){return this.children.find(function(m){return m.coalSeamType&&m.coalSeamType===c})}},{key:"onConfirm",value:function(c){for(var m=arguments.length,r=new Array(m>1?m-1:0),d=1;d<m;d++)r[d-1]=arguments[d];c?this.handleEdit.emit([].concat(r)):this.handleAdd.emit([].concat(r))}}]),A}();return g.\u0275fac=function(s){return new(s||g)(e.Y36(Ie.uw))},g.\u0275cmp=e.Xpm({type:g,selectors:[["dabo-tree-node-add-btn"]],inputs:{node:"node",editMode:"editMode",children:"children"},outputs:{handleAdd:"handleAdd",handleEdit:"handleEdit"},decls:2,vars:2,consts:[["class","add-btn",4,"ngIf"],["class","edit-btn",4,"ngIf"],[1,"add-btn"],["target","_blank","mat-button","",1,"icon","icon-plus",3,"matTooltip","matTooltipPosition","click"],[1,"edit-btn"],["target","_blank","mat-button","",1,"icon","icon-edit",3,"click"]],template:function(s,c){1&s&&(e.YNc(0,qe,2,2,"div",0),e.YNc(1,ht,2,0,"div",1)),2&s&&(e.Q6J("ngIf",!c.editMode),e.xp6(1),e.Q6J("ngIf",c.editMode))},directives:[W.O5,Pe.zs,pe.gM],styles:[".edit-btn[_ngcontent-%COMP%]   .icon-plus[_ngcontent-%COMP%], .edit-btn[_ngcontent-%COMP%]   .icon-edit[_ngcontent-%COMP%], .add-btn[_ngcontent-%COMP%]   .icon-plus[_ngcontent-%COMP%], .add-btn[_ngcontent-%COMP%]   .icon-edit[_ngcontent-%COMP%]{min-width:30px;line-height:24px;height:auto}.edit-btn[_ngcontent-%COMP%]   .icon-plus[_ngcontent-%COMP%]:hover, .edit-btn[_ngcontent-%COMP%]   .icon-edit[_ngcontent-%COMP%]:hover, .add-btn[_ngcontent-%COMP%]   .icon-plus[_ngcontent-%COMP%]:hover, .add-btn[_ngcontent-%COMP%]   .icon-edit[_ngcontent-%COMP%]:hover{background-color:#e3e4e5}.edit-btn[_ngcontent-%COMP%]   .icon-plus[_ngcontent-%COMP%]:active, .edit-btn[_ngcontent-%COMP%]   .icon-plus[_ngcontent-%COMP%]:focus, .edit-btn[_ngcontent-%COMP%]   .icon-edit[_ngcontent-%COMP%]:active, .edit-btn[_ngcontent-%COMP%]   .icon-edit[_ngcontent-%COMP%]:focus, .add-btn[_ngcontent-%COMP%]   .icon-plus[_ngcontent-%COMP%]:active, .add-btn[_ngcontent-%COMP%]   .icon-plus[_ngcontent-%COMP%]:focus, .add-btn[_ngcontent-%COMP%]   .icon-edit[_ngcontent-%COMP%]:active, .add-btn[_ngcontent-%COMP%]   .icon-edit[_ngcontent-%COMP%]:focus{background-color:#d4d6d9}.edit-btn[_ngcontent-%COMP%]   .icon-plus[_ngcontent-%COMP%]:active:before, .edit-btn[_ngcontent-%COMP%]   .icon-plus[_ngcontent-%COMP%]:focus:before, .edit-btn[_ngcontent-%COMP%]   .icon-plus[_ngcontent-%COMP%]:hover:before, .edit-btn[_ngcontent-%COMP%]   .icon-edit[_ngcontent-%COMP%]:active:before, .edit-btn[_ngcontent-%COMP%]   .icon-edit[_ngcontent-%COMP%]:focus:before, .edit-btn[_ngcontent-%COMP%]   .icon-edit[_ngcontent-%COMP%]:hover:before, .add-btn[_ngcontent-%COMP%]   .icon-plus[_ngcontent-%COMP%]:active:before, .add-btn[_ngcontent-%COMP%]   .icon-plus[_ngcontent-%COMP%]:focus:before, .add-btn[_ngcontent-%COMP%]   .icon-plus[_ngcontent-%COMP%]:hover:before, .add-btn[_ngcontent-%COMP%]   .icon-edit[_ngcontent-%COMP%]:active:before, .add-btn[_ngcontent-%COMP%]   .icon-edit[_ngcontent-%COMP%]:focus:before, .add-btn[_ngcontent-%COMP%]   .icon-edit[_ngcontent-%COMP%]:hover:before{color:#0065bd}.add-btn[_ngcontent-%COMP%]{position:relative}.add-btn[_ngcontent-%COMP%]   .icon-plus[_ngcontent-%COMP%]{border-radius:0;padding:0;opacity:.75}.add-btn[_ngcontent-%COMP%]   .icon-plus[_ngcontent-%COMP%]:hover{opacity:1}.edit-btn[_ngcontent-%COMP%]   .icon-edit[_ngcontent-%COMP%]{font-size:14px;padding:0 8px;border-radius:0}"]}),g}(),bt=function(){var g=function(){function A(s,c){(0,a.Z)(this,A),this.data=s,this.dialogRef=c}return(0,O.Z)(A,[{key:"onConfirmClick",value:function(){this.data.onConfirm(),this.dialogRef.close()}}]),A}();return g.\u0275fac=function(s){return new(s||g)(e.Y36(Ie.WI),e.Y36(Ie.so))},g.\u0275cmp=e.Xpm({type:g,selectors:[["dabo-file-delete-dialog"]],decls:15,vars:6,consts:[[1,"fill-remaining-space"],["mat-dialog-close","",1,"icon","icon-close"],[1,"modal-content-title"],["fxLayoutAlign","end center","fxLayoutGap","12px"],["mat-button","","mat-dialog-close","","tabindex","-1",1,"modal__btn","btn","btn--secondary"],["mat-button","",1,"modal__btn","btn","btn--primary",3,"click"]],template:function(s,c){1&s&&(e.TgZ(0,"mat-toolbar")(1,"mat-toolbar-row")(2,"h2"),e._uU(3,"Deleting"),e.qZA(),e._UZ(4,"div",0)(5,"span",1),e.qZA()(),e.TgZ(6,"mat-dialog-content")(7,"h3",2),e._uU(8),e.ALo(9,"titlecase"),e.qZA()(),e.TgZ(10,"mat-dialog-actions",3)(11,"button",4),e._uU(12,"Cancel"),e.qZA(),e.TgZ(13,"button",5),e.NdJ("click",function(){return c.onConfirmClick()}),e._uU(14,"Yes, delete it"),e.qZA()()),2&s&&(e.xp6(8),e.HOy(" Are you sure you want to delete ",e.lcZ(9,4,c.data.fileNode.coalSeamType)," Coal seam file \u201c",c.data.fileNode.name,"\u201c for elevation level ",c.data.benchLevel,", ",c.data.miningArea," mining area? "))},directives:[Re.Ye,Re.rD,Ie.ZT,Ie.xY,Ie.H8,J.Wh,J.SQ,Pe.lW],pipes:[W.rS],styles:["mat-dialog-container[_ngcontent-%COMP%]{width:500px}.mat-dialog-content[_ngcontent-%COMP%]{text-align-last:start}.mat-dialog-content[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{text-align:unset}.mat-dialog-actions[_ngcontent-%COMP%]{justify-content:center}.modal__btn[_ngcontent-%COMP%]{width:140px}"]}),g}(),ot=function(){var g=function(){function A(s){(0,a.Z)(this,A),this.dialog=s,this.handleDelete=new e.vpe}return(0,O.Z)(A,[{key:"openDeleteModal",value:function(){this.dialog.open(bt,{panelClass:["modal-base","modal--planned-benches-delete"],data:{fileNode:this.node,benchLevel:this.node.benchLevel,miningArea:this.node.miningArea,onConfirm:this.deleteFile.bind(this)},disableClose:!0})}},{key:"deleteFile",value:function(){this.handleDelete.emit(this.node)}}]),A}();return g.\u0275fac=function(s){return new(s||g)(e.Y36(Ie.uw))},g.\u0275cmp=e.Xpm({type:g,selectors:[["dabo-tree-node-delete-btn"]],inputs:{node:"node"},outputs:{handleDelete:"handleDelete"},decls:2,vars:0,consts:[[1,"delete-btn"],["target","_blank","mat-button","",1,"icon","icon-close",3,"click"]],template:function(s,c){1&s&&(e.TgZ(0,"div",0)(1,"a",1),e.NdJ("click",function(){return c.openDeleteModal()}),e.qZA()())},directives:[Pe.zs],styles:[".delete-btn[_ngcontent-%COMP%]   .icon-close[_ngcontent-%COMP%]{min-width:30px;line-height:24px;height:auto;font-size:14px;padding:0 8px;border-radius:0}.delete-btn[_ngcontent-%COMP%]   .icon-close[_ngcontent-%COMP%]:hover{background-color:#e3e4e5}.delete-btn[_ngcontent-%COMP%]   .icon-close[_ngcontent-%COMP%]:active, .delete-btn[_ngcontent-%COMP%]   .icon-close[_ngcontent-%COMP%]:focus{background-color:#d4d6d9}.delete-btn[_ngcontent-%COMP%]   .icon-close[_ngcontent-%COMP%]:active:before, .delete-btn[_ngcontent-%COMP%]   .icon-close[_ngcontent-%COMP%]:focus:before, .delete-btn[_ngcontent-%COMP%]   .icon-close[_ngcontent-%COMP%]:hover:before{color:#0065bd}"]}),g}(),vt=t(57491);function Pt(g,A){if(1&g){var s=e.EpF();e.TgZ(0,"dabo-tree-date-picker",8),e.NdJ("resetPatternsState",function(){return e.CHM(s),e.oxw(2).resetPatternsState()}),e.qZA()}}function Mt(g,A){if(1&g){var s=e.EpF();e.TgZ(0,"dabo-tree-export",9),e.NdJ("deselectAll",function(){return e.CHM(s),e.oxw(2).deselectAll()}),e.qZA()}if(2&g){var c=e.oxw(2);e.Q6J("controlsSetting",c.controlsSetting)("checklistSelection",c.checklistSelection)}}function Ot(g,A){if(1&g){var s=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){return e.CHM(s),e.oxw(2).toggleSelection()}),e._uU(1),e.qZA()}if(2&g){var c=e.oxw().$implicit,m=e.oxw();e.xp6(1),e.hij(" ",c(m.getSelectAllToggleTranslation)," ")}}function yt(g,A){if(1&g&&(e.TgZ(0,"div",4),e.YNc(1,Pt,1,0,"dabo-tree-date-picker",5),e.YNc(2,Mt,1,2,"dabo-tree-export",6),e.YNc(3,Ot,2,1,"button",7),e.qZA()),2&g){var s=e.oxw();e.xp6(1),e.Q6J("ngIf",!s.isSimpleTree),e.xp6(1),e.Q6J("ngIf",!s.controlsSetting.exportDisabled),e.xp6(1),e.Q6J("ngIf",s.controlsSetting.selectAll)}}function Tt(g,A){1&g&&(e._UZ(0,"span",24),e.ALo(1,"transloco")),2&g&&e.Q6J("matTooltip",e.lcZ(1,1,"map.missing_data"))}function St(g,A){1&g&&e._UZ(0,"span",28),2&g&&e.Q6J("matTooltip","Preconditioning")}var xt=function(A){return{"preconditioned-and-preconditioning":A}};function Dt(g,A){if(1&g&&e._UZ(0,"span",29),2&g){var s=e.oxw(2).$implicit;e.Q6J("matTooltip","Preconditioned")("ngClass",e.VKq(2,xt,s.isPreconditioned&&s.isPreconditioning))}}function At(g,A){if(1&g&&(e.TgZ(0,"div",25),e.YNc(1,St,1,1,"span",26),e.YNc(2,Dt,1,4,"span",27),e.qZA()),2&g){var s=e.oxw().$implicit,c=e.oxw(2);e.xp6(1),e.Q6J("ngIf",c.isHVC&&s.isPreconditioning),e.xp6(1),e.Q6J("ngIf",c.isHVC&&s.isPreconditioned)}}function Et(g,A){if(1&g){var s=e.EpF();e.TgZ(0,"dabo-kpi-link",30,31),e.NdJ("linkClicked",function(){e.CHM(s);var m=e.MAs(1),r=e.oxw().$implicit;return e.oxw(2).buildReportLink(r,m)}),e.qZA()}}function wt(g,A){if(1&g){var s=e.EpF();e.TgZ(0,"mat-tree-node",15),e.YNc(1,Tt,2,3,"span",16),e.YNc(2,At,3,2,"div",17),e.TgZ(3,"mat-checkbox",18),e.NdJ("change",function(){var oe=e.CHM(s).$implicit;return e.oxw(2).treeLeafItemSelectionToggle(oe)}),e.qZA(),e.TgZ(4,"label",19)(5,"span",20,21),e._uU(7),e.qZA()(),e.TgZ(8,"div",22),e.YNc(9,Et,2,0,"dabo-kpi-link",23),e.qZA()()}if(2&g){var c=A.$implicit,m=e.MAs(6),r=e.oxw(2);e.Q6J("matTreeNodePaddingIndent",20),e.xp6(1),e.Q6J("ngIf",c.noData),e.xp6(1),e.Q6J("ngIf",r.isHVC),e.xp6(1),e.Q6J("checked",r.checklistSelection.isSelected(c)&&r.checklistSelection.hasValue())("disabled",c.noData&&r.nodeCanBeDisabled),e.xp6(2),e.Udp("color",c.noData||c.disable?"#f25050":"#000000"),e.Q6J("matTooltip",m.innerText)("matTooltipPosition","above"),e.xp6(2),e.hij(" ",c.name," "),e.xp6(2),e.Q6J("ngIf",!c.disable&&r.controlsSetting.details)}}function It(g,A){if(1&g){var s=e.EpF();e.TgZ(0,"dabo-tree-node-add-btn",36),e.NdJ("handleEdit",function(r){return e.CHM(s),e.oxw(3).editFile(r)}),e.qZA()}if(2&g){var c=e.oxw().$implicit;e.Q6J("node",c)("editMode",!0)}}function Zt(g,A){if(1&g){var s=e.EpF();e.TgZ(0,"dabo-tree-node-delete-btn",37),e.NdJ("handleDelete",function(r){return e.CHM(s),e.oxw(3).deleteFile(r)}),e.qZA()}if(2&g){var c=e.oxw().$implicit;e.Q6J("node",c)}}var Ft=function(A,s,c){return{"action-node":A,"action-node__updated":s,"action-node__completed":c}};function kt(g,A){if(1&g){var s=e.EpF();e.TgZ(0,"mat-tree-node",32)(1,"dabo-tree-navigation-leaf",33),e.NdJ("selectionToggle",function(d){return e.CHM(s),e.oxw(2).treeLeafItemSelectionToggle(d)}),e.YNc(2,It,1,2,"dabo-tree-node-add-btn",34),e.YNc(3,Zt,1,1,"dabo-tree-node-delete-btn",35),e.qZA()()}if(2&g){var c=A.$implicit,m=e.oxw(2);e.Q6J("matTreeNodePaddingIndent",24)("ngClass",e.kEZ(8,Ft,m.uploadAvailable,c.statusMessage,"SUCCESS"===c.status)),e.xp6(1),e.Q6J("node",c)("checklistSelection",m.checklistSelection)("isComparePage",m.isSimpleTree)("isDisabled",m.coalSeamsDisabled||(null==c.status?null:c.status.includes("ERROR"))),e.xp6(1),e.Q6J("ngIf",m.uploadAvailable),e.xp6(1),e.Q6J("ngIf",m.uploadAvailable)}}function Nt(g,A){if(1&g){var s=e.EpF();e.TgZ(0,"dabo-tree-node-add-btn",41),e.NdJ("handleAdd",function(d){return e.CHM(s),e.oxw(3).addFile(d)})("handleEdit",function(d){return e.CHM(s),e.oxw(3).editFile(d)}),e.qZA()}if(2&g){var c=e.oxw().$implicit,m=e.oxw(2);e.Q6J("node",c)("children",m.flatNodeMap.get(c).children)}}var Lt=function(A,s){return{"action-node":A,"node--mining-area":s}};function Rt(g,A){if(1&g){var s=e.EpF();e.TgZ(0,"mat-tree-node",38)(1,"dabo-tree-navigation-leaf",39),e.NdJ("selectionToggle",function(d){return e.CHM(s),e.oxw(2).parentNodeSelectionToggle(d)}),e.YNc(2,Nt,1,2,"dabo-tree-node-add-btn",40),e.qZA()()}if(2&g){var c=A.$implicit,m=e.oxw(2);e.Q6J("matTreeNodePaddingIndent",12)("ngClass",e.WLB(7,Lt,c.level>=1,0===c.level)),e.xp6(1),e.Q6J("node",c)("checklistSelection",m.checklistSelection)("treeControl",m.treeControl)("isComparePage",m.isSimpleTree),e.xp6(1),e.Q6J("ngIf",1===c.level&&m.uploadAvailable)}}function Ht(g,A){if(1&g&&(e.TgZ(0,"div")(1,"mat-tree",11),e.YNc(2,wt,10,11,"mat-tree-node",12),e.YNc(3,kt,4,12,"mat-tree-node",13),e.YNc(4,Rt,3,10,"mat-tree-node",14),e.qZA()()),2&g){var s=e.oxw();e.xp6(1),e.Q6J("dataSource",s.dataSource)("treeControl",s.treeControl),e.xp6(2),e.Q6J("matTreeNodeDefWhen",s.isCoalSeam),e.xp6(1),e.Q6J("matTreeNodeDefWhen",s.hasChild)}}function Bt(g,A){1&g&&e._UZ(0,"dabo-no-data-container")}var Ut=function(A,s){return{"tree-view-short":A,"compare-scroll":s}},Jt=he.Z.SUCCESS,Yt=function(){var g=function(A){(0,w.Z)(c,A);var s=(0,i.Z)(c);function c(m,r,d,T,oe,ie,K,we,et,tt,nt){var be;(0,a.Z)(this,c),(be=s.call(this,m)).treeDataService=r,be.mainTreeDataService=d,be.coalSeamsApiService=T,be.coalSeamsDataService=oe,be.patternsService=ie,be.wsService=K,be.mineStateService=we,be.treeStateService=et,be.spinnerService=tt,be.googleAnalyticsForPatternSelectionService=nt,be.controlsSetting={details:!0,controls:!0},be.nodeCanBeDisabled=!0,be.isAllSelectedToggleEnabled=!1,be.minesEnum=o.q,be.coalSeamsDisabled=!0,be.spinnerActive=!0,be.isCoalSeam=function(ke,Qt){return!!Qt.filename};var $e=new C.JZ(be.transformer.bind((0,S.Z)(be)),function(ke){return ke.level},function(ke){return ke.expandable},function(ke){return ke.children});return be.treeControl=new v.C2(function(ke){return ke.level},function(ke){return ke.expandable}),be.dataSource=new C.kc(be.treeControl,$e),be}return(0,O.Z)(c,[{key:"mineArea",set:function(r){!r||(this.mineSite=r,this.deselectAll(),this.isSimpleTree||this.wsService.forceReconnect({url:Ce.yh.mainTreeCoalSeamsFiles}))}},{key:"uploadAvailable",get:function(){return!this.isSimpleTree&&!P.ZA.isMetalMine(this.mineSite)}},{key:"isHVC",get:function(){return P.ZA.isHVC(this.mineSite)}},{key:"noDataContainerShown",get:function(){return this.dataSource.data.length<=0&&!this.spinnerActive}},{key:"getSelectAllToggleTranslation",get:function(){return this.selectAllPatterns?"patternsTreeTranslation.select_none.title":"patternsTreeTranslation.select_all.title"}},{key:"ngOnInit",value:function(){var r=this;this.updateTreeOnWS(),this.updatePatternsOnSelectionChange(),this.updateCoalSeamsOnSelectionChange(),this.treeStateService.resetTree$.pipe((0,D.R)(this.destroy$)).subscribe(function(d){d&&r.deselectAll()}),this.trackSpinnerStatus(),this.mainTreeDataService.treeData$.pipe((0,D.R)(this.destroy$)).subscribe(function(d){!d||(r.dataSource.data=d,r.isAllSelectedToggleEnabled&&r.selectAllPatterns&&(r.checklistSelection.clear(),r.selectAll()),r.cdr.detectChanges())}),this.patternsService.selectedPolygons$.pipe((0,D.R)(this.destroy$)).subscribe(function(d){if(r.coalSeamsDisabled=(0,z.isEmpty)(Array.from(d)),(0,z.isEmpty)(Array.from(d))){r.coalSeamsDataService.clear(),r.googleAnalyticsForPatternSelectionService.clearCoalSeamsIds();var oe,T=r.checklistSelection.selected.filter(function(ie){return r.isCoalSeam(ie.level,ie)});T.length&&(oe=r.checklistSelection).deselect.apply(oe,(0,H.Z)(T))}}),this.treeDataService.emptyPatterns$.pipe((0,D.R)(this.destroy$)).subscribe(function(d){d.forEach(function(T){var oe=r.treeControl.dataNodes.find(function(K){return String(K.value)===T});oe&&(r.flatNodeMap.get(oe).noData=!0)}),r.mainTreeDataService.treeData$.next(r.mainTreeDataService.treeData)})}},{key:"updateStatus",value:function(r,d){var T=this.flatNodeMap.get(r);this.mainTreeDataService.updateItem(T,Object.assign(Object.assign({},T),d))}},{key:"trackSpinnerStatus",value:function(){var r=this;this.spinnerService.spinnerStatus.pipe((0,D.R)(this.destroy$)).subscribe(function(d){r.spinnerActive=d.active,r.cdr.markForCheck()})}},{key:"deleteFile",value:function(r){var d=this;this.updateStatus(r,{status:"DELETED",statusMessage:"Deleting"}),this.coalSeamsApiService.deleteFile(r.uuid).subscribe(function(){var T=d.getParentNode(r),oe=d.flatNodeMap.get(T),ie=d.flatNodeMap.get(r);d.mainTreeDataService.deleteItem(oe,ie),d.checklistSelection.deselect(r)})}},{key:"editFile",value:function(r){var d=(0,F.Z)(r,4),ie=d[2],K=d[3];this.coalSeamsApiService.editFile(d[0],d[1]).subscribe(function(){return ie()},function(we){return K(we)})}},{key:"addFile",value:function(r){var d=(0,F.Z)(r,3),oe=d[1],ie=d[2];this.coalSeamsApiService.uploadFile(d[0]).subscribe(function(){return oe()},function(K){return ie(K)})}},{key:"parentNodeSelectionToggle",value:function(r){var d=this;this.checklistSelection.toggle(r);var oe,ie,T=this.treeControl.getDescendants(r).filter(function(K){var we=!K.status||K.status===Jt;return d.isCoalSeam(K.level,K)?we:!K.noData});this.checklistSelection.isSelected(r)?((oe=this.checklistSelection).select.apply(oe,(0,H.Z)(T)),this.treeControl.expandDescendants(r)):(ie=this.checklistSelection).deselect.apply(ie,(0,H.Z)(this.treeControl.getDescendants(r))),this.checkAllParentsSelection(r)}},{key:"buildReportLink",value:function(r,d){var T=r.isBlast,ie=(0,re.g)(String(r.value),this.mineStateService.getSelectedMineArea(),T);d.openLink(ie)}},{key:"deselectAll",value:function(){this.resetPatternsState(),this.treeControl.collapseAll(),this.cdr.detectChanges()}},{key:"selectAll",value:function(){var r=this;this.treeControl.dataNodes.forEach(function(d,T){r.checklistSelection.isSelected(r.treeControl.dataNodes[T])||r.checklistSelection.toggle(r.treeControl.dataNodes[T])})}},{key:"toggleSelection",value:function(){this.selectAllPatterns=!this.selectAllPatterns,this.selectAllPatterns?this.selectAll():this.checklistSelection.clear()}},{key:"resetPatternsState",value:function(){this.patternsService.selectedPolygons$.next(new Set),this.patternsService.selectedElevations$.next(new Set),this.patternsService.polygons$.next(null),this.treeDataService.noData$.next({show:!1}),this.checklistSelection.clear()}},{key:"updateTreeOnWS",value:function(){var r=this;this.isSimpleTree||this.wsService.on().pipe((0,D.R)(this.destroy$)).subscribe(function(d){var T=r.treeControl.dataNodes.find(function(K){return K.miningArea===d.miningArea&&K.value===d.benchLevel}),oe=r.flatNodeMap.get(T),ie=oe.children.find(function(K){return K.coalSeamType===d.coalSeamType});ie?r.updateStatus(r.nestedNodeMap.get(ie),d):r.mainTreeDataService.addItem(oe,d)})}},{key:"updatePatternsOnSelectionChange",value:function(){var r=this;this.checklistSelection.changed.pipe((0,R.h)(function(d){return d.added.length&&d.added.some(function(T){return 3===T.level})||d.removed.length&&d.removed.some(function(T){return 3===T.level})}),(0,Y.U)(function(d){return r.getSelectedPatterns(d.source.selected)}),(0,D.R)(this.destroy$)).subscribe(function(d){var T=d.map(function(oe){return{value:oe.value,isBlast:oe.isBlast}});r.patternsService.updateSelectedPolygons(T),r.patternsService.updateSelectedElevation(d),r.treeDataService.noData$.next({show:!1})})}},{key:"updateCoalSeamsOnSelectionChange",value:function(){var r=this;this.checklistSelection.changed.pipe((0,R.h)(function(d){return!!d.added.filter(function(T){return r.isCoalSeam(T.level,T)}).length||!!d.removed.filter(function(T){return r.isCoalSeam(T.level,T)}).length}),(0,N.w)(function(d){var T=d.source.selected.filter(function(we){return r.isCoalSeam(we.level,we)}),oe=!!d.added.filter(function(we){return 3===we.level}).length,ie=d.removed.filter(function(we){return 3===we.level}).length,K=T.map(function(we){return we.status&&r.updateStatus(we,{status:"",statusMessage:""}),we.uuid});return K.length?(ie||oe?r.googleAnalyticsForPatternSelectionService.coalSeamsIds=K:r.googleAnalyticsForPatternSelectionService.sendCoalSeamsSelectionEvent(K),r.coalSeamsDataService.updateFilesData(K)):(r.googleAnalyticsForPatternSelectionService.clearCoalSeamsIds(),r.coalSeamsDataService.clear(),(0,j.of)(null))}),(0,D.R)(this.destroy$)).subscribe()}},{key:"getSelectedPatterns",value:function(r){return r.filter(function(d){return 3===d.level})}}]),c}(ae.IG);return g.\u0275fac=function(s){return new(s||g)(e.Y36(e.sBO),e.Y36(le.yU),e.Y36(ne.U),e.Y36($.P),e.Y36(I.C),e.Y36(le.c5),e.Y36(V.l),e.Y36(le.Hj),e.Y36(le.bC),e.Y36(le.V),e.Y36(G.Hn))},g.\u0275cmp=e.Xpm({type:g,selectors:[["dabo-tree-navigation"]],inputs:{controlsSetting:"controlsSetting",isSimpleTree:"isSimpleTree",nodeCanBeDisabled:"nodeCanBeDisabled",isAllSelectedToggleEnabled:"isAllSelectedToggleEnabled",selectAllPatterns:"selectAllPatterns",mineArea:"mineArea"},features:[e._Bn([V.l,{provide:Q.Hn,useValue:{scope:"patterns-tree",alias:"patternsTreeTranslation"}}]),e.qOj],decls:5,vars:6,consts:[["class","tree-main-header",4,"transloco"],[1,"tree-main-wrapper",3,"ngClass"],[4,"ngIf","ngIfElse"],["noDataContainer",""],[1,"tree-main-header"],[3,"resetPatternsState",4,"ngIf"],[3,"controlsSetting","checklistSelection","deselectAll",4,"ngIf"],["class","btn btn--xs btn--outline","mat-button","",3,"click",4,"ngIf"],[3,"resetPatternsState"],[3,"controlsSetting","checklistSelection","deselectAll"],["mat-button","",1,"btn","btn--xs","btn--outline",3,"click"],[3,"dataSource","treeControl"],["class","checklist-leaf-node","matTreeNodePadding","",3,"matTreeNodePaddingIndent",4,"matTreeNodeDef"],["class","node--coal-seam","matTreeNodePadding","",3,"matTreeNodePaddingIndent","ngClass",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",3,"matTreeNodePaddingIndent","ngClass",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",1,"checklist-leaf-node",3,"matTreeNodePaddingIndent"],["class","icon icon-red-alert icon-alert",3,"matTooltip",4,"ngIf"],["class","precondition-container","fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],[3,"checked","disabled","change"],[1,"mat-checkbox-label"],["daboIsOutOfBound","",1,"mat-checkbox-label__text",3,"matTooltip","matTooltipPosition"],["tooltipContent","innerText"],[1,"wrap-btn"],["class","details-btn",3,"linkClicked",4,"ngIf"],[1,"icon","icon-red-alert","icon-alert",3,"matTooltip"],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","center center",1,"precondition-container"],["class","preconditioning",3,"matTooltip",4,"ngIf"],["class","preconditioned",3,"matTooltip","ngClass",4,"ngIf"],[1,"preconditioning",3,"matTooltip"],[1,"preconditioned",3,"matTooltip","ngClass"],[1,"details-btn",3,"linkClicked"],["linkComponent",""],["matTreeNodePadding","",1,"node--coal-seam",3,"matTreeNodePaddingIndent","ngClass"],[3,"node","checklistSelection","isComparePage","isDisabled","selectionToggle"],[3,"node","editMode","handleEdit",4,"ngIf"],[3,"node","handleDelete",4,"ngIf"],[3,"node","editMode","handleEdit"],[3,"node","handleDelete"],["matTreeNodePadding","",3,"matTreeNodePaddingIndent","ngClass"],[3,"node","checklistSelection","treeControl","isComparePage","selectionToggle"],[3,"node","children","handleAdd","handleEdit",4,"ngIf"],[3,"node","children","handleAdd","handleEdit"]],template:function(s,c){if(1&s&&(e.YNc(0,yt,4,3,"div",0),e.TgZ(1,"div",1),e.YNc(2,Ht,5,4,"div",2),e.qZA(),e.YNc(3,Bt,1,0,"ng-template",null,3,e.W1O)),2&s){var m=e.MAs(4);e.xp6(1),e.Q6J("ngClass",e.WLB(3,Ut,!c.controlsSetting.controls,c.controlsSetting.reset)),e.xp6(1),e.Q6J("ngIf",!c.noDataContainerShown)("ngIfElse",m)}},directives:[Q.KI,W.O5,Ke,l,Pe.lW,W.mk,Ne.oO,C.gi,C.fQ,C.uo,C.ah,pe.gM,J.yH,J.xw,J.Wh,y.oG,_.J,L.L,q.h,Ct,ot,vt.z],pipes:[Q.Ot],styles:[".precondition[_ngcontent-%COMP%], .preconditioned[_ngcontent-%COMP%], .preconditioning[_ngcontent-%COMP%]{height:10px;width:10px;border-radius:50%;border:1px solid rgba(0,0,0,.2)}.precondition-container[_ngcontent-%COMP%]{width:18px;margin-right:10px;margin-left:-14px}.show-reset[_ngcontent-%COMP%]{width:auto;top:0;place-content:center start}.preconditioning[_ngcontent-%COMP%]{margin-right:-3px;z-index:1;background-color:#faff00}.preconditioned[_ngcontent-%COMP%]{margin-left:3px;z-index:0;background-color:#ffc700}.preconditioned-and-preconditioning[_ngcontent-%COMP%]{margin-left:-3px}.mat-tree[_ngcontent-%COMP%]{background-color:#f6f7f7}.tree-main-wrapper[_ngcontent-%COMP%]{height:calc(100vh - 139px);overflow-y:scroll;background-color:#f6f7f7}.compare-scroll[_ngcontent-%COMP%]{overflow-y:initial;height:initial}.tree-view-short[_ngcontent-%COMP%]{padding-top:0;height:calc(100% - 24px);padding-left:10px}.icon-red-alert[_ngcontent-%COMP%]{position:absolute;left:36px}.icon-red-alert[_ngcontent-%COMP%]:before{color:#f25050}mat-tree-node[_ngcontent-%COMP%]   .mat-checkbox-label[_ngcontent-%COMP%]{overflow-x:hidden}mat-tree-node[_ngcontent-%COMP%]   .mat-checkbox-label__text[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow-x:inherit;white-space:nowrap;display:block}"],changeDetection:0}),g}()},32418:function(ce,E,t){"use strict";t.d(E,{c:function(){return re}});var F=t(15671),H=t(43144),a=t(60136),O=t(57777),S=t(22868),w=t(80013),i=t(87545),v=t(7625),C=t(31307),D=t(40537),R=t(21086),Y=t(46940),N=t(40714),j=t(21347),z=t(17489),he=t(5379),o=t(4430),V=t(65542),Ce=t(94720),P=t(78090),re=function(){var ae=function(e){(0,a.Z)(ne,e);var le=(0,O.Z)(ne);function ne($,I,G,W,x,ee,te,X,ve){var se;return(0,F.Z)(this,ne),(se=le.call(this)).cdr=$,se.mapStateService=I,se.mineStateService=G,se.permission=W,se.patternsService=x,se.distributionChartService=ee,se.polygonToolSelectionService=te,se.diggingConditionDataPointTableService=X,se.googleAnalyticsForPatternSelectionService=ve,se.settings={loading:!1,opEventEnabled:!1,controlsVisible:!1,comparisonMode:!1,patternMode:!1,holesMode:!0,dataPointsMode:!1,isComparePage:!1,hotSpotsMode:!1},se.minesEnum=j.q,se.mapMode=N.kw,se.loadingCount=0,se}return(0,H.Z)(ne,[{key:"map",get:function(){return this.mapInstance},set:function(I){this.mapInstance=I}},{key:"ngOnInit",value:function(){var I=this;this.patternsService.selectedPolygons$.pipe((0,S.b)(function(G){if(I.settings.controlsVisible=!1,0===G.size)return I.googleAnalyticsForPatternSelectionService.clearSelectedPatternsProps(),I.onSelectedVisibilityChange({colorMap:I.mapStateService.selectedColorMap$.getValue()}),(0,R.of)()}),(0,w.b)(1e3),(0,i.w)(function(G){var W=Array.from(G);return 0===W.length?(I.settings={loading:!1,opEventEnabled:!1,comparisonMode:!1,controlsVisible:!1,patternMode:!1,holesMode:!1,dataPointsMode:!1,isComparePage:!1,hotSpotsMode:!1},I.map&&Y.WC.resizeMap(I.map),I.cdr.detectChanges(),(0,R.of)()):(I.mapStateService.mapLoading$.next(!0),I.distributionChartService.distributionChartData$.next({}),I.distributionChartService.numberOfHoles=0,I.distributionChartService.clearDistributionPerHole(),I.diggingConditionDataPointTableService.clearTableState(),I.distributionChartService.patternIdsForRequest$.next(W.map(function(x){return String((null==x?void 0:x.value)||x)})),I.cdr.detectChanges(),I.patternsService.getAggregatedData(W).pipe((0,v.R)(I.mineStateService.selectedMineArea$.pipe((0,C.T)(1))),(0,D.x)(function(){return I.mapStateService.mapLoading$.next(!1)})))}),(0,v.R)(this.destroy$)).subscribe(function(G){var W,x;I.settings.isComparePage||I.googleAnalyticsForPatternSelectionService.sendPatternSelectionItemEvent(G.patternPolygons),I.settings={opEventEnabled:!1,comparisonMode:I.settings.comparisonMode,controlsVisible:!0,patternMode:!1,holesMode:!0,dataPointsMode:!1,isComparePage:!1,hotSpotsMode:!1},I.distributionChartService.numberOfHoles=G.holes.features.length,I.patternsService.polygons$.next(G),I.onSelectedVisibilityChange({colorMap:null===I.colorMap?o.M.getDefaultColorMap(I.mineStateService.getSelectedMineArea()):I.mapStateService.selectedColorMap$.getValue()}),(null===(x=null===(W=G.patternPolygons)||void 0===W?void 0:W.features)||void 0===x?void 0:x.length)||(I.settings.controlsVisible=!1),I.cdr.detectChanges()}),this.mapStateService.mapLoading$.pipe((0,v.R)(this.destroy$)).subscribe(function(G){I.loadingCount=G?++I.loadingCount:(0,z.max)([--I.loadingCount,0]),I.settings.loading=!!I.loadingCount,I.cdr.detectChanges()})}},{key:"getDistributionTitle",value:function(I){var G,W,x,ee;if(I){var te=null!==(W=null===(G=he.y[I][this.mineSite])||void 0===G?void 0:G.title)&&void 0!==W?W:he.y[I].title;return(null===(x=this.polygonSelectionChart)||void 0===x?void 0:x.charts)&&!(null===(ee=this.polygonSelectionChart)||void 0===ee?void 0:ee.reset)&&(0,N.XA)(I)?"".concat(te," (Selection)"):te}}},{key:"onSelectedVisibilityChange",value:function(I){var G=this;this.mapInstance&&setTimeout(function(){G.mapInstance.resize()}),this.colorMap=I.colorMap,this.mapStateService.selectedColorMap$.next(this.colorMap),this.cdr.markForCheck()}},{key:"shovelOpEventEnabled",value:function(I){this.settings.opEventEnabled=I,this.cdr.markForCheck()}},{key:"updateMapSettings",value:function(I){this.settings=Object.assign(Object.assign({},this.settings),I)}},{key:"subscribeOnChartSelection",value:function(){var I=this;this.polygonToolSelectionService.chartsDataBySelection$.pipe((0,v.R)(this.destroy$)).subscribe(function(G){I.polygonSelectionChart=G,I.cdr.detectChanges()})}}]),ne}(Y.eO);return ae.\u0275fac=function(le){return new(le||ae)(V.Y36(V.sBO),V.Y36(Ce.I3),V.Y36(Ce.Hj),V.Y36(Ce.$A),V.Y36(Ce.c5),V.Y36(Ce.wP),V.Y36(P.nY),V.Y36(P.v2),V.Y36(P.Hn))},ae.\u0275dir=V.lG2({type:ae,inputs:{mineSite:"mineSite"},features:[V.qOj]}),ae}()},38385:function(ce,E,t){"use strict";t.r(E),t.d(E,{PatternsModule:function(){return fn}});var F=t(43144),H=t(15671),a=t(69808),O=t(40520),S=t(93075),w=t(30587),i=t(42155),v=t(56121),C=t(28258),D=t(47423),R=t(69832),Y=t(9224),N=t(77446),j=t(67322),z=t(25245),Q=t(85899),he=t(74107),o=t(88279),V=t(90149),Ce=t(32368),P=t(79814),re=t(14623),ae=t(29772),e=t(34594),le=t(92181),ne=t(48966),$=t(2638),I=t(84847),G=t(86856),W=t(86087),x=t(2033),ee=t(47796),te=t(23178),X=t(66270),ve=t(73885),se=t(85262),Te=t(42585),Ee=t(70167),Qe=t(90148),Se=t(77269),Ze=t(94579),De=t(89936),pe=t(30325),Pe=t(97685),ge=t(73237),me=t(61120),ue=t(60136),Me=t(57777),n=t(65542),Ue=t(67339),Ne=t(75791),He=t(38001),ze=t(89255),Le=t(21347),Je=t(40714),Ve=t(71973),Ke=t.n(Ve),Ge=t(23426),Be=t(7625),Ie=t(24850),Xe=t(75778),J=t(87545),_e=t(8722),u=t(32418),U=t(46940),p=t(94720),l=t(35204),y=t(78090),_=t(16952),L=t(77093),q=t(23322),xe=t(52012),Re=t(37143),We=t(20314),je=t(43026),Oe=t(49982),ye=t(22451),at=["select","diggingDate","patternId","diggingCondition","diggingConditionUser","comment","shovelId"],rt=[{key:"diggingDate",header:"Digging Date & Time",pipes:[{token:"dateFormatter",args:[Le.q.EVO,ye.a.DATE_TIME]}]},{key:"patternId",header:"Pattern ID",isLink:!0,pipes:[{token:"detectNullValue"}]},{key:"diggingCondition",header:"Digg Condition",hasColor:!0,pipes:[{token:"detectNullValue"}]},{key:"diggingConditionUser",header:"Digg Condition (User)",pipes:[{token:"detectNullValue"}]},{key:"comment",header:"Comment (User):",pipes:[{token:"detectNullValue"}]},{key:"shovelId",header:"Shovel ID",pipes:[{token:"detectNullValue"}]}],ct=t(20449),lt=[{name:"diggingCondition",type:"radio",radioItems:[{name:"None",value:"null",checked:!1},{name:"Soft",value:"Soft",checked:!1},{name:"Medium",value:"Medium",checked:!1},{name:"Hard",value:"Hard",checked:!1}],enabled:!0},{name:"comment",type:"radio",radioItems:[{name:"None",value:"",checked:!0},{name:"Boom Jack",value:"Boom Jack",checked:!1},{name:"Bulky Crest",value:"Bulky Crest",checked:!1},{name:"Hard Toe",value:"Hard Toe",checked:!1},{name:"Swing Impact",value:"Swing Impact",checked:!1},{name:"Tight",value:"Tight",checked:!1}],label:!0,enabled:!1}],st=t(40537);function gt(f,B){1&f&&(n.TgZ(0,"div",8),n._UZ(1,"div",9),n.qZA())}function dt(f,B){1&f&&(n.TgZ(0,"label",18),n._uU(1,"Comment:"),n.qZA())}function pt(f,B){if(1&f&&(n.TgZ(0,"mat-radio-button",19),n._uU(1),n.qZA()),2&f){var M=B.$implicit,b=n.oxw(2).$implicit;n.ekj("edit-dialog__form-radio-button--displays",b.label),n.Q6J("value",M.value)("checked",M.checked),n.xp6(1),n.hij(" ",M.name," ")}}function ft(f,B){if(1&f&&(n.TgZ(0,"mat-list-item"),n.YNc(1,dt,2,0,"label",15),n.TgZ(2,"mat-radio-group",16),n.YNc(3,pt,2,5,"mat-radio-button",17),n.qZA()()),2&f){var M=n.oxw().$implicit;n.xp6(1),n.Q6J("ngIf",M.label),n.xp6(1),n.MGl("aria-labelledby","",M.name,"-label"),n.s9C("formControlName",M.name),n.xp6(1),n.Q6J("ngForOf",M.radioItems)}}function mt(f,B){if(1&f&&(n.TgZ(0,"div"),n.YNc(1,ft,4,4,"mat-list-item",14),n.qZA()),2&f){var M=B.$implicit;n.xp6(1),n.Q6J("ngIf",M.enabled&&"radio"===M.type)}}function ut(f,B){if(1&f&&(n.TgZ(0,"div",10)(1,"div",11),n._uU(2,"Digging Condition (manual):"),n.qZA(),n.TgZ(3,"form",12),n.YNc(4,mt,2,1,"div",13),n.qZA()()),2&f){var M=n.oxw();n.xp6(3),n.Q6J("formGroup",M.editDiggingForm),n.xp6(1),n.Q6J("ngForOf",M.controls)}}var _t=function(){var f=function(B){(0,ue.Z)(b,B);var M=(0,Me.Z)(b);function b(Z,h,k,de){var fe;return(0,H.Z)(this,b),(fe=M.call(this)).data=Z,fe.dialogRef=h,fe.fb=k,fe.diggingConditionDataPointTableService=de,fe.isLoading=!1,fe.controls=lt,fe}return(0,F.Z)(b,[{key:"ngOnInit",value:function(){this.initForm(),this.visibleControls()}},{key:"ngOnDestroy",value:function(){(0,ge.Z)((0,me.Z)(b.prototype),"ngOnDestroy",this).call(this)}},{key:"visibleControls",value:function(){var h=this;this.editDiggingForm.controls.diggingCondition.valueChanges.subscribe(function(k){h.controls[1].enabled="Hard"===k})}},{key:"initForm",value:function(){this.editDiggingForm=this.fb.group({diggingCondition:["",S.kI.required],comment:[""]})}},{key:"submitForm",value:function(){var h=this;this.isLoading=!0;var k=this.data.properties.map(function(de){return{uniqueDataPointId:de.uniqueDataPointId,diggingConditionUser:h.editDiggingForm.value.diggingCondition,comment:"Hard"===h.editDiggingForm.value.diggingCondition?h.editDiggingForm.value.comment:""}});this.diggingConditionDataPointTableService.updateTableProperty(k).pipe((0,st.x)(function(){h.isLoading=!1}),(0,Be.R)(this.destroy$)).subscribe(function(){},function(){h.isLoading=!0},function(){h.resetDiggingForm(),h.dialogRef.close(),h.data.onSuccess({params:k})})}},{key:"closeModal",value:function(){this.resetDiggingForm(),this.dialogRef.close()}},{key:"resetDiggingForm",value:function(){this.editDiggingForm.patchValue({diggingCondition:"",comment:""})}}]),b}(U.eO);return f.\u0275fac=function(M){return new(M||f)(n.Y36(ne.WI),n.Y36(ne.so),n.Y36(S.qu),n.Y36(y.v2))},f.\u0275cmp=n.Xpm({type:f,selectors:[["dabo-edit-digging-condition-dialog"]],features:[n.qOj],decls:14,vars:3,consts:[[1,"fill-remaining-space"],["matDialogClose","",1,"icon","icon-close"],[1,"edit-dialog"],["class","base-spinner-wrapper",4,"ngIf"],["class","edit-dialog__content",4,"ngIf"],["align","center","fxLayoutGap","12px"],["fxFlex","calc(50% - 10px)","mat-button","","tabindex","-1",1,"modal__btn","btn","btn--secondary",3,"click"],["fxFlex","calc(50% - 10px)","mat-button","",1,"modal__btn","btn","btn--primary",3,"disabled","click"],[1,"base-spinner-wrapper"],[1,"spinner"],[1,"edit-dialog__content"],[1,"edit-dialog__title"],[1,"edit-dialog__form",3,"formGroup"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","edit-dialog__form-label",4,"ngIf"],[1,"edit-dialog__form-radio",3,"aria-labelledby","formControlName"],["class","edit-dialog__form-radio-button",3,"edit-dialog__form-radio-button--displays","value","checked",4,"ngFor","ngForOf"],[1,"edit-dialog__form-label"],[1,"edit-dialog__form-radio-button",3,"value","checked"]],template:function(M,b){1&M&&(n.TgZ(0,"mat-toolbar")(1,"mat-toolbar-row")(2,"h2"),n._uU(3,"Batch Edit"),n.qZA(),n._UZ(4,"div",0)(5,"span",1),n.qZA()(),n.TgZ(6,"mat-dialog-content",2),n.YNc(7,gt,2,0,"div",3),n.YNc(8,ut,5,2,"div",4),n.qZA(),n.TgZ(9,"mat-dialog-actions",5)(10,"button",6),n.NdJ("click",function(){return b.closeModal()}),n._uU(11," Cancel "),n.qZA(),n.TgZ(12,"button",7),n.NdJ("click",function(){return b.submitForm()}),n._uU(13," Save "),n.qZA()()),2&M&&(n.xp6(7),n.Q6J("ngIf",b.isLoading),n.xp6(1),n.Q6J("ngIf",!b.isLoading),n.xp6(4),n.Q6J("disabled",b.editDiggingForm.invalid||b.isLoading))},directives:[e.Ye,e.rD,ne.ZT,ne.xY,a.O5,S._Y,S.JL,S.sg,a.sg,re.Tg,P.VQ,S.JJ,S.u,P.U0,ne.H8,L.SQ,D.lW,L.yH],styles:[".edit-dialog__title[_ngcontent-%COMP%]{font-size:14px;line-height:21px;font-weight:500}.edit-dialog__form[_ngcontent-%COMP%]{padding:20px 0}.edit-dialog__form-label[_ngcontent-%COMP%]{font-size:12px;line-height:18px;font-weight:400;display:block;margin:15px 0 10px}.edit-dialog__form-radio-button[_ngcontent-%COMP%]{margin-right:10px}.edit-dialog__form-radio-button--displays[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),f}(),qe=t(17489),ht=t(21086),Ct=t(92198),bt=t(22868),ot=t(82768),vt=t(59670),Pt=t(7230),Mt=t(31497);function Ot(f,B){1&f&&(n.ynx(0,9),n.TgZ(1,"div",10),n._UZ(2,"div",11),n.qZA(),n.BQk())}function yt(f,B){1&f&&n.GkF(0)}function Tt(f,B){if(1&f&&n.YNc(0,yt,1,0,"ng-container",12),2&f){var M=n.oxw(),b=n.MAs(12),Z=n.MAs(10);n.Q6J("ngTemplateOutlet",M.hasData?b:Z)}}function St(f,B){1&f&&n._UZ(0,"dabo-no-data-message")}function xt(f,B){if(1&f){var M=n.EpF();n.TgZ(0,"mat-header-cell")(1,"mat-checkbox",22),n.NdJ("change",function(h){n.CHM(M);var k=n.oxw(2);return h?k.masterToggle():null}),n.qZA()()}if(2&f){var b=n.oxw(2);n.xp6(1),n.Q6J("checked",b.selection.hasValue()&&b.isAllSelected())("indeterminate",b.selection.hasValue()&&!b.isAllSelected())}}function Dt(f,B){if(1&f){var M=n.EpF();n.TgZ(0,"mat-cell")(1,"mat-checkbox",23),n.NdJ("click",function(k){return k.stopPropagation()})("change",function(k){var fe=n.CHM(M).$implicit;return n.oxw(2).toggleSelection(k,fe)}),n.qZA()()}if(2&f){var b=B.$implicit,Z=n.oxw(2);n.xp6(1),n.Q6J("checked",Z.selection.isSelected(b))}}function At(f,B){if(1&f&&(n.TgZ(0,"mat-header-cell",26),n._uU(1),n.qZA()),2&f){var M=n.oxw().$implicit;n.xp6(1),n.Oqu(M.header)}}function Et(f,B){if(1&f&&(n.TgZ(0,"a",30),n._uU(1),n.qZA()),2&f){var M=n.oxw().$implicit,b=n.oxw().$implicit;n.Q6J("href",M.link,n.LSH),n.xp6(1),n.hij(" ",M[b.key]," ")}}function wt(f,B){if(1&f&&(n._uU(0),n.ALo(1,"dynamicPipe")),2&f){var M=n.oxw().$implicit,b=n.oxw().$implicit;n.hij(" ",n.xi3(1,1,M[b.key],b.pipes)," ")}}function It(f,B){if(1&f&&(n.TgZ(0,"mat-cell")(1,"span",27),n.YNc(2,Et,2,2,"a",28),n.YNc(3,wt,2,4,"ng-template",null,29,n.W1O),n.qZA()()),2&f){var M=B.$implicit,b=n.MAs(4),Z=n.oxw().$implicit;n.xp6(1),n.s9C("hasColor",Z.hasColor),n.s9C("condition",M.diggingCondition),n.xp6(1),n.Q6J("ngIf",Z.isLink&&M.link)("ngIfElse",b)}}function Zt(f,B){1&f&&(n.ynx(0,24),n.YNc(1,At,2,1,"mat-header-cell",25),n.YNc(2,It,5,4,"mat-cell",16),n.BQk()),2&f&&n.Q6J("matColumnDef",B.$implicit.key)}function Ft(f,B){1&f&&n._UZ(0,"mat-header-row")}var kt=function(B,M){return{"even-selected":B,"odd-selected":M}};function Nt(f,B){if(1&f&&n._UZ(0,"mat-row",31),2&f){var M=B.$implicit,b=B.even,Z=B.odd,h=n.oxw(2);n.Q6J("ngClass",n.WLB(1,kt,b&&h.selection.isSelected(M),Z&&h.selection.isSelected(M)))}}var Lt=function(){return[5,10,25,50]};function Rt(f,B){if(1&f){var M=n.EpF();n.TgZ(0,"div",9)(1,"mat-table",13),n.NdJ("matSortChange",function(){return n.CHM(M),n.oxw().clearSelection()}),n.ynx(2,14),n.YNc(3,xt,2,2,"mat-header-cell",15),n.YNc(4,Dt,2,1,"mat-cell",16),n.BQk(),n.YNc(5,Zt,3,1,"ng-container",17),n.YNc(6,Ft,1,0,"mat-header-row",18),n.YNc(7,Nt,1,4,"mat-row",19),n.qZA(),n.TgZ(8,"mat-paginator",20,21),n.NdJ("page",function(){return n.CHM(M),n.oxw().togglePage()}),n.qZA()()}if(2&f){var b=n.oxw();n.xp6(1),n.Q6J("dataSource",b.dataSource)("trackBy",b.trackByDataPointId),n.xp6(4),n.Q6J("ngForOf",b.tableColumns)("ngForTrackBy",b.trackById),n.xp6(1),n.Q6J("matHeaderRowDef",b.displayedColumns),n.xp6(1),n.Q6J("matRowDefColumns",b.displayedColumns),n.xp6(1),n.Q6J("pageSizeOptions",n.DdM(8,Lt))("pageSize",b.defaultPageSize)}}var Ht=function(B){return{disabled:B}},Bt=function(){var f=function(B){(0,ue.Z)(b,B);var M=(0,Me.Z)(b);function b(Z,h,k,de){var fe;return(0,H.Z)(this,b),(fe=M.call(this)).dialog=Z,fe.diggingConditionDataPointTableService=h,fe.cdr=k,fe.mapStateService=de,fe.dataSource=new o.by,fe.isLoading=!0,fe.hasData=!1,fe.selection=new ct.Ov(!0,[]),fe.defaultPageSize=10,fe.dataPointFilterPredicate=function(Ye,Fe){return Fe[Ye.uniqueDataPointId]},fe}return(0,F.Z)(b,[{key:"matSort",set:function(h){this.dataSource.sort||(this.dataSource.sort=h)}},{key:"matPaginator",set:function(h){this.dataSource.paginator||(this.dataSource.paginator=h)}},{key:"ngOnChanges",value:function(h){var k;(null===(k=h.filter)||void 0===k?void 0:k.firstChange)||(this.dataSource.filter=this.filter,this.clearSelection())}},{key:"toggleSelection",value:function(h,k){h&&(this.selection.toggle(k),this.cdr.detectChanges())}},{key:"ngOnInit",value:function(){this.subscribeOnViewChanges(),this.subscribeOnFilterChanges(),this.initTable()}},{key:"ngOnDestroy",value:function(){(0,ge.Z)((0,me.Z)(b.prototype),"ngOnDestroy",this).call(this)}},{key:"togglePage",value:function(){this.clearSelection(),this.tableDataLengthPerPage=this.editableDataPerPage.length}},{key:"isSelected",get:function(){return this.selection.selected.length<=0}},{key:"initTable",value:function(){this.dataSource.filterPredicate=this.dataPointFilterPredicate,this.tableColumns=rt,this.displayedColumns=at,this.dataSource.sortingDataAccessor=this.sortingDataAccessor.bind(this)}},{key:"isAllSelected",value:function(){return this.selection.selected.length===this.tableDataLengthPerPage}},{key:"masterToggle",value:function(){var h=this;this.isAllSelected()?this.clearSelection():this.editableDataPerPage.forEach(function(k){return h.selection.select(k)})}},{key:"clearSelection",value:function(){this.selection.clear()}},{key:"subscribeOnFilterChanges",value:function(){var h=this;this.mapStateService.entityFiltersChanged$().pipe((0,Ct.h)(function(k){return!(0,qe.isEmpty)(k)}),(0,bt.b)(function(){h.isLoading=!0,h.cdr.markForCheck()}),(0,J.w)(function(k){return h.diggingConditionDataPointTableService.getTable(k)}),(0,Be.R)(this.destroy$)).subscribe(function(k){h.dataSource.sort=h.matSort,h.resetPagination(),h.buildTable(k)})}},{key:"subscribeOnViewChanges",value:function(){var h=this;this.mapStateService.colorMapChanged$().pipe((0,J.w)(function(){var k=h.diggingConditionDataPointTableService.getTableState();return(0,qe.isEmpty)(k)?h.diggingConditionDataPointTableService.getTable():(0,ht.of)(k)}),(0,Be.R)(this.destroy$)).subscribe(function(k){h.buildTable(k)},function(){h.isLoading=!0,h.diggingConditionDataPointTableService.clearTableState()})}},{key:"buildTable",value:function(h){this.clearSelection(),this.hasData=!!h.length,this.isLoading=!1,this.dataSource.data=h,this.cdr.detectChanges(),(0,qe.isEmpty)(this.dataSource.data)||(this.tableDataLengthPerPage=this.editableDataPerPage.length)}},{key:"sortingDataAccessor",value:function(h,k){return h[k]}},{key:"editableDataPerPage",get:function(){var h=this.dataSource.paginator;return this.dataSource.sortData(this.dataSource.filteredData,this.dataSource.sort).slice(h.pageIndex*h.pageSize,(h.pageIndex+1)*h.pageSize)}},{key:"resetPagination",value:function(){this.dataSource.paginator&&(this.dataSource.paginator.pageSize=this.defaultPageSize,this.dataSource.paginator.firstPage(),this.dataSource.paginator=this.matPaginator)}},{key:"batchEdit",value:function(h){h.stopPropagation(),this.dialog.open(_t,{panelClass:"modal-base",autoFocus:!1,disableClose:!0,height:"auto",width:"350px",data:{properties:this.selection.selected,onSuccess:this.editHandler.bind(this)}})}},{key:"editHandler",value:function(h){var k=h.params;this.clearSelection();var de=this.diggingConditionDataPointTableService.handleEdit(k,this.dataSource.data);this.dataSource.data=de,this.diggingConditionDataPointTableService.setTableState(de),this.cdr.detectChanges()}},{key:"trackByDataPointId",value:function(h,k){return k.uniqueDataPointId}},{key:"trackById",value:function(h,k){return k.key}}]),b}(U.eO);return f.\u0275fac=function(M){return new(M||f)(n.Y36(ne.uw),n.Y36(y.v2),n.Y36(n.sBO),n.Y36(p.I3))},f.\u0275cmp=n.Xpm({type:f,selectors:[["dabo-digging-condition-table"]],viewQuery:function(M,b){var Z;1&M&&(n.Gf(W.NW,5),n.Gf(I.YE,5),n.Gf(W.NW,5)),2&M&&(n.iGM(Z=n.CRH())&&(b.paginator=Z.first),n.iGM(Z=n.CRH())&&(b.matSort=Z.first),n.iGM(Z=n.CRH())&&(b.matPaginator=Z.first))},inputs:{filter:"filter"},features:[n._Bn([{provide:W.ye,useClass:p.ss}]),n.qOj,n.TTD],decls:13,vars:8,consts:[[1,"batch-edit-table"],[3,"widgetTitle","widgetIcon"],["headerAdditionalActions",""],["mat-button","",1,"btn","btn--outline","btn--sm","batch-edit-table__batch-edit","basic-hole-edit",3,"disabled","click"],[1,"icon-batchedit",3,"ngClass"],["widgetBody","",4,"ngIf","ngIfElse"],["template",""],["noData",""],["table",""],["widgetBody",""],["fxFill","","fxLayout","column","fxLayoutAlign","center center",1,"base-spinner-wrapper"],[1,"spinner"],[4,"ngTemplateOutlet"],["matSortActive","diggingDate","matSortDirection","desc","matSortDisableClear","","matSort","",1,"teck-basic-table","teck-basic-table--no-borders",3,"dataSource","trackBy","matSortChange"],["matColumnDef","select"],[4,"matHeaderCellDef"],[4,"matCellDef"],[3,"matColumnDef",4,"ngFor","ngForOf","ngForTrackBy"],[4,"matHeaderRowDef"],[3,"ngClass",4,"matRowDef","matRowDefColumns"],["daboSvgSetHeight","","elementHeight","28px",3,"pageSizeOptions","pageSize","page"],["matPaginator",""],[3,"checked","indeterminate","change"],[3,"checked","click","change"],[3,"matColumnDef"],["mat-sort-header","",4,"matHeaderCellDef"],["mat-sort-header",""],["daboDiggingConditionColor","",3,"hasColor","condition"],["target","_blank",3,"href",4,"ngIf","ngIfElse"],["cell",""],["target","_blank",3,"href"],[3,"ngClass"]],template:function(M,b){if(1&M&&(n.TgZ(0,"div",0)(1,"dabo-widget-collapsible",1)(2,"div",2)(3,"button",3),n.NdJ("click",function(k){return b.batchEdit(k)}),n._UZ(4,"span",4),n._uU(5,"Batch Edit "),n.qZA()(),n.YNc(6,Ot,3,0,"ng-container",5),n.YNc(7,Tt,1,1,"ng-template",null,6,n.W1O),n.YNc(9,St,1,0,"ng-template",null,7,n.W1O),n.YNc(11,Rt,10,9,"ng-template",null,8,n.W1O),n.qZA()()),2&M){var Z=n.MAs(8);n.xp6(1),n.Q6J("widgetTitle","Data Points")("widgetIcon","icon-pattern"),n.xp6(2),n.Q6J("disabled",b.isSelected),n.xp6(1),n.Q6J("ngClass",n.VKq(6,Ht,b.isSelected)),n.xp6(2),n.Q6J("ngIf",b.isLoading)("ngIfElse",Z)}},directives:[ot._,D.lW,a.mk,q.oO,a.O5,L.s9,L.xw,L.Wh,a.tP,o.BZ,I.YE,o.w1,o.fO,o.ge,N.oG,o.Dz,o.ev,a.sg,I.nU,vt.W,o.as,o.XQ,o.nj,o.Gk,W.NW,Pt.w],pipes:[Mt.e],styles:[".batch-edit-table[_ngcontent-%COMP%]{margin-bottom:10px}.batch-edit-table__batch-edit[_ngcontent-%COMP%]{margin-right:-16px;min-width:107px}.teck-basic-table[_ngcontent-%COMP%]   .cdk-cell[_ngcontent-%COMP%]:not(.cdk-column-diggingDate, .cdk-column-patternId[_ngcontent-%COMP%], .cdk-column-diggingCondition)[_ngcontent-%COMP%], .teck-basic-table[_ngcontent-%COMP%]   .cdk-header-cell[_ngcontent-%COMP%]{justify-content:center}.teck-basic-table[_ngcontent-%COMP%]   .cdk-column-diggingDate[_ngcontent-%COMP%], .teck-basic-table[_ngcontent-%COMP%]   .cdk-column-patternId[_ngcontent-%COMP%], .teck-basic-table[_ngcontent-%COMP%]   .cdk-column-diggingCondition[_ngcontent-%COMP%]{justify-content:left}.teck-basic-table[_ngcontent-%COMP%]   .cdk-cell[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#008cff;text-decoration:none}.teck-basic-table[_ngcontent-%COMP%]   .cdk-header-cell[_ngcontent-%COMP%]{font-size:12px;line-height:14px;font-weight:400;color:#586b7a}.teck-basic-table[_ngcontent-%COMP%]   .cdk-column-select[_ngcontent-%COMP%]{max-width:42px;margin-right:15px;padding-left:revert}"],changeDetection:0}),f}(),Ut=t(93804),Jt=t(6492),Yt=t(67626),g=["patternsContainer"],A=["chartWrapper"];function s(f,B){if(1&f&&(n.TgZ(0,"div",12)(1,"mat-card",13)(2,"mat-toolbar",14)(3,"mat-toolbar-row"),n._UZ(4,"dabo-mine-switcher")(5,"span",15,16)(7,"span",17),n.qZA()(),n._UZ(8,"dabo-tree-navigation",18),n.qZA()()),2&f){var M=n.MAs(6),b=n.oxw();n.xp6(5),n.Q6J("matTooltip",M.innerText)("matTooltipPosition","right"),n.xp6(3),n.Q6J("mineArea",b.mineSite)}}function c(f,B){1&f&&n._UZ(0,"mat-progress-bar",19)}function m(f,B){if(1&f){var M=n.EpF();n.TgZ(0,"div",27)(1,"dabo-map",28),n.NdJ("mapLoaded",function(h){return n.CHM(M),n.oxw(2).mapLoaded(h,"compare")}),n.qZA()()}if(2&f){var b=n.oxw(2);n.xp6(1),n.Q6J("settings",b.settings)("mapType","compare")}}var r=function(B){return{active:B}};function d(f,B){if(1&f){var M=n.EpF();n.TgZ(0,"div",29)(1,"button",30),n.NdJ("click",function(){return n.CHM(M),n.oxw(2).toggleCompareTool()}),n.ALo(2,"transloco"),n._UZ(3,"span",31),n.qZA()()}if(2&f){var b=n.oxw(2);n.xp6(1),n.MGl("matTooltip"," ",n.lcZ(2,3,"mapControlsTranslation.compare_tool"),""),n.Q6J("matTooltipPosition","left")("ngClass",n.VKq(5,r,b.settings.comparisonMode))}}function T(f,B){if(1&f){var M=n.EpF();n.TgZ(0,"dabo-map-mode-toggle",32),n.NdJ("updateMapSettingsEmitter",function(h){return n.CHM(M),n.oxw(2).updateMapSettings(h)}),n.qZA()}if(2&f){var b=n.oxw(2);n.Q6J("mapSettings",b.settings)("mine",b.mineSite)("colorMap",b.colorMap)}}var oe=function(B){return{"map-container-compare":B}};function ie(f,B){if(1&f){var M=n.EpF();n.TgZ(0,"mat-card",20)(1,"div",21),n.YNc(2,m,2,2,"div",22),n.TgZ(3,"div",23)(4,"dabo-map",24),n.NdJ("mapLoaded",function(h){return n.CHM(M),n.oxw().mapLoaded(h,"main")})("isShovelOpEventEnabled",function(h){return n.CHM(M),n.oxw().shovelOpEventEnabled(h)})("selectedVisibility",function(h){return n.CHM(M),n.oxw().onSelectedVisibilityChange(h)})("holesTableFilters",function(h){return n.CHM(M),n.oxw().tableFilters=h})("dataPointTableFilters",function(h){return n.CHM(M),n.oxw().tableDataPointsFilters=h}),n.YNc(5,d,4,7,"div",25),n.qZA(),n.YNc(6,T,1,3,"dabo-map-mode-toggle",26),n.qZA()()()}if(2&f){var b=n.oxw();n.s9C("fxFlex",b.settings.isComparePage?"100%":"85vh"),n.Q6J("ngClass",n.VKq(9,oe,b.settings.isComparePage)),n.xp6(2),n.Q6J("ngIf",b.settings.comparisonMode),n.xp6(1),n.ekj("data-points-mode",b.settings.dataPointsMode),n.Q6J("fxFlex",b.settings.comparisonMode?"50%":"100%"),n.xp6(1),n.Q6J("settings",b.settings),n.xp6(1),n.Q6J("ngIf",!b.settings.dataPointsMode&&b.settings.controlsVisible),n.xp6(1),n.Q6J("ngIf",b.settings.controlsVisible&&!b.settings.comparisonMode&&!b.settings.opEventEnabled)}}function K(f,B){if(1&f&&n._UZ(0,"dabo-digging-condition-table",33),2&f){var M=n.oxw();n.Q6J("filter",M.tableDataPointsFilters)}}function we(f,B){if(1&f&&(n.TgZ(0,"dabo-widget-collapsible",34),n._UZ(1,"dabo-distribution-per-hole",35,36),n.qZA()),2&f){var M=n.MAs(2);n.Q6J("widgetIcon","icon-kpi")("widgetTitle",M.title)("widgetSubtitle",M.subTitle)}}function et(f,B){if(1&f){var M=n.EpF();n.TgZ(0,"div",40),n.NdJ("click",function(h){return h.stopPropagation()}),n.TgZ(1,"mat-checkbox",41),n.NdJ("change",function(h){return n.CHM(M),n.oxw(2).startSyncProcess(h.checked)})("ngModelChange",function(h){return n.CHM(M),n.oxw(2).checked=h}),n._uU(2," Sync X/Y scales "),n.qZA()()}if(2&f){var b=n.oxw(2);n.xp6(1),n.Q6J("ngModel",b.checked)}}function tt(f,B){if(1&f){var M=n.EpF();n.TgZ(0,"dabo-widget-collapsible",34),n.ALo(1,"async"),n.ALo(2,"async"),n.YNc(3,et,3,1,"div",37),n.TgZ(4,"dabo-distribution-chart-container",38,39),n.NdJ("resetSyncAxisCheckbox",function(k){return n.CHM(M),n.oxw().resetSyncAxisCheckbox(k)}),n.qZA()()}if(2&f){var b=n.MAs(5),Z=n.oxw();n.Q6J("widgetIcon","icon-kpi")("widgetTitle",b.getDistributionLabel(n.lcZ(1,7,Z.mapStateService.selectedColorMap$)))("widgetSubtitle",Z.getDistributionTitle(n.lcZ(2,9,Z.mapStateService.selectedColorMap$))),n.xp6(3),n.Q6J("ngIf",Z.isMultiSelection),n.xp6(1),n.Q6J("selectionMode",Z.polygonSelectionChart)("isChartShown",!0)("resetChartsByCompareTool",Z.resetChartsByCompareTool)}}function nt(f,B){if(1&f&&n._UZ(0,"dabo-assays-table",42),2&f){var M=n.oxw();n.Q6J("filter",M.tableFilters)("mine",M.mineSite)}}var be=Ne.H.DATA_POINTS,$e=Ne.H.HOLES,ke=Ne.H.PATTERN,Qt=Ne.H.HOTSPOTS,Kt=function(){var f=function(B){(0,ue.Z)(b,B);var M=(0,Me.Z)(b);function b(Z,h,k,de,fe,Ye,Fe,$t,mn,un,zt,_n,hn,Cn,bn,Vt){var Ae;return(0,H.Z)(this,b),(Ae=M.call(this,Z,h,fe,k,Ye,Fe,$t,zt,Vt)).cdr=Z,Ae.mapStateService=h,Ae.permission=k,Ae.mainTreeDataService=de,Ae.mineStateService=fe,Ae.patternsService=Ye,Ae.distributionChartService=Fe,Ae.polygonToolSelectionService=$t,Ae.legendFilteringService=mn,Ae.localizationLocalService=un,Ae.diggingConditionService=zt,Ae.syncAxisService=_n,Ae.syncAxisStoreService=hn,Ae.router=Cn,Ae.customEventService=bn,Ae.googleAnalyticsForPatternSelectionService=Vt,Ae.settings={loading:!1,opEventEnabled:!1,controlsVisible:!1,comparisonMode:!1,patternMode:!1,holesMode:!0,dataPointsMode:!1,isComparePage:!1,hotSpotsMode:!1},Ae.checked=!1,Ae.minesEnum=Le.q,Ae.colorMapsEnum=He.N,Ae.isEmpty=Ke(),Ae}return(0,F.Z)(b,[{key:"isMultiSelection",get:function(){var k,h=this,de=null===(k=this.polygonToolSelectionService.getChartsData())||void 0===k?void 0:k.charts;return de&&this.colorMap?!this.isFragmentationForHvc()&&de.filter(function(Fe){return!!Fe}).map(function(Fe){return Fe[h.colorMap]}).map(function(Fe){return(null==Fe?void 0:Fe.data)?Fe.data:Fe}).filter(function(Fe){return!h.isEmpty(Fe)}).length>1:(null==de?void 0:de.length)>1}},{key:"getMapMode",get:function(){var h=this.settings;switch(!0){case h.dataPointsMode:return be;case h.holesMode:return $e;case h.hotSpotsMode:return Qt;default:return ke}}},{key:"isHVC",get:function(){return U.ZA.isHVC(this.mineStateService.getSelectedMineArea())}},{key:"isAssaysAvailable",get:function(){return(0,Je.Z9)(this.colorMap)&&this.getMapMode===$e}},{key:"isDiggingConditionAvailable",get:function(){return this.colorMap===He.N.DIGGING_CONDITIONS&&this.getMapMode===be}},{key:"isDistributionPerHoleAvailable",get:function(){return this.distributionChartService.isDistributionPerHoleAvailable(this.colorMap)}},{key:"ngOnInit",value:function(){var h=this;window.dispatchEvent(new Event("resize")),this.permission.permissions$.pipe((0,Be.R)(this.destroy$)).subscribe(function(k){var de;h.permissions=null===(de=null==k?void 0:k.mainPage)||void 0===de?void 0:de.components}),(0,ge.Z)((0,me.Z)(b.prototype),"ngOnInit",this).call(this),this.showDistributionChart$=(0,Ge.aj)([this.mapStateService.selectedColorMap$,this.patternsService.selectedPolygons$]).pipe((0,Ie.U)(function(k){var de=(0,Pe.Z)(k,2),fe=de[0];return h.settings.controlsVisible&&de[1].size>0&&!U.ZA.isCDA(h.mineSite)&&!(0,Je.Z9)(fe)})),this.subscribeOnChartSelection(),this.mineStateService.selectedMineArea$.pipe((0,Xe.x)(function(k,de){return k.value===de.value}),(0,J.w)(function(k){var de=k.value,fe="".concat(h.localizationLocalService.translateText("spinner.loading_tree1")," ").concat(de.toUpperCase()," ").concat(h.localizationLocalService.translateText("spinner.loading_tree2"));return h.mineSite=de,h.mainTreeDataService.applyTreeFilter(de,fe)}),(0,Be.R)(this.destroy$)).subscribe(function(){h.mapStateService.mapLoading$.next(!1),h.customEventService.event(ze.R.DEFAULT_STATE_COLLECTOR,{page_url:h.router.url})}),this.checked=this.syncAxisStoreService.getState()}},{key:"mapLoaded",value:function(h,k){"main"===k?(this.mainMap=h,this.map=h):(this.compareMap=h,Ue(this.mainMap,this.compareMap),Je.WC.resizeMap(this.mainMap),this.settings=Object.assign({},this.settings))}},{key:"toggleCompareTool",value:function(){this.settings.comparisonMode=!this.settings.comparisonMode,this.resetChartsByCompareTool=this.settings.comparisonMode,Je.WC.resizeMap(this.mainMap),this.legendFilteringService.legends$.next({}),this.cdr.detectChanges()}},{key:"startSyncProcess",value:function(h){this.syncAxisStoreService.changeState(h),this.syncAxisService.syncAxis(h)}},{key:"resetSyncAxisCheckbox",value:function(h){this.syncAxisStoreService.changeState(h),this.checked=h,this.cdr.markForCheck()}},{key:"isFragmentationForHvc",value:function(){return this.colorMap===He.N.AVERAGE_FRAGMENTATION&&U.ZA.isHVC(this.mineStateService.getSelectedMineArea())}}]),b}(u.c);return f.\u0275fac=function(M){return new(M||f)(n.Y36(n.sBO),n.Y36(p.I3),n.Y36(p.$A),n.Y36(l.U),n.Y36(p.Hj),n.Y36(p.c5),n.Y36(p.wP),n.Y36(y.nY),n.Y36(p.ol),n.Y36(_.bM),n.Y36(y.v2),n.Y36(y.FJ),n.Y36(y.a7),n.Y36(pe.F0),n.Y36(p.qL),n.Y36(y.Hn))},f.\u0275cmp=n.Xpm({type:f,selectors:[["dabo-patterns"]],viewQuery:function(M,b){var Z;1&M&&(n.Gf(g,5,n.SBq),n.Gf(A,5,_e.Ik)),2&M&&(n.iGM(Z=n.CRH())&&(b.patternsContainer=Z.first),n.iGM(Z=n.CRH())&&(b.chartWrapper=Z.first))},features:[n.qOj],decls:15,vars:14,consts:[["fxFlex","",1,"page-block",3,"ngClass"],["fxFlex","","fxLayout","column","fxFlexFill",""],["patternsContainer",""],[3,"ngClass"],["fxLayout","row","fxLayoutGap","10px","fxFlex","268px","class","main-page--tree",4,"ngIf"],["fxLayout","column","fxLayoutGap","10px","fxFlex","settings.isComparePage ? '100%' : 'calc(100% - 258px)'",3,"ngClass"],["fxFlex","3px","color","primary","mode","indeterminate",4,"ngIf"],["id","map-container",3,"fxFlex","ngClass",4,"ngIf"],["fxLayout","column",1,"main-page__widgets"],[3,"filter",4,"ngIf"],["fxFlex","100%","class","teck-basic-card distribution-charts",3,"widgetIcon","widgetTitle","widgetSubtitle",4,"ngIf"],[3,"filter","mine",4,"ngIf"],["fxLayout","row","fxLayoutGap","10px","fxFlex","268px",1,"main-page--tree"],["fxFill","",1,"teck-basic-card","tree-view-wrapper"],["fxLayoutAlign","center center"],["transloco","title.drill-blast","daboIsOutOfBound","",1,"page-title","page-title--basic",3,"matTooltip","matTooltipPosition"],["tooltipContent","innerText"],[1,"fill-remaining-space"],[3,"mineArea"],["fxFlex","3px","color","primary","mode","indeterminate"],["id","map-container",3,"fxFlex","ngClass"],["fxFlex","100","fxLayout","row","fxLayoutGap","10px"],["class","map-container map-container--compare","fxFlex","50%",4,"ngIf"],[1,"map-container",3,"fxFlex"],[3,"settings","mapLoaded","isShovelOpEventEnabled","selectedVisibility","holesTableFilters","dataPointTableFilters"],["class","compare-tool-container",4,"ngIf"],[3,"mapSettings","mine","colorMap","updateMapSettingsEmitter",4,"ngIf"],["fxFlex","50%",1,"map-container","map-container--compare"],[3,"settings","mapType","mapLoaded"],[1,"compare-tool-container"],["type","button",1,"compare-btn",3,"matTooltip","matTooltipPosition","ngClass","click"],[1,"icon","icon-map-compare-tool"],[3,"mapSettings","mine","colorMap","updateMapSettingsEmitter"],[3,"filter"],["fxFlex","100%",1,"teck-basic-card","distribution-charts",3,"widgetIcon","widgetTitle","widgetSubtitle"],["widgetBody",""],["distributionPerHoleComponent",""],["class","sync-checkbox","widgetHeaderAdditionalContent","",3,"click",4,"ngIf"],["widgetBody","",3,"selectionMode","isChartShown","resetChartsByCompareTool","resetSyncAxisCheckbox"],["chartWrapper",""],["widgetHeaderAdditionalContent","",1,"sync-checkbox",3,"click"],[3,"ngModel","change","ngModelChange"],[3,"filter","mine"]],template:function(M,b){1&M&&(n.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),n.YNc(4,s,9,3,"div",4),n.TgZ(5,"div",5),n.YNc(6,c,1,0,"mat-progress-bar",6),n.YNc(7,ie,7,11,"mat-card",7),n.TgZ(8,"div",8),n.YNc(9,K,1,1,"dabo-digging-condition-table",9),n.YNc(10,we,3,3,"dabo-widget-collapsible",10),n.ALo(11,"async"),n.YNc(12,tt,6,11,"dabo-widget-collapsible",10),n.ALo(13,"async"),n.YNc(14,nt,1,2,"dabo-assays-table",11),n.qZA()()()()()),2&M&&(n.Q6J("ngClass",b.settings.isComparePage?"compare-page":"main-page"),n.xp6(3),n.Q6J("ngClass",b.settings.isComparePage?"compare-wrapper":"main-page--wrapper mb-1"),n.xp6(1),n.Q6J("ngIf",!b.settings.isComparePage),n.xp6(1),n.Q6J("ngClass",b.settings.isComparePage?"compare-page--content":"main-page--content"),n.xp6(1),n.Q6J("ngIf",b.settings.loading),n.xp6(1),n.Q6J("ngIf",null==b.permissions||null==b.permissions.map?null:b.permissions.map.visible),n.xp6(2),n.Q6J("ngIf",b.isDiggingConditionAvailable),n.xp6(1),n.Q6J("ngIf",b.isDistributionPerHoleAvailable&&b.settings.holesMode&&n.lcZ(11,10,b.showDistributionChart$)),n.xp6(2),n.Q6J("ngIf",n.lcZ(13,12,(b.settings.holesMode||b.settings.dataPointsMode)&&b.showDistributionChart$)),n.xp6(2),n.Q6J("ngIf",b.isAssaysAvailable))},directives:[L.yH,a.mk,q.oO,L.xw,L.s9,a.O5,L.SQ,Y.a8,e.Ye,L.Wh,e.rD,xe.p,Te.KI,Re.J,ae.gM,We.I,Q.pW,je.G,Oe.q,Bt,ot._,Ut.h,N.oG,S.JJ,S.On,Jt.I,Yt.b],pipes:[Te.Ot,a.Ov],styles:['.p-1[_ngcontent-%COMP%]{padding:10px!important}.pl-1[_ngcontent-%COMP%]{padding-left:10px!important}.mg-0[_ngcontent-%COMP%]{margin:0!important}.mb-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-1[_ngcontent-%COMP%]{padding-bottom:1rem!important}.mt-8[_ngcontent-%COMP%]{margin-top:8px}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.mt-200[_ngcontent-%COMP%]{margin-top:200px}.mt-150[_ngcontent-%COMP%]{margin-top:150px}.mt-reset[_ngcontent-%COMP%]{margin-top:0!important}.pd0[_ngcontent-%COMP%]{padding:0!important}.pdl0[_ngcontent-%COMP%]{padding-left:0!important}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.text-right[_ngcontent-%COMP%]{text-align:right}.icon-control[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]:before{color:#fff}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.hidden[_ngcontent-%COMP%]{display:none}.text-error[_ngcontent-%COMP%]{color:#d92121;font-weight:400;font-size:12px;line-height:14px;margin-top:8px}.font-thin[_ngcontent-%COMP%]{font-weight:400}.font-normal[_ngcontent-%COMP%]{font-weight:500}@font-face{font-family:dabaha;src:url(/assets/fonts/dabaha.eot);src:url(/assets/fonts/dabaha.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/dabaha.ttf) format("truetype"),url(/assets/fonts/dabaha.woff) format("woff"),url(/assets/fonts/dabaha.svg) format("svg");font-weight:400;font-style:normal;font-display:block}.icon[_ngcontent-%COMP%]{font-family:dabaha!important;speak:none;width:16px;height:16px;font-size:16px;font-style:normal;font-weight:400;font-feature-settings:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon--disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:initial}.icon--hidden[_ngcontent-%COMP%]{display:none}.icon-byc[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\ea04";color:#008cff}.icon-byc[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\ea05";margin-left:-1em;color:#008cff}.icon-byc[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\ea06";margin-left:-1em;color:#586b7a}.icon-byc[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\ea07";margin-left:-1em;color:#586b7a}.icon-information[_ngcontent-%COMP%]:before{content:"\\ea03";color:#586b7a}.icon-colormap[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9fe";color:#f25050}.icon-colormap[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9ff";margin-left:-1em;color:#f2c94c}.icon-colormap[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\ea00";margin-left:-1em;color:#1f8ff7}.icon-colormap[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\ea01";margin-left:-1em;color:#39be04}.icon-colormap[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\ea02";margin-left:-1em;color:#586b7a}.icon-drillbit[_ngcontent-%COMP%]:before{content:"\\e9fc";color:#00afbd}.icon-report[_ngcontent-%COMP%]:before{content:"\\e9fa";color:#0065bd}.icon-quality[_ngcontent-%COMP%]:before{content:"\\e9fb";color:#d5b1f1}.icon-permissions[_ngcontent-%COMP%]:before{content:"\\e9f9";color:#00afbd}.icon-batchedit[_ngcontent-%COMP%]:before{content:"\\e9f8";color:#0165bd}.icon-comment[_ngcontent-%COMP%]:before{content:"\\e9f4";color:#0065bd}.icon-actions[_ngcontent-%COMP%]:before{content:"\\e9f5";color:#0065bd}.icon-add-comment[_ngcontent-%COMP%]:before{content:"\\e9f6";color:#0065bd}.icon-scorecard[_ngcontent-%COMP%]:before{content:"\\e9f7";color:#0065bd}.icon-data-error[_ngcontent-%COMP%]:before{content:"\\e9f3";color:#586b7a}.icon-BL-1z[_ngcontent-%COMP%]:before{content:"\\e9e5";color:#366cfb}.icon-BL-2z-1[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9e6";color:#366cfb}.icon-BL-2z-1[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9e7";margin-left:-1em;color:#eef3fb}.icon-BL-2z-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9e8";color:#eef3fb}.icon-BL-2z-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9e9";margin-left:-1em;color:#366cfb}.icon-BL-3z-1[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9ea";color:#366cfb}.icon-BL-3z-1[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9eb";margin-left:-1em;color:#b8d3fd}.icon-BL-3z-1[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9ec";margin-left:-1em;color:#eef3fb}.icon-BL-3z-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9ed";color:#b8d3fd}.icon-BL-3z-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9ee";margin-left:-1em;color:#366cfb}.icon-BL-3z-2[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9ef";margin-left:-1em;color:#eef3fb}.icon-BL-3z-3[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9f0";color:#e3edfb}.icon-BL-3z-3[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9f1";margin-left:-1em;color:#f4f8fb}.icon-BL-3z-3[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9f2";margin-left:-1em;color:#366cfb}.icon-hole-pumped[_ngcontent-%COMP%]:before{content:"\\e9e3"}.icon-history[_ngcontent-%COMP%]:before{content:"\\e9e2";color:#586b7a}.icon-crusher[_ngcontent-%COMP%]:before{content:"\\e9e4";color:#0165bd}.icon-calculator[_ngcontent-%COMP%]:before{content:"\\e9e1";color:#0165bd}.icon-issue[_ngcontent-%COMP%]:before{content:"\\e9de";color:#e68537}.icon-nitrate[_ngcontent-%COMP%]:before{content:"\\e9df";color:#0165bd}.icon-vibration[_ngcontent-%COMP%]:before{content:"\\e9e0";color:#0165bd}.icon-angled[_ngcontent-%COMP%]:before{content:"\\e9dd"}.icon-userguide[_ngcontent-%COMP%]:before{content:"\\e9dc";color:#0165bd}.icon-crew[_ngcontent-%COMP%]:before{content:"\\e9db";color:#586b7a}.icon-bench[_ngcontent-%COMP%]:before{content:"\\e9d7";color:#586b7a}.icon-pat-group[_ngcontent-%COMP%]:before{content:"\\e9d8";color:#586b7a}.icon-pat-small[_ngcontent-%COMP%]:before{content:"\\e9d9";color:#586b7a}.icon-patt[_ngcontent-%COMP%]:before, .icon-patt-light[_ngcontent-%COMP%]:before{content:"\\e9da";color:#586b7a}.icon-patt-light[_ngcontent-%COMP%]:before{opacity:.5}.icon-safety[_ngcontent-%COMP%]:before{content:"\\e9d6";color:#0165bd}.icon-godown[_ngcontent-%COMP%]:before{content:"\\e9d3";color:#586b7a}.icon-growup[_ngcontent-%COMP%]:before{content:"\\e9d4";color:#586b7a}.icon-growup-light[_ngcontent-%COMP%]:before{content:"\\e9d4";color:#fff;opacity:.5}.icon-circle[_ngcontent-%COMP%]:before{content:"\\e9d5";color:#586b7a}.icon-sliders[_ngcontent-%COMP%]:before{content:"\\e9d2";color:#586b7a}.icon-chart[_ngcontent-%COMP%]:before{content:"\\e9d1";color:#586b7a}.icon-no-data-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9cb";color:#8bade0}.icon-no-data-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9cc";margin-left:-1em;color:#586b7a}.icon-no-data-3[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9cd";color:#586b7a}.icon-no-data-3[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9ce";margin-left:-1em;color:#8bade0}.icon-no-data-4[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9cf";color:#8bade0}.icon-no-data-4[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9d0";margin-left:-1em;color:#586b7a}.icon-connection[_ngcontent-%COMP%]:before{content:"\\e9c8";color:#586b7a}.icon-dashboard[_ngcontent-%COMP%]:before{content:"\\e9c9";color:#586b7a}.icon-temperature[_ngcontent-%COMP%]:before{content:"\\e9ca";color:#586b7a}.icon-menu-1[_ngcontent-%COMP%]:before{content:"\\e9c6";color:#586b7a}.icon-menu-2[_ngcontent-%COMP%]:before{content:"\\e9c7";color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9b4";color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9b5";margin-left:-1em;color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9b6";margin-left:-1em;color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e9b7";margin-left:-1em;color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e9b8";margin-left:-1em;color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e9b9";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3-6[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e9ba";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3-6[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e9bb";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3-6[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e9bc";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9bd";color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9be";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9bf";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e9c0";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e9c1";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e9c2";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e9c3";margin-left:-1em;color:#586b7a}.icon-w1-2[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e9c4";margin-left:-1em;color:#586b7a}.icon-w1-2[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e9c5";margin-left:-1em;color:#586b7a}.icon-hole-precond[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9b2";color:#000;opacity:.75}.icon-hole-precond[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9b3";margin-left:-1em;color:#fff}.icon-w1[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e97c";color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e97d";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e97e";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e97f";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e980";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e981";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e982";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e983";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e984";margin-left:-1em;color:#586b7a}.icon-w2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e985";color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e986";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e987";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e988";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e989";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e98a";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e98b";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e98c";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e98d";margin-left:-1em;color:#586b7a}.icon-w3[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e98e";color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e98f";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e990";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e991";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e992";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e993";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e994";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e995";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e996";margin-left:-1em;color:#586b7a}.icon-w4[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e997";color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e998";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e999";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e99a";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e99b";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e99c";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e99d";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e99e";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e99f";margin-left:-1em;color:#586b7a}.icon-w5[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9a0";color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9a1";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9a2";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e9a3";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e9a4";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e9a5";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e9a6";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e9a7";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e9a8";margin-left:-1em;color:#586b7a}.icon-w6[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9a9";color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9aa";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9ab";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e9ac";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e9ad";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e9ae";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e9af";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e9b0";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e9b1";margin-left:-1em;color:#586b7a}.icon-T-Icon[_ngcontent-%COMP%]:before{content:"\\e97a";color:#fff}.icon-tasks[_ngcontent-%COMP%]:before{content:"\\e97b";color:#586b7a}.icon-pdf_template[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e967";color:#fff}.icon-pdf_template[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e968";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e969";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e96a";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e96b";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e96c";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e96d";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e96e";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e96f";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path10[_ngcontent-%COMP%]:before{content:"\\e970";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path11[_ngcontent-%COMP%]:before{content:"\\e971";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path12[_ngcontent-%COMP%]:before{content:"\\e972";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path13[_ngcontent-%COMP%]:before{content:"\\e973";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path14[_ngcontent-%COMP%]:before{content:"\\e974";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path15[_ngcontent-%COMP%]:before{content:"\\e975";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path16[_ngcontent-%COMP%]:before{content:"\\e976";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path17[_ngcontent-%COMP%]:before{content:"\\e977";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path18[_ngcontent-%COMP%]:before{content:"\\e978";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path19[_ngcontent-%COMP%]:before{content:"\\e979";margin-left:-.7998046875em;color:#d0dae0}.icon-ellipsis[_ngcontent-%COMP%]:before{content:"\\e966";color:#586b7a}.icon-edit[_ngcontent-%COMP%]:before{content:"\\e965";color:#586b7a}.icon-help-center[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e963";color:#ffe845}.icon-help-center[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e964";margin-left:-1em;color:#000;opacity:.5029}.icon-driver[_ngcontent-%COMP%]:before{content:"\\e95a";color:#0165bd}.icon-eye-crossed[_ngcontent-%COMP%]:before{content:"\\e95b";color:#586b7a}.icon-eye[_ngcontent-%COMP%]:before{content:"\\e95c";color:#586b7a}.icon-grade[_ngcontent-%COMP%]:before{content:"\\e95d";color:#586b7a}.icon-ropes-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e95e";color:#586b7a}.icon-ropes-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e95f";margin-left:-1em;color:#0165bd}.icon-ropes[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e960";color:#586b7a}.icon-ropes[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e961";margin-left:-1em;color:#0165bd}.icon-score[_ngcontent-%COMP%]:before{content:"\\e962";color:#586b7a}.icon-search[_ngcontent-%COMP%]:before{content:"\\e959";color:#586b7a}.icon-progress[_ngcontent-%COMP%]:before{content:"\\e958";color:#586b7a}.icon-day-shift[_ngcontent-%COMP%]:before{content:"\\e955";color:#fcd47d}.icon-night-shift[_ngcontent-%COMP%]:before{content:"\\e956";color:#7d8c9a}.icon-segment[_ngcontent-%COMP%]:before{content:"\\e957";color:#586b7a}.icon-print[_ngcontent-%COMP%]:before{content:"\\e954";color:#586b7a}.icon-success[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e951";color:#fff}.icon-success[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e952";margin-left:-1em;color:#8bade0}.icon-success[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e953";margin-left:-1em;color:#39be04}.icon-misfire[_ngcontent-%COMP%]:before{content:"\\e950";color:#ff8200}.icon-no-selection[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e949";color:#fff}.icon-no-selection[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e94a";margin-left:-1em;color:#8bade0}.icon-no-selection[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e94b";margin-left:-1em;color:#eaeef6}.icon-no-selection[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e94c";margin-left:-1em;color:#1f8ff7}.icon-no-selection[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e94d";margin-left:-1em;color:#586b7a}.icon-home[_ngcontent-%COMP%]:before{content:"\\e948";color:#586b7a}.icon-feedback-normal[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e93f";color:#31495d;opacity:.8504}.icon-feedback-normal[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e940";margin-left:-.7861328125em;color:#ffaf00}.icon-feedback-normal[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e941";margin-left:-.7861328125em;color:#fff}.icon-feedback-selected[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e942";color:#0165bd}.icon-feedback-selected[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e943";margin-left:-.7861328125em;color:#fff}.icon-feedback-selected[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e944";margin-left:-.7861328125em;color:#ffaf00}.icon-feedback-selected[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e945";margin-left:-.7861328125em;color:#586b7a}.icon-map-feedback-small[_ngcontent-%COMP%]:before{content:"\\e946";color:#ffaf00}.icon-map-feedback[_ngcontent-%COMP%]:before{content:"\\e947";color:#586b7a}.icon-equip-driller[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e911";color:#fff}.icon-equip-driller[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e912";margin-left:-1em;color:#0165bd}.icon-equip-driller[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e913";margin-left:-1em;color:#0165bd}.icon-equip-loader[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e939";color:#fff}.icon-equip-loader[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e93a";margin-left:-1em;color:#0165bd}.icon-equip-loader[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e93b";margin-left:-1em;color:#0165bd}.icon-equip-shovel[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e93c";color:#fff}.icon-equip-shovel[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e93d";margin-left:-1em;color:#0165bd}.icon-equip-shovel[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e93e";margin-left:-1em;color:#0165bd}.icon-alert[_ngcontent-%COMP%]:before{content:"\\e900";color:#ff8200}.icon-arrow-down[_ngcontent-%COMP%]:before{content:"\\e901";color:#586b7a}.icon-arrow-left[_ngcontent-%COMP%]:before{content:"\\e902";color:#586b7a}.icon-arrow-right[_ngcontent-%COMP%]:before{content:"\\e903";color:#586b7a}.icon-arrow-top[_ngcontent-%COMP%]:before{content:"\\e904";color:#586b7a}.icon-blast[_ngcontent-%COMP%]:before, .icon-blast-light[_ngcontent-%COMP%]:before{content:"\\e905";color:#f25050}.icon-blast-light[_ngcontent-%COMP%]:before{color:#586b7a;opacity:.5}.icon-calendar[_ngcontent-%COMP%]:before{content:"\\e906";color:#0165bd}.icon-checkmark[_ngcontent-%COMP%]:before{content:"\\e907";color:#586b7a}.icon-close[_ngcontent-%COMP%]:before{content:"\\e908";color:#586b7a}.icon-coal[_ngcontent-%COMP%]:before{content:"\\e909";color:#586b7a}.icon-cost[_ngcontent-%COMP%]:before{content:"\\e90a";color:#ff8200}.icon-critical[_ngcontent-%COMP%]:before{content:"\\e90b";color:#c55563}.icon-datepicker[_ngcontent-%COMP%]:before{content:"\\e90c";color:#586b7a}.icon-destination[_ngcontent-%COMP%]:before{content:"\\e90d";color:#39be04}.icon-drill[_ngcontent-%COMP%]:before{content:"\\e90e";color:#00afbd}.icon-empty[_ngcontent-%COMP%]:before{content:"\\e90f";color:#a4afbe}.icon-env[_ngcontent-%COMP%]:before{content:"\\e910";color:#39be04}.icon-filter[_ngcontent-%COMP%]:before{content:"\\e914";color:#586b7a}.icon-flag[_ngcontent-%COMP%]:before{content:"\\e915";color:#f54f63}.icon-grid[_ngcontent-%COMP%]:before{content:"\\e916";color:#0165bd}.icon-group[_ngcontent-%COMP%]:before{content:"\\e917";color:#586b7a}.icon-help[_ngcontent-%COMP%]:before{content:"\\e918";color:#586b7a}.icon-help-light[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e963";color:#586b7a;opacity:.2}.icon-help-light[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e964";margin-left:-1em;color:#586b7a;opacity:.75}.icon-hole[_ngcontent-%COMP%]:before{content:"\\e919";color:#0165bd}.icon-kpi[_ngcontent-%COMP%]:before{content:"\\e91a";color:#0165bd}.icon-kpi-cda[_ngcontent-%COMP%]:before{content:"\\e91a";color:#e1c06b}.icon-letter[_ngcontent-%COMP%]:before{content:"\\e91b";color:#586b7a}.icon-list[_ngcontent-%COMP%]:before{content:"\\e91c";color:#0165bd}.icon-load[_ngcontent-%COMP%]:before{content:"\\e91d";color:#0165bd}.icon-loaded[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e91e";color:#a4afbe}.icon-loaded[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e91f";margin-left:-1em;color:#1f8ff7}.icon-mail[_ngcontent-%COMP%]:before{content:"\\e920";color:#586b7a}.icon-map-collapse[_ngcontent-%COMP%]:before{content:"\\e921";color:#586b7a}.icon-map-compare-tool[_ngcontent-%COMP%]:before{content:"\\e922";color:#586b7a}.icon-map-expand[_ngcontent-%COMP%]:before{content:"\\e923";color:#586b7a}.icon-map-legend[_ngcontent-%COMP%]:before{content:"\\e924";color:#586b7a}.icon-map-polygon-tool[_ngcontent-%COMP%]:before{content:"\\e925";color:#586b7a}.icon-map-toggle[_ngcontent-%COMP%]:before{content:"\\e926";color:#586b7a}.icon-map-visibility[_ngcontent-%COMP%]:before{content:"\\e927";color:#586b7a}.icon-minus[_ngcontent-%COMP%]:before{content:"\\e928";color:#586b7a}.icon-no-data[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e929";color:#fff}.icon-no-data[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e94e";margin-left:-1em;color:#8bade0}.icon-no-data[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e94f";margin-left:-1em;color:#586b7a}.icon-notifications[_ngcontent-%COMP%]:before{content:"\\e92a";color:#586b7a}.icon-pattern[_ngcontent-%COMP%]:before{content:"\\e92b";color:#0165bd}.icon-piechart[_ngcontent-%COMP%]:before{content:"\\e92c";color:#00afbd}.icon-plus[_ngcontent-%COMP%]:before{content:"\\e92d";color:#586b7a}.icon-refresh[_ngcontent-%COMP%]:before{content:"\\e92e";color:#586b7a}.icon-road[_ngcontent-%COMP%]:before{content:"\\e92f"}.icon-roadblock[_ngcontent-%COMP%]:before{content:"\\e930";color:#f25050}.icon-roadpin[_ngcontent-%COMP%]:before{content:"\\e931";color:#ff8200}.icon-settings[_ngcontent-%COMP%]:before{content:"\\e932";color:#586b7a}.icon-shovel[_ngcontent-%COMP%]:before{content:"\\e933";color:#0165bd}.icon-target[_ngcontent-%COMP%]:before{content:"\\e934";color:#586b7a}.icon-time[_ngcontent-%COMP%]:before{content:"\\e935";color:#586b7a}.icon-truck[_ngcontent-%COMP%]:before{content:"\\e936";color:#0165bd}.icon-user[_ngcontent-%COMP%]:before{content:"\\e937";color:#586b7a}.icon-waste[_ngcontent-%COMP%]:before{content:"\\e938";color:#586b7a}.icon-info[_ngcontent-%COMP%]:before{content:"\\ea03";color:#586b7a}[_nghost-%COMP%]{height:100%}.compare-wrapper[_ngcontent-%COMP%]{height:inherit}.compare-page[_ngcontent-%COMP%]{margin:0;padding:0}.main-page[_ngcontent-%COMP%]{margin-right:0;padding-left:0}.main-page--wrapper[_ngcontent-%COMP%]{height:75vh}.main-page--tree[_ngcontent-%COMP%]{position:fixed}.main-page--content[_ngcontent-%COMP%]{margin-left:268px;display:initial!important}.main-page--content-compare[_ngcontent-%COMP%]{margin-left:0;width:100%}.main-page__widgets[_ngcontent-%COMP%]{padding:20px}.main-page__widgets[_ngcontent-%COMP%]   dabo-distribution-per-hole[_ngcontent-%COMP%]{margin-bottom:20px}.main-page__widgets[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%] + .mat-card[_ngcontent-%COMP%]{margin-top:20px}.main-page[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{min-height:64px}.main-page[_ngcontent-%COMP%]   .mat-select[_ngcontent-%COMP%]{font-size:19px;line-height:24px}.main-page[_ngcontent-%COMP%]   .mat-progress-bar[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:3px;z-index:100}.main-page[_ngcontent-%COMP%]     .mat-progress-bar-buffer{background-color:#fff}.mat-card[_ngcontent-%COMP%]{padding:0;overflow:hidden;box-shadow:none}.mat-card[_ngcontent-%COMP%]:not(.hole-table){height:765px}.mat-card.distribution-charts[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;max-height:-moz-fit-content!important;max-height:fit-content!important}.sync-checkbox[_ngcontent-%COMP%]{width:400px;margin-left:350px}@media only screen and (max-width: 1350px){.sync-checkbox[_ngcontent-%COMP%]{width:200px;margin-left:150px}}.short-hole-header[_ngcontent-%COMP%]{padding-left:24px;font-weight:500}.compare-tool-container[_ngcontent-%COMP%]{position:absolute;top:50px;right:10px}.map-container[_ngcontent-%COMP%], #map-container[_ngcontent-%COMP%]{position:relative;overflow:hidden;min-height:100%;max-height:100%!important;border-radius:0;margin-bottom:0}.map-container-compare[_ngcontent-%COMP%], #map-container-compare[_ngcontent-%COMP%]{min-height:100%;height:100%}'],changeDetection:0}),f}(),Wt=function(){var f=function(){function B(M,b,Z){(0,H.Z)(this,B),this.title=M,this.patternsService=b,this.mapStateService=Z}return(0,F.Z)(B,[{key:"canActivate",value:function(){return this.title.setTitle("dab"),this.patternsService.selectedPolygons$.next(new Set),this.mapStateService.selectedColorMap$.next(null),!0}}]),B}();return f.\u0275fac=function(M){return new(M||f)(n.LFG(p.yD),n.LFG(p.c5),n.LFG(p.I3))},f.\u0275prov=n.Yz7({token:f,factory:f.\u0275fac}),f}(),Gt=[{path:"",component:Kt,canActivate:[Wt]},{path:"**",redirectTo:""}],Xt=function(){var f=(0,F.Z)(function B(){(0,H.Z)(this,B)});return f.\u0275fac=function(M){return new(M||f)},f.\u0275mod=n.oAB({type:f}),f.\u0275inj=n.cJS({providers:[Wt],imports:[[pe.Bz.forChild(Gt)],pe.Bz]}),f}(),qt=t(465),en=t(1302),tn=t(21955),nn=function(){var f=(0,F.Z)(function B(){(0,H.Z)(this,B)});return f.\u0275fac=function(M){return new(M||f)},f.\u0275mod=n.oAB({type:f}),f.\u0275inj=n.cJS({providers:[l.U],imports:[[a.ez,tn.Q]]}),f}(),on=t(4806),an=t(15980),rn=t(16410),cn=t(68659),ln=t(5010),sn=t(32807),gn=t(11066),dn=t(67800),pn=t(20295),jt=t(18776),fn=function(){var f=(0,F.Z)(function B(){(0,H.Z)(this,B)});return f.\u0275fac=function(M){return new(M||f)},f.\u0275mod=n.oAB({type:f}),f.\u0275inj=n.cJS({providers:[y._2,pn.y,{provide:te.mA,useFactory:function(){return[X,ve,se]}},{provide:Te.Hn,useValue:{scope:"map-controls",alias:"mapControlsTranslation"},multi:!0},{provide:Te.Hn,useValue:{scope:"distribution-per-hole",alias:"distributionPerHole"},multi:!0},{provide:Te.Hn,useValue:{scope:"distribution-curve",alias:"curveTranslation"},multi:!0},{provide:Te.Hn,useValue:{scope:"distribution-column",alias:"distributionColumnTranslation"},multi:!0},y.nY,qt.n,cn.l,ln.k,y.v2,p.$c,y.FJ,y.a7,y.Hn],imports:[[gn.bt,a.ez,en.o,O.JF,S.u5,S.UX,i.o9,v.Wm.withConfig({accessToken:w.N.mapboxToken}),D.ot,R.vV,Y.QW,j.lN,he.LD,o.p0,V.dp,z.Ps,Q.Cv,N.p9,Ce.rP,re.ie,P.Fk,Xt,I.JX,ae.AV,C.nZ,$.SJ,ne.Is,le.Tx,Ee.n,x.Cl,ee.HT,Qe.k,Se.i,Ze.R,te.SD,De.d,e.g0,nn,an.E,on.j,rn.L,G.FA,W.TU,sn.q,Te.y4,dn.T,e.g0,jt.Wl,jt.vw]]}),f}()},68659:function(ce,E,t){"use strict";t.d(E,{l:function(){return i}});var F=t(15671),H=t(43144),a=t(86856),O=t(65542),S=t(90508),w=t(5010),i=function(){var v=function(){function C(D,R){(0,F.Z)(this,C),this._dateAdapter=D,this.treeFilterDateService=R}return(0,H.Z)(C,[{key:"selectionFinished",value:function(R,Y){var N=Y.start,j=Y.end;return null==N?N=R:null==j&&R&&this._dateAdapter.compareDate(R,N)>=0?j=R:(N=R,j=null),this.treeFilterDateService.dateRange=new a.C0(N,j),this.treeFilterDateService.months=null,new a.C0(N,j)}},{key:"createPreview",value:function(R,Y){var N=null,j=null;return Y.start&&!Y.end&&R&&(N=Y.start,j=R),new a.C0(N,j)}}]),C}();return v.\u0275fac=function(D){return new(D||v)(O.LFG(S._A),O.LFG(w.k))},v.\u0275prov=O.Yz7({token:v,factory:v.\u0275fac}),v}()},5010:function(ce,E,t){"use strict";t.d(E,{k:function(){return w}});var F=t(15671),H=t(43144),a=t(8929),O=t(591),S=t(65542),w=function(){var i=function(){function v(){(0,F.Z)(this,v),this.months$=new a.xQ,this.dateRange$=new O.X(null)}return(0,H.Z)(v,[{key:"months",set:function(D){this.months$.next(D)}},{key:"dateRange",get:function(){return this.dateRange$.value},set:function(D){this.dateRange$.next(D)}}]),v}();return i.\u0275fac=function(C){return new(C||i)},i.\u0275prov=S.Yz7({token:i,factory:i.\u0275fac}),i}()},20295:function(ce,E,t){"use strict";t.d(E,{y:function(){return z}});var F=t(15671),H=t(43144),a=t(60136),O=t(57777),S=t(46940),w=t(48619),i=t(22451),v=t(52031),C=t(40714),D=t(67258),R=t(65542),Y=t(31497),N=t(94720),j=D.x.CHART_CLICK,z=function(){var Q=function(he){(0,a.Z)(V,he);var o=(0,O.Z)(V);function V(Ce,P,re){var ae;return(0,F.Z)(this,V),(ae=o.call(this)).dynamicPipe=Ce,ae.mineStateService=P,ae.holeStateService=re,ae.circles=[],ae}return(0,H.Z)(V,[{key:"getConfig",value:function(P,re,ae){var e=this,le=this,$=P.radius>.86?P.radius:.86,W=function(te){return te.preventDefault()},x={min:-1*$,max:$,startOnTick:!0,endOnTick:!0,lineWidth:0,gridLineWidth:0,tickWidth:0,tickLength:0,plotLines:[{color:"rgba(88, 107, 122, 0.75)",value:0,width:1,zIndex:3}],title:{text:""},labels:{enabled:!1}};return(new v.rc).setChart({zoomType:"xy",height:"100%",events:{load:re,redraw:ae}}).setTitle({text:""}).setXAxis(x).setYAxis(x).setSeries([{type:"scatter",color:w.C.WILD_BLUE_YONDER,name:"Hole",data:P.points,zIndex:4,events:{legendItemClick:W,click:function(te){e.holeStateService.setHoleState({eventType:j,payload:te.point.uniqueHoleId})}}},{type:"scatter",data:[],name:"0.33 m",events:{legendItemClick:W},marker:{radius:6,symbol:"circle",fillColor:w.C.WHITE,lineWidth:1,lineColor:w.C.SUPERNOWA_DARKER}},{type:"scatter",data:[],name:"0.66 m",events:{legendItemClick:W},marker:{radius:6,symbol:"circle",fillColor:w.C.WHITE,lineWidth:1,lineColor:w.C.SUNSET_ORANGE}}]).setTooltip({useHTML:!0,formatter:function(){return le.getTooltip(this,P)}}).setLegend({itemHoverStyle:{color:w.C.MINE_SHAFT},itemStyle:{fontWeight:"normal",cursor:"default"},margin:0}).setPlotOptions({series:{boostThreshold:1e6,animation:!1,stickyTracking:!1,keys:["x","y","uniqueHoleId"],states:{inactive:{enabled:!1}},cursor:"pointer"}}).build()}},{key:"drawCircles",value:function(P){this.addCircle(P,.33,{fill:w.C.WHITE,stroke:w.C.SUPERNOWA_DARKER,zIndex:2}),this.addCircle(P,.66,{fill:"#FFF8E8",stroke:w.C.SUNSET_ORANGE,zIndex:1})}},{key:"addCircle",value:function(P,re,ae){var e=ae.fill,le=ae.stroke,ne=ae.zIndex,$=null==P?void 0:P.xAxis[0].toPixels(0,!1),I=null==P?void 0:P.yAxis[0].toPixels(0,!1),G=(null==P?void 0:P.xAxis[0].toPixels(re,!1))-(null==P?void 0:P.xAxis[0].toPixels(0,!1));this.removeCircles(),this.circles.length<2&&this.circles.push(null==P?void 0:P.renderer.circle($,I,G).attr({fill:e,stroke:le,"stroke-width":1,zIndex:ne}).add())}},{key:"removeCircles",value:function(){2===this.circles.length&&(this.circles.forEach(function(P){return P.destroy()}),this.circles=[])}},{key:"getTooltip",value:function(P,re){var e=re.holes[P.point.uniqueHoleId],le=S.Ov.transformToMineUTCTimeZone(this.mineStateService.getSelectedMineArea(),e.drillDate,i.a.SITE_DASHBOARD),ne=C.Ab.getUnits("collarXYDeviation",this.mineStateService.getSelectedMineArea());return"<div>Hole ID: ".concat(e.drilledNumber,"</div>\n            <div>Pattern ID: ").concat(e.patternId," </div>\n            <div>Deviation X: ").concat(this.transformNumber(e.collarDeviationX)," ").concat(ne,"</div>\n            <div>Deviation Y: ").concat(this.transformNumber(e.collarDeviationY)," ").concat(ne,"</div>\n            <div>Drill Date: ").concat(this.detectNull(le),"</div>")}},{key:"detectNull",value:function(P){return this.dynamicPipe.transform(P,[{token:"detectNullValue",args:!1}])}},{key:"transformNumber",value:function(P){return this.dynamicPipe.transform(P,[{token:"customNumber",args:"1.0-2"}])}}]),V}(S.eO);return Q.\u0275fac=function(o){return new(o||Q)(R.LFG(Y.e),R.LFG(N.Hj),R.LFG(N.$c))},Q.\u0275prov=R.Yz7({token:Q,factory:Q.\u0275fac}),Q}()},13367:function(ce,E,t){"use strict";t.d(E,{m:function(){return O}});var F=t(97685),H=t(15671),a=t(43144),O=function(){function S(){(0,H.Z)(this,S)}return(0,a.Z)(S,null,[{key:"fileExtensionValidator",value:function(i){return function(v){var C=!0;if(v.value){var D=v.value.name.split(".").pop();i.split(",").forEach(function(R){R.trim()===D&&(C=!1)})}return C?{inValidExt:!0}:null}}},{key:"benchLevelValidator",value:function(i){var v=+i.value;if(isNaN(v)||""===i.value.trim())return{isNan:!0};if(isFinite(v)){var Y=i.value.includes("."),N=i.value.split("."),j=(0,F.Z)(N,2),z=j[0],Q=j[1];if(z.length<3||z.length>4)return{invalidNumber:!0};if(Y&&!Q||Q&&1!==Q.length)return{invalidNumber:!0}}return null}}]),S}()},59764:function(ce,E,t){"use strict";var O,F=this&&this.__extends||(O=function(w,i){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,C){v.__proto__=C}||function(v,C){for(var D in C)C.hasOwnProperty(D)&&(v[D]=C[D])})(w,i)},function(S,w){function i(){this.constructor=S}O(S,w),S.prototype=null===w?Object.create(w):(i.prototype=w.prototype,new i)});Object.defineProperty(E,"__esModule",{value:!0});var a=function(O){function S(w,i,v){var C=O.call(this)||this;return C.parent=w,C.outerValue=i,C.outerIndex=v,C.index=0,C}return F(S,O),S.prototype._next=function(w){this.parent.notifyNext(this.outerValue,w,this.outerIndex,this.index++,this)},S.prototype._error=function(w){this.parent.notifyError(w,this),this.unsubscribe()},S.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},S}(t(63281).Subscriber);E.InnerSubscriber=a},55742:function(ce,E,t){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var F=t(21557),H=t(4802),a=t(47448),O=t(17302),S=t(94072),w=function(){function v(C){this._isScalar=!1,C&&(this._subscribe=C)}return v.prototype.lift=function(C){var D=new v;return D.source=this,D.operator=C,D},v.prototype.subscribe=function(C,D,R){var Y=this.operator,N=H.toSubscriber(C,D,R);if(N.add(Y?Y.call(N,this.source):this.source||S.config.useDeprecatedSynchronousErrorHandling&&!N.syncErrorThrowable?this._subscribe(N):this._trySubscribe(N)),S.config.useDeprecatedSynchronousErrorHandling&&N.syncErrorThrowable&&(N.syncErrorThrowable=!1,N.syncErrorThrown))throw N.syncErrorValue;return N},v.prototype._trySubscribe=function(C){try{return this._subscribe(C)}catch(D){S.config.useDeprecatedSynchronousErrorHandling&&(C.syncErrorThrown=!0,C.syncErrorValue=D),F.canReportError(C)?C.error(D):console.warn(D)}},v.prototype.forEach=function(C,D){var R=this;return new(D=i(D))(function(Y,N){var j;j=R.subscribe(function(z){try{C(z)}catch(Q){N(Q),j&&j.unsubscribe()}},N,Y)})},v.prototype._subscribe=function(C){var D=this.source;return D&&D.subscribe(C)},v.prototype[a.observable]=function(){return this},v.prototype.pipe=function(){for(var C=[],D=0;D<arguments.length;D++)C[D]=arguments[D];return 0===C.length?this:O.pipeFromArray(C)(this)},v.prototype.toPromise=function(C){var D=this;return new(C=i(C))(function(R,Y){var N;D.subscribe(function(j){return N=j},function(j){return Y(j)},function(){return R(N)})})},v.create=function(C){return new v(C)},v}();function i(v){if(v||(v=S.config.Promise||Promise),!v)throw new Error("no Promise impl found");return v}E.Observable=w},3676:function(ce,E,t){"use strict";var O,F=this&&this.__extends||(O=function(w,i){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,C){v.__proto__=C}||function(v,C){for(var D in C)C.hasOwnProperty(D)&&(v[D]=C[D])})(w,i)},function(S,w){function i(){this.constructor=S}O(S,w),S.prototype=null===w?Object.create(w):(i.prototype=w.prototype,new i)});Object.defineProperty(E,"__esModule",{value:!0});var a=function(O){function S(){return null!==O&&O.apply(this,arguments)||this}return F(S,O),S.prototype.notifyNext=function(w,i,v,C,D){this.destination.next(i)},S.prototype.notifyError=function(w,i){this.destination.error(w)},S.prototype.notifyComplete=function(w){this.destination.complete()},S}(t(63281).Subscriber);E.OuterSubscriber=a},54375:function(ce,E,t){"use strict";var R,F=this&&this.__extends||(R=function(N,j){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,Q){z.__proto__=Q}||function(z,Q){for(var he in Q)Q.hasOwnProperty(he)&&(z[he]=Q[he])})(N,j)},function(Y,N){function j(){this.constructor=Y}R(Y,N),Y.prototype=null===N?Object.create(N):(j.prototype=N.prototype,new j)});Object.defineProperty(E,"__esModule",{value:!0});var H=t(31096),a=t(25019),O=t(3676),S=t(98243),w=t(42653),i={};E.combineLatest=function v(){for(var R=[],Y=0;Y<arguments.length;Y++)R[Y]=arguments[Y];var N=void 0,j=void 0;return H.isScheduler(R[R.length-1])&&(j=R.pop()),"function"==typeof R[R.length-1]&&(N=R.pop()),1===R.length&&a.isArray(R[0])&&(R=R[0]),w.fromArray(R,j).lift(new C(N))};var C=function(){function R(Y){this.resultSelector=Y}return R.prototype.call=function(Y,N){return N.subscribe(new D(Y,this.resultSelector))},R}();E.CombineLatestOperator=C;var D=function(R){function Y(N,j){var z=R.call(this,N)||this;return z.resultSelector=j,z.active=0,z.values=[],z.observables=[],z}return F(Y,R),Y.prototype._next=function(N){this.values.push(i),this.observables.push(N)},Y.prototype._complete=function(){var N=this.observables,j=N.length;if(0===j)this.destination.complete();else{this.active=j,this.toRespond=j;for(var z=0;z<j;z++)this.add(S.subscribeToResult(this,N[z],void 0,z))}},Y.prototype.notifyComplete=function(N){0==(this.active-=1)&&this.destination.complete()},Y.prototype.notifyNext=function(N,j,z){var Q=this.values,o=this.toRespond?Q[z]===i?--this.toRespond:this.toRespond:0;Q[z]=j,0===o&&(this.resultSelector?this._tryResultSelector(Q):this.destination.next(Q.slice()))},Y.prototype._tryResultSelector=function(N){var j;try{j=this.resultSelector.apply(this,N)}catch(z){return void this.destination.error(z)}this.destination.next(j)},Y}(O.OuterSubscriber);E.CombineLatestSubscriber=D},42653:function(ce,E,t){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var F=t(55742),H=t(76887),a=t(38360);E.fromArray=function O(S,w){return w?a.scheduleArray(S,w):new F.Observable(H.subscribeToArray(S))}},38360:function(ce,E,t){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var F=t(55742),H=t(56052);E.scheduleArray=function a(O,S){return new F.Observable(function(w){var i=new H.Subscription,v=0;return i.add(S.schedule(function(){v!==O.length?(w.next(O[v++]),w.closed||i.add(this.schedule())):w.complete()})),i})}},87519:function(ce,E){"use strict";function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(E,"__esModule",{value:!0}),E.getSymbolIterator=t,E.iterator=t(),E.$$iterator=E.iterator},47448:function(ce,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},21557:function(ce,E,t){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var F=t(63281);E.canReportError=function H(a){for(;a;){var w=a.destination;if(a.closed||a.isStopped)return!1;a=w&&w instanceof F.Subscriber?w:null}return!0}},96610:function(ce,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.identity=function t(F){return F}},87542:function(ce,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.isArrayLike=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},62418:function(ce,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.isPromise=function t(F){return!!F&&"function"!=typeof F.subscribe&&"function"==typeof F.then}},31096:function(ce,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.isScheduler=function t(F){return F&&"function"==typeof F.schedule}},17302:function(ce,E,t){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var F=t(96610);function a(O){return 0===O.length?F.identity:1===O.length?O[0]:function(w){return O.reduce(function(i,v){return v(i)},w)}}E.pipe=function H(){for(var O=[],S=0;S<arguments.length;S++)O[S]=arguments[S];return a(O)},E.pipeFromArray=a},18160:function(ce,E,t){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var F=t(76887),H=t(26948),a=t(111),O=t(35866),S=t(87542),w=t(62418),i=t(62556),v=t(87519),C=t(47448);E.subscribeTo=function(D){if(D&&"function"==typeof D[C.observable])return O.subscribeToObservable(D);if(S.isArrayLike(D))return F.subscribeToArray(D);if(w.isPromise(D))return H.subscribeToPromise(D);if(D&&"function"==typeof D[v.iterator])return a.subscribeToIterable(D);var R=i.isObject(D)?"an invalid object":"'"+D+"'";throw new TypeError("You provided "+R+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},76887:function(ce,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.subscribeToArray=function(t){return function(F){for(var H=0,a=t.length;H<a&&!F.closed;H++)F.next(t[H]);F.complete()}}},111:function(ce,E,t){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var F=t(87519);E.subscribeToIterable=function(H){return function(a){for(var O=H[F.iterator]();;){var S=void 0;try{S=O.next()}catch(w){return a.error(w),a}if(S.done){a.complete();break}if(a.next(S.value),a.closed)break}return"function"==typeof O.return&&a.add(function(){O.return&&O.return()}),a}}},35866:function(ce,E,t){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var F=t(47448);E.subscribeToObservable=function(H){return function(a){var O=H[F.observable]();if("function"!=typeof O.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return O.subscribe(a)}}},26948:function(ce,E,t){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var F=t(32422);E.subscribeToPromise=function(H){return function(a){return H.then(function(O){a.closed||(a.next(O),a.complete())},function(O){return a.error(O)}).then(null,F.hostReportError),a}}},98243:function(ce,E,t){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var F=t(59764),H=t(18160),a=t(55742);E.subscribeToResult=function O(S,w,i,v,C){if(void 0===C&&(C=new F.InnerSubscriber(S,i,v)),!C.closed)return w instanceof a.Observable?w.subscribe(C):H.subscribeTo(w)(C)}},4802:function(ce,E,t){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var F=t(63281),H=t(32858),a=t(27350);E.toSubscriber=function O(S,w,i){if(S){if(S instanceof F.Subscriber)return S;if(S[H.rxSubscriber])return S[H.rxSubscriber]()}return S||w||i?new F.Subscriber(S,w,i):new F.Subscriber(a.empty)}}}]);