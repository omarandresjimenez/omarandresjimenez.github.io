(window.webpackJsonp=window.webpackJsonp||[]).push([[52,79],{"/gN3":function(t,e,n){"use strict";var l=n("tFIl");class a extends l.a{constructor(t={}){super(),this.momentIsUtc=!1,this.fillAll(t,["order","name","width","minWidth","pinned","field","tooltipField","align","labelFormat","filter","drillIndex","editable","hide","children","valueGetter","valueFormatter","valueSetter","valueParser","momentFormat","momentIsUtc","customFormatter","cellRenderer","cellEditor","cellEditorParams","cellRendererFramework","cellRendererParams","cellClass","data"])}get hasDrill(){return null!==this.drillIndex}get hasNumericFormat(){return this.labelFormat!==i.Date&&this.labelFormat!==i.Moment&&this.labelFormat!==i.Default&&this.labelFormat!==i.Custom}get hasDefaultFormat(){return this.labelFormat===i.Default}get hasMoneyFormat(){return this.labelFormat===i.Money||this.labelFormat===i.Money2}get hasPercentageFormat(){return this.labelFormat===i.Percentage||this.labelFormat===i.Percentage1DecWithZeroMantissa||this.labelFormat===i.Percentage2DecWithZeroMantissa}}var i=function(t){return t[t.Date=0]="Date",t[t.Moment=1]="Moment",t[t.Money=2]="Money",t[t.Money2=3]="Money2",t[t.MoneyAbbr=4]="MoneyAbbr",t[t.Integer=5]="Integer",t[t.Float=6]="Float",t[t.FloatWithTwoDecimalPlaces=7]="FloatWithTwoDecimalPlaces",t[t.FloatWithOneDecimalPlace=8]="FloatWithOneDecimalPlace",t[t.Cnt=9]="Cnt",t[t.Percentage=10]="Percentage",t[t.Percentage1DecWithZeroMantissa=11]="Percentage1DecWithZeroMantissa",t[t.Percentage2DecWithZeroMantissa=12]="Percentage2DecWithZeroMantissa",t[t.Custom=13]="Custom",t[t.Default=14]="Default",t}({}),o=function(t){return t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Center=2]="Center",t}({}),r=function(t){return t[t.None=0]="None",t[t.String=1]="String",t[t.NumberRange=2]="NumberRange",t[t.DateRange=3]="DateRange",t[t.MultiChoice=4]="MultiChoice",t}({});class s{constructor(t={}){Object.keys(t).forEach(e=>this[e]=new.target.value(t[e]))}static value(t,e=null){return null==t?e:t}}n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"e",(function(){return s}))},"2Vgt":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var l=n("8Y7J"),a=n("VHTt");class i{constructor(t){this.authService=t,this.xls=!0,this.pdf=!0,this.disabled=!1,this.small=!1,this.dataExport=new l.EventEmitter}ngOnInit(){this.currentUser=this.authService.getCurrentUser()}exportDataAsXls(){this.dataExport.emit(a.a.XLS)}exportDataAsPdf(){this.dataExport.emit(a.a.PDF)}}},"OTv+":function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n("/kTj");class l{constructor(t,e){this.formatter=t,this.debug=e.factory(new.target.name)}transform(t,e,n){if(null===t)return 0;switch(Array.isArray(t)&&"from-array"!==e&&(t="%"===t[1]&&"from-array-abbr"!==e?t[0]/100:t[0]),"from-array-abbr"===e&&(e="abbr"),e){case"money":case"amt":return this.formatter.money(t);case"amt2":return this.formatter.money(t,{fractional:2,noZeroMantissa:!1,currencySign:"$"});case"per":return this.formatter.percentage(t);case"per1":return this.formatter.percentage(t,1,!1);case"per2":return this.formatter.percentage(t,2,!1);case"per-3f":return this.formatter.percentage(t,3);case"per-round":return this.formatter.percentage(t,0);case"number":case"cnt":return this.formatter.number(t,{fractional:0});case"cnt0":this.formatter.number(t,{fractional:0,thousandDelimiter:""});case"abbr":return this.formatter.abbrNum(t,n);case"abbr-money":return this.formatter.abbrMoney(t,n);case"from-array":return this.formatter.fromArray(t,n);default:return this.debug.warn("Unknown format: %s. Value: %s",e,t),this.formatter.number(t,{fractional:0})}}}},V2X4:function(t,e,n){"use strict";n.r(e);var l=n("8Y7J");const a="cabinet.operations.summary.";class i{constructor(t){t.addLoaderWithPrefixedTranslations("/cabinet/operations/summary",a)}}var o=n("pMnS"),r=n("t68o"),s=n("zbXB"),c=n("GsI2"),d=n("eliu"),u=n("0Xvm"),p=n("VOAG"),h=n("aYrz"),g=n("NcP4"),b=n("mS0u"),m=n("MmlZ"),f=n("eeq/"),x=n("SVse"),v=n("OTv+"),C=n("/kTj"),O=n("oJZn"),M=n("s7LF"),P=n("pBi1"),_=n("5GAg"),y=n("omvX"),k=n("IP0z"),w=n("TSSN");class D{constructor(t,e){this.filterData=t,this.dataService=e,this.i18n=a,this.isOpened=!0,this.isByUnits=!1}ngOnInit(){this.data$=this.dataService.sidebarData$}onToggle(){this.isOpened=!this.isOpened}onByUnitsChange(t){this.dataService.setByUnits(t),this.isByUnits=t}onItemClick(t){this.filterData.updateValue({report:t.id}),this.filterData.setCurrentId(t.id)}}var S=n("9oLD"),$=n("2Vo4"),F=n("pLZG"),R=n("fFD9"),j=n("lJxs"),I=n("w1tV"),A=n("Kj3r"),T=n("zp1y"),E=n("vkgz"),z=n("SxV6"),N=n("LvDl");class U{constructor(t,e,n,l,a,i){this.filterData=t,this.dataApi=e,this.instanceAppSettingsApi=n,this.coreCache=l,this.translate=a,this.formatter=i,this._storesData$=new $.a(void 0),this._sidebarData$=new $.a(void 0),this._loading$=new $.a(void 0),this._byUnits$=new $.a(!1),this._selectedStore$=new $.a(void 0),this._selectedStoreData$=new $.a(void 0),this.subs=[],this.initInternal()}set sub(t){this.subs.push(t)}destroy(){this.subs.forEach(t=>t.unsubscribe()),this.subs=[],this._storesData$.next(void 0),this._sidebarData$.next(void 0),this._selectedStore$.next(void 0),this._selectedStoreData$.next(void 0)}init(){this.initSubscriptions()}setByUnits(t){this._byUnits$.next(t)}selectStore(t){const e=this._selectedStore$.getValue();e&&e.id===t.id?(this._selectedStore$.next(void 0),this._selectedStoreData$.next(void 0),this.filterData.updateFilter({name:"store",value:void 0})):(this._selectedStore$.next(t),this.filterData.updateFilter({name:"store",value:t.id}))}initInternal(){this.loading$=this._loading$.asObservable(),this.storesData$=this._storesData$.pipe(Object(F.a)(t=>!!t)),this.selectedStore$=this._selectedStore$.asObservable(),this.sidebarData$=this._sidebarData$.pipe(Object(F.a)(t=>!!t),Object(R.a)(this._byUnits$),Object(j.a)(([t,e])=>t.map(t=>(t.items=t.items.map(t=>(t.graph.data=e?t.graph.cnt:t.graph.amt,t.graph.tooltip.titles=t.graph.labels.map((n,l)=>`${n}: ${e?this.formatter.number(t.graph.cnt[l],{noZeroMantissa:!0}):this.formatter.abbrMoney(t.graph.amt[l],{K:1,M:1})}`),Object.assign({},t))),t))),Object(R.a)(this.filterData.selectedReport$),Object(j.a)(([t,e])=>t.map(t=>(t.items.forEach(t=>(t.selected=t.id===e,t)),t))),Object(I.a)()),this.bottomBarData$=this.storesData$.pipe(Object(R.a)(this._byUnits$,this.translate.get(["bottom-bar.chart.amount.label","bottom-bar.chart.count.label"].map(t=>a+t)),this._selectedStoreData$),Object(A.a)(100),Object(T.a)(this.filterData.dates$),Object(j.a)(([[t,e,n,l],i])=>{const o={data:[],labels:[],colors:[],barData:[],tooltip:{titles:[],labels:[]}},r=l?l.data:t;for(const s of r){const t=l?i.find(t=>t.dateIndex===s.dateIndex):null;o.data.push(e?+s.cnt:+s.amt),o.labels.push(l?t.abbrev:s.abbrev),o.colors.push(l?"green-light":"blue"),o.barData.push({storeId:l?l.id:s.id}),o.tooltip.titles.push(l?t.label:s.storeName),o.tooltip.labels.push(n[a+"bottom-bar.chart.amount.label"]+": "+this.formatter.abbrMoney(+s.amt,{K:1,M:1})+" | "+n[a+"bottom-bar.chart.count.label"]+": "+this.formatter.number(+s.cnt,{noZeroMantissa:!0}))}return o}),Object(I.a)())}initSubscriptions(){this.sub=this.filterData.selectedGroup$.pipe(Object(R.a)(this.filterData.selectedReport$,this.filterData.selectedDate$,this.filterData.selectedOpsFilter$),Object(E.a)(()=>this._loading$.next(!0)),Object(j.a)(([t,e,n,l])=>({group:t,report:e,date:n,opsfilter:l})),Object(T.a)(this.instanceAppSettingsApi.settings$,this.coreCache.storesById$.pipe(Object(z.a)()))).subscribe(([t,e,n])=>{this.dataApi.getSummary(t).subscribe(({data:t})=>{this._selectedStore$.next(void 0),this._selectedStoreData$.next(void 0),this._storesData$.next(((t,e,n)=>t.map(t=>{const l=n.get(+t.storeid);return{id:t.storeid,storeName:l?l[e.storeNameType]:t.storeName,abbrev:l?l.abbreviation:"",amt:+t.amt,cnt:+t.cnt,grs:+t.grs}}))(t,e,n)),this._loading$.next(!1)})}),this.sub=this.filterData.reportsTree$.pipe(Object(R.a)(this.filterData.selectedGroup$,this.filterData.selectedDate$,this.filterData.selectedOpsFilter$),Object(T.a)(this.filterData.dates$)).subscribe(([[t,e,n,l],a])=>{this.dataApi.getReportsTrendData({group:e,date:n,opsfilter:l}).subscribe(({data:e})=>{const n=["green","green-light","yellow","red","strong-red","deep-red"],l=t.map(t=>({id:t.value,title:t.label,items:t.data.map(t=>{const l={id:t.value,title:t.label,amt:0,cnt:0,graph:{data:[],labels:[],colors:[],amt:[],cnt:[],tooltip:{titles:[],titleFontSize:10},xAxes:{display:!1},yAxes:{display:!1}}},i=e.filter(e=>e.reportid===t.value);return N.sortBy(i,t=>["0-5","6-15","16-30","Over 30"].indexOf(t.dateIndex)).forEach((t,e)=>{const i=a.find(e=>e.dateIndex===t.dateIndex);l.graph.colors.push(i?"green-light":n[e]),"total"===t.dateIndex?(l.amt=+t.amt,l.cnt=+t.cnt):(l.graph.labels.push(i?i.label:t.dateIndex),l.graph.amt.push(+t.amt),l.graph.cnt.push(+t.cnt))}),!l.amt&&l.graph.amt.length&&(l.amt=l.graph.amt[l.graph.amt.length-1]),!l.cnt&&l.graph.cnt.length&&(l.cnt=l.graph.cnt[l.graph.cnt.length-1]),l})}));this._sidebarData$.next(l)})}),this.sub=this.selectedStore$.pipe(Object(F.a)(t=>!!t),Object(j.a)(t=>t.id),Object(T.a)(this.filterData.value$)).subscribe(([t,{report:e}])=>{this.dataApi.getStoreTrendData({store:t,report:e}).subscribe(({data:e})=>{this._selectedStoreData$.next({id:t,data:e})})})}}var V=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;background-color:#fff;width:40px;flex:0 0 40px;margin:-20px 20px -20px -20px;overflow:hidden;transition:width .5s ease,flex .5s ease;position:relative;box-shadow:2px 2px 5px 1px #c1bebe}.opened[_nghost-%COMP%]{width:430px;flex:0 0 430px}.opened[_nghost-%COMP%]   .sidebar-inner[_ngcontent-%COMP%]{width:430px;transform:translateX(0)}.opened[_nghost-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{right:12px}.opened[_nghost-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]:before{content:'\\e314'}.sidebar-inner[_ngcontent-%COMP%]{height:100%;width:430px;transform:translateX(-100%);transition:transform .5s ease}.sidebar-header[_ngcontent-%COMP%]{height:50px;display:flex;align-items:center;padding:5px 20px}.sidebar-body[_ngcontent-%COMP%]{height:calc(100% - 50px);overflow:auto}.sidebar-toggle[_ngcontent-%COMP%]{width:24px;height:24px;display:block;cursor:pointer;position:absolute;top:12px;right:8px;transition:right .5s ease;z-index:1}.sidebar-toggle[_ngcontent-%COMP%]:before{content:'\\e315';font-family:\"Material Icons\";font-size:24px;color:#747474;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.sidebar-label[_ngcontent-%COMP%]{color:#747474;font-size:14px;margin-left:10px}.info-block[_ngcontent-%COMP%]{display:flex;background-color:#fff;border-bottom:1px solid #ddd;padding:20px;min-height:120px;cursor:pointer}.info-block.selected[_ngcontent-%COMP%], .info-block[_ngcontent-%COMP%]:hover{background-color:#eee}.info-block-left[_ngcontent-%COMP%]{width:40%;flex:0 0 40%;position:relative;padding-right:15px;padding-bottom:30px}.info-block-right[_ngcontent-%COMP%]{width:60%;flex:0 0 60%;display:flex;align-items:flex-end}.info-block-heading[_ngcontent-%COMP%]{font-size:24px;font-weight:600;line-height:1.4;color:#404040;margin:0}.info-block-sum[_ngcontent-%COMP%]{font-size:24px;font-weight:500;line-height:1;color:#747474;position:absolute;left:0;bottom:0}.info-block-category[_ngcontent-%COMP%]{font-size:28px;color:#404040;font-weight:600;padding:15px 20px}"]],data:{}});function G(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,10,"div",[["class","info-block"]],[[2,"selected",null]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==(!t.context.$implicit.selected&&t.component.onItemClick(t.context.$implicit))&&l),l}),null,null)),(t()(),l["\u0275eld"](1,0,null,null,6,"div",[["class","info-block-left"]],null,null,null,null,null)),(t()(),l["\u0275eld"](2,0,null,null,1,"h4",[["class","info-block-heading"]],null,null,null,null,null)),(t()(),l["\u0275ted"](3,null,["",""])),(t()(),l["\u0275eld"](4,0,null,null,3,"span",[["class","info-block-sum"]],null,null,null,null,null)),(t()(),l["\u0275ted"](5,null,["",""])),l["\u0275ppd"](6,2),l["\u0275ppd"](7,3),(t()(),l["\u0275eld"](8,0,null,null,2,"div",[["class","info-block-right"]],null,null,null,null,null)),(t()(),l["\u0275eld"](9,0,null,null,1,"app-bar-chart",[],null,null,null,b.b,b.a)),l["\u0275did"](10,638976,null,0,m.a,[l.ElementRef,f.a],{config:[0,"config"]},null)],(function(t,e){t(e,10,0,e.context.$implicit.graph)}),(function(t,e){var n=e.component;t(e,0,0,e.context.$implicit.selected),t(e,3,0,e.context.$implicit.title);var a=l["\u0275unv"](e,5,0,n.isByUnits?t(e,6,0,l["\u0275nov"](e.parent.parent,0),e.context.$implicit.cnt,"cnt"):t(e,7,0,l["\u0275nov"](e.parent.parent,0),e.context.$implicit.amt,"abbr-money",1));t(e,5,0,a)}))}function B(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,1,"div",[["class","info-block-category"]],null,null,null,null,null)),(t()(),l["\u0275ted"](2,null,["",""])),(t()(),l["\u0275and"](16777216,null,null,1,null,G)),l["\u0275did"](4,278528,null,0,x.m,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,4,0,e.context.$implicit.items)}),(function(t,e){t(e,2,0,e.context.$implicit.title)}))}function L(t){return l["\u0275vid"](0,[l["\u0275pid"](0,v.a,[f.a,C.b]),(t()(),l["\u0275eld"](1,0,null,null,0,"button",[["class","sidebar-toggle"]],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.onToggle()&&l),l}),null,null)),(t()(),l["\u0275eld"](2,0,null,null,11,"div",[["class","sidebar-inner"]],null,null,null,null,null)),(t()(),l["\u0275eld"](3,0,null,null,6,"div",[["class","sidebar-header"]],null,null,null,null,null)),(t()(),l["\u0275eld"](4,0,null,null,5,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"],[null,"focus"]],(function(t,e,n){var a=!0,i=t.component;return"focus"===e&&(a=!1!==l["\u0275nov"](t,6)._inputElement.nativeElement.focus()&&a),"change"===e&&(a=!1!==i.onByUnitsChange(n.checked)&&a),a}),O.b,O.a)),l["\u0275prd"](5120,null,M.q,(function(t){return[t]}),[P.b]),l["\u0275did"](6,1228800,null,0,P.b,[l.ElementRef,_.h,l.ChangeDetectorRef,[8,null],l.NgZone,P.a,[2,y.a],[2,k.b]],{checked:[0,"checked"]},{change:"change"}),(t()(),l["\u0275eld"](7,0,null,0,2,"span",[["class","sidebar-label"]],null,null,null,null,null)),(t()(),l["\u0275ted"](8,null,["",""])),l["\u0275pid"](131072,w.i,[w.j,l.ChangeDetectorRef]),(t()(),l["\u0275eld"](10,0,null,null,3,"div",[["class","sidebar-body"]],null,null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,2,null,B)),l["\u0275did"](12,278528,null,0,x.m,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),l["\u0275pid"](131072,x.b,[l.ChangeDetectorRef])],(function(t,e){var n=e.component;t(e,6,0,n.isByUnits),t(e,12,0,l["\u0275unv"](e,12,0,l["\u0275nov"](e,13).transform(n.data$)))}),(function(t,e){var n=e.component;t(e,4,0,l["\u0275nov"](e,6).id,l["\u0275nov"](e,6).disabled?null:-1,l["\u0275nov"](e,6).checked,l["\u0275nov"](e,6).disabled,"before"==l["\u0275nov"](e,6).labelPosition,"NoopAnimations"===l["\u0275nov"](e,6)._animationMode),t(e,8,0,l["\u0275unv"](e,8,0,l["\u0275nov"](e,9).transform(n.i18n+"sidebar.view-by-units.label")))}))}var X=n("zXMq"),Z=n("2Vgt"),W=n("+2T5"),q=n("S5eV"),K=n("zeHk"),J=n("+bil"),H=n("S+vS"),Y=n("ChPW"),Q=n("Lxd7"),tt=n("IqdZ"),et=n("TUN4"),nt=n("K5C0"),lt=n("mvzq");class at{constructor(t,e){this.translate=t,this.dataService=e,this.i18n=a,this.isOpened=!0,this.chartClick=new l.EventEmitter,this.subs=[]}set sub(t){this.subs.push(t)}ngOnInit(){this.data$=this.dataService.bottomBarData$,this.initSubscriptions()}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe())}onToggle(){this.isOpened=!this.isOpened}onChartClick(t){this.chartClick.emit(t.data)}initSubscriptions(){this.sub=this.dataService.selectedStore$.subscribe(t=>this.selectedStore=t)}}var it=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;flex:0 0 40px;transition:flex .5s ease}.opened[_nghost-%COMP%]{flex:0 0 275px}.bottom-bar-header[_ngcontent-%COMP%]{height:40px;padding:5px 20px;display:flex;align-items:center;border-top:1px solid #ddd}  .opened .bottom-bar-header{border-top:none;border-bottom:1px solid #ddd}.bottom-bar-body[_ngcontent-%COMP%]{height:0;overflow:hidden;transition:height .5s ease}  .opened .bottom-bar-body{height:calc(100% - 40px)}.bottom-bar-trigger[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#747474;cursor:pointer;position:relative;padding-left:24px;text-transform:uppercase}.bottom-bar-trigger[_ngcontent-%COMP%]:before{content:'\\e316';font-family:\"Material Icons\";font-size:24px;color:inherit;cursor:inherit;display:inline-block;position:absolute;left:0;top:50%;transform:translateY(-54%)}  .opened .bottom-bar-trigger:before{content:'\\e313'}.store-details[_ngcontent-%COMP%]{height:100%}.store-details-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;padding:10px 20px 5px;height:50px}.store-details-body[_ngcontent-%COMP%]{height:calc(100% - 50px);padding:0 20px 10px}.store-details-heading[_ngcontent-%COMP%]{margin:10px 0 0;font-size:16px;font-weight:500;color:#404040}app-bar-chart[_ngcontent-%COMP%]{max-height:175px;transform:translateY(10px)}"]],data:{}});function ot(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","bottom-bar-header"]],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,2,"button",[["class","bottom-bar-trigger"]],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.onToggle()&&l),l}),null,null)),(t()(),l["\u0275ted"](2,null,["",""])),l["\u0275pid"](131072,w.i,[w.j,l.ChangeDetectorRef]),(t()(),l["\u0275eld"](4,0,null,null,11,"div",[["class","bottom-bar-body"]],null,null,null,null,null)),(t()(),l["\u0275eld"](5,0,null,null,10,"div",[["class","store-details"]],null,null,null,null,null)),(t()(),l["\u0275eld"](6,0,null,null,5,"div",[["class","store-details-header"]],null,null,null,null,null)),(t()(),l["\u0275eld"](7,0,null,null,4,"div",[["class","store-details-header-left"]],null,null,null,null,null)),(t()(),l["\u0275eld"](8,0,null,null,3,"h3",[["class","store-details-heading"]],null,null,null,null,null)),(t()(),l["\u0275ted"](9,null,[" ",": "," "])),l["\u0275pid"](131072,w.i,[w.j,l.ChangeDetectorRef]),l["\u0275pid"](131072,w.i,[w.j,l.ChangeDetectorRef]),(t()(),l["\u0275eld"](12,0,null,null,3,"div",[["class","store-details-body"]],null,null,null,null,null)),(t()(),l["\u0275eld"](13,0,null,null,2,"app-bar-chart",[],null,[[null,"chartClick"]],(function(t,e,n){var l=!0;return"chartClick"===e&&(l=!1!==t.component.onChartClick(n)&&l),l}),b.b,b.a)),l["\u0275did"](14,638976,null,0,m.a,[l.ElementRef,f.a],{config:[0,"config"]},{chartClick:"chartClick"}),l["\u0275pid"](131072,x.b,[l.ChangeDetectorRef])],(function(t,e){var n=e.component;t(e,14,0,l["\u0275unv"](e,14,0,l["\u0275nov"](e,15).transform(n.data$)))}),(function(t,e){var n=e.component;t(e,2,0,l["\u0275unv"](e,2,0,l["\u0275nov"](e,3).transform(n.i18n+(n.isOpened?"bottom-bar.expand.label":"bottom-bar.collapse.label")))),t(e,9,0,l["\u0275unv"](e,9,0,l["\u0275nov"](e,10).transform(n.i18n+"bottom-bar.header.store.label")),n.selectedStore?n.selectedStore.storeName:l["\u0275unv"](e,9,1,l["\u0275nov"](e,11).transform(n.i18n+"bottom-bar.header.store.all.label")))}))}var rt=n("pCim"),st=n("/gN3"),ct=n("VHTt"),dt=n("BTBr");class ut{constructor(t,e,n,l,i,o,r){this.document=t,this.router=e,this.route=n,this.translate=l,this.tracking=i,this.filterData=o,this.dataService=r,this.i18n=a,this.allowPagination=!1,this.visible=!1,this.subs=[]}set sub(t){this.subs.push(t)}ngOnInit(){this.filterData.setCurrentPage(rt.b.Summary),this.filterData.showFilters(["group","report","opsfilter"]),this.dataService.init(),this.loading$=this.dataService.loading$,this.initGridOptions(),this.initStreams(),this.initSubscriptions()}ngOnDestroy(){this.dataService.destroy(),this.subs.forEach(t=>t.unsubscribe())}onCellClick(t){this.dataService.selectStore(t.data)}viewByStore(t){this.router.navigate(["..","by-store"],{relativeTo:this.route.parent}).then(()=>{this.filterData.updateValue({store:t.storeId}),t.filter&&this.filterData.setViewTypeFilter(t.filter)})}onTrackTableChanges(){this.trackAction(dt.a.Load,this.table.grid)}exportDataAs(t){const e=(new Date).toDateString(),n=this.filterData.getFiltersListItems();this.sub=this.translate.get(a+"byPage.export.file-name").subscribe(l=>{const a=l+" "+e;switch(t){case ct.a.XLS:this.table.exportDataAsXls(a,n),this.trackAction(dt.a.ExportXls,this.table.grid);break;case ct.a.PDF:this.table.exportDataAsPdf(a,n,()=>this.trackAction(dt.a.ExportPdf,this.table.grid))}})}trackAction(t,e){const n=this.filterData.getFiltersListItems();this.tracking.log({page:dt.b.Operations,section:dt.c.Summary,event:t,params:n,grid:e})}initStreams(){this.selectedReport$=this.filterData.selectedReport$.pipe(Object(R.a)(this.filterData.reports$),Object(j.a)(([t,e])=>e.find(e=>e.value===t)))}defineColumnsforGrid(t){this.sub=this.translate.get(["grid.column.store-name","grid.column.current-amount","grid.column.count","grid.column.gross"].map(t=>a+t)).subscribe(e=>{this.visible="7"===t&&!1===this.filterData.isHAG,this.columns=[new st.a({field:"storeName",name:e[a+"grid.column.store-name"],labelFormat:st.d.Default,filter:st.c.String,align:st.b.Left}),new st.a({field:"amt",name:e[a+"grid.column.current-amount"],labelFormat:st.d.Money,filter:st.c.NumberRange,align:st.b.Right}),new st.a({field:"grs",name:e[a+"grid.column.gross"],labelFormat:st.d.Money,filter:st.c.NumberRange,align:st.b.Right,hide:!this.visible}),new st.a({field:"cnt",name:e[a+"grid.column.count"],labelFormat:st.d.Integer,filter:st.c.NumberRange,align:st.b.Right})]})}initSubscriptions(){this.sub=this.filterData.showGross$.subscribe(t=>{let e="1";void 0!==t&&(e=t),this.defineColumnsforGrid(e)}),this.sub=this.dataService.storesData$.subscribe(t=>{this.data=t,this.allowPagination=this.data.length>1e3,this.trackAction(dt.a.Load)}),this.sub=this.dataService.selectedStore$.subscribe(t=>{!t&&this.table&&this.table.agGrid&&this.table.agGrid.api&&(this.table.agGrid.api.deselectAll(),this.table.agGrid.api.clearFocusedCell())})}initGridOptions(){this.options={rowSelection:"single"}}}var pt=n("iInd"),ht=l["\u0275crt"]({encapsulation:0,styles:[[".grid-wrapper[_ngcontent-%COMP%]{width:100%;flex:1 1 100%;height:100%;max-width:100%;background-color:#fff;box-shadow:2px 2px 5px 1px #c1bebe}.top-controls-block[_ngcontent-%COMP%]{height:60px;display:flex;justify-content:space-between}.top-controls-block-left[_ngcontent-%COMP%]{width:calc(100% - 160px);flex:1 1 calc(100% - 160px);padding:20px 20px 10px;display:flex;align-items:center}.top-controls-block-right[_ngcontent-%COMP%]{width:160px;flex:1 0 160px;padding:20px 20px 10px;display:flex;align-items:center;justify-content:flex-end}.top-controls-block-heading[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#404040;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.filters-block[_ngcontent-%COMP%]{height:70px;padding:10px 20px 20px}.grid-block[_ngcontent-%COMP%]{display:flex}.grid-block-content[_ngcontent-%COMP%]{width:calc(100% - 40px);flex:1 0 calc(100% - 40px);position:relative}.grid-block-content[_ngcontent-%COMP%]   app-default-grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;will-change:auto;transition:all .5s ease;transform:translate3d(0,0,0)}.grid-block-sidebar[_ngcontent-%COMP%]{width:40px;flex:0 0 40px;border-left:1px solid #ddd}.grid-block-more-info-trigger[_ngcontent-%COMP%]{display:block;height:60px;cursor:pointer;position:relative}.grid-block-more-info-trigger[_ngcontent-%COMP%]:before{content:'\\E5D4';font-family:\"Material Icons\";font-size:24px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.grid-block-more-info-trigger.opened[_ngcontent-%COMP%]:before{content:'\\E5D3'}.top-control-btn[_ngcontent-%COMP%]{color:#5b5b5b;cursor:pointer;margin-left:20px;margin-top:-2px;display:inline-block}.top-control-label[_ngcontent-%COMP%]{color:#747474;font-size:14px;margin-left:10px}.mat-checked[_ngcontent-%COMP%]   .top-control-label[_ngcontent-%COMP%]{color:#2196f3}.tabs-block[_ngcontent-%COMP%]{height:60px;padding:10px 20px 16px}.tab[_ngcontent-%COMP%]{display:inline-block;height:34px;line-height:34px;border-radius:17px;padding-left:15px;padding-right:15px;color:#404040;font-size:14px;font-weight:500;background-color:#e5e5e5;cursor:pointer}.tab.active[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]:hover{color:#3498db;background-color:#e2eff8}.tab[_ngcontent-%COMP%]:not(:last-child){margin-right:15px}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 0 10px;height:45px}.modal-header-right[_ngcontent-%COMP%]   .top-control-btn[_ngcontent-%COMP%]:last-child{margin-right:-4px}.modal-header.with-outer-padding-overwrite[_ngcontent-%COMP%]{margin-top:-19px;margin-left:-19px;margin-right:-19px;padding:10px 20px}.modal-header.with-padding[_ngcontent-%COMP%]{padding:10px 20px}.modal-body[_ngcontent-%COMP%]{height:calc(100% - 45px);position:relative}.modal-body.with-footer[_ngcontent-%COMP%]{height:calc(100% - 45px - 50px)}.modal-body.full-height[_ngcontent-%COMP%]{height:100%}.modal-body.with-min-size[_ngcontent-%COMP%]{min-width:850px;min-height:300px;margin-left:-19px;margin-right:-19px}.modal-body.with-outer-padding-overwrite[_ngcontent-%COMP%]{margin-left:-19px;margin-right:-19px;margin-bottom:-19px}.modal-body[_ngcontent-%COMP%]   app-default-grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}.modal-footer[_ngcontent-%COMP%]{height:50px;display:flex;align-items:center;justify-content:flex-end;background:#eee;margin:0 -19px -19px;padding:0 19px}.modal-footer-text[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#404040;padding-right:15px}.modal-footer-text.last[_ngcontent-%COMP%]{padding-left:15px;padding-right:0}.modal-footer-text.last[_ngcontent-%COMP%]:before{content:'|';position:relative;left:-13px}.modal-heading[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.fi-list[_ngcontent-%COMP%]{display:flex;margin:25px 0;padding:15px 0;border-bottom:1px solid #ddd}.fi-list.single[_ngcontent-%COMP%]{padding:5px 0;margin:0;border-bottom:0}.fi-list-item[_ngcontent-%COMP%]{width:33%;flex:0 0 33%;padding:0 5px}.single[_ngcontent-%COMP%]   .fi-list-item[_ngcontent-%COMP%]:nth-of-type(1){padding-left:0}.single[_ngcontent-%COMP%]   .fi-list-item[_ngcontent-%COMP%]:nth-of-type(3){padding-right:0}.penetration-list.horizontal[_ngcontent-%COMP%]{display:flex;align-items:center}.penetration-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin:25px 0;padding:15px 0 30px;border-bottom:1px solid #ddd}.horizontal[_ngcontent-%COMP%]   .penetration-item[_ngcontent-%COMP%]{width:50%;flex:0 0 50%;padding:10px 15px 10px 0;margin:0;border-bottom:none}.penetration-title[_ngcontent-%COMP%]{width:30%;flex:0 0 30%;font-size:14px;color:#404040;padding-right:5px;overflow:hidden;text-overflow:ellipsis}.penetration-graph[_ngcontent-%COMP%]{width:50%;flex:0 0 50%;padding:0 5px}.penetration-rank[_ngcontent-%COMP%]{width:20%;flex:0 0 20%;padding:0 5px;text-align:center}.chargeback[_ngcontent-%COMP%]{text-align:center;margin:50px 0 30px}.chargeback[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{margin:0 0 5px;font-size:20px;font-weight:600}.chargeback-value[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#404040}.control-btn-settings[_ngcontent-%COMP%]{display:inline-block;width:24px;height:24px;position:relative;cursor:pointer}.control-btn-settings[_ngcontent-%COMP%]:before{content:'\\e8b8';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#5b5b5b;font-size:24px;font-family:\"Material Icons\"}.drill-info[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;list-style:none;padding:0;margin:0}.drill-info-item[_ngcontent-%COMP%]{color:#404040;font-size:14px;margin-right:25px}.drill-info-label[_ngcontent-%COMP%]{font-weight:400}.drill-info-value[_ngcontent-%COMP%]{font-weight:500}[_nghost-%COMP%]{display:flex;height:100%}.grid-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 60px);position:relative}.grid-block[_ngcontent-%COMP%]   app-default-grid[_ngcontent-%COMP%]{will-change:auto;transition:all .5s ease;transform:translate3d(0,0,0);flex:1 1 auto;overflow:hidden}"]],data:{}});function gt(t){return l["\u0275vid"](0,[l["\u0275qud"](402653184,1,{table:0}),(t()(),l["\u0275eld"](1,0,null,null,1,"app-sidebar",[],[[2,"opened",null]],null,null,L,V)),l["\u0275did"](2,114688,null,0,D,[S.a,U],null,null),(t()(),l["\u0275eld"](3,0,null,null,17,"div",[["class","grid-wrapper"]],null,null,null,null,null)),(t()(),l["\u0275eld"](4,0,null,null,9,"div",[["class","top-controls-block"]],null,null,null,null,null)),(t()(),l["\u0275eld"](5,0,null,null,4,"div",[["class","top-controls-block-left"]],null,null,null,null,null)),(t()(),l["\u0275eld"](6,0,null,null,3,"h3",[["class","top-controls-block-heading"]],null,null,null,null,null)),(t()(),l["\u0275ted"](7,null,["",": ",""])),l["\u0275pid"](131072,w.i,[w.j,l.ChangeDetectorRef]),l["\u0275pid"](131072,x.b,[l.ChangeDetectorRef]),(t()(),l["\u0275eld"](10,0,null,null,3,"div",[["class","top-controls-block-right"]],null,null,null,null,null)),(t()(),l["\u0275eld"](11,0,null,null,2,"app-export-buttons",[],[[2,"small",null]],[[null,"dataExport"]],(function(t,e,n){var l=!0;return"dataExport"===e&&(l=!1!==t.component.exportDataAs(n)&&l),l}),X.b,X.a)),l["\u0275did"](12,114688,null,0,Z.a,[W.a],{disabled:[0,"disabled"]},{dataExport:"dataExport"}),l["\u0275pid"](131072,x.b,[l.ChangeDetectorRef]),(t()(),l["\u0275eld"](14,0,null,null,6,"div",[["class","grid-block"]],null,null,null,null,null)),(t()(),l["\u0275eld"](15,0,null,null,3,"app-default-grid",[],null,[[null,"onTrackChanges"],[null,"cellClick"]],(function(t,e,n){var l=!0,a=t.component;return"onTrackChanges"===e&&(l=!1!==a.onTrackTableChanges()&&l),"cellClick"===e&&(l=!1!==a.onCellClick(n)&&l),l}),q.b,q.a)),l["\u0275prd"](512,null,K.a,K.a,[J.a,H.a,Y.a,w.j,Q.a]),l["\u0275did"](17,4964352,[[1,4]],0,tt.a,[f.a,K.a,et.a,nt.a,lt.a,C.b,W.a],{data:[0,"data"],columns:[1,"columns"],customGridOptions:[2,"customGridOptions"],loading:[3,"loading"],pagination:[4,"pagination"]},{cellClick:"cellClick",onTrackChanges:"onTrackChanges"}),l["\u0275pid"](131072,x.b,[l.ChangeDetectorRef]),(t()(),l["\u0275eld"](19,0,null,null,1,"app-bottom-bar",[],[[2,"opened",null]],[[null,"chartClick"]],(function(t,e,n){var l=!0;return"chartClick"===e&&(l=!1!==t.component.viewByStore(n)&&l),l}),ot,it)),l["\u0275did"](20,245760,null,0,at,[w.j,U],null,{chartClick:"chartClick"})],(function(t,e){var n=e.component;t(e,2,0),t(e,12,0,l["\u0275unv"](e,12,0,l["\u0275nov"](e,13).transform(n.loading$))),t(e,17,0,n.data,n.columns,n.options,l["\u0275unv"](e,17,3,l["\u0275nov"](e,18).transform(n.loading$)),n.allowPagination),t(e,20,0)}),(function(t,e){var n,a=e.component;t(e,1,0,l["\u0275nov"](e,2).isOpened),t(e,7,0,l["\u0275unv"](e,7,0,l["\u0275nov"](e,8).transform(a.i18n+"header.sub-caption")),null==(n=l["\u0275unv"](e,7,1,l["\u0275nov"](e,9).transform(a.selectedReport$)))?null:n.label),t(e,11,0,l["\u0275nov"](e,12).small),t(e,19,0,l["\u0275nov"](e,20).isOpened)}))}function bt(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,gt,ht)),l["\u0275did"](1,245760,null,0,ut,[x.d,pt.o,pt.a,w.j,Y.a,S.a,U],null,null)],(function(t,e){t(e,1,0)}),null)}var mt=l["\u0275ccf"]("ng-component",ut,bt,{},{},[]),ft=n("POq0"),xt=n("cUpR"),vt=n("Xd0L"),Ct=n("QQfA"),Ot=n("s6ns"),Mt=n("821u"),Pt=n("/HVE"),_t=n("IheW"),yt=n("Mz6y"),kt=n("xxE9"),wt=n("XpwZ"),Dt=n("yK5/"),St=n("Fwaw"),$t=n("zMNK"),Ft=n("hOhj"),Rt=n("l0Bn"),jt=n("kPC6"),It=n("SXLW"),At=n("tdaM"),Tt=n("0sx3"),Et=n("Cr+6"),zt=n("xSwO"),Nt=n("iTUp"),Ut=n("aBBA");n.d(e,"SummaryModuleNgFactory",(function(){return Vt}));var Vt=l["\u0275cmf"](i,[],(function(t){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,r.a,s.b,s.a,c.a,d.a,u.a,p.a,h.a,g.a,mt]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,x.p,x.o,[l.LOCALE_ID,[2,x.G]]),l["\u0275mpd"](4608,ft.c,ft.c,[]),l["\u0275mpd"](4608,xt.e,vt.c,[[2,vt.g],[2,vt.l]]),l["\u0275mpd"](4608,M.F,M.F,[]),l["\u0275mpd"](4608,Ct.c,Ct.c,[Ct.i,Ct.e,l.ComponentFactoryResolver,Ct.h,Ct.f,l.Injector,l.NgZone,x.d,k.b,[2,x.i]]),l["\u0275mpd"](5120,Ct.j,Ct.k,[Ct.c]),l["\u0275mpd"](5120,Ot.c,Ot.d,[Ct.c]),l["\u0275mpd"](135680,Ot.e,Ot.e,[Ct.c,l.Injector,[2,x.i],[2,Ot.b],Ot.c,[3,Ot.e],Ct.e]),l["\u0275mpd"](4608,Mt.i,Mt.i,[]),l["\u0275mpd"](5120,Mt.a,Mt.b,[Ct.c]),l["\u0275mpd"](4608,vt.a,vt.v,[[2,vt.f],Pt.a]),l["\u0275mpd"](4608,_t.k,_t.q,[x.d,l.PLATFORM_ID,_t.o]),l["\u0275mpd"](4608,_t.r,_t.r,[_t.k,_t.p]),l["\u0275mpd"](5120,_t.a,(function(t){return[t]}),[_t.r]),l["\u0275mpd"](4608,_t.n,_t.n,[]),l["\u0275mpd"](6144,_t.l,null,[_t.n]),l["\u0275mpd"](4608,_t.j,_t.j,[_t.l]),l["\u0275mpd"](6144,_t.b,null,[_t.j]),l["\u0275mpd"](4608,_t.f,_t.m,[_t.b,l.Injector]),l["\u0275mpd"](4608,_t.c,_t.c,[_t.f]),l["\u0275mpd"](4608,et.a,et.a,[C.b]),l["\u0275mpd"](5120,yt.b,yt.c,[Ct.c]),l["\u0275mpd"](4608,U,U,[S.a,kt.a,wt.a,Dt.a,w.j,f.a]),l["\u0275mpd"](1073742336,x.c,x.c,[]),l["\u0275mpd"](1073742336,pt.s,pt.s,[[2,pt.x],[2,pt.o]]),l["\u0275mpd"](1073742336,w.g,w.g,[]),l["\u0275mpd"](1073742336,P.d,P.d,[]),l["\u0275mpd"](1073742336,k.a,k.a,[]),l["\u0275mpd"](1073742336,vt.l,vt.l,[[2,vt.d],[2,xt.f]]),l["\u0275mpd"](1073742336,Pt.b,Pt.b,[]),l["\u0275mpd"](1073742336,vt.u,vt.u,[]),l["\u0275mpd"](1073742336,ft.d,ft.d,[]),l["\u0275mpd"](1073742336,P.c,P.c,[]),l["\u0275mpd"](1073742336,M.E,M.E,[]),l["\u0275mpd"](1073742336,M.m,M.m,[]),l["\u0275mpd"](1073742336,St.c,St.c,[]),l["\u0275mpd"](1073742336,$t.g,$t.g,[]),l["\u0275mpd"](1073742336,Ft.f,Ft.f,[]),l["\u0275mpd"](1073742336,Ct.g,Ct.g,[]),l["\u0275mpd"](1073742336,Ot.k,Ot.k,[]),l["\u0275mpd"](1073742336,_.a,_.a,[]),l["\u0275mpd"](1073742336,Mt.j,Mt.j,[]),l["\u0275mpd"](1073742336,vt.w,vt.w,[]),l["\u0275mpd"](1073742336,vt.n,vt.n,[]),l["\u0275mpd"](1073742336,_t.e,_t.e,[]),l["\u0275mpd"](1073742336,_t.d,_t.d,[]),l["\u0275mpd"](1073742336,Rt.a,Rt.a,[]),l["\u0275mpd"](1073742336,jt.a,jt.a,[]),l["\u0275mpd"](1073742336,It.AgGridModule,It.AgGridModule,[]),l["\u0275mpd"](1073742336,At.a,At.a,[]),l["\u0275mpd"](1073742336,Tt.a,Tt.a,[]),l["\u0275mpd"](1073742336,Et.a,Et.a,[]),l["\u0275mpd"](1073742336,yt.e,yt.e,[]),l["\u0275mpd"](1073742336,zt.a,zt.a,[]),l["\u0275mpd"](1073742336,Nt.a,Nt.a,[]),l["\u0275mpd"](1073742336,i,i,[Ut.a]),l["\u0275mpd"](256,vt.e,vt.i,[]),l["\u0275mpd"](256,_t.o,"XSRF-TOKEN",[]),l["\u0275mpd"](256,_t.p,"X-XSRF-TOKEN",[]),l["\u0275mpd"](1024,pt.m,(function(){return[[{path:"",component:ut}]]}),[])])}))},zXMq:function(t,e,n){"use strict";var l=n("8Y7J"),a=n("Mz6y"),i=n("QQfA"),o=n("hOhj"),r=n("/HVE"),s=n("5GAg"),c=n("IP0z"),d=n("cUpR"),u=n("TSSN"),p=n("SVse");n("2Vgt"),n("+2T5"),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return m}));var h=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:inline-block}.small[_nghost-%COMP%]{font-size:22px;vertical-align:initial}a[role=button][_ngcontent-%COMP%]{display:inline-block;vertical-align:text-top;color:#51606b}button[_ngcontent-%COMP%]{display:inline-block;width:24px;height:24px;position:relative;cursor:pointer;color:#5b5b5b;font-family:'Material Icons';font-size:24px;margin-right:20px}button[_ngcontent-%COMP%]:last-child{margin-right:0}button.export-pdf[_ngcontent-%COMP%]:before{content:'\\e415';font:inherit;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}button.export-excel[_ngcontent-%COMP%]:before{content:'\\e884';font:inherit;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]],data:{}});function g(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,0,"button",[["class","export-pdf"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.exportDataAsPdf()&&l),l}),null,null))],null,(function(t,e){t(e,0,0,e.component.disabled)}))}function b(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,16777216,null,null,2,"button",[["class","export-excel"]],[[8,"disabled",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(t,e,n){var a=!0,i=t.component;return"longpress"===e&&(a=!1!==l["\u0275nov"](t,1).show()&&a),"keydown"===e&&(a=!1!==l["\u0275nov"](t,1)._handleKeydown(n)&&a),"touchend"===e&&(a=!1!==l["\u0275nov"](t,1)._handleTouchend()&&a),"click"===e&&(a=!1!==i.exportDataAsXls()&&a),a}),null,null)),l["\u0275did"](1,212992,null,0,a.d,[i.c,l.ElementRef,o.e,l.ViewContainerRef,l.NgZone,r.a,s.c,s.h,a.b,[2,c.b],[2,a.a],[2,d.f]],{message:[0,"message"]},null),l["\u0275pid"](131072,u.i,[u.j,l.ChangeDetectorRef]),(t()(),l["\u0275and"](0,null,null,0))],(function(t,e){t(e,1,0,l["\u0275unv"](e,1,0,l["\u0275nov"](e,2).transform("header-icons.download-excel")))}),(function(t,e){t(e,0,0,e.component.disabled)}))}function m(t){return l["\u0275vid"](0,[(t()(),l["\u0275and"](16777216,null,null,1,null,g)),l["\u0275did"](1,16384,null,0,p.n,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,b)),l["\u0275did"](3,16384,null,0,p.n,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,(null==n.currentUser?null:n.currentUser.isExportPdfAvailable)&&n.pdf),t(e,3,0,(null==n.currentUser?null:n.currentUser.isExportExcelAvailable)&&n.xls)}),null)}}}]);