"use strict";(self.webpackChunkteck=self.webpackChunkteck||[]).push([[802],{13367:function(Dt,J,s){s.d(J,{m:function(){return u}});var f=s(97685),_=s(15671),d=s(43144),u=function(){function y(){(0,_.Z)(this,y)}return(0,d.Z)(y,null,[{key:"fileExtensionValidator",value:function(p){return function(D){var g=!0;if(D.value){var Z=D.value.name.split(".").pop();p.split(",").forEach(function(b){b.trim()===Z&&(g=!1)})}return g?{inValidExt:!0}:null}}},{key:"benchLevelValidator",value:function(p){var D=+p.value;if(isNaN(D)||""===p.value.trim())return{isNan:!0};if(isFinite(D)){var H=p.value.includes("."),E=p.value.split("."),N=(0,f.Z)(E,2),R=N[0],z=N[1];if(R.length<3||R.length>4)return{invalidNumber:!0};if(H&&!z||z&&1!==z.length)return{invalidNumber:!0}}return null}}]),y}()},6802:function(Dt,J,s){s.r(J),s.d(J,{VibrationOptimizerModule:function(){return _a}});var f=s(43144),_=s(15671),d=s(69808),u=s(93075),y=s(34594),S=s(47423),p=s(77093),D=s(23322),g=s(48966),Z=s(85899),b=s(88279),H=s(86087),E=s(81125),N=s(29772),R=s(74107),z=s(25245),Zt=s(30587),G=s(56121),V=s(23178),kt=s(66270),wt=s(73885),h=s(42585),At=s(60132),St=s(70167),Ft=s(89936),Lt=s(1302),It=s(16410),Ut=s(4806),Et=s(94579),Nt=s(28364),Yt=s(32807),Bt=s(33074),K=s(30325),Ht=s(89255),t=s(65542),j=s(94720),zt=s(52012),F=s(60136),L=s(57777),T=s(7625),x=s(46940),q=s(48924),Vt=s(13367),U=s(40520),$=s(591),dt=s(8929),k=s(57676),Y=s(58278),X=k.mb.vibrationOptimizer,tt=k.mb.vibrationComments,jt=k.mb.vibrationOptimizerPredictionsTracking,w=function(){var e=function(){function o(n,a){(0,_.Z)(this,o),this.http=n,this.mineStateService=a,this.fileUploaded$=new $.X(!1),this.predictionsResult$=new dt.xQ,this.recommendedFields$=new dt.xQ}return(0,f.Z)(o,[{key:"uploadFile",value:function(a){var l=(new U.WM).append("Accept-Language",Y.n.ES);return this.http.post((0,k.FP)(this.mineStateService.getSelectedMineArea(),X),a,{headers:l})}},{key:"getPredictions",value:function(a){var l=(new U.WM).append("Accept-Language",Y.n.ES);return this.http.post((0,k.FP)(this.mineStateService.getSelectedMineArea(),X)+"".concat(this.predictionUIID,"/"),a,{headers:l})}},{key:"getPredictionsHistory",value:function(a,l){var i={params:{page:a.toString(),page_size:l.toString()},headers:(new U.WM).append("Accept-Language",Y.n.ES)};return this.http.get((0,k.FP)(this.mineStateService.getSelectedMineArea(),X),i)}},{key:"getPredictionsTrackingHistory",value:function(){var a=(new U.WM).append("Accept-Language",Y.n.ES);return this.http.get((0,k.FP)(this.mineStateService.getSelectedMineArea(),jt),{headers:a})}},{key:"getComment",value:function(a){var l={headers:(new U.WM).append("Accept-Language",Y.n.ES)};return this.http.get((0,k.FP)(this.mineStateService.getSelectedMineArea(),tt)+"".concat(a,"/"),l)}},{key:"deleteComment",value:function(a){var l={headers:(new U.WM).append("Accept-Language",Y.n.ES)};return this.http.delete((0,k.FP)(this.mineStateService.getSelectedMineArea(),tt)+"".concat(a,"/"),l)}},{key:"updateComment",value:function(a,l){var i=(new U.WM).append("Accept-Language",Y.n.ES);return this.http.put((0,k.FP)(this.mineStateService.getSelectedMineArea(),tt)+"".concat(a,"/"),l,{headers:i})}}]),o}();return e.\u0275fac=function(n){return new(n||e)(t.LFG(U.eN),t.LFG(j.Hj))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),mt={chepiquillaStation:{vibrationValue:null,threshold95perc:null,threshold3mm:null},urmenetaStation:{vibrationValue:null,threshold95perc:null,threshold3mm:null},elToroStation:{vibrationValue:null,threshold95perc:null,threshold3mm:null},mataderoStation:{vibrationValue:null,threshold95perc:null,threshold3mm:null}},I="vibrationTranslation.result_block_station.",O="vibrationTranslation.input_title.",Rt=[{label:"4-5",value:"4-5"},{label:"6-7",value:"6-7"},{label:"8-11",value:"8-11"},{label:"12-23",value:"12-23"},{label:"24+",value:"24+"}],Wt={label:"predictionTable.vibration_compliance.actual_<_predicted",color:"#4FA630",textColor:"#4FA630"},Jt={label:"predictionTable.vibration_compliance.actual_>_predicted",color:"#FFB1B1",textColor:"#FFB1B1"},$t={label:"predictionTable.no_data",color:"#E5E5E5",textColor:"#E5E5E5"},P=s(21347),gt=s(22451),Qt=["blastFullName","blastActualDateFired","vibrationChepiquilla","vibrationUrmeneta","vibrationElToro","vibrationMatadero"],Gt=[{property:"blastFullName",name:"predictionTable.vibration_prediction.blast_name",isLink:!0,pipes:[]},{property:"blastActualDateFired",name:"predictionTable.vibration_prediction.blast_date",pipes:[{token:"dateFormatter",args:[P.q.CDA,gt.a.DEFAULT_CDA]}]}],Kt=[{property:"vibrationChepiquilla",name:"predictionTable.vibration_prediction.vibration_chepiquilla",isUsedForComplianceCheck:!0,pipes:[{token:"customNumber"}]},{property:"vibrationUrmeneta",name:"predictionTable.vibration_prediction.vibration_urmeneta",isUsedForComplianceCheck:!0,pipes:[{token:"customNumber"}]},{property:"vibrationElToro",name:"predictionTable.vibration_prediction.vibration_el_toro",isUsedForComplianceCheck:!0,pipes:[{token:"customNumber"}]},{property:"vibrationMatadero",name:"predictionTable.vibration_prediction.vibration_matadero",isUsedForComplianceCheck:!0,pipes:[{token:"customNumber"}]}],Xt=["invalidData","createdAt","filename","comment","actualDepth","explosivesPerHole","stemming","delayBetweenHolesDetonation","vibrationPpvChepiquilla","vibrationUrmeneta","vibrationElToro","vibrationMatadero","export","blastDuration"],te=[{key:"createdAt",header:"Fecha de C\xe1lculo",cell:function(o){return"".concat(x.Ov.transformToMineUTCTimeZone(P.q.CDA,o.createdAt,gt.a.DATE_TIME_CDA))}},{key:"filename",header:"Nombre del Archivo",cell:function(o){return"".concat(o.filename)}},{key:"comment",header:"Comentario",cell:function(){return""}},{key:"actualDepth",header:"Profundidad Media del Pozo, m ",cell:function(o){return"".concat(o.actualDepth)}},{key:"explosivesPerHole",header:"Explosivo por Pozo, kg",cell:function(o){return"".concat(o.explosivesPerHole)}},{key:"stemming",header:"Taco, m",cell:function(o){return"".concat(o.stemming)}},{key:"delayBetweenHolesDetonation",header:"Retardo, ms",cell:function(o){return"".concat(o.delayBetweenHolesDetonation)}},{key:"vibrationPpvChepiquilla",header:"Vibraci\xf3n PPV Chepiquilla, mm/s",cell:function(o){return"".concat(o.vibrationChepiquilla)}},{key:"vibrationUrmeneta",header:"Vibraci\xf3n PPV Urmeneta, mm/s",cell:function(o){return"".concat(o.vibrationUrmeneta)}},{key:"vibrationElToro",header:"Vibraci\xf3n PPV El Toro, mm/s",cell:function(o){return"".concat(o.vibrationElToro)}},{key:"vibrationMatadero",header:"Vibraci\xf3n PPV Matadero, mm/s",cell:function(o){return"".concat(o.vibrationMatadero)}},{key:"export",header:""},{key:"blastDuration",header:"Duraci\xf3n de la Tronadura, ms ",cell:function(o){return"".concat(o.blastDuration)}}],ee=[{key:"invalidData",header:"",cell:function(o){return o.invalidData}}],ut=function(){var e=function(){function o(){(0,_.Z)(this,o),this.rowsConfig=[{key:"chepiquillaStation",label:"".concat(I)+"chepiquillaStation"},{key:"urmenetaStation",label:"".concat(I)+"urmenetaStation"},{key:"elToroStation",label:"".concat(I)+"elToroStation"},{key:"mataderoStation",label:"".concat(I)+"mataderoStation"}],this.columnsConfig=[{property:"label",pipes:[]},{property:"vibrationValue",pipes:[{token:"fixTo",args:3},{token:"customNumber",args:"1.0-3"},{token:"detectNullValue"}]},{property:"threshold95perc",pipes:[{token:"fixTo",args:3},{token:"customNumber",args:"1.0-3"},{token:"detectNullValue"}]},{property:"threshold3mm",pipes:[{token:"fixTo",args:1},{token:"unit",args:"%"}]}]}return(0,f.Z)(o,[{key:"transformPredictions",value:function(a){return this.rowsConfig.map(function(l){return Object.assign(Object.assign({},l),a[l.key])})}},{key:"getColumnsConfig",value:function(){return this.columnsConfig}}]),o}();return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e}(),et=s(17489),W=s(16952),ft=function(){var e=function(){function o(n){(0,_.Z)(this,o),this.localizationLocalService=n}return(0,f.Z)(o,[{key:"getCharge",value:function(a){return a.map(function(l){return Object.assign({x:l.delay,y:l.instCharge},l)})}},{key:"getHolesBlasted",value:function(a){return a.map(function(l){return Object.assign({x:l.delay,y:l.holesBlasted},l)})}},{key:"getTooltip",value:function(a){return"\n        ".concat(this.localizationLocalService.translateText("vibrationTranslation.graph.tooltip_count"),": <b>").concat(a.holesBlasted,"</b><br/>\n        ").concat(this.localizationLocalService.translateText("vibrationTranslation.graph.tooltip_hole_ids"),": <b>").concat(a.holeIds,"</b><br/>\n        ").concat(this.localizationLocalService.translateText("vibrationTranslation.graph.tooltip_delay"),": <b>").concat(a.delay," ms</b><br/>\n        ").concat(this.localizationLocalService.translateText("vibrationTranslation.graph.tooltip_inst_charge"),": <b>").concat(a.instCharge," kg</b><br/>\n      ")}},{key:"getMaxByProp",value:function(a,l){var i=(0,et.maxBy)(a,l);return null==i?void 0:i[l]}},{key:"getChart",value:function(a){var l=this;return new V.kL({time:{useUTC:!0},chart:{height:650,zoomType:"xy",events:{load:function(){var r=l.getMaxByProp(this.series[1].points,"y");this.series[1].points.forEach(function(c){c.y===r&&c.update({color:"#F28484"})})}}},title:{style:{fontWeight:"500",fontSize:"12px"},text:l.localizationLocalService.translateText("vibrationTranslation.graph.title_holes_blasted")},subtitle:{style:{color:"#333333",fontWeight:"500"},floating:!0,y:310,text:l.localizationLocalService.translateText("vibrationTranslation.graph.title_inst_charge")},xAxis:[{type:null,title:{text:l.localizationLocalService.translateText("vibrationTranslation.graph.xAxis_text")}},{type:null,title:{text:l.localizationLocalService.translateText("vibrationTranslation.graph.xAxis_text")},offset:-304}],yAxis:[{title:{text:l.localizationLocalService.translateText("vibrationTranslation.graph.yAxis_title1")},height:200,max:l.getMaxByProp(a,"holesBlasted"),tickInterval:1},{title:{text:l.localizationLocalService.translateText("vibrationTranslation.graph.yAxis_title2")},top:343,height:200,offset:0}],plotOptions:{series:{states:{inactive:{enabled:!1}},cursor:"pointer"},column:{events:{legendItemClick:function(r){return r.preventDefault()}}}},tooltip:{useHTML:!0,style:{fontFamily:'"Rubik", "dabaha", sans-serif'},formatter:function(){return l.getTooltip(this.point)}},series:[{type:"column",name:l.localizationLocalService.translateText("vibrationTranslation.graph.series_hole_count"),data:l.getHolesBlasted(a),color:"#95CCFD",xAxis:1},{type:"column",name:l.localizationLocalService.translateText("vibrationTranslation.graph.series_detonation_delay"),data:l.getCharge(a),yAxis:1,color:"#BDDD9D"},{type:"column",name:l.localizationLocalService.translateText("vibrationTranslation.graph.series_max_amount"),color:"#F28484",id:"legendColor",grouping:!1}],credits:{enabled:!1},legend:{symbolRadius:0,itemMarginTop:15,itemStyle:{fontWeight:"normal"}}})}}]),o}();return e.\u0275fac=function(n){return new(n||e)(t.LFG(W.bM))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e}(),m=s(40714),B=s(48619),ne=B.C.DODGER_BLUE,oe=B.C.POLAR,ae=B.C.DODGER_BLUE_LIGHT,Q=B.C.SHUTTLE_GRAY,_t=function(){var e=function(){function o(n){(0,_.Z)(this,o),this.localizationLocalService=n}return(0,f.Z)(o,[{key:"getTooltip",value:function(a){return"\n        <b>".concat(this.localizationLocalService.translateText("vibrationTranslation.fragmentation_curve.fragmentation_legend"),"</b><br/>\n        ").concat(this.localizationLocalService.translateText("vibrationTranslation.fragmentation_curve.xAxis_title"),": ").concat(a.x,"<br/>\n        ").concat(this.localizationLocalService.translateText("vibrationTranslation.fragmentation_curve.passing"),": ").concat(a.y," %<br/>\n      ")}},{key:"getChart",value:function(a){var l=this;return new V.kL({chart:Object.assign(Object.assign({},m.j6.chartOptions("chart-container","line",[20,15,0,0])),{backgroundColor:oe}),title:{useHTML:!0,text:""},credits:{enabled:!1},legend:Object.assign(Object.assign({},m.j6.chartLegend({color:B.C.BLACK,fontWeight:"400"},!0)),{itemMarginTop:-3,margin:10}),tooltip:{formatter:function(){return l.getTooltip(this.point)}},xAxis:Object.assign(Object.assign({},m.j6.chartGridOptions(a.config.xAxis,0,100)),{title:Object.assign(Object.assign({},m.j6.axisTitleOptions(l.localizationLocalService.translateText("vibrationTranslation.fragmentation_curve.xAxis_title"))),{margin:10}),plotLines:[Object.assign(Object.assign({},m.j6.singleHoleAxisPlotLines(a.config.lessThanInch.x,-10)),{dashStyle:"Solid"}),m.j6.singleHoleAxisPlotLines(a.config.p80.x,10)],labels:Object.assign(Object.assign({},m.j6.chartLabelsOptions(Q)),{style:{fontSize:"12px"}})}),yAxis:Object.assign(Object.assign({},m.j6.chartGridOptions([0,100],0,10,-10)),{title:Object.assign(Object.assign({},m.j6.axisTitleOptions(l.localizationLocalService.translateText("vibrationTranslation.fragmentation_curve.yAxis_title"),!0,-90)),{margin:15}),plotLines:[Object.assign(Object.assign({},m.j6.axisPlotLines(a.config.lessThanInch.y,B.C.GULL_GREY,"Dash")),{label:{formatter:function(){return Number(a.config.lessThanInch.y).toFixed(1)},y:3,x:-30,style:{fontWeight:"500",color:Q}}}),Object.assign(Object.assign({},m.j6.axisPlotLines(a.config.p80.y,B.C.GULL_GREY,"Solid")),{label:{formatter:function(){return Number(a.config.p80.y).toFixed(0)},y:3,x:-20,style:{fontWeight:"500",color:Q}}})],plotBands:m.j6.createPlotBand(a.config.lessThanInch.y,a.config.p80.y,ae),labels:Object.assign(Object.assign({},m.j6.chartLabelsOptions(Q)),{style:{fontSize:"12px"}})}),series:[m.j6.chartSeriesOptions(a.data,"line",l.localizationLocalService.translateText("vibrationTranslation.fragmentation_curve.fragmentation_legend"),ne,!1)],responsive:{rules:[{condition:{maxWidth:280,maxHeight:150},chartOptions:{plotOptions:{series:{marker:{enabled:!1}}}}}]}})}}]),o}();return e.\u0275fac=function(n){return new(n||e)(t.LFG(W.bM))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),ie=s(21086),nt=s(27221),bt=s(40537),le=s(24850),re=function(){function e(o){(0,_.Z)(this,e),this.service=o,this.tableInfo$=new $.X(null),this.loading$=new $.X(!1),this.tableData$=new $.X(null)}return(0,f.Z)(e,[{key:"connect",value:function(){return this.tableData$.asObservable()}},{key:"disconnect",value:function(){this.tableData$.complete(),this.loading$.complete()}},{key:"tableData",get:function(){return this.tableData$.value},set:function(n){this.tableData$.next(n)}},{key:"loadHistory",value:function(n,a,l){var i=this;this.loading$.next(!0),this.service.getPredictionsHistory(n,a).pipe((0,nt.K)(function(){return(0,ie.of)([])}),(0,bt.x)(function(){return i.loading$.next(!1)}),(0,le.U)(function(r){return l&&r&&(r.results[0].updated=!0),r})).subscribe(function(r){i.tableInfo$.next({count:r.count,next:r.next,previous:r.previous}),i.tableData$.next(r.results)})}}]),e}(),vt=function(){var e=function(){function o(){(0,_.Z)(this,o)}return(0,f.Z)(o,[{key:"getConfig",value:function(a){return[{value:"rockDensity",label:O+"rockDensity",dataSource:a,pipes:[{token:"unit",args:m.Ab.getUnits("rockDensity",P.q.CDA)}]},{value:"ballMillWorkIndex",label:O+"ballMillWorkIndex",dataSource:a,pipes:[{token:"unit",args:m.Ab.getUnits("ballMillWorkIndex",P.q.CDA)}]},{value:"dropWeightIndex",label:O+"dropWeightIndex",dataSource:a,pipes:[{token:"detectNullValue"}]},{value:"explosivesAmount",label:O+"explosivesAmount",dataSource:a,pipes:[{token:"customNumber"},{token:"unit",args:m.Ab.getUnits("explosivesAmount",P.q.CDA)}]},{value:"maxLoadedHole",label:O+"maxLoadedHole",dataSource:a,pipes:[{token:"unit",args:m.Ab.getUnits("maxLoadedHole",P.q.CDA)}]},{value:"minLoadedHole",label:O+"minLoadedHole",dataSource:a,pipes:[{token:"unit",args:m.Ab.getUnits("minLoadedHole",P.q.CDA)}]},{value:"holesCount",label:O+"holesCount",dataSource:a,pipes:[{token:"detectNullValue"}]},{value:"missingHoles",label:O+"missingHoles",dataSource:a,pipes:[{token:"detectNullValue"}]},{value:"TDSO4",label:O+"TDSO4",dataSource:a,pipes:[{token:"unit",args:m.Ab.getUnits("TDSO4",P.q.CDA)}]},{value:"blastDuration",label:O+"blastDuration",dataSource:a,pipes:[{token:"customNumber"},{token:"unit",args:m.Ab.getUnits("blastDuration",P.q.CDA)}]}]}}]),o}();return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e}();function ce(e,o){if(1&e&&(t.TgZ(0,"h2"),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.Oqu(n("vibrationTranslation.input_data"))}}function se(e,o){if(1&e&&(t.TgZ(0,"h3",30),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij(" ",n("vibrationTranslation.block_model_dialog_title")," ")}}function pe(e,o){if(1&e&&(t.TgZ(0,"h4",31),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij(" ",n("vibrationTranslation.vibration")," ")}}function de(e,o){if(1&e&&(t.TgZ(0,"label",32),t._uU(1),t.qZA()),2&e){var n=o.$implicit,a=t.oxw();t.ekj("form__label--error",a.getFormControl("avgHoleDepth").touched&&!a.getFormControl("avgHoleDepth").valid),t.xp6(1),t.hij(" ",n("vibrationTranslation.avg_hole_depth"),", m: ")}}function me(e,o){if(1&e&&(t.TgZ(0,"span",33),t._uU(1),t.qZA()),2&e){var n=o.$implicit,a=t.oxw();t.ekj("warning-message",null==a.modalData.resultsData?null:a.modalData.resultsData.invalidFields.actualDepth),t.xp6(1),t.hij(" ",n("vibrationTranslation.recommended_hole_depth")," ")}}function ge(e,o){if(1&e&&(t.TgZ(0,"h4",31),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij(" ",n("vibrationTranslation.fragmentation")," ")}}function ue(e,o){if(1&e&&(t.TgZ(0,"label",34),t._uU(1),t.qZA()),2&e){var n=o.$implicit,a=t.oxw();t.ekj("form__label--error",a.getFormControl("factorCorrection").touched&&!a.getFormControl("factorCorrection").valid),t.xp6(1),t.hij(" ",n("vibrationTranslation.factor_correction"),": ")}}function fe(e,o){if(1&e&&(t.TgZ(0,"span",33),t._uU(1),t.TgZ(2,"sub"),t._uU(3,"4"),t.qZA(),t._uU(4),t.TgZ(5,"sub"),t._uU(6,"4"),t.qZA(),t._uU(7,": 1.4 "),t.qZA()),2&e){var n=o.$implicit,a=t.oxw();t.ekj("warning-message",null==a.modalData.resultsData?null:a.modalData.resultsData.invalidFields.factorCorrection),t.xp6(1),t.hij(" ",n("vibrationTranslation.recommended_factor_correction_below"),""),t.xp6(3),t.hij(": 1.2 ",n("vibrationTranslation.recommended_factor_correction_above"),"")}}function _e(e,o){if(1&e&&(t.TgZ(0,"label",35),t._uU(1),t.qZA()),2&e){var n=o.$implicit,a=t.oxw();t.ekj("form__label--error",a.getFormControl("factorX50").touched&&!a.getFormControl("factorX50").valid),t.xp6(1),t.hij(" ",n("vibrationTranslation.factor_x50"),": ")}}function be(e,o){if(1&e&&(t.TgZ(0,"span",33),t._uU(1),t.TgZ(2,"sub"),t._uU(3,"4"),t.qZA(),t._uU(4),t.TgZ(5,"sub"),t._uU(6,"4"),t.qZA(),t._uU(7,": 0.045 "),t.qZA()),2&e){var n=o.$implicit,a=t.oxw();t.ekj("warning-message",null==a.modalData.resultsData?null:a.modalData.resultsData.invalidFields.factorX50),t.xp6(1),t.hij(" ",n("vibrationTranslation.recommended_factor_x50_below"),""),t.xp6(3),t.hij(": 0.05 ",n("vibrationTranslation.recommended_factor_x50_above"),"")}}function ve(e,o){if(1&e&&(t.TgZ(0,"label",36),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij("",n("vibrationTranslation.select_file"),": ")}}function Ce(e,o){if(1&e&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&e){var n=t.oxw();t.xp6(1),t.hij(" ",n.getFormControl("file").value.name," ")}}function he(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij(" ",n("vibrationTranslation.choose_file")," ... ")}}function Oe(e,o){1&e&&(t.TgZ(0,"span"),t.YNc(1,he,2,1,"span",0),t.qZA())}function Me(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij(" ",n("vibrationTranslation.replace_file")," ... ")}}function Pe(e,o){1&e&&(t.TgZ(0,"span"),t.YNc(1,Me,2,1,"span",0),t.qZA())}function xe(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.Oqu(n("vibrationTranslation.wrong_file_extension"))}}function Te(e,o){1&e&&(t.TgZ(0,"div",38),t.YNc(1,xe,2,1,"span",0),t.qZA())}function ye(e,o){if(1&e&&(t.TgZ(0,"div",38)(1,"span"),t._uU(2),t.qZA()()),2&e){var n=t.oxw();t.xp6(2),t.Oqu(n.formErrorMessage)}}function De(e,o){if(1&e&&(t.TgZ(0,"button",39),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij(" ",n("global.cancel")," ")}}function Ze(e,o){if(1&e){var n=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){return t.CHM(n),t.oxw().uploadFile()}),t._uU(1),t.qZA()}if(2&e){var a=o.$implicit,l=t.oxw();t.Q6J("disabled",!l.form.valid||l.fileUploading||(null==l.form.controls.file.errors?null:l.form.controls.file.errors.inValidExt)||l.fileUploadingError),t.xp6(1),t.hij(" ",a("global.confirm")," ")}}var ke=function(){var e=function(o){(0,F.Z)(a,o);var n=(0,L.Z)(a);function a(l,i,r,c,M){var v;return(0,_.Z)(this,a),(v=n.call(this)).modalData=l,v.dialogRef=i,v.formBuilder=r,v.cdr=c,v.vibrationOptimizerService=M,v.fileUploading=!1,v.fileUploadingError=!1,v.formErrorMessage=null,v}return(0,f.Z)(a,[{key:"ngOnInit",value:function(){var i=this;this.initForm(),this.form.valueChanges.pipe((0,T.R)(this.destroy$)).subscribe(function(){i.fileUploadingError=!1,i.formErrorMessage=""})}},{key:"initForm",value:function(){this.form=this.formBuilder.group({avgHoleDepth:[null,{validators:[u.kI.pattern(q.onlyDigitsPatterns)]}],factorCorrection:[null,{validators:[u.kI.pattern(q.onlyDigitsPatterns)]}],factorX50:[null,{validators:[u.kI.pattern(q.onlyDigitsPatterns)]}],file:[null,{validators:[u.kI.required,Vt.m.fileExtensionValidator("csv, aqm")]}]}),this.modalData.blockModelInputData&&this.form.patchValue({file:this.modalData.blockModelInputData.file,avgHoleDepth:this.modalData.blockModelInputData.avgHoleDepth,factorCorrection:this.modalData.blockModelInputData.factorCorrection,factorX50:this.modalData.blockModelInputData.factorX50})}},{key:"getFormControl",value:function(i){return this.form.get(i)}},{key:"onFileSelect",value:function(i){var c=i.target;this.form.patchValue({file:i.target.files[0]}),this.getFormControl("file").updateValueAndValidity(),c.value=""}},{key:"uploadFile",value:function(){var i=this,r=new FormData;this.fileUploading=!0,this.fileUploadingError=!1,r.append("file",this.getFormControl("file").value),r.append("actual_depth",this.getFormControl("avgHoleDepth").value),r.append("factorCorrection",this.getFormControl("factorCorrection").value),r.append("factorX50",this.getFormControl("factorX50").value),this.vibrationOptimizerService.uploadFile(r).pipe((0,T.R)(this.destroy$)).subscribe(function(c){i.fileUploading=!1,i.vibrationOptimizerService.predictionUIID=c.uuid,i.vibrationOptimizerService.fileUploaded$.next(!0),i.vibrationOptimizerService.recommendedFields$.next(c.recommendedFields),i.vibrationOptimizerService.predictionsResult$.next(null),i.modalData.blockModelInputData=Object.assign(Object.assign({},c.blockModelData),{file:i.getFormControl("file").value,avgHoleDepth:c.recommendedFields.actualDepth.value,factorCorrection:c.recommendedFields.factorCorrection.value,factorX50:c.recommendedFields.factorX50.value,blastDuration:c.blastDuration}),i.closeModal(i.modalData.blockModelInputData),i.cdr.markForCheck()},function(c){i.fileUploadingError=!0,i.fileUploading=!1,i.formErrorMessage=c.error.errors,i.vibrationOptimizerService.predictionUIID=null,i.vibrationOptimizerService.fileUploaded$.next(!1),i.vibrationOptimizerService.predictionsResult$.next(null),i.cdr.markForCheck()})}},{key:"closeModal",value:function(i){this.dialogRef.close(i)}}]),a}(x.eO);return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.WI),t.Y36(g.so),t.Y36(u.qu),t.Y36(t.sBO),t.Y36(w))},e.\u0275cmp=t.Xpm({type:e,selectors:[["dabo-block-model-file-upload"]],features:[t.qOj],decls:41,vars:13,consts:[[4,"transloco"],[1,"fill-remaining-space"],["mat-dialog-close","",1,"icon","icon-close"],[3,"fxShow"],["color","primary","mode","indeterminate"],[1,"mat-dialog-content--small"],["fxFlex","100%","fxLayout","column"],["class","modal-content-title modal-content-title--small",4,"transloco"],["fxFlex","100%","fxLayout","column",3,"formGroup"],["class","modal-content-subtitle",4,"transloco"],["fxLayout","column",1,"form-field-wrapper","form-field-wrapper__recommended__field"],["class","form__label","for","avgHoleDepth",3,"form__label--error",4,"transloco"],["fxLayout","row","fxLayoutAlign","flex-start center"],["formControlName","avgHoleDepth","id","avgHoleDepth","maxlength","56","type","text",1,"base-text-input"],["class","recommended-data",3,"warning-message",4,"transloco"],["class","form__label","for","factorCorrection",3,"form__label--error",4,"transloco"],["formControlName","factorCorrection","id","factorCorrection","maxlength","56","type","text",1,"base-text-input"],["class","form__label","for","factorX50",3,"form__label--error",4,"transloco"],["formControlName","factorX50","id","factorX50","maxlength","56","type","text",1,"base-text-input"],["fxFlex","100","fxLayout","column",1,"form-field-wrapper"],["class","form__label mt-8 form__label--bold",4,"transloco"],["class","file-info",4,"ngIf"],["accept",".csv, .aqm","id","input-file-id","type","file",1,"hidden",3,"change"],["fileUpload",""],["mat-button","",1,"btn-upload","active","btn","btn--xs","btn--primary","btn--orange",3,"click"],[4,"ngIf"],["class","text-error",4,"ngIf"],["fxLayoutGap","12px"],["class","modal__btn btn btn--secondary","fxFlex","calc(50% - 10px)","mat-button","","mat-dialog-close","","tabindex","-1",4,"transloco"],["class","modal__btn btn btn--primary","fxFlex","calc(50% - 10px)","mat-button","",3,"disabled","click",4,"transloco"],[1,"modal-content-title","modal-content-title--small"],[1,"modal-content-subtitle"],["for","avgHoleDepth",1,"form__label"],[1,"recommended-data"],["for","factorCorrection",1,"form__label"],["for","factorX50",1,"form__label"],[1,"form__label","mt-8","form__label--bold"],[1,"file-info"],[1,"text-error"],["fxFlex","calc(50% - 10px)","mat-button","","mat-dialog-close","","tabindex","-1",1,"modal__btn","btn","btn--secondary"],["fxFlex","calc(50% - 10px)","mat-button","",1,"modal__btn","btn","btn--primary",3,"disabled","click"]],template:function(n,a){if(1&n){var l=t.EpF();t.TgZ(0,"mat-toolbar")(1,"mat-toolbar-row"),t.YNc(2,ce,2,1,"h2",0),t._UZ(3,"div",1)(4,"span",2),t.qZA()(),t.TgZ(5,"div",3),t._UZ(6,"mat-progress-bar",4),t.qZA(),t.TgZ(7,"mat-dialog-content",5)(8,"div",6),t.YNc(9,se,2,1,"h3",7),t.TgZ(10,"form",8),t.YNc(11,pe,2,1,"h4",9),t.TgZ(12,"div",10),t.YNc(13,de,2,3,"label",11),t.TgZ(14,"div",12),t._UZ(15,"input",13),t.YNc(16,me,2,3,"span",14),t.qZA()(),t.YNc(17,ge,2,1,"h4",9),t.TgZ(18,"div",10),t.YNc(19,ue,2,3,"label",15),t.TgZ(20,"div",12),t._UZ(21,"input",16),t.YNc(22,fe,8,4,"span",14),t.qZA()(),t.TgZ(23,"div",10),t.YNc(24,_e,2,3,"label",17),t.TgZ(25,"div",12),t._UZ(26,"input",18),t.YNc(27,be,8,4,"span",14),t.qZA()(),t.TgZ(28,"div",19),t.YNc(29,ve,2,1,"label",20),t.YNc(30,Ce,2,1,"div",21),t.TgZ(31,"input",22,23),t.NdJ("change",function(r){return a.onFileSelect(r)}),t.qZA(),t.TgZ(33,"button",24),t.NdJ("click",function(){return t.CHM(l),t.MAs(32).click()}),t.YNc(34,Oe,2,0,"span",25),t.YNc(35,Pe,2,0,"span",25),t.qZA(),t.YNc(36,Te,2,0,"div",26),t.YNc(37,ye,3,1,"div",26),t.qZA()()()(),t.TgZ(38,"mat-dialog-actions",27),t.YNc(39,De,2,1,"button",28),t.YNc(40,Ze,2,2,"button",29),t.qZA()}2&n&&(t.xp6(5),t.Q6J("fxShow",a.fileUploading),t.xp6(5),t.Q6J("formGroup",a.form),t.xp6(5),t.ekj("ng-invalid",a.getFormControl("avgHoleDepth").touched&&!a.getFormControl("avgHoleDepth").valid),t.xp6(6),t.ekj("ng-invalid",a.getFormControl("factorCorrection").touched&&!a.getFormControl("factorCorrection").valid),t.xp6(5),t.ekj("ng-invalid",a.getFormControl("factorX50").touched&&!a.getFormControl("factorX50").valid),t.xp6(4),t.Q6J("ngIf",a.getFormControl("file").valid),t.xp6(4),t.Q6J("ngIf",null===a.getFormControl("file").value),t.xp6(1),t.Q6J("ngIf",a.getFormControl("file").value),t.xp6(1),t.Q6J("ngIf",a.getFormControl("file").value&&(null==a.getFormControl("file").errors?null:a.getFormControl("file").errors.inValidExt)),t.xp6(1),t.Q6J("ngIf",a.fileUploadingError))},directives:[y.Ye,y.rD,h.KI,g.ZT,D.b8,Z.pW,g.xY,p.yH,p.xw,u._Y,u.JL,u.sg,p.Wh,u.Fj,u.JJ,u.u,u.nD,d.O5,S.lW,g.H8,p.SQ],styles:["[_nghost-%COMP%]   button.btn-upload.mat-button[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:0 10px}[_nghost-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:24px;width:60px}[_nghost-%COMP%]   .form-field-wrapper__recommended__field[_ngcontent-%COMP%]{padding-left:8px}"]}),e}(),Ct=s(31497),we=function(){var e=function(){function o(n){(0,_.Z)(this,o),this.dynamicPipe=n,this.labelClass="item-props__name",this.valueClass="item-props__value"}return(0,f.Z)(o,[{key:"ngOnInit",value:function(){this.calculatedValue=this.getCalculatedValue()}},{key:"getCalculatedValue",value:function(){return this.dynamicPipe.transform(this.data[this.value],this.pipes)}}]),o}();return e.\u0275fac=function(n){return new(n||e)(t.Y36(Ct.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["dabo-block-model-field"]],inputs:{labelClass:"labelClass",valueClass:"valueClass",value:"value",label:"label",data:"data",pipes:"pipes"},decls:5,vars:8,consts:[["fxLayout","row"],[3,"transloco"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"div"),t._UZ(2,"span",1),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA()()),2&n&&(t.xp6(1),t.Gre("",a.labelClass," data-item data-item__label"),t.xp6(1),t.s9C("transloco",a.label),t.xp6(1),t.Gre("",a.valueClass," data-item data-item__value"),t.xp6(1),t.hij(" ",a.calculatedValue," "))},directives:[p.xw,h.KI],styles:[".data-item[_ngcontent-%COMP%]{margin:0;font-size:12px;display:flex}.data-item__label[_ngcontent-%COMP%]{width:45%;line-height:21px;color:#000000a6}.data-item__value[_ngcontent-%COMP%]{line-height:21px;color:#000000f2}"],changeDetection:0}),e}();function Ae(e,o){if(1&e&&(t.TgZ(0,"h3",7),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij("",n("vibrationTranslation.step")," 1")}}function Se(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij(" ",n("vibrationTranslation.file"),": ")}}function Fe(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij(" ",n("vibrationTranslation.avg_hole_depth"),": ")}}function Le(e,o){if(1&e&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"lowercase"),t.qZA()),2&e){var n=o.$implicit,a=t.oxw(2);t.ekj("warning-message",null==a.resultsData?null:a.resultsData.invalidFields.actualDepth),t.xp6(1),t.hij(" (",t.lcZ(2,3,n("vibrationTranslation.recommended_hole_depth")),") ")}}function Ie(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij(" ",n("vibrationTranslation.factor_correction"),": ")}}function Ue(e,o){if(1&e&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"lowercase"),t.qZA()),2&e){var n=o.$implicit,a=t.oxw(2);t.ekj("warning-message",null==a.resultsData?null:a.resultsData.invalidFields.factorCorrection),t.xp6(1),t.hij(" (",t.lcZ(2,3,n("vibrationTranslation.recommended_factor_correction")),") ")}}function Ee(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij(" ",n("vibrationTranslation.factor_x50"),": ")}}function Ne(e,o){if(1&e&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"lowercase"),t.qZA()),2&e){var n=o.$implicit,a=t.oxw(2);t.ekj("warning-message",null==a.resultsData?null:a.resultsData.invalidFields.factorX50),t.xp6(1),t.hij(" (",t.lcZ(2,3,n("vibrationTranslation.recommended_factor_x50")),") ")}}function Ye(e,o){if(1&e&&(t.TgZ(0,"div",8)(1,"p",9),t.YNc(2,Se,2,1,"span",10),t.TgZ(3,"span",11),t._uU(4),t.qZA()(),t.TgZ(5,"p"),t.YNc(6,Fe,2,1,"span",10),t.TgZ(7,"span"),t._uU(8),t.qZA(),t.YNc(9,Le,3,5,"span",12),t.qZA(),t.TgZ(10,"p"),t.YNc(11,Ie,2,1,"span",10),t.TgZ(12,"span"),t._uU(13),t.qZA(),t.YNc(14,Ue,3,5,"span",12),t.qZA(),t.TgZ(15,"p"),t.YNc(16,Ee,2,1,"span",10),t.TgZ(17,"span"),t._uU(18),t.qZA(),t.YNc(19,Ne,3,5,"span",12),t.qZA()()),2&e){var n=t.oxw();t.xp6(3),t.Q6J("matTooltip",n.blockModelData.file.name)("matTooltipPosition","above"),t.xp6(1),t.hij(" ",n.blockModelData.file.name," "),t.xp6(4),t.hij(" ",n.blockModelData.avgHoleDepth," m "),t.xp6(5),t.hij(" ",n.blockModelData.factorCorrection," "),t.xp6(5),t.hij(" ",n.blockModelData.factorX50," ")}}function Be(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij(" ",n("vibrationTranslation.input_data")," ... ")}}function He(e,o){1&e&&(t.TgZ(0,"span"),t.YNc(1,Be,2,1,"span",10),t.qZA())}function ze(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij(" ",n("vibrationTranslation.edit_input_data")," ... ")}}function Ve(e,o){1&e&&(t.TgZ(0,"span"),t.YNc(1,ze,2,1,"span",10),t.qZA())}function je(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.Oqu(n("vibrationTranslation.upload_file_description"))}}function Re(e,o){1&e&&(t.TgZ(0,"p"),t.YNc(1,je,2,1,"span",10),t.qZA())}function qe(e,o){if(1&e&&(t.TgZ(0,"h2",17),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij("",n("vibrationTranslation.block_model_data"),":")}}function We(e,o){if(1&e&&(t.ynx(0),t._UZ(1,"dabo-block-model-field",18),t.BQk()),2&e){var n=o.$implicit;t.xp6(1),t.Q6J("value",n.value)("label",n.label)("data",n.dataSource)("pipes",n.pipes)}}function Je(e,o){if(1&e&&(t.TgZ(0,"div",14),t.YNc(1,qe,2,1,"h2",15),t.YNc(2,We,2,4,"ng-container",16),t.qZA()),2&e){var n=t.oxw();t.xp6(2),t.Q6J("ngForOf",n.blockModelFields)}}var $e=function(){var e=function(o){(0,F.Z)(a,o);var n=(0,L.Z)(a);function a(l,i,r,c){var M;return(0,_.Z)(this,a),(M=n.call(this)).dialog=l,M.cdr=i,M.blockModelFieldsService=r,M.vibrationOptimizerService=c,M}return(0,f.Z)(a,[{key:"ngOnInit",value:function(){var i=this;this.vibrationOptimizerService.predictionsResult$.pipe((0,T.R)(this.destroy$)).subscribe(function(r){i.resultsData=r,i.cdr.markForCheck()})}},{key:"openDialog",value:function(){var i=this;this.dialog.open(ke,{panelClass:["modal-base","modal--import-vibration-optimizer-file"],disableClose:!0,data:{blockModelInputData:this.blockModelData,resultsData:this.resultsData}}).afterClosed().pipe((0,T.R)(this.destroy$)).subscribe(function(c){c&&(i.blockModelData=c,i.blockModelFields=i.blockModelFieldsService.getConfig(c),i.cdr.markForCheck())})}}]),a}(x.eO);return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.uw),t.Y36(t.sBO),t.Y36(vt),t.Y36(w))},e.\u0275cmp=t.Xpm({type:e,selectors:[["dabo-block-model-widget"]],features:[t.qOj],decls:9,vars:5,consts:[["class","widgets__item__title",4,"transloco"],["fxLayout","column",1,"widgets__item__content"],["class","input-data",4,"ngIf"],["fxFlex","100%","fxLayout","column"],["mat-button","",1,"btn-upload","active","btn","btn--xs","btn--primary","btn--orange",3,"click"],[4,"ngIf"],["fxLayout","column",4,"ngIf"],[1,"widgets__item__title"],[1,"input-data"],[1,"input-data__filename"],[4,"transloco"],["matTooltipClass","filename-tooltip",3,"matTooltip","matTooltipPosition"],["class","recommended-hole-depth",3,"warning-message",4,"transloco"],[1,"recommended-hole-depth"],["fxLayout","column"],["class","widgets__item__subtitle block-model-data",4,"transloco"],[4,"ngFor","ngForOf"],[1,"widgets__item__subtitle","block-model-data"],[3,"value","label","data","pipes"]],template:function(n,a){1&n&&(t.YNc(0,Ae,2,1,"h3",0),t.TgZ(1,"div",1),t.YNc(2,Ye,20,6,"div",2),t.TgZ(3,"div",3)(4,"button",4),t.NdJ("click",function(){return a.openDialog()}),t.YNc(5,He,2,0,"span",5),t.YNc(6,Ve,2,0,"span",5),t.qZA(),t.YNc(7,Re,2,0,"p",5),t.qZA(),t.YNc(8,Je,3,1,"div",6),t.qZA()),2&n&&(t.xp6(2),t.Q6J("ngIf",a.blockModelData),t.xp6(3),t.Q6J("ngIf",!a.blockModelData),t.xp6(1),t.Q6J("ngIf",a.blockModelData),t.xp6(1),t.Q6J("ngIf",!a.blockModelData),t.xp6(1),t.Q6J("ngIf",a.blockModelData))},directives:[h.KI,p.xw,d.O5,N.gM,p.yH,S.lW,d.sg,we],pipes:[d.i8],styles:["[_nghost-%COMP%]   .base-spinner-wrapper[_ngcontent-%COMP%]{height:calc(100% - 60px)}[_nghost-%COMP%]   button.btn-upload.mat-button[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:0 10px}[_nghost-%COMP%]   button.btn-upload.mat-button[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{margin-top:20px}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:400;font-size:12px;line-height:18px;color:#00000080}[_nghost-%COMP%]   .input-data[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]   .input-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .input-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:18px;color:#000000bf}[_nghost-%COMP%]   .input-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .recommended-hole-depth[_ngcontent-%COMP%]{color:#0000004d}[_nghost-%COMP%]   .input-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]{color:#ff8a00}[_nghost-%COMP%]   .input-data__filename[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap}.block-model-data[_ngcontent-%COMP%]{margin:20px 0}"]}),e}(),C=function(){return(e=C||(C={})).EXPLOSIVES_PER_HOLE="explosivesPerHole",e.STEMMING="stemming",e.DELAY="delay",C;var e}(),Qe=s(67322),Ge=s(90508),ht=s(55710);function Ke(e,o){if(1&e&&(t.TgZ(0,"h3",14),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij("",n("vibrationTranslation.step")," 2")}}function Xe(e,o){if(1&e&&(t.TgZ(0,"label",19),t._uU(1),t.qZA()),2&e){var n=o.$implicit,a=t.oxw(),l=a.id,i=a.label,r=a.units,c=t.oxw();t.ekj("form__label--error",c.hasError(l)),t.xp6(1),t.AsE(" ",n(i),", ",r," ")}}function tn(e,o){if(1&e&&(t.TgZ(0,"span",20),t._uU(1),t.qZA()),2&e){var n=o.$implicit,a=t.oxw(),i=a.recommendedValue;t.ekj("warning-message",a.warning),t.xp6(1),t.hij(" ",n(i)," ")}}function en(e,o){if(1&e&&(t.YNc(0,Xe,2,4,"label",15),t.TgZ(1,"div",16),t._UZ(2,"input",17),t.YNc(3,tn,2,3,"span",18),t.qZA()),2&e){var n=o.id,a=t.oxw();t.xp6(2),t.ekj("ng-invalid",a.hasError(n)),t.Q6J("formControlName",n)("id",n)}}function nn(e,o){if(1&e&&(t.TgZ(0,"label",19),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij(" ",n("vibrationTranslation.delay_between_holes_detonation"),", ms: ")}}function on(e,o){if(1&e&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.Q6J("value",n.value),t.xp6(1),t.hij(" ",n.label," ")}}function an(e,o){if(1&e&&(t.ynx(0),t.YNc(1,nn,2,1,"label",21),t.TgZ(2,"mat-form-field",22)(3,"mat-select",23),t.YNc(4,on,2,2,"mat-option",24),t.qZA()(),t.BQk()),2&e){var n=t.oxw();t.xp6(4),t.Q6J("ngForOf",n.delayOptions)}}var rn=function(){return{id:"delay",units:"ms:",label:"vibrationTranslation.delay_between_holes_detonation"}};function cn(e,o){if(1&e&&t.GkF(0,6),2&e){t.oxw();var n=t.MAs(5);t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.DdM(2,rn))}}function sn(e,o){if(1&e){var n=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){return t.CHM(n),t.oxw().resetForm()}),t._uU(1),t.qZA()}if(2&e){var a=o.$implicit,l=t.oxw();t.Q6J("disabled",!l.resultsData&&l.form.pristine),t.xp6(1),t.hij(" ",a("vibrationTranslation.clear")," ")}}function pn(e,o){if(1&e){var n=t.EpF();t.TgZ(0,"button",27),t.NdJ("debounceClick",function(){return t.CHM(n),t.oxw().submitForm()}),t._uU(1),t.qZA()}if(2&e){var a=o.$implicit,l=t.oxw();t.Q6J("disabled",!l.form.valid&&!l.form.disabled||!l.canCalculate),t.xp6(1),t.hij(" ",a("vibrationTranslation.calculate")," ")}}function dn(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.Oqu(n("vibrationTranslation.calculation_error"))}}function mn(e,o){1&e&&(t.TgZ(0,"div",28),t.YNc(1,dn,2,1,"span",29),t.qZA())}var gn=function(o){return{id:"explosivesPerHole",units:"kg:",label:"vibrationTranslation.explosive_per_hole",warning:o,recommendedValue:"vibrationTranslation.recommended_explosive"}},un=function(o){return{id:"stemming",units:"m:",label:"vibrationTranslation.stemming",warning:o,recommendedValue:"vibrationTranslation.recommended_stemming"}},fn=function(){var e=function(o){(0,F.Z)(a,o);var n=(0,L.Z)(a);function a(l,i,r){var c;return(0,_.Z)(this,a),(c=n.call(this)).formBuilder=l,c.vibrationOptimizerService=i,c.cdr=r,c.calculationError=!1,c.canCalculate=!1,c.selectedDelayValue="6-7",c.delayOptions=Rt,c.recommendedFieldsEnum=C,c.calculationLoading=new t.vpe,c.form=c.formBuilder.group({explosivesPerHole:["",{validators:[u.kI.required,u.kI.pattern(q.onlyDigitsPatterns)]}],stemming:["",{validators:[u.kI.required,u.kI.pattern(q.onlyDigitsPatterns)]}],delay:[""]}),c.form.get(C.DELAY).setValue(c.selectedDelayValue),c}return(0,f.Z)(a,[{key:"preparedData",get:function(){var i={explosives_per_hole:0,stemming:0,delay_between_holes_detonation:this.selectedDelayValue};return i.explosives_per_hole=this.getFormControl(C.EXPLOSIVES_PER_HOLE).value,i.stemming=this.getFormControl(C.STEMMING).value,i.delay_between_holes_detonation=this.getFormControl(C.DELAY).value,this.isValidRecommendedValue(C.DELAY)&&(i.delay_between_holes_detonation=this.recommendedData.delay.value),i}},{key:"getFormControl",value:function(i){return this.form.get(i)}},{key:"setEnabledDisabledState",value:function(i,r){i.valid?this.getFormControl(r).disable():this.getFormControl(r).enable()}},{key:"isValidRecommendedValue",value:function(i){var r,c;return null===(c=null===(r=this.recommendedData)||void 0===r?void 0:r[i])||void 0===c?void 0:c.valid}},{key:"hasError",value:function(i){return!this.getFormControl(i).valid&&!this.getFormControl(i).disabled&&!this.getFormControl(i).pristine}},{key:"ngOnInit",value:function(){var i=this;this.vibrationOptimizerService.fileUploaded$.pipe((0,T.R)(this.destroy$)).subscribe(function(r){i.canCalculate=r,i.calculationError=!1,i.resultsData=null,i.cdr.markForCheck()}),this.vibrationOptimizerService.recommendedFields$.pipe((0,T.R)(this.destroy$)).subscribe(function(r){i.recommendedData=r,i.setEnabledDisabledState(r.explosivesPerHole,C.EXPLOSIVES_PER_HOLE),i.setEnabledDisabledState(r.stemming,C.STEMMING),i.setEnabledDisabledState(r.delay,C.DELAY),i.getFormControl(C.EXPLOSIVES_PER_HOLE).setValue(r.explosivesPerHole.value),i.getFormControl(C.STEMMING).setValue(r.stemming.value),r.delay.valid?i.getFormControl(C.DELAY).setValue(""):i.form.get(C.DELAY).setValue(i.selectedDelayValue),i.cdr.markForCheck()})}},{key:"submitForm",value:function(){var i=this;this.calculationLoading.emit(!0),this.vibrationOptimizerService.getPredictions(this.preparedData).pipe((0,T.R)(this.destroy$)).subscribe(function(r){i.vibrationOptimizerService.predictionsResult$.next(r),i.calculationLoading.emit(!1),i.calculationError=!1,i.resultsData=r},function(){i.calculationLoading.emit(!1),i.vibrationOptimizerService.predictionsResult$.next(null),i.resultsData=null,i.calculationError=!0,i.cdr.markForCheck()})}},{key:"resetForm",value:function(){this.form.reset(),this.isValidRecommendedValue(C.DELAY)?this.form.get(C.DELAY).setValue(""):this.form.get(C.DELAY).setValue(this.selectedDelayValue),this.isValidRecommendedValue(C.EXPLOSIVES_PER_HOLE)&&this.form.get(C.EXPLOSIVES_PER_HOLE).setValue(this.recommendedData.explosivesPerHole.value),this.isValidRecommendedValue(C.STEMMING)&&this.form.get(C.STEMMING).setValue(this.recommendedData.stemming.value),this.calculationError=!1,this.resultsData=null,this.vibrationOptimizerService.predictionsResult$.next(null),this.cdr.markForCheck()}}]),a}(x.eO);return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.qu),t.Y36(w),t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["dabo-input-data-widget"]],outputs:{calculationLoading:"calculationLoading"},features:[t.qOj],decls:17,vars:12,consts:[["class","widgets__item__title",4,"transloco"],["fxLayout","column",1,"widgets__item__content"],["fxFlex","100%","fxLayout","column"],[1,"calculation-input-form",3,"formGroup"],["formInputLayout",""],["fxLayout","column",1,"form-field-wrapper"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["fxLayout","column",1,"form-field-wrapper","container__form"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["fxLayout","row","fxLayoutGap","10px"],["class","btn btn--secondary","mat-button","","tabindex","-1",3,"disabled","click",4,"transloco"],["daboDebounceClick","","class","btn btn--primary","mat-button","",3,"disabled","debounceClick",4,"transloco"],["class","text-error",4,"ngIf"],[1,"widgets__item__title"],["class","form__label",3,"form__label--error",4,"transloco"],["fxLayout","row","fxLayoutAlign","flex-start center"],["maxlength","15","type","text",1,"base-text-input",3,"formControlName","id"],["class","recommended-data",3,"warning-message",4,"transloco"],[1,"form__label"],[1,"recommended-data"],["class","form__label",4,"transloco"],["floatLabel","never",1,"mat-select--custom"],["formControlName","delay","id","delay"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-button","","tabindex","-1",1,"btn","btn--secondary",3,"disabled","click"],["daboDebounceClick","","mat-button","",1,"btn","btn--primary",3,"disabled","debounceClick"],[1,"text-error"],[4,"transloco"]],template:function(n,a){if(1&n&&(t.YNc(0,Ke,2,1,"h3",0),t.TgZ(1,"div",1)(2,"div",2)(3,"form",3),t.YNc(4,en,4,4,"ng-template",null,4,t.W1O),t.TgZ(6,"div",5),t.GkF(7,6),t.qZA(),t.TgZ(8,"div",5),t.GkF(9,6),t.qZA(),t.TgZ(10,"div",7),t.YNc(11,an,5,1,"ng-container",8),t.YNc(12,cn,1,3,"ng-container",9),t.qZA()(),t.TgZ(13,"div",10),t.YNc(14,sn,2,2,"button",11),t.YNc(15,pn,2,2,"button",12),t.qZA(),t.YNc(16,mn,2,0,"div",13),t.qZA()()),2&n){var l=t.MAs(5);t.xp6(3),t.Q6J("formGroup",a.form),t.xp6(4),t.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",t.VKq(8,gn,null==a.resultsData?null:a.resultsData.invalidFields.explosivesPerHole)),t.xp6(2),t.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",t.VKq(10,un,null==a.resultsData?null:a.resultsData.invalidFields.stemming)),t.xp6(2),t.Q6J("ngIf",!a.isValidRecommendedValue(a.recommendedFieldsEnum.DELAY)),t.xp6(1),t.Q6J("ngIf",a.isValidRecommendedValue(a.recommendedFieldsEnum.DELAY)),t.xp6(4),t.Q6J("ngIf",a.calculationError)}},directives:[h.KI,p.xw,p.yH,u._Y,u.JL,u.sg,p.Wh,u.Fj,u.nD,u.JJ,u.u,d.tP,d.O5,Qe.KE,R.gD,d.sg,Ge.ey,p.SQ,S.lW,ht.J],styles:["[_nghost-%COMP%]   .base-text-input[_ngcontent-%COMP%]{height:24px;width:75px}[_nghost-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .form__label[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}[_nghost-%COMP%]   .form-field-wrapper[_ngcontent-%COMP%]   .mat-select--custom[_ngcontent-%COMP%]{width:75px}[_nghost-%COMP%]   .calculation-input-form[_ngcontent-%COMP%]{margin-bottom:20px}[_nghost-%COMP%]   .widgets__item__content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill{-webkit-box-shadow:0 0 0 20px #ffffff inset!important}[_nghost-%COMP%]   .widgets__item__content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{color:#00000080}"]}),e}(),_n=s(81042),bn=s(10079),Ot=s(96357),vn=s(1249),Mt=function(){var e=function(o){(0,F.Z)(a,o);var n=(0,L.Z)(a);function a(l,i,r){var c;return(0,_.Z)(this,a),(c=n.call(this)).exportGeneratorService=l,c.localizationService=i,c.exportStateService=r,c}return(0,f.Z)(a,[{key:"ngOnInit",value:function(){var i=this;this.exportStateService.generationHandler$.pipe((0,T.R)(this.destroy$)).subscribe(function(r){i.exportDisabled=null==r?void 0:r.generationStarted,((null==r?void 0:r.generationCanceled)||(null==r?void 0:r.generationComplete)||(null==r?void 0:r.generationError))&&i.connectionEstablishedSubscription&&i.connectionEstablishedSubscription.unsubscribe()})}},{key:"generateFile",value:function(){var i=this,r=bn.P.XLSX;this.exportGeneratorService.establishConnection();var c=this.exportGeneratorService.generateFileName([{name:this.localizationService.translateText("vibrationTranslation.export.file_name")}],r,Ot.G.VOM),M={patternIds:[this.patternId],reportType:Ot.G.VOM,reportFormat:r,reportId:(0,_n.Z)()};this.connectionEstablishedSubscription=this.exportGeneratorService.isConnectionEstablished$().pipe((0,T.R)(this.destroy$)).subscribe(function(){return i.exportGeneratorService.generateExportFile(c,M)})}}]),a}(x.eO);return e.\u0275fac=function(n){return new(n||e)(t.Y36(vn.J),t.Y36(W.bM),t.Y36(j.jN))},e.\u0275cmp=t.Xpm({type:e,selectors:[["dabo-prediction-export"]],inputs:{patternId:"patternId"},features:[t.qOj],decls:1,vars:1,consts:[["mat-button","","daboDebounceClick","","transloco","vibrationTranslation.export.title",1,"btn","btn--primary","btn--xs",3,"disabled","debounceClick"]],template:function(n,a){1&n&&(t.TgZ(0,"button",0),t.NdJ("debounceClick",function(){return a.generateFile()}),t.qZA()),2&n&&t.Q6J("disabled",!a.patternId||a.exportDisabled)},directives:[S.lW,ht.J,h.KI],styles:[".mat-button[_ngcontent-%COMP%]{min-width:auto}"]}),e}();function Cn(e,o){if(1&e&&(t.TgZ(0,"mat-header-cell"),t._UZ(1,"span",8),t.ALo(2,"transloco"),t.qZA()),2&e){var n=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.s9C("transloco",a.translateKey+n.property),t.s9C("matTooltip",t.lcZ(2,3,a.translateKey+"tooltip."+n.property)),t.Q6J("matTooltipPosition","above")}}function hn(e,o){if(1&e&&t._UZ(0,"span",11),2&e){var n=t.oxw().$implicit,a=t.oxw().$implicit;t.s9C("transloco",n[a.property])}}function On(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"dynamicPipe"),t.qZA()),2&e){var n=t.oxw().$implicit,a=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,n[a.property],a.pipes)," ")}}function Mn(e,o){if(1&e&&(t.TgZ(0,"mat-cell"),t.YNc(1,hn,1,1,"span",9),t.YNc(2,On,3,4,"span",10),t.qZA()),2&e){var n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf","label"===n.property),t.xp6(1),t.Q6J("ngIf","label"!==n.property)}}function Pn(e,o){1&e&&(t.ynx(0,5),t.YNc(1,Cn,3,5,"mat-header-cell",6),t.YNc(2,Mn,3,2,"mat-cell",7),t.BQk()),2&e&&t.Q6J("matColumnDef",o.$implicit.property)}function xn(e,o){1&e&&t._UZ(0,"mat-header-row")}function Tn(e,o){1&e&&t._UZ(0,"mat-row")}var yn=function(){var e=(0,f.Z)(function o(){(0,_.Z)(this,o)});return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["dabo-vibration-prediction-result-table"]],inputs:{dataFields:"dataFields",displayedColumns:"displayedColumns",columns:"columns",translateKey:"translateKey"},decls:5,vars:4,consts:[[1,"table"],["aria-label","vibration-prediction-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],[4,"matHeaderCellDef"],[4,"matCellDef"],[1,"item-header__title",3,"transloco","matTooltip","matTooltipPosition"],[3,"transloco",4,"ngIf"],[4,"ngIf"],[3,"transloco"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"mat-table",1),t.YNc(2,Pn,3,1,"ng-container",2),t.YNc(3,xn,1,0,"mat-header-row",3),t.YNc(4,Tn,1,0,"mat-row",4),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("dataSource",a.dataFields),t.xp6(1),t.Q6J("ngForOf",a.columns),t.xp6(1),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns))},directives:[b.BZ,d.sg,b.w1,b.fO,b.ge,h.KI,N.gM,b.Dz,b.ev,d.O5,b.as,b.XQ,b.nj,b.Gk],pipes:[h.Ot,Ct.e],styles:[".table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{white-space:nowrap;background-color:inherit}.table[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]{min-height:auto;justify-content:space-between;border:none}.table[_ngcontent-%COMP%]   .cdk-header-cell[_ngcontent-%COMP%]{font-size:11px;line-height:24px;color:#000000bf;font-weight:400}.table[_ngcontent-%COMP%]   .cdk-header-cell[_ngcontent-%COMP%]:hover{cursor:pointer}.table[_ngcontent-%COMP%]   .cdk-column-label[_ngcontent-%COMP%]{font-weight:400;justify-content:flex-start}.table[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]{padding:0;text-align:center;font-weight:500;font-size:12px;line-height:20px;justify-content:center}"],changeDetection:0}),e}();function Dn(e,o){if(1&e&&t._UZ(0,"div",3),2&e){var n=t.oxw();t.Q6J("chart",n.chart)}}function Zn(e,o){if(1&e&&(t.TgZ(0,"div",7)(1,"p"),t._uU(2),t.qZA()()),2&e){var n=o.$implicit;t.xp6(2),t.Oqu(n("vibrationTranslation.no_data_to_display"))}}function kn(e,o){1&e&&(t.TgZ(0,"div",4),t._UZ(1,"div",5),t.YNc(2,Zn,3,1,"div",6),t.qZA())}var wn=function(){var e=function(){function o(n){(0,_.Z)(this,o),this.fragmentationChartDataService=n}return(0,f.Z)(o,[{key:"ngOnInit",value:function(){this.isChartDataAvailable()?(this.showNoData=!1,this.chart=this.fragmentationChartDataService.getChart(this.chartData)):this.showNoData=!0}},{key:"isChartDataAvailable",value:function(){return this.chartData&&this.chartData.data&&this.chartData.data.length}}]),o}();return e.\u0275fac=function(n){return new(n||e)(t.Y36(_t))},e.\u0275cmp=t.Xpm({type:e,selectors:[["dabo-fragmentation-chart"]],inputs:{chartData:"chartData"},decls:3,vars:2,consts:[["fxFlex","100%"],["class","chart-container",3,"chart",4,"ngIf"],["fxLayout","column","class","no-data-container",4,"ngIf"],[1,"chart-container",3,"chart"],["fxLayout","column",1,"no-data-container"],[1,"icon-no-data","df-align-center"],["class","no-data-message",4,"transloco"],[1,"no-data-message"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t.YNc(1,Dn,1,1,"div",1),t.YNc(2,kn,3,0,"div",2),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",!a.showNoData),t.xp6(1),t.Q6J("ngIf",a.showNoData))},directives:[p.yH,d.O5,V.Dm,p.xw,h.KI],styles:['@font-face{font-family:dabaha;src:url(/assets/fonts/dabaha.eot);src:url(/assets/fonts/dabaha.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/dabaha.ttf) format("truetype"),url(/assets/fonts/dabaha.woff) format("woff"),url(/assets/fonts/dabaha.svg) format("svg");font-weight:400;font-style:normal;font-display:block}.icon[_ngcontent-%COMP%]{font-family:dabaha!important;speak:none;width:16px;height:16px;font-size:16px;font-style:normal;font-weight:400;font-feature-settings:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon--disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:initial}.icon--hidden[_ngcontent-%COMP%]{display:none}.icon-byc[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\ea04";color:#008cff}.icon-byc[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\ea05";margin-left:-1em;color:#008cff}.icon-byc[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\ea06";margin-left:-1em;color:#586b7a}.icon-byc[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\ea07";margin-left:-1em;color:#586b7a}.icon-information[_ngcontent-%COMP%]:before{content:"\\ea03";color:#586b7a}.icon-colormap[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9fe";color:#f25050}.icon-colormap[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9ff";margin-left:-1em;color:#f2c94c}.icon-colormap[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\ea00";margin-left:-1em;color:#1f8ff7}.icon-colormap[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\ea01";margin-left:-1em;color:#39be04}.icon-colormap[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\ea02";margin-left:-1em;color:#586b7a}.icon-drillbit[_ngcontent-%COMP%]:before{content:"\\e9fc";color:#00afbd}.icon-report[_ngcontent-%COMP%]:before{content:"\\e9fa";color:#0065bd}.icon-quality[_ngcontent-%COMP%]:before{content:"\\e9fb";color:#d5b1f1}.icon-permissions[_ngcontent-%COMP%]:before{content:"\\e9f9";color:#00afbd}.icon-batchedit[_ngcontent-%COMP%]:before{content:"\\e9f8";color:#0165bd}.icon-comment[_ngcontent-%COMP%]:before{content:"\\e9f4";color:#0065bd}.icon-actions[_ngcontent-%COMP%]:before{content:"\\e9f5";color:#0065bd}.icon-add-comment[_ngcontent-%COMP%]:before{content:"\\e9f6";color:#0065bd}.icon-scorecard[_ngcontent-%COMP%]:before{content:"\\e9f7";color:#0065bd}.icon-data-error[_ngcontent-%COMP%]:before{content:"\\e9f3";color:#586b7a}.icon-BL-1z[_ngcontent-%COMP%]:before{content:"\\e9e5";color:#366cfb}.icon-BL-2z-1[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9e6";color:#366cfb}.icon-BL-2z-1[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9e7";margin-left:-1em;color:#eef3fb}.icon-BL-2z-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9e8";color:#eef3fb}.icon-BL-2z-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9e9";margin-left:-1em;color:#366cfb}.icon-BL-3z-1[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9ea";color:#366cfb}.icon-BL-3z-1[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9eb";margin-left:-1em;color:#b8d3fd}.icon-BL-3z-1[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9ec";margin-left:-1em;color:#eef3fb}.icon-BL-3z-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9ed";color:#b8d3fd}.icon-BL-3z-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9ee";margin-left:-1em;color:#366cfb}.icon-BL-3z-2[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9ef";margin-left:-1em;color:#eef3fb}.icon-BL-3z-3[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9f0";color:#e3edfb}.icon-BL-3z-3[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9f1";margin-left:-1em;color:#f4f8fb}.icon-BL-3z-3[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9f2";margin-left:-1em;color:#366cfb}.icon-hole-pumped[_ngcontent-%COMP%]:before{content:"\\e9e3"}.icon-history[_ngcontent-%COMP%]:before{content:"\\e9e2";color:#586b7a}.icon-crusher[_ngcontent-%COMP%]:before{content:"\\e9e4";color:#0165bd}.icon-calculator[_ngcontent-%COMP%]:before{content:"\\e9e1";color:#0165bd}.icon-issue[_ngcontent-%COMP%]:before{content:"\\e9de";color:#e68537}.icon-nitrate[_ngcontent-%COMP%]:before{content:"\\e9df";color:#0165bd}.icon-vibration[_ngcontent-%COMP%]:before{content:"\\e9e0";color:#0165bd}.icon-angled[_ngcontent-%COMP%]:before{content:"\\e9dd"}.icon-userguide[_ngcontent-%COMP%]:before{content:"\\e9dc";color:#0165bd}.icon-crew[_ngcontent-%COMP%]:before{content:"\\e9db";color:#586b7a}.icon-bench[_ngcontent-%COMP%]:before{content:"\\e9d7";color:#586b7a}.icon-pat-group[_ngcontent-%COMP%]:before{content:"\\e9d8";color:#586b7a}.icon-pat-small[_ngcontent-%COMP%]:before{content:"\\e9d9";color:#586b7a}.icon-patt[_ngcontent-%COMP%]:before, .icon-patt-light[_ngcontent-%COMP%]:before{content:"\\e9da";color:#586b7a}.icon-patt-light[_ngcontent-%COMP%]:before{opacity:.5}.icon-safety[_ngcontent-%COMP%]:before{content:"\\e9d6";color:#0165bd}.icon-godown[_ngcontent-%COMP%]:before{content:"\\e9d3";color:#586b7a}.icon-growup[_ngcontent-%COMP%]:before{content:"\\e9d4";color:#586b7a}.icon-growup-light[_ngcontent-%COMP%]:before{content:"\\e9d4";color:#fff;opacity:.5}.icon-circle[_ngcontent-%COMP%]:before{content:"\\e9d5";color:#586b7a}.icon-sliders[_ngcontent-%COMP%]:before{content:"\\e9d2";color:#586b7a}.icon-chart[_ngcontent-%COMP%]:before{content:"\\e9d1";color:#586b7a}.icon-no-data-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9cb";color:#8bade0}.icon-no-data-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9cc";margin-left:-1em;color:#586b7a}.icon-no-data-3[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9cd";color:#586b7a}.icon-no-data-3[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9ce";margin-left:-1em;color:#8bade0}.icon-no-data-4[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9cf";color:#8bade0}.icon-no-data-4[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9d0";margin-left:-1em;color:#586b7a}.icon-connection[_ngcontent-%COMP%]:before{content:"\\e9c8";color:#586b7a}.icon-dashboard[_ngcontent-%COMP%]:before{content:"\\e9c9";color:#586b7a}.icon-temperature[_ngcontent-%COMP%]:before{content:"\\e9ca";color:#586b7a}.icon-menu-1[_ngcontent-%COMP%]:before{content:"\\e9c6";color:#586b7a}.icon-menu-2[_ngcontent-%COMP%]:before{content:"\\e9c7";color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9b4";color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9b5";margin-left:-1em;color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9b6";margin-left:-1em;color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e9b7";margin-left:-1em;color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e9b8";margin-left:-1em;color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e9b9";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3-6[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e9ba";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3-6[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e9bb";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3-6[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e9bc";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9bd";color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9be";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9bf";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e9c0";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e9c1";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e9c2";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e9c3";margin-left:-1em;color:#586b7a}.icon-w1-2[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e9c4";margin-left:-1em;color:#586b7a}.icon-w1-2[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e9c5";margin-left:-1em;color:#586b7a}.icon-hole-precond[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9b2";color:#000;opacity:.75}.icon-hole-precond[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9b3";margin-left:-1em;color:#fff}.icon-w1[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e97c";color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e97d";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e97e";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e97f";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e980";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e981";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e982";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e983";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e984";margin-left:-1em;color:#586b7a}.icon-w2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e985";color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e986";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e987";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e988";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e989";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e98a";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e98b";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e98c";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e98d";margin-left:-1em;color:#586b7a}.icon-w3[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e98e";color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e98f";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e990";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e991";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e992";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e993";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e994";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e995";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e996";margin-left:-1em;color:#586b7a}.icon-w4[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e997";color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e998";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e999";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e99a";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e99b";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e99c";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e99d";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e99e";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e99f";margin-left:-1em;color:#586b7a}.icon-w5[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9a0";color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9a1";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9a2";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e9a3";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e9a4";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e9a5";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e9a6";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e9a7";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e9a8";margin-left:-1em;color:#586b7a}.icon-w6[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9a9";color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9aa";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9ab";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e9ac";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e9ad";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e9ae";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e9af";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e9b0";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e9b1";margin-left:-1em;color:#586b7a}.icon-T-Icon[_ngcontent-%COMP%]:before{content:"\\e97a";color:#fff}.icon-tasks[_ngcontent-%COMP%]:before{content:"\\e97b";color:#586b7a}.icon-pdf_template[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e967";color:#fff}.icon-pdf_template[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e968";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e969";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e96a";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e96b";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e96c";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e96d";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e96e";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e96f";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path10[_ngcontent-%COMP%]:before{content:"\\e970";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path11[_ngcontent-%COMP%]:before{content:"\\e971";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path12[_ngcontent-%COMP%]:before{content:"\\e972";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path13[_ngcontent-%COMP%]:before{content:"\\e973";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path14[_ngcontent-%COMP%]:before{content:"\\e974";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path15[_ngcontent-%COMP%]:before{content:"\\e975";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path16[_ngcontent-%COMP%]:before{content:"\\e976";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path17[_ngcontent-%COMP%]:before{content:"\\e977";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path18[_ngcontent-%COMP%]:before{content:"\\e978";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path19[_ngcontent-%COMP%]:before{content:"\\e979";margin-left:-.7998046875em;color:#d0dae0}.icon-ellipsis[_ngcontent-%COMP%]:before{content:"\\e966";color:#586b7a}.icon-edit[_ngcontent-%COMP%]:before{content:"\\e965";color:#586b7a}.icon-help-center[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e963";color:#ffe845}.icon-help-center[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e964";margin-left:-1em;color:#000;opacity:.5029}.icon-driver[_ngcontent-%COMP%]:before{content:"\\e95a";color:#0165bd}.icon-eye-crossed[_ngcontent-%COMP%]:before{content:"\\e95b";color:#586b7a}.icon-eye[_ngcontent-%COMP%]:before{content:"\\e95c";color:#586b7a}.icon-grade[_ngcontent-%COMP%]:before{content:"\\e95d";color:#586b7a}.icon-ropes-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e95e";color:#586b7a}.icon-ropes-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e95f";margin-left:-1em;color:#0165bd}.icon-ropes[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e960";color:#586b7a}.icon-ropes[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e961";margin-left:-1em;color:#0165bd}.icon-score[_ngcontent-%COMP%]:before{content:"\\e962";color:#586b7a}.icon-search[_ngcontent-%COMP%]:before{content:"\\e959";color:#586b7a}.icon-progress[_ngcontent-%COMP%]:before{content:"\\e958";color:#586b7a}.icon-day-shift[_ngcontent-%COMP%]:before{content:"\\e955";color:#fcd47d}.icon-night-shift[_ngcontent-%COMP%]:before{content:"\\e956";color:#7d8c9a}.icon-segment[_ngcontent-%COMP%]:before{content:"\\e957";color:#586b7a}.icon-print[_ngcontent-%COMP%]:before{content:"\\e954";color:#586b7a}.icon-success[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e951";color:#fff}.icon-success[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e952";margin-left:-1em;color:#8bade0}.icon-success[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e953";margin-left:-1em;color:#39be04}.icon-misfire[_ngcontent-%COMP%]:before{content:"\\e950";color:#ff8200}.icon-no-selection[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e949";color:#fff}.icon-no-selection[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e94a";margin-left:-1em;color:#8bade0}.icon-no-selection[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e94b";margin-left:-1em;color:#eaeef6}.icon-no-selection[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e94c";margin-left:-1em;color:#1f8ff7}.icon-no-selection[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e94d";margin-left:-1em;color:#586b7a}.icon-home[_ngcontent-%COMP%]:before{content:"\\e948";color:#586b7a}.icon-feedback-normal[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e93f";color:#31495d;opacity:.8504}.icon-feedback-normal[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e940";margin-left:-.7861328125em;color:#ffaf00}.icon-feedback-normal[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e941";margin-left:-.7861328125em;color:#fff}.icon-feedback-selected[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e942";color:#0165bd}.icon-feedback-selected[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e943";margin-left:-.7861328125em;color:#fff}.icon-feedback-selected[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e944";margin-left:-.7861328125em;color:#ffaf00}.icon-feedback-selected[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e945";margin-left:-.7861328125em;color:#586b7a}.icon-map-feedback-small[_ngcontent-%COMP%]:before{content:"\\e946";color:#ffaf00}.icon-map-feedback[_ngcontent-%COMP%]:before{content:"\\e947";color:#586b7a}.icon-equip-driller[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e911";color:#fff}.icon-equip-driller[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e912";margin-left:-1em;color:#0165bd}.icon-equip-driller[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e913";margin-left:-1em;color:#0165bd}.icon-equip-loader[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e939";color:#fff}.icon-equip-loader[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e93a";margin-left:-1em;color:#0165bd}.icon-equip-loader[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e93b";margin-left:-1em;color:#0165bd}.icon-equip-shovel[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e93c";color:#fff}.icon-equip-shovel[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e93d";margin-left:-1em;color:#0165bd}.icon-equip-shovel[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e93e";margin-left:-1em;color:#0165bd}.icon-alert[_ngcontent-%COMP%]:before{content:"\\e900";color:#ff8200}.icon-arrow-down[_ngcontent-%COMP%]:before{content:"\\e901";color:#586b7a}.icon-arrow-left[_ngcontent-%COMP%]:before{content:"\\e902";color:#586b7a}.icon-arrow-right[_ngcontent-%COMP%]:before{content:"\\e903";color:#586b7a}.icon-arrow-top[_ngcontent-%COMP%]:before{content:"\\e904";color:#586b7a}.icon-blast[_ngcontent-%COMP%]:before, .icon-blast-light[_ngcontent-%COMP%]:before{content:"\\e905";color:#f25050}.icon-blast-light[_ngcontent-%COMP%]:before{color:#586b7a;opacity:.5}.icon-calendar[_ngcontent-%COMP%]:before{content:"\\e906";color:#0165bd}.icon-checkmark[_ngcontent-%COMP%]:before{content:"\\e907";color:#586b7a}.icon-close[_ngcontent-%COMP%]:before{content:"\\e908";color:#586b7a}.icon-coal[_ngcontent-%COMP%]:before{content:"\\e909";color:#586b7a}.icon-cost[_ngcontent-%COMP%]:before{content:"\\e90a";color:#ff8200}.icon-critical[_ngcontent-%COMP%]:before{content:"\\e90b";color:#c55563}.icon-datepicker[_ngcontent-%COMP%]:before{content:"\\e90c";color:#586b7a}.icon-destination[_ngcontent-%COMP%]:before{content:"\\e90d";color:#39be04}.icon-drill[_ngcontent-%COMP%]:before{content:"\\e90e";color:#00afbd}.icon-empty[_ngcontent-%COMP%]:before{content:"\\e90f";color:#a4afbe}.icon-env[_ngcontent-%COMP%]:before{content:"\\e910";color:#39be04}.icon-filter[_ngcontent-%COMP%]:before{content:"\\e914";color:#586b7a}.icon-flag[_ngcontent-%COMP%]:before{content:"\\e915";color:#f54f63}.icon-grid[_ngcontent-%COMP%]:before{content:"\\e916";color:#0165bd}.icon-group[_ngcontent-%COMP%]:before{content:"\\e917";color:#586b7a}.icon-help[_ngcontent-%COMP%]:before{content:"\\e918";color:#586b7a}.icon-help-light[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e963";color:#586b7a;opacity:.2}.icon-help-light[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e964";margin-left:-1em;color:#586b7a;opacity:.75}.icon-hole[_ngcontent-%COMP%]:before{content:"\\e919";color:#0165bd}.icon-kpi[_ngcontent-%COMP%]:before{content:"\\e91a";color:#0165bd}.icon-kpi-cda[_ngcontent-%COMP%]:before{content:"\\e91a";color:#e1c06b}.icon-letter[_ngcontent-%COMP%]:before{content:"\\e91b";color:#586b7a}.icon-list[_ngcontent-%COMP%]:before{content:"\\e91c";color:#0165bd}.icon-load[_ngcontent-%COMP%]:before{content:"\\e91d";color:#0165bd}.icon-loaded[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e91e";color:#a4afbe}.icon-loaded[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e91f";margin-left:-1em;color:#1f8ff7}.icon-mail[_ngcontent-%COMP%]:before{content:"\\e920";color:#586b7a}.icon-map-collapse[_ngcontent-%COMP%]:before{content:"\\e921";color:#586b7a}.icon-map-compare-tool[_ngcontent-%COMP%]:before{content:"\\e922";color:#586b7a}.icon-map-expand[_ngcontent-%COMP%]:before{content:"\\e923";color:#586b7a}.icon-map-legend[_ngcontent-%COMP%]:before{content:"\\e924";color:#586b7a}.icon-map-polygon-tool[_ngcontent-%COMP%]:before{content:"\\e925";color:#586b7a}.icon-map-toggle[_ngcontent-%COMP%]:before{content:"\\e926";color:#586b7a}.icon-map-visibility[_ngcontent-%COMP%]:before{content:"\\e927";color:#586b7a}.icon-minus[_ngcontent-%COMP%]:before{content:"\\e928";color:#586b7a}.icon-no-data[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e929";color:#fff}.icon-no-data[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e94e";margin-left:-1em;color:#8bade0}.icon-no-data[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e94f";margin-left:-1em;color:#586b7a}.icon-notifications[_ngcontent-%COMP%]:before{content:"\\e92a";color:#586b7a}.icon-pattern[_ngcontent-%COMP%]:before{content:"\\e92b";color:#0165bd}.icon-piechart[_ngcontent-%COMP%]:before{content:"\\e92c";color:#00afbd}.icon-plus[_ngcontent-%COMP%]:before{content:"\\e92d";color:#586b7a}.icon-refresh[_ngcontent-%COMP%]:before{content:"\\e92e";color:#586b7a}.icon-road[_ngcontent-%COMP%]:before{content:"\\e92f"}.icon-roadblock[_ngcontent-%COMP%]:before{content:"\\e930";color:#f25050}.icon-roadpin[_ngcontent-%COMP%]:before{content:"\\e931";color:#ff8200}.icon-settings[_ngcontent-%COMP%]:before{content:"\\e932";color:#586b7a}.icon-shovel[_ngcontent-%COMP%]:before{content:"\\e933";color:#0165bd}.icon-target[_ngcontent-%COMP%]:before{content:"\\e934";color:#586b7a}.icon-time[_ngcontent-%COMP%]:before{content:"\\e935";color:#586b7a}.icon-truck[_ngcontent-%COMP%]:before{content:"\\e936";color:#0165bd}.icon-user[_ngcontent-%COMP%]:before{content:"\\e937";color:#586b7a}.icon-waste[_ngcontent-%COMP%]:before{content:"\\e938";color:#586b7a}.icon-info[_ngcontent-%COMP%]:before{content:"\\ea03";color:#586b7a}.chart-container[_ngcontent-%COMP%]{height:250px;width:100%}.no-data-message[_ngcontent-%COMP%]{align-self:center;text-align:center;font-weight:500;font-size:12px;color:#586b7a}.no-data-container[_ngcontent-%COMP%]{margin-top:20px}.icon-no-data[_ngcontent-%COMP%]{align-self:center;width:44px;height:42px;background:url(/assets/images/icons/icon-no-data.svg) center no-repeat;background-size:100%}']}),e}(),Pt=s(71654),An=s(26215);function Sn(e,o){if(1&e&&(t.TgZ(0,"h3",9),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij(" ",n("vibrationTranslation.prediction_title.vibration_prediction")," ")}}function Fn(e,o){if(1&e&&(t.TgZ(0,"div",5),t.YNc(1,Sn,2,1,"h3",6),t.TgZ(2,"span",7),t._UZ(3,"dabo-prediction-export",8),t.qZA()()),2&e){var n=t.oxw();t.xp6(3),t.Q6J("patternId",null==n.resultsData?null:n.resultsData.id)}}function Ln(e,o){if(1&e&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij(" ",n("vibrationTranslation.error_message_dangerous_data")," ")}}function In(e,o){1&e&&(t.TgZ(0,"div",14),t._UZ(1,"div",15),t.YNc(2,Ln,2,1,"div",16),t.qZA())}function Un(e,o){if(1&e&&(t.TgZ(0,"div",10)(1,"div",11),t._UZ(2,"dabo-vibration-prediction-result-table",12),t.qZA(),t.YNc(3,In,3,0,"div",13),t.qZA()),2&e){var n=t.oxw();t.xp6(2),t.Q6J("dataFields",n.tableData)("displayedColumns",n.vibrationPredictionDisplayedColumns)("columns",n.vibrationPredictionColumnsConfig)("translateKey",n.vibrationPredictionTranslationKey),t.xp6(1),t.Q6J("ngIf",null==n.resultsData?null:n.resultsData.invalidFields.invalidData)}}function En(e,o){if(1&e&&(t.TgZ(0,"h3",9),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij(" ",n("vibrationTranslation.prediction_title.fragmentation_prediction")," ")}}function Nn(e,o){1&e&&(t.TgZ(0,"div"),t.YNc(1,En,2,1,"h3",6),t.qZA())}function Yn(e,o){if(1&e&&(t.TgZ(0,"span",21),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij(" ",n("vibrationTranslation.fragmentation_field")," % < 1 inch: ")}}function Bn(e,o){if(1&e&&(t.TgZ(0,"span",21),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.hij(" ",n("vibrationTranslation.fragmentation_field")," P80: ")}}function Hn(e,o){if(1&e&&(t.TgZ(0,"div",11)(1,"p",18),t.YNc(2,Yn,2,1,"span",19),t.TgZ(3,"span",20),t._uU(4),t.ALo(5,"detectNullValue"),t.ALo(6,"unit"),t.qZA()(),t.TgZ(7,"p",18),t.YNc(8,Bn,2,1,"span",19),t.TgZ(9,"span",20),t._uU(10),t.ALo(11,"detectNullValue"),t.ALo(12,"unit"),t.qZA()()()),2&e){var n=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,2,t.xi3(6,4,null==n.resultsData?null:n.resultsData.chartsData.fragmentationChartData.config.lessThanInch.y,"%"))," "),t.xp6(6),t.hij(" ",t.lcZ(11,7,t.xi3(12,9,null==n.resultsData?null:n.resultsData.chartsData.fragmentationChartData.config.p80.x,"mm"))," ")}}function zn(e,o){if(1&e&&t._UZ(0,"dabo-fragmentation-chart",23),2&e){var n=t.oxw(2);t.Q6J("chartData",null==n.resultsData?null:n.resultsData.chartsData.fragmentationChartData)}}function Vn(e,o){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,zn,1,1,"dabo-fragmentation-chart",22),t.qZA()),2&e){var n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.resultsData?null:n.resultsData.chartsData.fragmentationChartData)}}function jn(e,o){1&e&&(t.TgZ(0,"div",24),t._UZ(1,"div",25),t.qZA())}var Rn=function(){var e=function(o){(0,F.Z)(a,o);var n=(0,L.Z)(a);function a(l,i,r){var c;return(0,_.Z)(this,a),(c=n.call(this)).vibrationOptimizerService=l,c.cdr=i,c.vibrationPredictionService=r,c.resultsLoading=!1,c.tableData=[],c.vibrationPredictionColumnsConfig=[],c.vibrationPredictionDisplayedColumns=[],c.vibrationPredictionTranslationKey=I,c}return(0,f.Z)(a,[{key:"ngOnInit",value:function(){var r,i=this;this.tableData=this.vibrationPredictionService.transformPredictions(mt),this.vibrationPredictionColumnsConfig=this.vibrationPredictionService.getColumnsConfig(),this.vibrationPredictionDisplayedColumns=null===(r=this.vibrationPredictionColumnsConfig)||void 0===r?void 0:r.map(function(c){return c.property}),this.vibrationOptimizerService.predictionsResult$.pipe((0,T.R)(this.destroy$)).subscribe(function(c){var M=(null==c?void 0:c.vibrationPrediction)||mt;i.resultsData=c,i.tableData=i.vibrationPredictionService.transformPredictions(M),i.cdr.markForCheck()})}}]),a}(x.eO);return e.\u0275fac=function(n){return new(n||e)(t.Y36(w),t.Y36(t.sBO),t.Y36(ut))},e.\u0275cmp=t.Xpm({type:e,selectors:[["dabo-result-block-widget"]],inputs:{resultsLoading:"resultsLoading"},features:[t.qOj],decls:7,vars:6,consts:[["class","widgets__item-block",4,"ngIf"],["fxLayout","column",4,"ngIf","ngIfElse"],[4,"ngIf"],["class","results-data",4,"ngIf"],["loader",""],[1,"widgets__item-block"],["class","widgets__item__title widgets__item__content__title",4,"transloco"],[1,"widgets__item-export"],[3,"patternId"],[1,"widgets__item__title","widgets__item__content__title"],["fxLayout","column"],[1,"results-data"],[3,"dataFields","displayedColumns","columns","translateKey"],["class","results-data__item__error",4,"ngIf"],[1,"results-data__item__error"],[1,"icon-error","results-data__item__error__icon"],["class","results-data__item__error__message",4,"transloco"],[1,"results-data__item__error__message"],[1,"results-data__item"],["class","results-data__item__label",4,"transloco"],[1,"results-data__item__info"],[1,"results-data__item__label"],[3,"chartData",4,"ngIf"],[3,"chartData"],["fxLayoutAlign","center center",1,"base-spinner-wrapper"],[1,"spinner"]],template:function(n,a){if(1&n&&(t.YNc(0,Fn,4,1,"div",0),t.YNc(1,Un,4,5,"div",1),t.YNc(2,Nn,2,0,"div",2),t.YNc(3,Hn,13,12,"div",3),t.YNc(4,Vn,2,1,"div",2),t.YNc(5,jn,2,0,"ng-template",null,4,t.W1O)),2&n){var l=t.MAs(6);t.Q6J("ngIf",!a.resultsLoading),t.xp6(1),t.Q6J("ngIf",!a.resultsLoading)("ngIfElse",l),t.xp6(1),t.Q6J("ngIf",!a.resultsLoading),t.xp6(1),t.Q6J("ngIf",!a.resultsLoading),t.xp6(1),t.Q6J("ngIf",!a.resultsLoading)}},directives:[d.O5,h.KI,Mt,p.xw,yn,wn,p.Wh],pipes:[Pt.R,An.O],styles:['.widgets__item-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.widgets__item-export[_ngcontent-%COMP%]{margin-top:-3px}.widgets__item__content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:80%;font-weight:400;font-size:12px;line-height:18px;color:#0000004d;margin-top:0}.widgets__item__content__title[_ngcontent-%COMP%]{font-size:16px}.results-data[_ngcontent-%COMP%]{margin:15px 0}.results-data__item[_ngcontent-%COMP%]{margin:0;font-size:12px;line-height:24px;color:#000000bf;display:flex}.results-data__item__label[_ngcontent-%COMP%]{width:45%}.results-data__item__info[_ngcontent-%COMP%]{font-weight:500}.results-data__item__error[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:19px;color:#b41e1e;background-color:#ff00000d;border:1px solid rgba(255,0,0,.2);border-radius:4px;padding:9px;margin-bottom:20px;display:flex;flex-direction:row}.results-data__item__error__icon[_ngcontent-%COMP%]{padding:12px 8px}.results-data__item__error__message[_ngcontent-%COMP%]{margin-left:10px}.results-data__item__error[_ngcontent-%COMP%]   .icon-error[_ngcontent-%COMP%]:before{content:"\\e900";color:#f25050;font-size:23px}']}),e}(),qn=s(93470),ot=s(82768);function Wn(e,o){if(1&e&&(t.TgZ(0,"div",9),t._UZ(1,"div",10),t.qZA()),2&e){var n=t.oxw(3);t.xp6(1),t.Q6J("chart",n.chart)}}function Jn(e,o){if(1&e&&(t.TgZ(0,"div",6)(1,"div",7),t.YNc(2,Wn,2,1,"div",8),t.qZA()()),2&e){var n=t.oxw(2),a=t.MAs(2);t.xp6(2),t.Q6J("ngIf",!n.resultsLoading)("ngIfElse",a)}}function $n(e,o){if(1&e&&(t.TgZ(0,"div",3)(1,"dabo-widget-collapsible",4),t.YNc(2,Jn,3,2,"div",5),t.qZA()()),2&e){var n=o.$implicit,a=t.oxw(),l=t.MAs(4);t.xp6(1),t.Q6J("widgetTitle",n("vibrationTranslation.graph.title"))("widgetIcon","icon-kpi")("isExpandedByDefault",!1),t.xp6(1),t.Q6J("ngIf",a.resultsLoading||!a.noData)("ngIfElse",l)}}function Qn(e,o){1&e&&(t.TgZ(0,"div",11),t._UZ(1,"div",12),t.qZA())}function Gn(e,o){if(1&e&&(t.TgZ(0,"div",16),t._UZ(1,"div",17),t.TgZ(2,"p",18),t._uU(3),t.qZA()()),2&e){var n=t.oxw().$implicit;t.xp6(3),t.Oqu(n("vibrationTranslation.no_data_to_display"))}}var Kn=function(o){return{"no-data-container":o}};function Xn(e,o){if(1&e&&(t.TgZ(0,"div",14),t.YNc(1,Gn,4,1,"div",15),t.qZA()),2&e){var n=t.oxw(2);t.Q6J("ngClass",t.VKq(2,Kn,n.noData)),t.xp6(1),t.Q6J("ngIf",n.noData)}}function to(e,o){1&e&&t.YNc(0,Xn,2,4,"div",13)}var eo=function(){var e=function(o){(0,F.Z)(a,o);var n=(0,L.Z)(a);function a(l,i,r){var c;return(0,_.Z)(this,a),(c=n.call(this)).vibrationOptimizerService=l,c.predictionGraphDataService=i,c.localizationLocalService=r,c.noData=!0,c}return(0,f.Z)(a,[{key:"ngOnInit",value:function(){var i=this;this.vibrationOptimizerService.predictionsResult$.pipe((0,T.R)(this.destroy$)).subscribe(function(r){r&&!(0,et.isEmpty)(r.chartsData.vibrationChartData)?(qn.setOptions({lang:{resetZoom:i.localizationLocalService.translateText("vibrationTranslation.graph.reset_zoom"),resetZoomTitle:i.localizationLocalService.translateText("vibrationTranslation.graph.reset_zoom_level")}}),i.chart=i.predictionGraphDataService.getChart(r.chartsData.vibrationChartData),i.noData=!1):i.noData=!0})}}]),a}(x.eO);return e.\u0275fac=function(n){return new(n||e)(t.Y36(w),t.Y36(ft),t.Y36(W.bM))},e.\u0275cmp=t.Xpm({type:e,selectors:[["dabo-prediction-graph"]],inputs:{resultsLoading:"resultsLoading"},features:[t.qOj],decls:5,vars:0,consts:[["class","prediction-graph",4,"transloco"],["loading",""],["noDataContainer",""],[1,"prediction-graph"],[3,"widgetTitle","widgetIcon","isExpandedByDefault"],["widgetBody","","fxLayout","row","fxLayoutGap","20px",4,"ngIf","ngIfElse"],["widgetBody","","fxLayout","row","fxLayoutGap","20px"],[1,"chart-wrapper"],["class","chart-container",4,"ngIf","ngIfElse"],[1,"chart-container"],[3,"chart"],[1,"base-spinner-wrapper"],[1,"spinner"],[3,"ngClass",4,"transloco"],[3,"ngClass"],["class","no-data",4,"ngIf"],[1,"no-data"],[1,"icon"],[1,"no-data__text"]],template:function(n,a){1&n&&(t.YNc(0,$n,3,5,"div",0),t.YNc(1,Qn,2,0,"ng-template",null,1,t.W1O),t.YNc(3,to,1,0,"ng-template",null,2,t.W1O))},directives:[h.KI,ot._,d.O5,p.xw,p.SQ,V.Dm,d.mk,D.oO],styles:[".chart-wrapper[_ngcontent-%COMP%], .chart-container[_ngcontent-%COMP%]{width:100%;display:block}.base-spinner-wrapper[_ngcontent-%COMP%]{padding:20px 0}.no-data-container[_ngcontent-%COMP%]{margin:20px 0}.no-data-container[_ngcontent-%COMP%]   .no-data__text[_ngcontent-%COMP%]{font-size:12px;color:#586b7a}"]}),e}(),no=s(92198),at=s(22868),oo=s(87545),ao=s(27107);function io(e,o){if(1&e&&(t.TgZ(0,"mat-toolbar")(1,"mat-toolbar-row")(2,"h2"),t._uU(3),t.qZA(),t._UZ(4,"div",2)(5,"span",3),t.qZA()()),2&e){var n=o.$implicit,a=t.oxw();t.xp6(3),t.Oqu(n(a.data.header))}}var lo=function(){var e=function(){function o(n,a){(0,_.Z)(this,o),this.data=n,this.dialogRef=a}return(0,f.Z)(o,[{key:"onKeyUp",value:function(){this.close()}},{key:"close",value:function(){this.dialogRef.close()}}]),o}();return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.WI),t.Y36(g.so))},e.\u0275cmp=t.Xpm({type:e,selectors:[["dabo-prediction-modal"]],hostBindings:function(n,a){1&n&&t.NdJ("keyup.esc",function(){return a.onKeyUp()},!1,t.Jf7)},decls:3,vars:1,consts:[[4,"transloco"],[3,"innerHtml"],[1,"fill-remaining-space"],["mat-dialog-close","",1,"icon","icon-close"]],template:function(n,a){1&n&&(t.YNc(0,io,6,1,"mat-toolbar",0),t.TgZ(1,"mat-dialog-content"),t._UZ(2,"div",1),t.qZA()),2&n&&(t.xp6(2),t.Q6J("innerHtml",a.data.htmlContent,t.oJD))},directives:[h.KI,y.Ye,y.rD,g.ZT,g.xY],styles:["mat-dialog-content[_ngcontent-%COMP%]{color:#586b7a;font-weight:400;font-size:14px;line-height:22px;min-height:40vh}"]}),e}(),ro=s(84872);function co(e,o){if(1&e&&t._UZ(0,"dabo-prediction-tracking-table",3),2&e){var n=t.oxw();t.Q6J("predictedVsActualColumns",n.predictionColumns)("columns",n.singleValueColumns)("data",n.tableData)("getRange",n.getRange.bind(n))("displayedColumns",n.displayedColumns)}}function so(e,o){if(1&e&&(t.TgZ(0,"div",5)(1,"div",6),t._UZ(2,"div",7),t.TgZ(3,"p",8),t._uU(4),t.qZA()()()),2&e){var n=o.$implicit;t.xp6(4),t.Oqu(n("vibrationTranslation.no_data_to_display"))}}function po(e,o){1&e&&t.YNc(0,so,5,1,"div",4)}function mo(e,o){1&e&&t._UZ(0,"mat-progress-bar",17)}function go(e,o){1&e&&t.GkF(0)}function uo(e,o){if(1&e){var n=t.EpF();t.TgZ(0,"div")(1,"dabo-widget-collapsible",9)(2,"div",10)(3,"span",11),t.NdJ("click",function(M){return t.CHM(n),t.oxw().openHelp(M)}),t._UZ(4,"span",12)(5,"span",13),t.qZA()(),t.TgZ(6,"div",14),t.YNc(7,mo,1,0,"mat-progress-bar",15),t.YNc(8,go,1,0,"ng-container",16),t.qZA()()()}if(2&e){var a=o.$implicit,l=t.oxw(),i=t.MAs(1),r=t.MAs(3);t.xp6(1),t.Q6J("widgetTitle",a("vibrationTranslation.prediction_table.title")),t.xp6(6),t.Q6J("ngIf",l.isLoading),t.xp6(1),t.Q6J("ngTemplateOutlet",null!=l.tableData&&l.tableData.length?i:r)}}var fo=function(){var e=function(o){(0,F.Z)(a,o);var n=(0,L.Z)(a);function a(l,i,r,c,M){var v;return(0,_.Z)(this,a),(v=n.call(this)).vibrationOptimizerService=l,v.dialog=i,v.localizationService=r,v.cdr=c,v.mineStateService=M,v.tableData=[],v.predictionColumns=[],v.singleValueColumns=[],v.displayedColumns=[],v.isLoading=!0,v}return(0,f.Z)(a,[{key:"ngOnInit",value:function(){var i=this;this.predictionColumns=Kt,this.singleValueColumns=Gt,this.displayedColumns=Qt,this.vibrationOptimizerService.getPredictionsTrackingHistory().pipe((0,T.R)(this.destroy$)).subscribe(function(r){i.onLoad(r)}),this.vibrationOptimizerService.predictionsResult$.pipe((0,no.h)(function(r){return!!r}),(0,at.b)(function(){i.isLoading=!0}),(0,oo.w)(function(){return i.vibrationOptimizerService.getPredictionsTrackingHistory()}),(0,T.R)(this.destroy$)).subscribe(function(r){i.onLoad(r)})}},{key:"getRange",value:function(i){return(0,et.isNil)(i)?$t:i?Wt:Jt}},{key:"openHelp",value:function(i){i.stopPropagation();var r=this.getHelpTemplate();return this.dialog.open(lo,{panelClass:["modal-base","modal--prediction-tracking"],width:"540px",data:{header:"predictionTable.vibration-modal.header",htmlContent:r}})}},{key:"getHelpTemplate",value:function(){for(var r="",c=1;c<=5;c++)r+='<p class="text">'.concat(this.localizationService.translateText("predictionTable.vibration-modal.content_hint_"+c),"</p>");return r}},{key:"onLoad",value:function(i){this.tableData=this.decorateTableData(i),this.isLoading=!1,this.cdr.detectChanges()}},{key:"decorateTableData",value:function(i){var r=this;return i.map(function(c){return Object.assign(Object.assign({},c),{link:(0,ao.g)(c.blastId,r.mineStateService.getSelectedMineArea(),!0)})})}}]),a}(x.eO);return e.\u0275fac=function(n){return new(n||e)(t.Y36(w),t.Y36(g.uw),t.Y36(W.bM),t.Y36(t.sBO),t.Y36(j.Hj))},e.\u0275cmp=t.Xpm({type:e,selectors:[["dabo-prediction-tracking-widget"]],features:[t.qOj],decls:5,vars:0,consts:[["table",""],["noDataContainer",""],[4,"transloco"],["sortActive","blastActualDateFired","sortDirection","desc","sortDisableClear","",3,"predictedVsActualColumns","columns","data","getRange","displayedColumns"],["class","no-data-container",4,"transloco"],[1,"no-data-container"],[1,"no-data"],[1,"icon"],[1,"no-data__text"],["widgetIcon","icon-target",3,"widgetTitle"],["widgetTitleAdditionalContent",""],[1,"icon","icon-help-center",3,"click"],[1,"path1"],[1,"path2"],["widgetBody","",1,"prediction-tracking-content"],["color","primary","mode","indeterminate",4,"ngIf"],[4,"ngTemplateOutlet"],["color","primary","mode","indeterminate"]],template:function(n,a){1&n&&(t.YNc(0,co,1,5,"ng-template",null,0,t.W1O),t.YNc(2,po,1,0,"ng-template",null,1,t.W1O),t.YNc(4,uo,9,3,"div",2))},directives:[ro.K,h.KI,ot._,d.O5,Z.pW,d.tP],styles:["[_nghost-%COMP%]     .mat-accordion>.mat-expansion-panel{margin-bottom:20px}[_nghost-%COMP%]     .icon-target:before{color:#39be04}.no-data-container[_ngcontent-%COMP%]{margin:20px 0}.no-data-container[_ngcontent-%COMP%]   .no-data__text[_ngcontent-%COMP%]{font-size:12px;color:#586b7a}.icon-help-center[_ngcontent-%COMP%]{padding-left:6px}"]}),e}(),_o=s(31307),it=s(78369),bo=s(38001),lt=s(67901),xt=s(34504),rt={holes:{features:[],type:"FeatureCollection"},patternPolygons:{features:[],type:"FeatureCollection"},angledLines:null,angledPoints:null,blastPerimeter:null,metrics:null,preconditionAreas:null,dateSources:null},Co=(m.Ab.getUnits("rockDensity",P.q.CDA),m.Ab.getUnits("ballMillWorkIndex",P.q.CDA),m.Ab.getUnits("explosivesAmount",P.q.CDA),m.Ab.getUnits("maxLoadedHole",P.q.CDA),m.Ab.getUnits("minLoadedHole",P.q.CDA),m.Ab.getUnits("TDSO4",P.q.CDA),m.Ab.getUnits("blastDuration",P.q.CDA),s(59637)),Tt=s(21265),ho=s(97740),Oo=s(51275),Mo=s(30304),Po=s(1400);function xo(e,o){1&e&&t._UZ(0,"mat-progress-bar",18)}function To(e,o){if(1&e&&t._UZ(0,"dabo-coordinates-bar",19),2&e){var n=t.oxw(2);t.Q6J("map",n.map)}}var yo=function(){return{}},Do=function(o,n){return{type:o,settings:n}};function Zo(e,o){if(1&e){var n=t.EpF();t.TgZ(0,"mgl-control",20)(1,"dabo-map-legend",21),t.NdJ("selectedColormap",function(i){return t.CHM(n),t.oxw(2).updateVisibilityState(i)})("selectLegend",function(){return t.CHM(n),t.oxw(2).closeMapPanel()}),t.qZA()()}if(2&e){var a=t.oxw(2);t.xp6(1),t.Q6J("updatedSettings",t.DdM(5,yo))("legendData",t.WLB(6,Do,a.colorMap,a.mapSettings))("mapType","main")("map",a.map)("isKPI",!1)}}var ko=function(){return[12]},ct=function(o,n){return[o,n]},wo=function(){return[180,84]},Ao=function(o){return{opened:o}};function So(e,o){if(1&e){var n=t.EpF();t.TgZ(0,"div",1)(1,"dabo-widget-collapsible",2)(2,"div",3),t._UZ(3,"span",4)(4,"span",5)(5,"span",6)(6,"span",7)(7,"span",8),t.qZA(),t.TgZ(8,"div",9)(9,"div",10),t.YNc(10,xo,1,0,"mat-progress-bar",11),t.TgZ(11,"mgl-map",12),t.NdJ("mapLoad",function(r){return t.CHM(n),t.oxw().mapLoaded(r)}),t.TgZ(12,"mgl-control",13),t.YNc(13,To,1,1,"dabo-coordinates-bar",14),t.qZA(),t.TgZ(14,"mgl-control",15),t._UZ(15,"dabo-map-fullscreen-button"),t.qZA(),t.YNc(16,Zo,2,9,"mgl-control",16),t.qZA(),t.TgZ(17,"dabo-map-panel",17),t.NdJ("closeMapPanel",function(){return t.CHM(n),t.oxw().closeMapPanel()}),t.qZA()()()()()}if(2&e){var a=o.$implicit,l=t.oxw();t.xp6(1),t.Q6J("widgetTitle",a("vibrationTranslation.color_map"))("widgetIcon","icon-colormap")("isExpandedByDefault",!1),t.xp6(9),t.Q6J("ngIf",l.resultsLoading),t.xp6(1),t.Akn("mapbox://styles/torbadesign/ck85z0yhv0moz1iqc3usneq0u?optimize=true"),t.Q6J("zoom",t.DdM(17,ko))("center",t.WLB(18,ct,-71.10252,-30.25389))("maxBounds",t.WLB(25,ct,t.WLB(21,ct,-180,-80),t.DdM(24,wo)))("preserveDrawingBuffer",!0),t.xp6(2),t.Q6J("ngIf",!l.resultsLoading&&l.mapSettings.controlsVisible&&l.map),t.xp6(3),t.Q6J("ngIf",!l.resultsLoading&&l.mapSettings.controlsVisible&&l.map),t.xp6(1),t.Q6J("compareSide",null)("panelInfo",l.panelInfo)("isReportsPage",!1)("colorMap",l.colorMap)("ngClass",t.VKq(28,Ao,!!l.panelInfo))}}var st=it.a.COLORCODES,pt=it.a.COLORCODES_SELECTED,Fo=it.a.COLORCODES_HOLE_ID,Lo=function(){var e=function(o){(0,F.Z)(a,o);var n=(0,L.Z)(a);function a(l,i){var r;return(0,_.Z)(this,a),(r=n.call(this)).cdr=l,r.vibrationOptimizerService=i,r.mapSettings={controlsVisible:!1,holesMode:!0},r.defaultColorMap=bo.N.FRAGMENTATION_P80,r.colorMap=r.defaultColorMap,r.showLayersDefault=[st,lt.u.COLORCODES_MISSING_DATA,lt.u.COLORCODES_NODATA_SYMBOL,pt,Fo],r}return(0,f.Z)(a,[{key:"ngOnInit",value:function(){var i=this;this.vibrationOptimizerService.predictionsResult$.pipe((0,T.R)(this.destroy$),(0,_o.T)(1),(0,at.b)(function(){return i.closeMapPanel()})).subscribe(function(r){if(!r||!r.holesFragmentationColorMap.patternPolygons.features.length)return i.mapSettings.controlsVisible=!1,void i.updateMapState(rt);x.WC.RearrangeMapBordersToLoadedPolygons(i.map,r.holesFragmentationColorMap.patternPolygons),i.mapSettings.controlsVisible=!0,i.updateMapState(r.holesFragmentationColorMap)},function(){i.mapSettings.controlsVisible=!1})}},{key:"mapLoaded",value:function(i){this.map=i,this.addMapEventHandlers(),x.WC.addControls(this.map,{nav:"bottom-right",attributionControl:"bottom-right"}),x.WC.updateMap(this.map,rt,P.q.CDA,this.mapSettings),x.Ny.updateVisibility(this.showLayersDefault,[xt.r.PRECONDITIONING,xt.r.BLASTIQ_COMMENT],this.map),x.Ny.setColorCodes(this.map,this.colorMap,P.q.CDA)}},{key:"updateVisibilityState",value:function(i){this.colorMap=i,this.closeMapPanel(),x.Ny.setColorCodes(this.map,i,P.q.CDA)}},{key:"closeMapPanel",value:function(){this.panelInfo=null,this.map.setFilter(pt,["in",["get","drilledNumber"],""]),this.cdr.detectChanges()}},{key:"updateMapState",value:function(i){var r=i.holes,c=i.patternPolygons;this.updateVisibilityState(this.defaultColorMap),this.map.getSource(st).setData(m.pE.mapVOMHoles(r)),this.map.getSource("polygons").setData(c),this.cdr.detectChanges()}},{key:"addMapEventHandlers",value:function(){var i=this;["touchend","click"].forEach(function(r){[lt.u.COLORCODES_MISSING_DATA,st].forEach(function(c){i.map.on(r,c,function(M){i.setFilter(M)})})}),x.WC.addCursorPointer(this.map,this.showLayersDefault)}},{key:"setFilter",value:function(i){this.map.setFilter(pt,["in","drilledNumber"].concat(i.features[0].properties.drilledNumber)),this.panelInfo={defaultHoleData:m.pE.getHoleDataProperties(i.features[0].properties),type:this.colorMap},this.cdr.detectChanges()}}]),a}(x.eO);return e.\u0275fac=function(n){return new(n||e)(t.Y36(t.sBO),t.Y36(w))},e.\u0275cmp=t.Xpm({type:e,selectors:[["dabo-color-map"]],inputs:{resultsLoading:"resultsLoading"},features:[t._Bn([Co.G]),t.qOj],decls:1,vars:0,consts:[["class","color-map",4,"transloco"],[1,"color-map"],[3,"widgetTitle","widgetIcon","isExpandedByDefault"],["multiLayoutIcon",""],[1,"path1"],[1,"path2"],[1,"path3"],[1,"path4"],[1,"path5"],["widgetBody",""],[1,"color-map__content"],["color","primary","mode","indeterminate",4,"ngIf"],["id","map-container","daboKeydownEscape","",3,"zoom","center","maxBounds","preserveDrawingBuffer","mapLoad"],["position","top-right"],[3,"map",4,"ngIf"],["position","bottom-right"],["position","bottom-left",4,"ngIf"],[3,"compareSide","panelInfo","isReportsPage","colorMap","ngClass","closeMapPanel"],["color","primary","mode","indeterminate"],[3,"map"],["position","bottom-left"],[3,"updatedSettings","legendData","mapType","map","isKPI","selectedColormap","selectLegend"]],template:function(n,a){1&n&&t.YNc(0,So,18,30,"div",0)},directives:[h.KI,ot._,d.O5,Z.pW,G.Gd,Tt.h,G.Fr,ho.j,Oo.d,Mo.T,Po.w,d.mk,D.oO],styles:[".color-map__content[_ngcontent-%COMP%]{height:650px;width:100%;position:relative}.color-map__content[_ngcontent-%COMP%]   .mat-progress-bar[_ngcontent-%COMP%]{width:100%;height:3px;z-index:9}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}.no-data-container[_ngcontent-%COMP%]{margin:20px 0}.no-data-container[_ngcontent-%COMP%]   .no-data__text[_ngcontent-%COMP%]{font-size:12px;color:#586b7a}"]}),e}(),yt=s(68896);function Io(e,o){if(1&e){var n=t.EpF();t.TgZ(0,"div",1)(1,"mat-dialog-content",2)(2,"div",3)(3,"span"),t._uU(4),t.qZA()()(),t.TgZ(5,"mat-dialog-actions",4)(6,"button",5),t._uU(7),t.qZA(),t.TgZ(8,"button",6),t.NdJ("click",function(){return t.CHM(n),t.oxw().deleteComment()}),t._uU(9),t.qZA()()()}if(2&e){var a=o.$implicit;t.xp6(4),t.hij(" ",a("vibrationTranslation.delete_confirmation_msg")," "),t.xp6(3),t.hij(" ",a("global.no")," "),t.xp6(2),t.hij(" ",a("global.yes")," ")}}var Uo=function(){var e=function(){function o(n,a){(0,_.Z)(this,o),this.data=n,this.dialogRef=a}return(0,f.Z)(o,[{key:"deleteComment",value:function(){this.data.handleDelete(),this.dialogRef.close()}}]),o}();return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.WI),t.Y36(g.so))},e.\u0275cmp=t.Xpm({type:e,selectors:[["dabo-delete-dialog"]],decls:1,vars:0,consts:[["class","vibration-optimizer-delete comment-dialog",4,"transloco"],[1,"vibration-optimizer-delete","comment-dialog"],[1,"edit-dialog"],[1,"comment-dialog__content"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","12px"],["fxFlex","calc(50% - 10px)","mat-button","","matDialogClose","","tabindex","-1",1,"modal__btn","btn","btn--secondary"],["fxFlex","calc(50% - 10px)","mat-button","",1,"modal__btn","btn","btn--primary",3,"click"]],template:function(n,a){1&n&&t.YNc(0,Io,10,3,"div",0)},directives:[h.KI,g.xY,g.H8,p.xw,p.Wh,p.SQ,S.lW,p.yH,g.ZT],encapsulation:2}),e}(),Eo=s(44117);function No(e,o){if(1&e){var n=t.EpF();t.TgZ(0,"div",14)(1,"button",15),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).onDeleteComment()}),t._uU(2),t.qZA()()}if(2&e){var a=t.oxw().$implicit,l=t.oxw();t.xp6(1),t.Q6J("disabled",l.isLoading),t.xp6(1),t.hij(" ",a("vibrationTranslation.delete")," ")}}var Yo=function(o){return{"edit-mode":o}};function Bo(e,o){if(1&e){var n=t.EpF();t.TgZ(0,"div",1)(1,"mat-toolbar")(2,"mat-toolbar-row")(3,"h2"),t._uU(4),t.qZA(),t._UZ(5,"div",2)(6,"span",3),t.qZA()(),t.TgZ(7,"div",4),t._UZ(8,"mat-progress-bar",5),t.qZA(),t.TgZ(9,"mat-dialog-content",6)(10,"div",7),t._UZ(11,"dabo-edit-comment",8),t.qZA()(),t.TgZ(12,"mat-dialog-actions",9),t.YNc(13,No,3,2,"div",10),t.TgZ(14,"div",11)(15,"button",12),t._uU(16),t.qZA(),t.TgZ(17,"button",13),t.NdJ("click",function(){return t.CHM(n),t.oxw().onAddComment()}),t._uU(18),t.qZA()()()()}if(2&e){var a=o.$implicit,l=t.oxw();t.xp6(4),t.Oqu(a("vibrationTranslation.comment")),t.xp6(3),t.Q6J("fxShow",l.isLoading),t.xp6(4),t.Q6J("groupInstance",l.form)("controlName","commentText")("placeholder",a("vibrationTranslation.comment_text"))("errorMsg",a(l.errorMsg)),t.xp6(1),t.Q6J("ngClass",t.VKq(11,Yo,l.data.row.comment)),t.xp6(1),t.Q6J("ngIf",l.data.row.comment),t.xp6(3),t.hij(" ",a("global.cancel")," "),t.xp6(1),t.Q6J("disabled",l.isLoading||!l.commentText.value.length),t.xp6(1),t.hij(" ",a("vibrationTranslation.save")," ")}}var Ho=function(){var e=function(){function o(n,a,l,i,r){(0,_.Z)(this,o),this.fb=n,this.vibrationOptimizerService=a,this.data=l,this.dialog=i,this.dialogRef=r,this.isLoading=!1,this.errorMsg=""}return(0,f.Z)(o,[{key:"ngOnInit",value:function(){this.initForm()}},{key:"commentText",get:function(){return this.form.get("commentText")}},{key:"onAddComment",value:function(){var a=this.data.row.id,i=this.vibrationOptimizerService.updateComment(a,{text:this.commentText.value});this.handleRequest(i,a,this.commentText.value)}},{key:"onDeleteComment",value:function(){this.dialog.open(Uo,{panelClass:"modal-base",disableClose:!0,height:"175px",width:"320px",data:{handleDelete:this.handleDelete.bind(this)}})}},{key:"handleDelete",value:function(){var a=this.data.row.id,l=this.vibrationOptimizerService.deleteComment(a);this.handleRequest(l,a,"")}},{key:"handleRequest",value:function(a,l,i){var r=this;this.isLoading=!0,this.errorMsg="",a.pipe((0,nt.K)(function(){return r.errorMsg="vibrationTranslation.smth_went_wrong_error",yt.E}),(0,bt.x)(function(){r.isLoading=!1})).subscribe(function(){r.data.changeCommentIcon(l,i),r.dialogRef.close()})}},{key:"initForm",value:function(){this.form=this.fb.group({commentText:[this.data.row.comment||""]})}}]),o}();return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.qu),t.Y36(w),t.Y36(g.WI),t.Y36(g.uw),t.Y36(g.so))},e.\u0275cmp=t.Xpm({type:e,selectors:[["dabo-comment-dialog"]],decls:1,vars:0,consts:[["class","vibration-optimizer comment-dialog",4,"transloco"],[1,"vibration-optimizer","comment-dialog"],[1,"fill-remaining-space"],["matDialogClose","",1,"icon","icon-close"],["daboKeydownEscape","","fxFill","",3,"fxShow"],["color","primary","mode","indeterminate"],[1,"edit-dialog"],[1,"comment-dialog__content"],[3,"groupInstance","controlName","placeholder","errorMsg"],["fxLayout","row","fxLayoutGap","12px",3,"ngClass"],["class","comment-dialog__delete",4,"ngIf"],["fxLayout","row",1,"comment-dialog__actions"],["mat-button","","matDialogClose","","tabindex","-1",1,"modal__btn","btn","btn--outline"],["mat-button","",1,"modal__btn","btn","btn--primary",3,"disabled","click"],[1,"comment-dialog__delete"],["mat-button","",1,"modal__btn","btn","btn--secondary","btn--gray",3,"disabled","click"]],template:function(n,a){1&n&&t.YNc(0,Bo,19,13,"div",0)},directives:[h.KI,y.Ye,y.rD,g.ZT,Tt.h,p.s9,D.b8,Z.pW,g.xY,Eo.q,g.H8,p.xw,p.SQ,d.mk,D.oO,d.O5,S.lW],encapsulation:2}),e}(),zo=s(37143),Vo=s(7230),jo=s(465);function Ro(e,o){if(1&e&&(t.TgZ(0,"mat-panel-title")(1,"span",7),t._UZ(2,"span",8)(3,"span",9)(4,"span",10),t.qZA(),t._uU(5),t._UZ(6,"span",11),t.qZA()),2&e){var n=o.$implicit,a=t.oxw();t.xp6(5),t.hij(" ",n("vibrationTranslation.calculation_history")," "),t.xp6(1),t.ekj("icon-arrow-top",a.panelOpened)}}function qo(e,o){1&e&&t._UZ(0,"mat-progress-bar",12)}function Wo(e,o){if(1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.qZA()),2&e){var n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.header)}}function Jo(e,o){if(1&e&&(t.TgZ(0,"mat-cell"),t._UZ(1,"span",20),t.ALo(2,"transloco"),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.ekj("icon-error-label",n.invalidData),t.s9C("matTooltip",t.lcZ(2,5,"vibrationTranslation.warning_tooltip_dangerous_data")),t.Q6J("matTooltipDisabled",!n.invalidData)("matTooltipPosition","above")}}function $o(e,o){1&e&&(t.ynx(0,17),t.YNc(1,Wo,2,1,"mat-header-cell",18),t.YNc(2,Jo,3,7,"mat-cell",19),t.BQk()),2&e&&t.Q6J("matColumnDef",o.$implicit.key)}function Qo(e,o){if(1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.qZA()),2&e){var n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.header)}}function Go(e,o){if(1&e&&(t.ynx(0),t._uU(1),t.ALo(2,"customNumber"),t.BQk()),2&e){var n=t.oxw().$implicit,a=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,a.cell(n))," ")}}function Ko(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",26),t._UZ(2,"dabo-prediction-export",27),t.qZA(),t.BQk()),2&e){var n=t.oxw().$implicit;t.xp6(2),t.Q6J("patternId",n.id)}}var Xo=function(o){return{row:o}};function ta(e,o){if(1&e&&t.GkF(0,28),2&e){var n=t.oxw().$implicit;t.oxw(3);var a=t.MAs(10);t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(2,Xo,n))}}function ea(e,o){if(1&e&&(t.ynx(0),t._uU(1),t.ALo(2,"detectNullValue"),t.BQk()),2&e){var n=t.oxw().$implicit,a=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,a.cell(n))," ")}}function na(e,o){if(1&e&&(t.TgZ(0,"mat-cell")(1,"span",21,22),t.YNc(3,Go,3,3,"ng-container",23),t.YNc(4,Ko,3,1,"ng-container",23),t.YNc(5,ta,1,4,"ng-container",24),t.YNc(6,ea,3,3,"ng-container",25),t.qZA()()),2&e){var n=t.MAs(2),a=t.oxw().$implicit;t.xp6(1),t.Q6J("matTooltip",n.innerText)("matTooltipPosition","above")("ngSwitch",a.key),t.xp6(2),t.Q6J("ngSwitchCase","blastDuration"),t.xp6(1),t.Q6J("ngSwitchCase","export"),t.xp6(1),t.Q6J("ngSwitchCase","comment")}}function oa(e,o){1&e&&(t.ynx(0,17),t.YNc(1,Qo,2,1,"mat-header-cell",18),t.YNc(2,na,7,6,"mat-cell",19),t.BQk()),2&e&&t.Q6J("matColumnDef",o.$implicit.key)}function aa(e,o){1&e&&t._UZ(0,"mat-header-row")}function ia(e,o){1&e&&t._UZ(0,"mat-row"),2&e&&t.ekj("mat-row--updated",o.$implicit.updated)}function la(e,o){if(1&e&&(t.TgZ(0,"mat-table",13),t.YNc(1,$o,3,1,"ng-container",14),t.YNc(2,oa,3,1,"ng-container",14),t.YNc(3,aa,1,0,"mat-header-row",15),t.YNc(4,ia,1,2,"mat-row",16),t.qZA()),2&e){var n=t.oxw();t.Q6J("dataSource",n.tableData),t.xp6(1),t.Q6J("ngForOf",n.tableInvalidColumn),t.xp6(1),t.Q6J("ngForOf",n.tableColumns),t.xp6(1),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns)}}var ra=function(o,n){return{"icon-comment":o,"icon-add-comment":n}};function ca(e,o){if(1&e){var n=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){var c=t.CHM(n).row;return t.oxw().handleEditComment(c)}),t._UZ(1,"mat-icon",30),t.ALo(2,"transloco"),t.qZA()}if(2&e){var a=o.row,l=t.oxw();t.Q6J("disabled",l.loadingCommentDialog),t.xp6(1),t.s9C("matTooltip",null!=a.comment&&a.comment.length?a.comment:t.lcZ(2,4,"vibrationTranslation.add_comment")),t.Q6J("ngClass",t.WLB(6,ra,null==a.comment?null:a.comment.length,!(null!=a.comment&&a.comment.length)))("matTooltipPosition","above")}}var sa=function(){return[5,10,25,50]},pa=function(){var e=function(o){(0,F.Z)(a,o);var n=(0,L.Z)(a);function a(l,i,r){var c;return(0,_.Z)(this,a),(c=n.call(this)).vibrationOptimizerService=l,c.cdr=i,c.dialogRef=r,c.panelOpened=!1,c.loadingCommentDialog=!1,c}return(0,f.Z)(a,[{key:"ngOnInit",value:function(){this.tableColumns=te,this.tableInvalidColumn=ee,this.displayedColumns=Xt,this.tableData=new re(this.vibrationOptimizerService),this.tableData.loadHistory(1,10),this.updateTable()}},{key:"ngAfterViewInit",value:function(){var i=this;this.paginator.page.pipe((0,at.b)(function(){return i.tableData.loadHistory(i.paginator.pageIndex+1,i.paginator.pageSize)})).subscribe(),this.tableData.tableInfo$.pipe((0,T.R)(this.destroy$)).subscribe(function(r){i.tableInfo=r,i.cdr.markForCheck()})}},{key:"updateTable",value:function(){var i=this;this.vibrationOptimizerService.predictionsResult$.pipe((0,T.R)(this.destroy$)).subscribe(function(r){r&&(i.tableData.loadHistory(1,i.paginator.pageSize,!0),i.paginator.firstPage())})}},{key:"handleEditComment",value:function(i){var r=this;i.updated=!1,this.loadingCommentDialog=!0,this.vibrationOptimizerService.getComment(i.id).pipe((0,nt.K)(function(){return yt.E})).subscribe(function(c){r.loadingCommentDialog=!1,r.changeCommentIcon(i.id,c.text),r.dialogRef.open(Ho,{panelClass:"modal-base",disableClose:!0,height:"310px",width:"440px",data:{row:Object.assign(Object.assign({},i),{comment:c.text}),changeCommentIcon:r.changeCommentIcon.bind(r)}})})}},{key:"changeCommentIcon",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.tableData.tableData=this.tableData.tableData.map(function(c){return c.id===i?Object.assign(Object.assign({},c),{comment:r}):c})}}]),a}(x.eO);return e.\u0275fac=function(n){return new(n||e)(t.Y36(w),t.Y36(t.sBO),t.Y36(g.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["dabo-calculation-history-table"]],viewQuery:function(n,a){var l;1&n&&t.Gf(H.NW,5),2&n&&t.iGM(l=t.CRH())&&(a.paginator=l.first)},features:[t._Bn([{provide:H.ye,useClass:j.ss}]),t.qOj],decls:11,vars:7,consts:[[1,"calculation-history-table"],["hideToggle","",3,"opened","closed"],[4,"transloco"],["color","primary","mode","indeterminate",4,"ngIf"],["class","teck-basic-table teck-basic-table--no-borders",3,"dataSource",4,"transloco"],["daboSvgSetHeight","","elementHeight","28px",3,"length","pageSizeOptions","pageSize"],["commentBtn",""],[1,"icon","icon-history"],[1,"path1"],[1,"path2"],[1,"path3"],[1,"icon","icon-arrow-down"],["color","primary","mode","indeterminate"],[1,"teck-basic-table","teck-basic-table--no-borders",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],[4,"matHeaderRowDef"],[3,"mat-row--updated",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],[4,"matHeaderCellDef"],[4,"matCellDef"],[1,"cell-content",3,"matTooltipDisabled","matTooltip","matTooltipPosition"],["daboIsOutOfBound","","matTooltipClass","filename-tooltip",1,"cell-content",3,"matTooltip","matTooltipPosition","ngSwitch"],["tooltipContent","innerText"],[4,"ngSwitchCase"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"calculation-history-table__export"],[3,"patternId"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"comment-btn",3,"disabled","click"],["matTooltipClass","comment-tooltip","fxLayoutAlign","center center",1,"icon",3,"ngClass","matTooltip","matTooltipPosition"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"mat-accordion")(2,"mat-expansion-panel",1),t.NdJ("opened",function(){return a.panelOpened=!0})("closed",function(){return a.panelOpened=!1}),t.TgZ(3,"mat-expansion-panel-header"),t.YNc(4,Ro,7,3,"mat-panel-title",2),t.qZA(),t.YNc(5,qo,1,0,"mat-progress-bar",3),t.ALo(6,"async"),t.YNc(7,la,5,5,"mat-table",4),t._UZ(8,"mat-paginator",5),t.qZA()()(),t.YNc(9,ca,3,9,"ng-template",null,6,t.W1O)),2&n&&(t.xp6(5),t.Q6J("ngIf",t.lcZ(6,4,a.tableData.loading$)),t.xp6(3),t.Q6J("length",null==a.tableInfo?null:a.tableInfo.count)("pageSizeOptions",t.DdM(6,sa))("pageSize",10))},directives:[E.pp,E.ib,E.yz,h.KI,E.yK,d.O5,Z.pW,b.BZ,d.sg,b.w1,b.fO,b.ge,b.Dz,b.ev,N.gM,zo.J,d.RF,d.n9,Mt,d.tP,d.ED,b.as,b.XQ,b.nj,b.Gk,H.NW,Vo.w,z.Hw,p.Wh,d.mk,D.oO],pipes:[d.Ov,h.Ot,jo.n,Pt.R],styles:['.teck-basic-table[_ngcontent-%COMP%]{width:calc(100vw - 95px);overflow-x:auto}.teck-basic-table[_ngcontent-%COMP%]   .cdk-cell[_ngcontent-%COMP%], .teck-basic-table[_ngcontent-%COMP%]   .cdk-header-cell[_ngcontent-%COMP%]{justify-content:center}.teck-basic-table[_ngcontent-%COMP%]   .cdk-header-cell[_ngcontent-%COMP%]{text-align:center;font-size:12px;color:#000000bf;line-height:18px;font-weight:400}.teck-basic-table[_ngcontent-%COMP%]   .cdk-header-row[_ngcontent-%COMP%]{min-width:1024px}.teck-basic-table[_ngcontent-%COMP%]   .cdk-column-invalidData[_ngcontent-%COMP%]{max-width:50px;padding-left:revert}.teck-basic-table[_ngcontent-%COMP%]   .cdk-column-createdAt[_ngcontent-%COMP%]{min-width:160px;justify-content:flex-start}.teck-basic-table[_ngcontent-%COMP%]   .cdk-column-filename[_ngcontent-%COMP%]{min-width:200px;max-width:200px;justify-content:flex-start}.teck-basic-table[_ngcontent-%COMP%]   .cdk-column-export[_ngcontent-%COMP%]{position:absolute;right:2.5%}.teck-basic-table[_ngcontent-%COMP%]   .cdk-cell.cdk-column-export[_ngcontent-%COMP%]{display:none;padding-top:4px}.teck-basic-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{min-width:1024px}.teck-basic-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover   .cdk-cell.cdk-column-export[_ngcontent-%COMP%]{display:block}.teck-basic-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:first-of-type{box-shadow:inset 0 8px 16px #edeef3;margin-top:0;padding-top:8px}.teck-basic-table[_ngcontent-%COMP%]   .cell-content[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap}.teck-basic-table[_ngcontent-%COMP%]   .comment-btn[_ngcontent-%COMP%]{cursor:pointer;border:none;background-color:inherit;outline:none}.teck-basic-table[_ngcontent-%COMP%]   .comment-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover:before{color:#008cff}.icon-history[_ngcontent-%COMP%]:before{color:#f2c94c}.icon-error-label[_ngcontent-%COMP%]:before{content:"\\e900";color:#f25050}.calculation-history-table__export[_ngcontent-%COMP%]{background-color:#fff}']}),e}();function da(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"h2",17),t._uU(2),t.qZA(),t.BQk()),2&e){var n=o.$implicit;t.xp6(2),t.Oqu(n("vibrationTranslation.vibration_optimizer"))}}function ma(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){var n=o.$implicit;t.xp6(1),t.Oqu(n("vibrationTranslation.calculator"))}}var ua=[{path:"",component:function(){var e=function(){function o(n,a,l,i){(0,_.Z)(this,o),this.title=n,this.cdr=a,this.customEventService=l,this.router=i}return(0,f.Z)(o,[{key:"ngOnInit",value:function(){this.title.setTitle(),this.customEventService.event(Ht.R.DEFAULT_STATE_COLLECTOR,{page_url:this.router.url})}},{key:"setCalculationStatus",value:function(a){this.calculationLoading=a,this.cdr.markForCheck()}}]),o}();return e.\u0275fac=function(n){return new(n||e)(t.Y36(j.yD),t.Y36(t.sBO),t.Y36(j.qL),t.Y36(K.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["dabo-vibration-optimizer-container"]],decls:26,vars:3,consts:[["fxFlex","",1,"page-block"],["fxLayout","row",1,"page-block__header"],[4,"transloco"],[1,"page-block__content"],["fxLayout","column",1,"teck-basic-card"],[1,"has-shadow"],[1,"icon","icon-calculator"],[1,"path1"],[1,"path2"],[1,"path3"],[1,"fill-remaining-space"],["fxLayout","row","fxLayoutGap","20px",1,"widgets"],["fxFlex","33",1,"widgets__item","widgets__item--block-model"],["fxFlex","33",1,"widgets__item","widgets__item--input-data",3,"calculationLoading"],["fxFlex","33",1,"widgets__item","widgets__item--results",3,"resultsLoading"],[1,"teck-basic-card"],[3,"resultsLoading"],[1,"page-title","page-title--basic"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"dabo-mine-switcher"),t.YNc(3,da,3,1,"ng-container",2),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"mat-toolbar",5)(7,"mat-toolbar-row")(8,"span",6),t._UZ(9,"span",7)(10,"span",8)(11,"span",9),t.qZA(),t.YNc(12,ma,2,1,"span",2),t._UZ(13,"span",10),t.qZA()(),t.TgZ(14,"div",11),t._UZ(15,"dabo-block-model-widget",12),t.TgZ(16,"dabo-input-data-widget",13),t.NdJ("calculationLoading",function(i){return a.setCalculationStatus(i)}),t.qZA(),t._UZ(17,"dabo-result-block-widget",14),t.qZA()(),t.TgZ(18,"div",15),t._UZ(19,"dabo-prediction-graph",16),t.qZA(),t.TgZ(20,"div",15),t._UZ(21,"dabo-prediction-tracking-widget"),t.qZA(),t.TgZ(22,"div",15),t._UZ(23,"dabo-color-map",16),t.qZA(),t.TgZ(24,"div",15),t._UZ(25,"dabo-calculation-history-table"),t.qZA()()()),2&n&&(t.xp6(17),t.Q6J("resultsLoading",a.calculationLoading),t.xp6(2),t.Q6J("resultsLoading",a.calculationLoading),t.xp6(4),t.Q6J("resultsLoading",a.calculationLoading))},directives:[p.yH,p.xw,zt.p,h.KI,y.Ye,y.rD,p.SQ,$e,fn,Rn,eo,fo,Lo,pa],styles:["[_nghost-%COMP%]   .widgets[_ngcontent-%COMP%]{background-color:#fff;padding:20px;min-height:550px}[_nghost-%COMP%]   .widgets__item[_ngcontent-%COMP%]{border:1px solid rgba(1,101,189,.2);padding:20px 30px}[_nghost-%COMP%]   .widgets__item--block-model[_ngcontent-%COMP%]{background-color:#fffdf8}[_nghost-%COMP%]   .widgets__item--input-data[_ngcontent-%COMP%]{background-color:#fafafa}[_nghost-%COMP%]   .widgets__item--results[_ngcontent-%COMP%]{background-color:#f2f7fc}[_nghost-%COMP%]   .widgets__item[_ngcontent-%COMP%]   .btn-upload[_ngcontent-%COMP%]{width:100px}[_nghost-%COMP%]   .widgets__item__content[_ngcontent-%COMP%]{margin-top:30px}.page-block__header[_ngcontent-%COMP%]{padding-left:20px}  .form-field-wrapper .recommended-data{font-weight:400;font-size:12px;line-height:18px;margin-left:10px;color:#0000004d}  .form-field-wrapper .warning-message{color:#ff8a00}"]}),e}()},{path:"**",redirectTo:"dab"}],fa=function(){var e=(0,f.Z)(function o(){(0,_.Z)(this,o)});return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[K.Bz.forChild(ua)],K.Bz]}),e}(),_a=function(){var e=(0,f.Z)(function o(){(0,_.Z)(this,o)});return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[w,ft,_t,ut,vt,{provide:h.Hn,useValue:{scope:"vibration-optimization",alias:"vibrationTranslation"},multi:!0},{provide:V.mA,useFactory:function(){return[kt,wt]}}],imports:[[d.ez,fa,St.n,y.g0,p.ae,S.ot,u.UX,Ft.d,h.y4,g.Is,Z.Cv,D.aT,Lt.o,b.p0,H.TU,E.To,N.AV,Bt.b,R.LD,z.Ps,It.L,V.SD,Ut.j,Et.R,G.Wm.withConfig({accessToken:Zt.N.mapboxToken}),Nt.W,Yt.q,At.Q.forRoot(["es","prediction-table"])]]}),e}()}}]);