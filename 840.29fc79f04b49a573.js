(self.webpackChunkteck=self.webpackChunkteck||[]).push([[840],{11479:function(ye,ie,o){"use strict";o.d(ie,{g:function(){return y}});var h=o(15671),D=o(43144),f=o(46940),S=o(65542),e=o(94720),y=function(){var m=function(){function p(E){(0,h.Z)(this,p),this.mineStateService=E}return(0,D.Z)(p,[{key:"isEditingPossible",value:function(C){var a=f.ZA.isMetalMine(this.mineStateService.getSelectedMineArea()),b=f.ZA.isCoalMine(this.mineStateService.getSelectedMineArea())&&this.hasExplosive(C.explosiveKg);return this.areSourceFlagsFalsy(C)&&(b||a)}},{key:"cavedShown",value:function(C){var a=!(this.hasExplosive(C.explosiveWeight)||this.hasExplosive(C.explosiveKg));return this.areSourceFlagsFalsy(C)&&f.ZA.isMetalMine(this.mineStateService.getSelectedMineArea())&&a}},{key:"misfireShown",value:function(C){var a=this.hasExplosive(C.explosiveWeight)||this.hasExplosive(C.explosiveKg);return this.areSourceFlagsFalsy(C)&&a}},{key:"hasExplosive",value:function(C){return C&&"null"!==C&&C>0}},{key:"areSourceFlagsFalsy",value:function(C){return!C.isMisfire&&!C.noLoadByCaving}}]),p}();return m.\u0275fac=function(E){return new(E||m)(S.LFG(e.Hj))},m.\u0275prov=S.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m}()},67992:function(ye,ie,o){"use strict";o.d(ie,{B:function(){return e}});var h=o(43144),D=o(15671),f=o(65542),S=o(42585),e=function(){var y=(0,h.Z)(function m(){(0,D.Z)(this,m)});return y.\u0275fac=function(p){return new(p||y)},y.\u0275cmp=f.Xpm({type:y,selectors:[["dabo-info-tooltip-icon"]],inputs:{tooltip:"tooltip"},decls:4,vars:3,consts:[[1,"icon","icon-help-light","item-icon",3,"title"],[1,"path1"],[1,"path2"]],template:function(p,E){1&p&&(f.TgZ(0,"span",0),f.ALo(1,"transloco"),f._UZ(2,"span",1)(3,"span",2),f.qZA()),2&p&&f.Q6J("title",E.tooltip?f.lcZ(1,1,E.tooltip):"")},pipes:[S.Ot],styles:[".item-icon[_ngcontent-%COMP%]{display:flex;cursor:pointer}"],changeDetection:0}),y}()},81046:function(ye,ie,o){"use strict";o.d(ie,{t:function(){return e}});var h=o(43144),D=o(15671),f=o(42585),S=o(65542),e=function(){var y=(0,h.Z)(function m(){(0,D.Z)(this,m)});return y.\u0275fac=function(p){return new(p||y)},y.\u0275mod=S.oAB({type:y}),y.\u0275inj=S.cJS({imports:[[f.y4]]}),y}()},49861:function(ye,ie,o){"use strict";o.d(ie,{L:function(){return e}});var S,h=o(4942),D=o(39195),f=o(38001),e=((0,h.Z)(S={maxForce:D.mfy,toeMomentum:D.b5o,averageFragmentation:D.uZJ,holePowderFactor:D.idT,diggability:D.ags,drillProductivity:D.$Sl,drillCompliance:D.yKV,collarElevation:D.h5H,instantaneousDigRate:D.E7H,blastability:D.tb7,explosiveKg:D.ZiJ,loadingTime:D.EEf},f.N.DIGGING_CONDITIONS,D.BcJ),(0,h.Z)(S,f.N.DIGGING_CONDITIONS_3D,D.BcJ),(0,h.Z)(S,f.N.DIGGING_CONDITIONS_TOP,D.BcJ),(0,h.Z)(S,f.N.DIGGING_CONDITIONS_BOTTOM,D.BcJ),(0,h.Z)(S,f.N.EXPLOSIVE_WEIGHT_DEVIATION,D.fDr),(0,h.Z)(S,f.N.BOULDER_LOCATION,D.OlW),(0,h.Z)(S,f.N.BOULDER_LOCATION_PRE_BLAST,D.OlW),(0,h.Z)(S,f.N.ZINC,D.LW_),(0,h.Z)(S,f.N.LEAD,D.zHG),(0,h.Z)(S,f.N.IRON,D.GA_),(0,h.Z)(S,f.N.BARIUM,D.qyG),(0,h.Z)(S,f.N.SOLUBLE,D.PPR),(0,h.Z)(S,f.N.SILVER,D.D2H),(0,h.Z)(S,f.N.COPPER,D.F88),(0,h.Z)(S,f.N.SILICON_DIOXIDE,D.CZw),(0,h.Z)(S,f.N.CADMIUM,D.WP0),(0,h.Z)(S,f.N.SULFUR,D.KbP),(0,h.Z)(S,f.N.FRAGMENTATION_P50,D.F5W),(0,h.Z)(S,f.N.FRAGMENTATION_P80,D.PtO),(0,h.Z)(S,f.N.FRAGMENTATION_TOP_SIZE,D.eSV),(0,h.Z)(S,f.N.FRAGMENTATION_CDA_B1,D.USz),(0,h.Z)(S,f.N.FRAGMENTATION_OVER_10_IN,D.yLc),(0,h.Z)(S,f.N.DRILL_SPECIFIC_ENERGY,D.A35),(0,h.Z)(S,f.N.DRILLING_XY_COLLAR_DEVIATION,D.pQK),(0,h.Z)(S,f.N.STEMMING_LENGTH_DEVIATION,D.Rg9),(0,h.Z)(S,f.N.ACTUAL_DEPTH_DIFF_ELEVATION,D.w3$),(0,h.Z)(S,f.N.EXPLOSIVE_WEIGHT,D.ePM),(0,h.Z)(S,f.N.HOLE_DEPTH_COMPLIANCE,D.haO),(0,h.Z)(S,f.N.HOLE_DEPTH_COMPLIANCE_MEAS_DRILLED,D.haO),(0,h.Z)(S,f.N.HOLE_DEPTH_COMPLIANCE_MEAS_DESIGN,D.haO),(0,h.Z)(S,f.N.ENERGY_FACTOR,D.YRS),(0,h.Z)(S,f.N.ExplosiveLoadingVsDrillingTime,D.OBv),S)},94965:function(ye,ie,o){"use strict";o.d(ie,{C:function(){return y}});var h=o(15671),D=o(43144),f=o(8817),S=o.n(f),e=o(65542),y=function(){var m=function(){function p(){(0,h.Z)(this,p),this.disabled=!1}return(0,D.Z)(p,[{key:"isValid",get:function(){var C=this.getControl();return S()(C,"valid")}},{key:"ngOnChanges",value:function(C){C.disabled&&this.setDisableState(this.disabled)}},{key:"registerOnChange",value:function(C){}},{key:"registerOnTouched",value:function(C){}},{key:"writeValue",value:function(C){this.value=C}},{key:"validate",value:function(C){return this.isValid?null:{validationError:!0}}},{key:"getValue",value:function(){var C=this.getControl();return S()(C,"value")}},{key:"getControl",value:function(){var C;return null===(C=this.groupInstance)||void 0===C?void 0:C.get(this.controlName)}},{key:"setDisableState",value:function(C){this.getControl()[C?"disable":"enable"]()}}]),p}();return m.\u0275fac=function(E){return new(E||m)},m.\u0275dir=e.lG2({type:m,inputs:{controlName:"controlName",disabled:"disabled",groupInstance:"groupInstance"},features:[e.TTD]}),m}()},15980:function(ye,ie,o){"use strict";o.d(ie,{E:function(){return M}});var h=o(43144),D=o(15671),f=o(69808),S=o(86856),e=o(67322),y=o(42155),p=(o(3634),o(53170)),E=o(93075),C=o(29772),a=o(25245),b=o(47423),c=o(77531),x=o(65542),M=function(){var $=(0,h.Z)(function le(){(0,D.Z)(this,le)});return $.\u0275fac=function(I){return new(I||$)},$.\u0275mod=x.oAB({type:$}),$.\u0275inj=x.cJS({imports:[[f.ez,e.lN,S.FA,p.Yd,E.UX,y.o9,C.AV,a.Ps,b.ot,c.c]]}),$}()},3634:function(ye,ie,o){"use strict";o.d(ie,{C:function(){return I}});var h=o(15671),D=o(43144),f=o(60136),S=o(57777),e=o(65542),y=o(93075),m=o(94965),p=o(69808),E=o(67322),C=o(23322),a=o(86856),b=o(29772),c=o(77093),x=["datepickerFooter"];function ue(De,be){if(1&De){var Pe=e.EpF();e.TgZ(0,"span",13),e.NdJ("click",function(){return e.CHM(Pe),e.oxw(2).clear()}),e.qZA()}if(2&De){var J=e.oxw(2);e.Q6J("matTooltip",J.clearTooltip)("matTooltipPosition","above")}}function M(De,be){1&De&&(e.TgZ(0,"div",14)(1,"div",15,16)(3,"div"),e._uU(4,"Dates of active digging are marked with "),e.TgZ(5,"span",17),e._uU(6,"dark blue"),e.qZA()()()())}function $(De,be){if(1&De){var Pe=e.EpF();e.TgZ(0,"div",2)(1,"mat-form-field",3)(2,"mat-label",4),e._uU(3,"Choose date range"),e.qZA(),e.TgZ(4,"mat-date-range-input",5),e.NdJ("click",function(){return e.CHM(Pe),e.MAs(10).open()}),e._UZ(5,"input",6)(6,"input",7),e.qZA(),e.YNc(7,ue,1,2,"span",8),e._UZ(8,"mat-datepicker-toggle",9),e.TgZ(9,"mat-date-range-picker",10,11),e.NdJ("opened",function(){return e.CHM(Pe),e.oxw().open()})("closed",function(){return e.CHM(Pe),e.oxw().onClose()}),e.qZA()(),e.YNc(11,M,7,0,"div",12),e.qZA()}if(2&De){var J=e.MAs(10),U=e.oxw();e.Q6J("formGroup",U.groupInstance),e.xp6(1),e.Q6J("ngClass",U.panelClass),e.xp6(3),e.Q6J("formGroupName",U.controlName)("max",U.maxDate)("rangePicker",J),e.xp6(1),e.Q6J("formControl",U.getControlByName("start")),e.xp6(1),e.Q6J("formControl",U.getControlByName("end")),e.xp6(1),e.Q6J("ngIf",U.isDateRangeSelected),e.xp6(1),e.Q6J("for",J),e.xp6(1),e.Q6J("dateClass",U.dateClassFn)("panelClass",U.panelClass)("startAt",U.startDate),e.xp6(2),e.Q6J("ngIf",U.isDiggingDatePresent)}}function le(De,be){1&De&&(e.TgZ(0,"div",18)(1,"div",19),e._UZ(2,"div",20),e.TgZ(3,"span",21),e._uU(4,"Loading..."),e.qZA()()())}var I=function(){var De=function(be){(0,f.Z)(J,be);var Pe=(0,S.Z)(J);function J(){var U;return(0,h.Z)(this,J),(U=Pe.call(this)).closed=new e.vpe,U}return(0,D.Z)(J,[{key:"isDateRangeSelected",get:function(){var W=this.getValue();return W.start&&W.end}},{key:"ngOnChanges",value:function(W){var re=W.startDate;(null==re?void 0:re.currentValue)&&(this.firstDiggingDate=this.startDate)}},{key:"getControlByName",value:function(W){return this.getControl().get(W)}},{key:"clear",value:function(){this.getControl().reset(),this.setStartDate()}},{key:"open",value:function(){this.appendFooter(),this.setStartDate()}},{key:"appendFooter",value:function(){this.isDiggingDatePresent&&document.getElementsByClassName("mat-datepicker-content")[0].appendChild(this.datepickerFooter.nativeElement)}},{key:"setStartDate",value:function(){this.startDate=this.isDateRangeSelected?null:this.firstDiggingDate}},{key:"onClose",value:function(){this.closed.emit()}}]),J}(m.C);return De.\u0275fac=function(Pe){return new(Pe||De)},De.\u0275cmp=e.Xpm({type:De,selectors:[["dabo-date-range-picker"]],viewQuery:function(Pe,J){var U;1&Pe&&e.Gf(x,5),2&Pe&&e.iGM(U=e.CRH())&&(J.datepickerFooter=U.first)},inputs:{maxDate:"maxDate",startDate:"startDate",dateClassFn:"dateClassFn",isLoading:"isLoading",isDiggingDatePresent:"isDiggingDatePresent"},outputs:{closed:"closed"},features:[e._Bn([{provide:y.Cf,useExisting:(0,e.Gpc)(function(){return De}),multi:!0},{provide:y.JU,useExisting:(0,e.Gpc)(function(){return De}),multi:!0}]),e.qOj,e.TTD],decls:2,vars:2,consts:[["class","date-range-picker",3,"formGroup",4,"ngIf"],["class","content-wrapper",4,"ngIf"],[1,"date-range-picker",3,"formGroup"],["appearance","legacy","floatLabel","never",3,"ngClass"],[1,"date-range-picker__label"],[3,"formGroupName","max","rangePicker","click"],["matStartDate","","readonly","",3,"formControl"],["matEndDate","","readonly","",3,"formControl"],["class","icon icon-close",3,"matTooltip","matTooltipPosition","click",4,"ngIf"],["matPrefix","",3,"for"],["disabled","false",3,"dateClass","panelClass","startAt","opened","closed"],["dateRangePicker",""],["class","datepicker-footer__wrapper",4,"ngIf"],[1,"icon","icon-close",3,"matTooltip","matTooltipPosition","click"],[1,"datepicker-footer__wrapper"],[1,"datepicker-footer"],["datepickerFooter",""],[1,"datepicker-footer_blue-text"],[1,"content-wrapper"],["fxLayoutAlign","start center",1,"base-spinner-wrapper"],[1,"spinner","spinner--small"],[1,"spinner-text"]],template:function(Pe,J){1&Pe&&(e.YNc(0,$,12,13,"div",0),e.YNc(1,le,5,0,"div",1)),2&Pe&&(e.Q6J("ngIf",!J.isLoading),e.xp6(1),e.Q6J("ngIf",J.isLoading))},directives:[p.O5,y.JL,y.sg,E.KE,p.mk,C.oO,E.hX,a.wx,y.x0,a.zY,y.Fj,y.JJ,y.oH,a.By,b.gM,a.nW,E.qo,a._g,c.Wh],encapsulation:2}),De}()},33074:function(ye,ie,o){"use strict";o.d(ie,{b:function(){return a}});var h=o(43144),D=o(15671),f=o(69808),S=o(24573),e=o(47423),y=o(93075),m=o(77093),p=o(1302),E=o(42585),C=o(65542),a=function(){var b=(0,h.Z)(function c(){(0,D.Z)(this,c)});return b.\u0275fac=function(x){return new(x||b)},b.\u0275mod=C.oAB({type:b}),b.\u0275inj=C.cJS({providers:[S.S],imports:[[f.ez,e.ot,y.u5,m.ae,y.UX,p.o,E.y4]]}),b}()},44117:function(ye,ie,o){"use strict";o.d(ie,{q:function(){return x}});var h=o(15671),D=o(43144),f=o(60136),S=o(57777),e=o(94965),y=o(65542),m=o(93075),p=o(42175),E=o(77093),C=o(69808);function a(ue,M){if(1&ue&&(y.TgZ(0,"div",7),y._uU(1),y.qZA()),2&ue){var $=y.oxw();y.xp6(1),y.Oqu($.errorMsg)}}var b=function(M){return{error:M}},c=["*"],x=function(){var ue=function(M){(0,f.Z)(le,M);var $=(0,S.Z)(le);function le(){var I;return(0,h.Z)(this,le),(I=$.call(this)).hasMaxLengthError=!1,I.maxInputLength=300,I}return(0,D.Z)(le,[{key:"commentLength",get:function(){return this.getValue().length}}]),le}(e.C);return ue.\u0275fac=function($){return new($||ue)},ue.\u0275cmp=y.Xpm({type:ue,selectors:[["dabo-edit-comment"]],inputs:{placeholder:"placeholder",errorMsg:"errorMsg"},features:[y.qOj],ngContentSelectors:c,decls:12,vars:17,consts:[[1,"comment-form",3,"formGroup"],["daboOutsideOfLimitsDetector","","rows","8",1,"comment-form__input",3,"placeholder","length","maxLength","formControlName","name","maxlength","limitsExceededEmitter","blur"],["fxLayout","row",1,"comment-form-footer",3,"ngClass"],["class","comment-form-error",4,"ngIf"],[1,"comment-counter"],[1,"comment-counter__current"],[1,"comment-counter__limit"],[1,"comment-form-error"]],template:function($,le){1&$&&(y.F$t(),y.TgZ(0,"form",0)(1,"textarea",1),y.NdJ("limitsExceededEmitter",function(De){return le.hasMaxLengthError=De})("blur",function(){return le.hasMaxLengthError=!1}),y._uU(2,"  "),y.qZA(),y.TgZ(3,"div",2),y.YNc(4,a,2,1,"div",3),y.TgZ(5,"div",4)(6,"span",5),y._uU(7),y.qZA(),y._uU(8," / "),y.TgZ(9,"span",6),y._uU(10),y.qZA()(),y.Hsn(11,0,["selector",".comment-buttons"]),y.qZA()()),2&$&&(y.Q6J("formGroup",le.groupInstance),y.xp6(1),y.ekj("comment-form__input--error",le.hasMaxLengthError),y.s9C("placeholder",le.placeholder),y.s9C("formControlName",le.controlName),y.s9C("name",le.controlName),y.Q6J("length",le.commentLength)("maxLength",le.maxInputLength)("maxlength",le.maxInputLength),y.xp6(2),y.Q6J("ngClass",y.VKq(15,b,le.errorMsg)),y.xp6(1),y.Q6J("ngIf",le.errorMsg),y.xp6(2),y.ekj("comment-counter__current--error",le.hasMaxLengthError),y.xp6(1),y.Oqu(le.commentLength),y.xp6(3),y.Oqu(le.maxInputLength))},directives:[m._Y,m.JL,m.sg,m.Fj,p.W,m.JJ,m.u,m.nD,E.xw,C.mk,C.O5],encapsulation:2}),ue}()},24573:function(ye,ie,o){"use strict";o.d(ie,{S:function(){return E}});var h=o(15671),D=o(43144),f=o(57676),S=o(21086),e=o(27221),y=o(65542),m=o(40520),p=o(94720),E=function(){var C=function(){function a(b,c){(0,h.Z)(this,a),this.http=b,this.mineStateService=c}return(0,D.Z)(a,[{key:"saveComment",value:function(c,x){return this.http.put(this.getEndpoint(c),{text:x})}},{key:"getComment",value:function(c){return this.http.get(this.getEndpoint(c)).pipe((0,e.K)(function(){return(0,S.of)({text:null})}))}},{key:"deleteComment",value:function(c){return this.http.delete(this.getEndpoint(c))}},{key:"getEndpoint",value:function(c){return"".concat((0,f.FP)(this.mineStateService.getSelectedMineArea(),f.mb.holeComments)).concat(c,"/")}}]),a}();return C.\u0275fac=function(b){return new(b||C)(y.LFG(m.eN),y.LFG(p.Hj))},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac}),C}()},46057:function(ye,ie,o){"use strict";o.d(ie,{P:function(){return me}});var h=o(15671),D=o(43144),f=o(60136),S=o(57777),e=o(48966),y=o(44798),m=o.n(y),p=o(62516),E=o.n(p),C=o(33816),a=o.n(C),b=o(7625),c=o(40537),x=o(46940),ue=o(42585),M=o(65542),$=o(93075),le=o(94720),I=o(11479),De=o(34594),be=o(69808),Pe=o(14623),J=o(79814),U=o(77093),W=o(47423);function re(X,ee){1&X&&(M.TgZ(0,"div",11),M._UZ(1,"div",12),M.qZA())}function Ee(X,ee){if(1&X&&(M.TgZ(0,"div",13),M._uU(1),M.ALo(2,"transloco"),M.qZA()),2&X){var j=M.oxw();M.xp6(1),M.hij(" ",j.data.properties.length+" "+M.lcZ(2,1,"editDialogTranslations.selected_holes_message")," ")}}function ge(X,ee){if(1&X&&(M.TgZ(0,"mat-radio-button",20),M._uU(1),M.ALo(2,"transloco"),M.qZA()),2&X){var j=ee.$implicit;M.Q6J("value",j.value),M.xp6(1),M.hij(" ",M.lcZ(2,2,j.name)," ")}}function ve(X,ee){if(1&X&&(M.TgZ(0,"mat-list-item")(1,"label",17),M._uU(2),M.ALo(3,"transloco"),M.qZA(),M.TgZ(4,"mat-radio-group",18),M.YNc(5,ge,3,4,"mat-radio-button",19),M.qZA()()),2&X){var j=M.oxw().$implicit;M.xp6(1),M.MGl("id","",j.name,"-label"),M.xp6(1),M.Oqu(M.lcZ(3,5,j.title)),M.xp6(2),M.MGl("aria-labelledby","",j.name,"-label"),M.s9C("formControlName",j.name),M.xp6(1),M.Q6J("ngForOf",j.radioItems)}}function _e(X,ee){if(1&X&&(M.TgZ(0,"div"),M.YNc(1,ve,6,7,"mat-list-item",7),M.qZA()),2&X){var j=ee.$implicit;M.xp6(1),M.Q6J("ngIf",j.enabled&&"radio"===j.type)}}function V(X,ee){if(1&X&&(M.TgZ(0,"form",14)(1,"mat-list",15),M.YNc(2,_e,2,1,"div",16),M.qZA()()),2&X){var j=M.oxw();M.ekj("edit-dialog__form--single-hole",!j.isBatchEdit),M.Q6J("formGroup",j.editHoleForm),M.xp6(2),M.Q6J("ngForOf",j.controls)}}function k(X,ee){1&X&&(M.TgZ(0,"span",23),M._uU(1),M.ALo(2,"transloco"),M._UZ(3,"br"),M._uU(4),M.ALo(5,"transloco"),M.qZA()),2&X&&(M.xp6(1),M.hij("",M.lcZ(2,2,"global.errors.something_wrong")," "),M.xp6(3),M.hij(" ",M.lcZ(5,4,"global.errors.try_again")," "))}var N=function(ee,j,se,Se){return{val1:ee,val2:j,SEL1:se,val4:Se}};function B(X,ee){if(1&X&&M._UZ(0,"span",24),2&X){var j=M.oxw(2);M.Q6J("translocoParams",M.l5B(1,N,j.updatedHolesCount,j.data.properties.length,j.holeTypeText,j.invalidHolesNames))}}function pe(X,ee){if(1&X&&(M.ynx(0),M.YNc(1,k,6,6,"span",21),M.YNc(2,B,1,6,"span",22),M.BQk()),2&X){var j=M.oxw();M.xp6(1),M.Q6J("ngIf",j.submitError),M.xp6(1),M.Q6J("ngIf",j.invalidHoles.length)}}var me=function(){var X=function(ee){(0,f.Z)(se,ee);var j=(0,S.Z)(se);function se(Se,K,Ce,Y,w,ce){var he;return(0,h.Z)(this,se),(he=j.call(this)).data=Se,he.dialogRef=K,he.fb=Ce,he.mapApiService=Y,he.ngZone=w,he.editHoleService=ce,he.submitError=!1,he.invalidHoles=[],he.isLoading=!1,he.updatedValues={},he.controls=[{name:"isUserCaved",title:"editDialogTranslations.controls.caved_title",type:"radio",radioItems:[{name:"editDialogTranslations.controls.item_yes",value:!0},{name:"editDialogTranslations.controls.item_no",value:!1}],enabled:!0},{name:"isUserMisfire",title:"editDialogTranslations.controls.misfire_title",type:"radio",radioItems:[{name:"editDialogTranslations.controls.item_yes",value:!0},{name:"editDialogTranslations.controls.item_no",value:!1}],enabled:!0}],he}return(0,D.Z)(se,[{key:"ngOnInit",value:function(){this.initForm(),this.manageFormUpdatedValues(),this.manageFormControlState()}},{key:"isBatchEdit",get:function(){return this.data.properties.length>1}},{key:"manageFormUpdatedValues",value:function(){var K=this;this.editHoleForm.valueChanges.pipe((0,b.R)(this.destroy$)).subscribe(function(Ce){K.isBatchEdit||(K.updatedValues=m()(Ce,function(Y,w){return K.data.properties[0][w]!==Y}))})}},{key:"initForm",value:function(){var K=this;this.editHoleForm=this.fb.group({}),this.controls.forEach(function(Ce){if(K.isBatchEdit||("isUserCaved"!==Ce.name||K.editHoleService.cavedShown(K.data.properties[0]))&&("isUserMisfire"!==Ce.name||K.editHoleService.misfireShown(K.data.properties[0]))){var Y=K.fb.control(null);K.isBatchEdit||Y.setValue(K.data.properties[0][Ce.name]),K.editHoleForm.addControl(Ce.name,Y)}else Ce.enabled=!1})}},{key:"manageFormControlState",value:function(){var Ce,Y,K=this;null===(Ce=this.editHoleForm.get("isUserMisfire"))||void 0===Ce||Ce.valueChanges.pipe((0,b.R)(this.destroy$)).subscribe(function(w){var ce;K.invalidHoles=[],w&&(null===(ce=K.editHoleForm.get("isUserCaved"))||void 0===ce||ce.setValue(!1),K.isBatchEdit&&K.validateBatchEdit(!0,!1))}),null===(Y=this.editHoleForm.get("isUserCaved"))||void 0===Y||Y.valueChanges.pipe((0,b.R)(this.destroy$)).subscribe(function(w){var ce;K.invalidHoles=[],w&&(null===(ce=K.editHoleForm.get("isUserMisfire"))||void 0===ce||ce.setValue(!1),K.isBatchEdit&&K.validateBatchEdit(!1,!0))})}},{key:"validateBatchEdit",value:function(K,Ce){var Y=this;this.data.properties.forEach(function(w){K&&!Y.editHoleService.misfireShown(w)&&Y.invalidHoles.push(w),Ce&&!Y.editHoleService.cavedShown(w)&&Y.invalidHoles.push(w)})}},{key:"submitDisabled",get:function(){return this.isBatchEdit?!this.updatedHolesCount||this.editHoleForm.pristine:!Object.keys(this.updatedValues).length}},{key:"invalidHolesNames",get:function(){return this.invalidHoles.map(function(Ce){return Ce.drilledNumber}).join(", ")}},{key:"updatedHolesCount",get:function(){return this.data.properties.length-this.invalidHoles.length}},{key:"holeTypeText",get:function(){var K=this;return E()(this.controls,function(Y){return!!K.editHoleForm.get(Y.name).value}).name}},{key:"submitForm",value:function(){var K=this;this.isLoading=!0,this.submitError=!1;var Ce=this.getRequestBody();this.mapApiService.updateHoleProperties(Ce).pipe((0,c.x)(function(){K.isLoading=!1}),(0,b.R)(this.destroy$)).subscribe(function(Y){K.ngZone.run(function(){K.dialogRef.close()}),K.data.onSuccess({params:Y,updatedKeys:Object.keys(K.updatedValues)})},function(){K.submitError=!0})}},{key:"getRequestBody",value:function(){var K=this;return this.data.properties.reduce(function(Ce,Y){var w,ce;if(!E()(K.invalidHoles,{uniqueHoleId:Y.uniqueHoleId})){var he=Y.uniqueHoleId,we=Y.patternId,Ze=Y.isUserCaved,qe=Y.isUserMisfire,Fe=null===(w=K.editHoleForm.get("isUserCaved"))||void 0===w?void 0:w.value,Ve=null===(ce=K.editHoleForm.get("isUserMisfire"))||void 0===ce?void 0:ce.value;Ce.push({uniqueHoleId:he,patternId:we,isUserCaved:a()(Fe)?Ze:Fe,isUserMisfire:a()(Ve)?qe:Ve})}return Ce},[])}}]),se}(x.eO);return X.\u0275fac=function(j){return new(j||X)(M.Y36(e.WI),M.Y36(e.so),M.Y36($.qu),M.Y36(le.P2),M.Y36(M.R0b),M.Y36(I.g))},X.\u0275cmp=M.Xpm({type:X,selectors:[["dabo-edit-hole-dialog"]],features:[M._Bn([{provide:ue.Hn,useValue:{scope:"edit-dialog-map-panel",alias:"editDialogTranslations"},multi:!0}]),M.qOj],decls:21,vars:16,consts:[[1,"fill-remaining-space"],["matDialogClose","",1,"icon","icon-close"],[1,"edit-dialog"],[1,"edit-dialog__content"],["class","base-spinner-wrapper",4,"ngIf"],["class","edit-dialog__selected-holes",4,"ngIf"],["class","edit-dialog__form",3,"edit-dialog__form--single-hole","formGroup",4,"ngIf"],[4,"ngIf"],["align","center","fxLayoutGap","12px"],["fxFlex","calc(50% - 10px)","mat-button","","matDialogClose","","tabindex","-1",1,"modal__btn","btn","btn--secondary"],["fxFlex","calc(50% - 10px)","mat-button","",1,"modal__btn","btn","btn--primary",3,"disabled","click"],[1,"base-spinner-wrapper"],[1,"spinner"],[1,"edit-dialog__selected-holes"],[1,"edit-dialog__form",3,"formGroup"],[1,"base-list"],[4,"ngFor","ngForOf"],[1,"edit-dialog__form-label",3,"id"],[1,"edit-dialog__form-radio",3,"aria-labelledby","formControlName"],["class","edit-dialog__form-radio-button",3,"value",4,"ngFor","ngForOf"],[1,"edit-dialog__form-radio-button",3,"value"],["class","edit-dialog__submit-error",4,"ngIf"],["class","edit-dialog__submit-error","transloco","editDialogTranslations.error_message",3,"translocoParams",4,"ngIf"],[1,"edit-dialog__submit-error"],["transloco","editDialogTranslations.error_message",1,"edit-dialog__submit-error",3,"translocoParams"]],template:function(j,se){1&j&&(M.TgZ(0,"mat-toolbar")(1,"mat-toolbar-row")(2,"h2"),M._uU(3),M.ALo(4,"transloco"),M.ALo(5,"transloco"),M.qZA(),M._UZ(6,"div",0)(7,"span",1),M.qZA()(),M.TgZ(8,"mat-dialog-content",2)(9,"div",3),M.YNc(10,re,2,0,"div",4),M.YNc(11,Ee,3,3,"div",5),M.YNc(12,V,3,4,"form",6),M.YNc(13,pe,3,2,"ng-container",7),M.qZA()(),M.TgZ(14,"mat-dialog-actions",8)(15,"button",9),M._uU(16),M.ALo(17,"transloco"),M.qZA(),M.TgZ(18,"button",10),M.NdJ("click",function(){return se.submitForm()}),M._uU(19),M.ALo(20,"transloco"),M.qZA()()),2&j&&(M.xp6(3),M.hij(" ",se.isBatchEdit?M.lcZ(4,8,"editDialogTranslations.header_batch"):M.lcZ(5,10,"editDialogTranslations.header_holes")," "),M.xp6(7),M.Q6J("ngIf",se.isLoading),M.xp6(1),M.Q6J("ngIf",se.isBatchEdit&&!se.isLoading),M.xp6(1),M.Q6J("ngIf",!se.isLoading),M.xp6(1),M.Q6J("ngIf",!se.isLoading),M.xp6(3),M.hij(" ",M.lcZ(17,12,"global.cancel")," "),M.xp6(2),M.Q6J("disabled",se.submitDisabled||se.isLoading),M.xp6(1),M.hij(" ",M.lcZ(20,14,"global.save")," "))},directives:[De.Ye,De.rD,e.ZT,e.xY,be.O5,$._Y,$.JL,$.sg,Pe.i$,be.sg,Pe.Tg,J.VQ,$.JJ,$.u,J.U0,ue.KI,e.H8,U.SQ,W.lW,U.yH],pipes:[ue.Ot],styles:[".base-list.mat-list-base[_ngcontent-%COMP%]{padding:0}.base-list.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%], .base-list.mat-list-base[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]{font-size:14px;line-height:17px;color:#2e384d;height:initial}.base-list.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%], .base-list.mat-list-base[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%]{padding:0}.edit-dialog__content[_ngcontent-%COMP%]{font-size:13px;display:flex;flex-wrap:wrap;width:100%;min-height:55px;align-items:center}.edit-dialog__selected-holes[_ngcontent-%COMP%]{font-weight:500;font-size:14px;margin-bottom:10px}.edit-dialog__form[_ngcontent-%COMP%]{display:flex;width:100%}.edit-dialog__form--single-hole[_ngcontent-%COMP%]{justify-content:center}.edit-dialog__form[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{height:35px!important}.edit-dialog__form-label[_ngcontent-%COMP%]{margin-right:6px;width:50px}.edit-dialog__form-radio[_ngcontent-%COMP%]{width:105px;display:flex}.edit-dialog__form-radio-button[_ngcontent-%COMP%]{margin-left:6px}.edit-dialog__submit-error[_ngcontent-%COMP%]{font-size:14px;color:#f25050;margin-top:20px}"]}),X}()},35908:function(ye,ie,o){"use strict";o.d(ie,{a:function(){return de}});var h=o(89062),D=o(4942),f=o(15671),S=o(43144),e=o(38001),y=o(48619),m=o(40714),p=o(48924),C=function(Ne){switch(!0){case Ne>60:return"blastability--60";case Ne>20&&Ne<=60:return"blastability--".concat(function(Ne,G){return 10*Math.floor((Ne-.01)/10)}(Ne));case Ne>12&&Ne<=20:return"blastability--12";case Ne>0&&Ne<=12:return"blastability--0";default:return"empty"}},a=function(Ne){switch(!0){case Ne.noLoadByCaving:return"caved cross-white";case Ne.noData:return"empty cross-black";default:return"empty cross-white"}},c=o(46940),x=o(65542),ue=o(32883),M=o(94720),$=o(69808);function le(Ie,Ne){1&Ie&&x._UZ(0,"div",11)}function I(Ie,Ne){1&Ie&&x._UZ(0,"div",12)}function De(Ie,Ne){if(1&Ie&&x._UZ(0,"div",1),2&Ie){var G=x.oxw();x.Q6J("ngStyle",G.diggingConditionZoneStyles.diggingConditionsTop)("ngClass",G.holeStyles.class)}}function be(Ie,Ne){if(1&Ie&&x._UZ(0,"div",13),2&Ie){var G=x.oxw();x.Q6J("ngStyle",G.diggingConditionZoneStyles.diggingConditionsBottom)}}function Pe(Ie,Ne){if(1&Ie&&x._UZ(0,"div",14),2&Ie){var G=x.oxw();x.Q6J("ngClass",G.holeStyles.class)}}function J(Ie,Ne){if(1&Ie&&x._UZ(0,"div",15),2&Ie){var G=x.oxw();x.Q6J("ngClass",G.holeStyles.middleClass)}}function U(Ie,Ne){if(1&Ie&&x._UZ(0,"div",16),2&Ie){var G=x.oxw();x.Q6J("ngClass",G.holeStyles.innerClass)}}function W(Ie,Ne){1&Ie&&x._UZ(0,"div",17)}function re(Ie,Ne){1&Ie&&x._UZ(0,"div",18)}var Ee=e.N.AVERAGE_FRAGMENTATION,ge=e.N.COLLAR_ELEVATION,ve=e.N.DRILL_PRODUCTIVITY,_e=e.N.DRILL_COMPLIANCE,V=e.N.INSTANTANEOUS_DIG_RATE,k=e.N.BLASTABILITY,N=e.N.POWDER_FACTOR,B=e.N.DIGGABILITY,pe=e.N.DIGGING_CONDITIONS,me=e.N.MAX_FORCE,X=e.N.TOE_MOMENTUM,ee=e.N.SHORT_HOLE,j=e.N.LOADING_TIME,se=e.N.EXPLOSIVE_KG,Se=e.N.LOADING,K=e.N.BOULDER_LOCATION,Ce=e.N.BOULDER_LOCATION_PRE_BLAST,Y=e.N.DRILLING_XY_COLLAR_DEVIATION,w=e.N.EXPLOSIVE_WEIGHT_DEVIATION,ce=e.N.DRILL_SPECIFIC_ENERGY,he=e.N.STEMMING_LENGTH_DEVIATION,we=e.N.EXPLOSIVE_WEIGHT,Ze=e.N.HOLE_DEPTH_COMPLIANCE,qe=e.N.HOLE_DEPTH_COMPLIANCE_MEAS_DESIGN,Fe=e.N.HOLE_DEPTH_COMPLIANCE_MEAS_DRILLED,Ve=e.N.ENERGY_FACTOR,Ke=e.N.ACTUAL_DEPTH_DIFF_ELEVATION,gt=e.N.ExplosiveLoadingVsDrillingTime,de=function(){var Ie=function(){function Ne(G,T,g){var i,P;(0,f.Z)(this,Ne),this.cdr=G,this.coloringService=T,this.legendFilteringService=g,this.showBlastabilityLayer={blastabilityToeZone:!1,blastabilityMidZone:!1,blastabilityTopZone:!1},this.diggingConditionZoneStyles=((0,D.Z)(i={},p.diggingConditionZoneKeys.top,null),(0,D.Z)(i,p.diggingConditionZoneKeys.bottom,null),i),this.diggingConditionLayers=((0,D.Z)(P={},p.diggingConditionZoneKeys.top,!1),(0,D.Z)(P,p.diggingConditionZoneKeys.bottom,!1),P),this.holeStyles={},this.colorMapList=[Ee,ge,ve,_e,B,N,V,me,X,se,Y,ce,he,we,Ze,qe,Fe,Ve,Ke,gt].concat((0,h.Z)(m.jp),(0,h.Z)(m.SH)),this.noLoadColorMapsForCDA=[w,he,Ve,N],this.metalClassList={0:"empty cross-white",1:"normalMoreThan14HVC",2:"top",3:"multiple"},this.baseClassList={1:"multiple",2:"bottom",3:"top",4:"normal",5:"middle"}}return(0,S.Z)(Ne,[{key:"ngOnInit",value:function(){this.handlePointStyling(),this.cdr.detectChanges()}},{key:"ngOnChanges",value:function(T){var g;this.handlePointStyling(),this.resetShowingBlastabilityLayer((null===(g=T.colorMap)||void 0===g?void 0:g.currentValue)&&this.resetBlastabilityLayer)}},{key:"isPreconditioningHole",value:function(){var T=c.ZA.isCDA(this.mineSite)&&this.detectNoLoad();return c.ZA.isMetalMine(this.mineSite)&&this.hole.isPreconditioning&&!T&&!this.detectNoData(this.colorMap)&&!this.isCavedOnMetalMine(this.colorMap)&&!(0,m.GV)(this.colorMap)}},{key:"isPumpedHole",value:function(){var T=this.hole;return T.isDewatered&&(this.colorMap===Se||null===this.colorMap)&&!T.noLoadByCaving&&!T.noLoadByDesign&&!T.noData}},{key:"detectNoData",value:function(T){var g=this;return"-"===this.getHoleProperty(T)||(this.colorMapList.includes(T)?this.checkNull(T):T===w?this.detectExplosiveWeightDeviationNoData():[e.N.DIGGING_CONDITIONS,e.N.SHORT_HOLE].includes(T)?0===this.getHoleProperty(T):T===e.N.DIGGING_CONDITIONS_3D?Object.keys(this.diggingConditionLayers).every(function(i){return 0===g.getHoleProperty(i)}):T===K||T===Ce?null===this.getHoleProperty(T)||0===this.getHoleProperty(T):T===j?0===this.getHoleProperty(T)||null===this.getHoleProperty(T):T===k&&c.ZA.isMetalMine(this.mineSite)?-1===this.getHoleProperty("blastabilityMidZone"):this.checkNull(T))}},{key:"detectExplosiveWeightDeviationNoData",value:function(){switch(!0){case c.ZA.isRDO(this.mineSite):return this.checkNull(w);case c.ZA.isCDA(this.mineSite):return 0===this.getHoleProperty(w);default:return this.checkNull(w)||this.getHoleProperty(w)>20}}},{key:"checkNull",value:function(T){return null===this.getHoleProperty(T)||"null"===this.getHoleProperty(T)}},{key:"handleZoneVisibility",value:function(){var T=this;c.ZA.isCoalMine(this.mineSite)&&this.colorMap===k?Object.keys(this.showBlastabilityLayer).forEach(function(g){T.showBlastabilityLayer[g]=-1!==T.getHoleProperty(g)}):this.colorMap===e.N.DIGGING_CONDITIONS_3D&&Object.keys(this.diggingConditionLayers).forEach(function(g){T.diggingConditionLayers[g]=0!==T.getHoleProperty(g)})}},{key:"handlePointStyling",value:function(){var T;if(null===(T=this.hole)||void 0===T?void 0:T.isBmm)this.setHoleStyles("bmm");else if(this.handleZoneVisibility(),[j,pe,w,K,Ce].includes(this.colorMap)||this.colorMapList.includes(this.colorMap))this.handleStylingUsingInlineStylesAlgorithm(this.getHoleProperty(this.colorMap),this.colorMap,this.detectNoData(this.colorMap));else if(this.colorMap===e.N.DIGGING_CONDITIONS_3D)if(this.detectNoData(this.colorMap))this.setNoDataStyles();else{var g;this.setHoleStyles("empty"),this.diggingConditionZoneStyles=((0,D.Z)(g={},p.diggingConditionZoneKeys.top,this.getDiggingConditionsObject(p.diggingConditionZoneKeys.top)),(0,D.Z)(g,p.diggingConditionZoneKeys.bottom,this.getDiggingConditionsObject(p.diggingConditionZoneKeys.bottom)),g)}else if((0,m.tH)(this.colorMap))this.handleStylingUsingInlineStylesAlgorithm(this.getHoleProperty(this.colorMap),this.colorMap,!1);else if(this.colorMap===k&&c.ZA.isMetalMine(this.mineSite)){var i=this.getHoleProperty("blastabilityMidZone");this.handleStylingUsingInlineStylesAlgorithm(i,this.colorMap,this.detectNoData(this.colorMap))}else this.holeStyles.class=this.getClass(this.hole,this.colorMap),this.holeStyles.style=null}},{key:"getDiggingConditionsObject",value:function(T){return{"background-color":this.coloringService.getBgColorByValueAndTypeOfColormap(this.getHoleProperty(T),this.colorMap,this.mineSite)}}},{key:"isCavedOnMetalMine",value:function(T){var g=this.getHoleProperty("isUserCaved"),i=this.getHoleProperty("noLoadByCaving");return c.ZA.isMetalMine(this.mineSite)&&[ve,_e,ge,Ze,we,w,N,Ve,Y,Fe,qe].includes(T)&&(g||i)}},{key:"handleStylingUsingInlineStylesAlgorithm",value:function(T,g,i){(0,m.Z9)(g)?this.getHoleProperty("noAssays")?this.setNoDataStyles():i?this.setNoDataPerMetric():this.setColorRangesStyles(T,g):this.isCavedOnMetalMine(g)?this.setHoleStyles("caved cross-white"):c.ZA.isCDA(this.mineSite)&&this.noLoadColorMapsForCDA.includes(g)&&this.detectNoLoad()?this.setHoleStyles():i?this.setNoDataStyles():c.ZA.isCDA(this.mineSite)&&this.detectNoLoad()?this.setHoleStyles():this.setColorRangesStyles(T,g)}},{key:"setHoleStyles",value:function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"empty cross-white",g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.holeStyles.style=g,this.holeStyles.class=T}},{key:"detectNoLoad",value:function(){var g,T=this,i=this.legendFilteringService.legends$.value;return!!(null===(g=null==i?void 0:i.main)||void 0===g?void 0:g.holeParams.find(function(_){return!1===_.filterActive&&"no-load"===_.filterName&&_.colorMaps.includes(T.colorMap)}))&&this.hole.noLoadByDesign}},{key:"setColorRangesStyles",value:function(T,g){this.holeStyles.style={"background-color":this.coloringService.getBgColorByValueAndTypeOfColormap(T,g,this.mineSite)},this.holeStyles.class="empty"}},{key:"getHoleProperty",value:function(T){return this.hole[T]}},{key:"setNoDataStyles",value:function(){this.holeStyles.style=null,this.holeStyles.class="empty cross-black"}},{key:"setNoDataPerMetric",value:function(){this.holeStyles.style={"background-color":y.C.GRAY_CHATEAU},this.holeStyles.class="empty"}},{key:"getClass",value:function(T,g){if(this.colorMap===ee||g===ee){var i=T.shortHoleType;return c.ZA.isMetalMine(this.mineSite)?this.metalClassList[i]||"":this.baseClassList[i]||a(T)}return this.colorMap===k||g===k&&!c.ZA.isMetalMine(this.mineSite)?this.getBlastabilityClass():function(Ne){switch(!0){case Ne.isWet:return"wet";case Ne.isDry:return"dry";default:return a(Ne)}}(T)}},{key:"getBlastabilityClass",value:function(){var T=this;return Object.keys(this.showBlastabilityLayer).every(function(g){return-1===T.getHoleProperty(g)})?"empty cross-black":(this.holeStyles.innerClass=C(this.getHoleProperty("blastabilityToeZone")),this.holeStyles.middleClass=C(this.getHoleProperty("blastabilityMidZone")),C(this.getHoleProperty("blastabilityTopZone")))}},{key:"resetShowingBlastabilityLayer",value:function(T){T&&(this.showBlastabilityLayer={blastabilityToeZone:!1,blastabilityMidZone:!1,blastabilityTopZone:!1})}}]),Ne}();return Ie.\u0275fac=function(G){return new(G||Ie)(x.Y36(x.sBO),x.Y36(ue.O),x.Y36(M.ol))},Ie.\u0275cmp=x.Xpm({type:Ie,selectors:[["dabo-hole-point"]],inputs:{hole:"hole",mineSite:"mineSite",colorMap:"colorMap",resetBlastabilityLayer:"resetBlastabilityLayer"},features:[x.TTD],decls:11,vars:11,consts:[[1,"hole-container"],[1,"hole",3,"ngStyle","ngClass"],["class","triangle1",4,"ngIf"],["class","triangle2",4,"ngIf"],["class","hole",3,"ngStyle","ngClass",4,"ngIf"],["class","hole-middle",3,"ngStyle",4,"ngIf"],["class","hole",3,"ngClass",4,"ngIf"],["class","hole-middle",3,"ngClass",4,"ngIf"],["class","hole-inner",3,"ngClass",4,"ngIf"],["class","hole-preconditioning",4,"ngIf"],["class","hole-pumped",4,"ngIf"],[1,"triangle1"],[1,"triangle2"],[1,"hole-middle",3,"ngStyle"],[1,"hole",3,"ngClass"],[1,"hole-middle",3,"ngClass"],[1,"hole-inner",3,"ngClass"],[1,"hole-preconditioning"],[1,"hole-pumped"]],template:function(G,T){1&G&&(x.TgZ(0,"div",0)(1,"div",1),x.YNc(2,le,1,0,"div",2),x.YNc(3,I,1,0,"div",3),x.qZA(),x.YNc(4,De,1,2,"div",4),x.YNc(5,be,1,1,"div",5),x.YNc(6,Pe,1,1,"div",6),x.YNc(7,J,1,1,"div",7),x.YNc(8,U,1,1,"div",8),x.YNc(9,W,1,0,"div",9),x.YNc(10,re,1,0,"div",10),x.qZA()),2&G&&(x.xp6(1),x.Q6J("ngStyle",T.holeStyles.style)("ngClass",T.holeStyles.class),x.xp6(1),x.Q6J("ngIf",null==T.hole?null:T.hole.isBmm),x.xp6(1),x.Q6J("ngIf",null==T.hole?null:T.hole.isBmm),x.xp6(1),x.Q6J("ngIf",T.diggingConditionLayers.diggingConditionsTop),x.xp6(1),x.Q6J("ngIf",T.diggingConditionLayers.diggingConditionsBottom),x.xp6(1),x.Q6J("ngIf",T.showBlastabilityLayer.blastabilityTopZone),x.xp6(1),x.Q6J("ngIf",T.showBlastabilityLayer.blastabilityMidZone),x.xp6(1),x.Q6J("ngIf",T.showBlastabilityLayer.blastabilityToeZone),x.xp6(1),x.Q6J("ngIf",T.isPreconditioningHole()),x.xp6(1),x.Q6J("ngIf",T.isPumpedHole()))},directives:[$.PC,$.mk,$.O5],styles:['@charset "UTF-8";.bmm[_ngcontent-%COMP%], .legend-dot[_ngcontent-%COMP%] > .bmm[_ngcontent-%COMP%]{display:flex;padding-bottom:2px}.bmm[_ngcontent-%COMP%]   .triangle1[_ngcontent-%COMP%], .bmm[_ngcontent-%COMP%]   .triangle2[_ngcontent-%COMP%], .legend-dot[_ngcontent-%COMP%] > .bmm[_ngcontent-%COMP%]   .triangle1[_ngcontent-%COMP%], .legend-dot[_ngcontent-%COMP%] > .bmm[_ngcontent-%COMP%]   .triangle2[_ngcontent-%COMP%]{border:7px solid transparent}.bmm[_ngcontent-%COMP%]   .triangle1[_ngcontent-%COMP%], .legend-dot[_ngcontent-%COMP%] > .bmm[_ngcontent-%COMP%]   .triangle1[_ngcontent-%COMP%]{border-left-width:0;border-right:5px solid rgba(0,0,0,.5)}.bmm[_ngcontent-%COMP%]   .triangle2[_ngcontent-%COMP%], .legend-dot[_ngcontent-%COMP%] > .bmm[_ngcontent-%COMP%]   .triangle2[_ngcontent-%COMP%]{border-right-width:0;border-left:5px solid rgba(0,0,0,.5)}.mat-tooltip[_ngcontent-%COMP%]{white-space:pre-line;text-align:center;background-color:#586b7a;font-family:Rubik;font-size:12px}.page-block__header[_ngcontent-%COMP%]{align-items:center;min-height:64px;width:100%;background-color:#fff}.page-block__header--complex[_ngcontent-%COMP%]{background-color:#fff;padding:0 30px 0 20px}@media screen and (max-width: 992px){.page-block__header--complex[_ngcontent-%COMP%]{padding-right:0}}.page-block__header--transparent[_ngcontent-%COMP%]{background-color:transparent}.page-block__header--kpi-sticky[_ngcontent-%COMP%]{position:fixed;padding:20px 20px 20px 0;top:0;z-index:100;background-color:#edeeef}@media only screen and (min-width: 1201px){.page-block__header--kpi-sticky[_ngcontent-%COMP%]{padding:20px}}.page-block__header--sticky[_ngcontent-%COMP%]{position:fixed;padding:0 42px 0 20px;top:0;z-index:100;background-color:#fff}@media only screen and (min-width: 1201px){.page-block__header--sticky[_ngcontent-%COMP%]{padding:0 58px 0 20px}}.page-block__header--sticky[_ngcontent-%COMP%] + .page-block__content[_ngcontent-%COMP%]{margin-top:84px}.mat-slide-toggle.mat-checked[_ngcontent-%COMP%]   .mat-slide-toggle-thumb[_ngcontent-%COMP%], .mat-slide-toggle.mat-checked[_ngcontent-%COMP%]   .mat-slide-toggle-bar[_ngcontent-%COMP%]{background-color:#1f8ff7}.teck-basic-table[_ngcontent-%COMP%]   .cdk-header-cell[_ngcontent-%COMP%]{text-align:center}.teck-basic-table[_ngcontent-%COMP%]   .cdk-header-cell[_ngcontent-%COMP%]   .mat-sort-header-content[_ngcontent-%COMP%] + .mat-sort-header-arrow[_ngcontent-%COMP%]{margin-right:-12px}.page-block[_ngcontent-%COMP%]{height:100%}.page-block.sticky[_ngcontent-%COMP%]{padding-top:84px}.page-block__content[_ngcontent-%COMP%]{margin:20px;height:100%}.page-block[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{width:24px;height:24px;display:flex;align-items:center;text-decoration:none;background:#0165bd;justify-content:center;margin-right:10px;border-radius:50%}.page-block[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:#0056a1}.page-block[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:active{background-color:#0165bd}.page-block[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{color:#fff}.no-border[_ngcontent-%COMP%]{border:none!important}.page-title[_ngcontent-%COMP%]{font-size:19px;font-weight:500;font-family:Rubik,dabaha,sans-serif;margin:0}.page-title--basic[_ngcontent-%COMP%]{color:#0165bd7d;line-height:1.26;letter-spacing:-.27px;margin:0 10px 0 6px;overflow:hidden;text-overflow:ellipsis}.missing-pattern-message__container[_ngcontent-%COMP%]{text-align:center;height:100%;display:flex;justify-content:center;align-items:stretch}.missing-pattern-message__container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px;font-size:12px;font-weight:500;color:#5a5e62}.missing-pattern-message__container[_ngcontent-%COMP%]   .icon-no-data[_ngcontent-%COMP%], .missing-pattern-message__container[_ngcontent-%COMP%]   .icon-no-data--no-margin-top[_ngcontent-%COMP%]{margin-top:30vh;margin-bottom:1rem;align-self:center;width:54px;height:48px;background:url(/assets/images/icons/icon-no-data.svg) center no-repeat;background-size:100%}.missing-pattern-message__container[_ngcontent-%COMP%]   .icon-no-data--no-margin-top[_ngcontent-%COMP%]{margin-top:0}.widgets__item__title[_ngcontent-%COMP%]{font-weight:500;font-size:18px;line-height:21px;margin:0}.widgets__item__subtitle[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:17px;color:#000;margin:0}.widgets__item__content[_ngcontent-%COMP%]{margin-top:30px}.file-info[_ngcontent-%COMP%]{background:linear-gradient(0deg,#f2f5f9,#f2f5f9),#ffffff;border:1px solid #d2e0f3;height:24px;color:#586b7a;font-weight:400;font-size:14px;line-height:24px;padding:0 20px 0 8px;margin-bottom:8px;position:relative;text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap}.file-info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;right:6px;top:4px;cursor:pointer}@font-face{font-family:dabaha;src:url(/assets/fonts/dabaha.eot);src:url(/assets/fonts/dabaha.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/dabaha.ttf) format("truetype"),url(/assets/fonts/dabaha.woff) format("woff"),url(/assets/fonts/dabaha.svg) format("svg");font-weight:400;font-style:normal;font-display:block}.icon[_ngcontent-%COMP%]{font-family:dabaha!important;speak:none;width:16px;height:16px;font-size:16px;font-style:normal;font-weight:400;font-feature-settings:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon--disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:initial}.icon--hidden[_ngcontent-%COMP%]{display:none}.icon-byc[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\ea04";color:#008cff}.icon-byc[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\ea05";margin-left:-1em;color:#008cff}.icon-byc[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\ea06";margin-left:-1em;color:#586b7a}.icon-byc[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\ea07";margin-left:-1em;color:#586b7a}.icon-information[_ngcontent-%COMP%]:before{content:"\\ea03";color:#586b7a}.icon-colormap[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9fe";color:#f25050}.icon-colormap[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9ff";margin-left:-1em;color:#f2c94c}.icon-colormap[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\ea00";margin-left:-1em;color:#1f8ff7}.icon-colormap[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\ea01";margin-left:-1em;color:#39be04}.icon-colormap[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\ea02";margin-left:-1em;color:#586b7a}.icon-drillbit[_ngcontent-%COMP%]:before{content:"\\e9fc";color:#00afbd}.icon-report[_ngcontent-%COMP%]:before{content:"\\e9fa";color:#0065bd}.icon-quality[_ngcontent-%COMP%]:before{content:"\\e9fb";color:#d5b1f1}.icon-permissions[_ngcontent-%COMP%]:before{content:"\\e9f9";color:#00afbd}.icon-batchedit[_ngcontent-%COMP%]:before{content:"\\e9f8";color:#0165bd}.icon-comment[_ngcontent-%COMP%]:before{content:"\\e9f4";color:#0065bd}.icon-actions[_ngcontent-%COMP%]:before{content:"\\e9f5";color:#0065bd}.icon-add-comment[_ngcontent-%COMP%]:before{content:"\\e9f6";color:#0065bd}.icon-scorecard[_ngcontent-%COMP%]:before{content:"\\e9f7";color:#0065bd}.icon-data-error[_ngcontent-%COMP%]:before{content:"\\e9f3";color:#586b7a}.icon-BL-1z[_ngcontent-%COMP%]:before{content:"\\e9e5";color:#366cfb}.icon-BL-2z-1[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9e6";color:#366cfb}.icon-BL-2z-1[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9e7";margin-left:-1em;color:#eef3fb}.icon-BL-2z-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9e8";color:#eef3fb}.icon-BL-2z-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9e9";margin-left:-1em;color:#366cfb}.icon-BL-3z-1[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9ea";color:#366cfb}.icon-BL-3z-1[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9eb";margin-left:-1em;color:#b8d3fd}.icon-BL-3z-1[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9ec";margin-left:-1em;color:#eef3fb}.icon-BL-3z-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9ed";color:#b8d3fd}.icon-BL-3z-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9ee";margin-left:-1em;color:#366cfb}.icon-BL-3z-2[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9ef";margin-left:-1em;color:#eef3fb}.icon-BL-3z-3[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9f0";color:#e3edfb}.icon-BL-3z-3[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9f1";margin-left:-1em;color:#f4f8fb}.icon-BL-3z-3[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9f2";margin-left:-1em;color:#366cfb}.icon-hole-pumped[_ngcontent-%COMP%]:before, .hole-pumped[_ngcontent-%COMP%]:before{content:"\\e9e3"}.icon-history[_ngcontent-%COMP%]:before{content:"\\e9e2";color:#586b7a}.icon-crusher[_ngcontent-%COMP%]:before{content:"\\e9e4";color:#0165bd}.icon-calculator[_ngcontent-%COMP%]:before{content:"\\e9e1";color:#0165bd}.icon-issue[_ngcontent-%COMP%]:before{content:"\\e9de";color:#e68537}.icon-nitrate[_ngcontent-%COMP%]:before{content:"\\e9df";color:#0165bd}.icon-vibration[_ngcontent-%COMP%]:before{content:"\\e9e0";color:#0165bd}.icon-angled[_ngcontent-%COMP%]:before{content:"\\e9dd"}.icon-userguide[_ngcontent-%COMP%]:before{content:"\\e9dc";color:#0165bd}.icon-crew[_ngcontent-%COMP%]:before{content:"\\e9db";color:#586b7a}.icon-bench[_ngcontent-%COMP%]:before{content:"\\e9d7";color:#586b7a}.icon-pat-group[_ngcontent-%COMP%]:before{content:"\\e9d8";color:#586b7a}.icon-pat-small[_ngcontent-%COMP%]:before{content:"\\e9d9";color:#586b7a}.icon-patt[_ngcontent-%COMP%]:before, .icon-patt-light[_ngcontent-%COMP%]:before{content:"\\e9da";color:#586b7a}.icon-patt-light[_ngcontent-%COMP%]:before{opacity:.5}.icon-safety[_ngcontent-%COMP%]:before{content:"\\e9d6";color:#0165bd}.icon-godown[_ngcontent-%COMP%]:before{content:"\\e9d3";color:#586b7a}.icon-growup[_ngcontent-%COMP%]:before{content:"\\e9d4";color:#586b7a}.icon-growup-light[_ngcontent-%COMP%]:before{content:"\\e9d4";color:#fff;opacity:.5}.icon-circle[_ngcontent-%COMP%]:before{content:"\\e9d5";color:#586b7a}.icon-sliders[_ngcontent-%COMP%]:before{content:"\\e9d2";color:#586b7a}.icon-chart[_ngcontent-%COMP%]:before{content:"\\e9d1";color:#586b7a}.icon-no-data-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9cb";color:#8bade0}.icon-no-data-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9cc";margin-left:-1em;color:#586b7a}.icon-no-data-3[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9cd";color:#586b7a}.icon-no-data-3[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9ce";margin-left:-1em;color:#8bade0}.icon-no-data-4[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9cf";color:#8bade0}.icon-no-data-4[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9d0";margin-left:-1em;color:#586b7a}.icon-connection[_ngcontent-%COMP%]:before{content:"\\e9c8";color:#586b7a}.icon-dashboard[_ngcontent-%COMP%]:before{content:"\\e9c9";color:#586b7a}.icon-temperature[_ngcontent-%COMP%]:before{content:"\\e9ca";color:#586b7a}.icon-menu-1[_ngcontent-%COMP%]:before{content:"\\e9c6";color:#586b7a}.icon-menu-2[_ngcontent-%COMP%]:before{content:"\\e9c7";color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9b4";color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9b5";margin-left:-1em;color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9b6";margin-left:-1em;color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e9b7";margin-left:-1em;color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e9b8";margin-left:-1em;color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e9b9";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3-6[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e9ba";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3-6[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e9bb";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3-6[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e9bc";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9bd";color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9be";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9bf";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e9c0";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e9c1";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e9c2";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e9c3";margin-left:-1em;color:#586b7a}.icon-w1-2[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e9c4";margin-left:-1em;color:#586b7a}.icon-w1-2[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e9c5";margin-left:-1em;color:#586b7a}.icon-hole-precond[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9b2";color:#000;opacity:.75}.icon-hole-precond[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9b3";margin-left:-1em;color:#fff}.icon-w1[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e97c";color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e97d";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e97e";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e97f";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e980";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e981";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e982";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e983";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e984";margin-left:-1em;color:#586b7a}.icon-w2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e985";color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e986";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e987";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e988";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e989";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e98a";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e98b";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e98c";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e98d";margin-left:-1em;color:#586b7a}.icon-w3[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e98e";color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e98f";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e990";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e991";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e992";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e993";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e994";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e995";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e996";margin-left:-1em;color:#586b7a}.icon-w4[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e997";color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e998";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e999";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e99a";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e99b";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e99c";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e99d";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e99e";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e99f";margin-left:-1em;color:#586b7a}.icon-w5[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9a0";color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9a1";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9a2";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e9a3";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e9a4";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e9a5";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e9a6";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e9a7";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e9a8";margin-left:-1em;color:#586b7a}.icon-w6[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9a9";color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9aa";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9ab";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e9ac";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e9ad";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e9ae";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e9af";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e9b0";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e9b1";margin-left:-1em;color:#586b7a}.icon-T-Icon[_ngcontent-%COMP%]:before{content:"\\e97a";color:#fff}.icon-tasks[_ngcontent-%COMP%]:before{content:"\\e97b";color:#586b7a}.icon-pdf_template[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e967";color:#fff}.icon-pdf_template[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e968";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e969";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e96a";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e96b";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e96c";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e96d";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e96e";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e96f";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path10[_ngcontent-%COMP%]:before{content:"\\e970";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path11[_ngcontent-%COMP%]:before{content:"\\e971";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path12[_ngcontent-%COMP%]:before{content:"\\e972";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path13[_ngcontent-%COMP%]:before{content:"\\e973";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path14[_ngcontent-%COMP%]:before{content:"\\e974";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path15[_ngcontent-%COMP%]:before{content:"\\e975";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path16[_ngcontent-%COMP%]:before{content:"\\e976";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path17[_ngcontent-%COMP%]:before{content:"\\e977";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path18[_ngcontent-%COMP%]:before{content:"\\e978";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path19[_ngcontent-%COMP%]:before{content:"\\e979";margin-left:-.7998046875em;color:#d0dae0}.icon-ellipsis[_ngcontent-%COMP%]:before{content:"\\e966";color:#586b7a}.icon-edit[_ngcontent-%COMP%]:before{content:"\\e965";color:#586b7a}.icon-help-center[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e963";color:#ffe845}.icon-help-center[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e964";margin-left:-1em;color:#000;opacity:.5029}.icon-driver[_ngcontent-%COMP%]:before{content:"\\e95a";color:#0165bd}.icon-eye-crossed[_ngcontent-%COMP%]:before{content:"\\e95b";color:#586b7a}.icon-eye[_ngcontent-%COMP%]:before{content:"\\e95c";color:#586b7a}.icon-grade[_ngcontent-%COMP%]:before{content:"\\e95d";color:#586b7a}.icon-ropes-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e95e";color:#586b7a}.icon-ropes-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e95f";margin-left:-1em;color:#0165bd}.icon-ropes[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e960";color:#586b7a}.icon-ropes[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e961";margin-left:-1em;color:#0165bd}.icon-score[_ngcontent-%COMP%]:before{content:"\\e962";color:#586b7a}.icon-search[_ngcontent-%COMP%]:before{content:"\\e959";color:#586b7a}.icon-progress[_ngcontent-%COMP%]:before{content:"\\e958";color:#586b7a}.icon-day-shift[_ngcontent-%COMP%]:before{content:"\\e955";color:#fcd47d}.icon-night-shift[_ngcontent-%COMP%]:before{content:"\\e956";color:#7d8c9a}.icon-segment[_ngcontent-%COMP%]:before{content:"\\e957";color:#586b7a}.icon-print[_ngcontent-%COMP%]:before{content:"\\e954";color:#586b7a}.icon-success[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e951";color:#fff}.icon-success[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e952";margin-left:-1em;color:#8bade0}.icon-success[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e953";margin-left:-1em;color:#39be04}.icon-misfire[_ngcontent-%COMP%]:before{content:"\\e950";color:#ff8200}.icon-no-selection[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e949";color:#fff}.icon-no-selection[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e94a";margin-left:-1em;color:#8bade0}.icon-no-selection[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e94b";margin-left:-1em;color:#eaeef6}.icon-no-selection[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e94c";margin-left:-1em;color:#1f8ff7}.icon-no-selection[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e94d";margin-left:-1em;color:#586b7a}.icon-home[_ngcontent-%COMP%]:before{content:"\\e948";color:#586b7a}.icon-feedback-normal[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e93f";color:#31495d;opacity:.8504}.icon-feedback-normal[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e940";margin-left:-.7861328125em;color:#ffaf00}.icon-feedback-normal[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e941";margin-left:-.7861328125em;color:#fff}.icon-feedback-selected[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e942";color:#0165bd}.icon-feedback-selected[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e943";margin-left:-.7861328125em;color:#fff}.icon-feedback-selected[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e944";margin-left:-.7861328125em;color:#ffaf00}.icon-feedback-selected[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e945";margin-left:-.7861328125em;color:#586b7a}.icon-map-feedback-small[_ngcontent-%COMP%]:before{content:"\\e946";color:#ffaf00}.icon-map-feedback[_ngcontent-%COMP%]:before{content:"\\e947";color:#586b7a}.icon-equip-driller[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e911";color:#fff}.icon-equip-driller[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e912";margin-left:-1em;color:#0165bd}.icon-equip-driller[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e913";margin-left:-1em;color:#0165bd}.icon-equip-loader[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e939";color:#fff}.icon-equip-loader[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e93a";margin-left:-1em;color:#0165bd}.icon-equip-loader[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e93b";margin-left:-1em;color:#0165bd}.icon-equip-shovel[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e93c";color:#fff}.icon-equip-shovel[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e93d";margin-left:-1em;color:#0165bd}.icon-equip-shovel[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e93e";margin-left:-1em;color:#0165bd}.icon-alert[_ngcontent-%COMP%]:before{content:"\\e900";color:#ff8200}.icon-arrow-down[_ngcontent-%COMP%]:before{content:"\\e901";color:#586b7a}.icon-arrow-left[_ngcontent-%COMP%]:before{content:"\\e902";color:#586b7a}.icon-arrow-right[_ngcontent-%COMP%]:before{content:"\\e903";color:#586b7a}.icon-arrow-top[_ngcontent-%COMP%]:before{content:"\\e904";color:#586b7a}.icon-blast[_ngcontent-%COMP%]:before, .icon-blast-light[_ngcontent-%COMP%]:before{content:"\\e905";color:#f25050}.icon-blast-light[_ngcontent-%COMP%]:before{color:#586b7a;opacity:.5}.icon-calendar[_ngcontent-%COMP%]:before{content:"\\e906";color:#0165bd}.icon-checkmark[_ngcontent-%COMP%]:before{content:"\\e907";color:#586b7a}.icon-close[_ngcontent-%COMP%]:before{content:"\\e908";color:#586b7a}.icon-coal[_ngcontent-%COMP%]:before{content:"\\e909";color:#586b7a}.icon-cost[_ngcontent-%COMP%]:before{content:"\\e90a";color:#ff8200}.icon-critical[_ngcontent-%COMP%]:before{content:"\\e90b";color:#c55563}.icon-datepicker[_ngcontent-%COMP%]:before{content:"\\e90c";color:#586b7a}.icon-destination[_ngcontent-%COMP%]:before{content:"\\e90d";color:#39be04}.icon-drill[_ngcontent-%COMP%]:before{content:"\\e90e";color:#00afbd}.icon-empty[_ngcontent-%COMP%]:before{content:"\\e90f";color:#a4afbe}.icon-env[_ngcontent-%COMP%]:before{content:"\\e910";color:#39be04}.icon-filter[_ngcontent-%COMP%]:before{content:"\\e914";color:#586b7a}.icon-flag[_ngcontent-%COMP%]:before{content:"\\e915";color:#f54f63}.icon-grid[_ngcontent-%COMP%]:before{content:"\\e916";color:#0165bd}.icon-group[_ngcontent-%COMP%]:before{content:"\\e917";color:#586b7a}.icon-help[_ngcontent-%COMP%]:before{content:"\\e918";color:#586b7a}.icon-help-light[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e963";color:#586b7a;opacity:.2}.icon-help-light[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e964";margin-left:-1em;color:#586b7a;opacity:.75}.icon-hole[_ngcontent-%COMP%]:before{content:"\\e919";color:#0165bd}.icon-kpi[_ngcontent-%COMP%]:before{content:"\\e91a";color:#0165bd}.icon-kpi-cda[_ngcontent-%COMP%]:before{content:"\\e91a";color:#e1c06b}.icon-letter[_ngcontent-%COMP%]:before{content:"\\e91b";color:#586b7a}.icon-list[_ngcontent-%COMP%]:before{content:"\\e91c";color:#0165bd}.icon-load[_ngcontent-%COMP%]:before{content:"\\e91d";color:#0165bd}.icon-loaded[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e91e";color:#a4afbe}.icon-loaded[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e91f";margin-left:-1em;color:#1f8ff7}.icon-mail[_ngcontent-%COMP%]:before{content:"\\e920";color:#586b7a}.icon-map-collapse[_ngcontent-%COMP%]:before{content:"\\e921";color:#586b7a}.icon-map-compare-tool[_ngcontent-%COMP%]:before{content:"\\e922";color:#586b7a}.icon-map-expand[_ngcontent-%COMP%]:before{content:"\\e923";color:#586b7a}.icon-map-legend[_ngcontent-%COMP%]:before{content:"\\e924";color:#586b7a}.icon-map-polygon-tool[_ngcontent-%COMP%]:before{content:"\\e925";color:#586b7a}.icon-map-toggle[_ngcontent-%COMP%]:before{content:"\\e926";color:#586b7a}.icon-map-visibility[_ngcontent-%COMP%]:before{content:"\\e927";color:#586b7a}.icon-minus[_ngcontent-%COMP%]:before{content:"\\e928";color:#586b7a}.icon-no-data[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before, .missing-pattern-message__container[_ngcontent-%COMP%]   .icon-no-data--no-margin-top[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e929";color:#fff}.icon-no-data[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before, .missing-pattern-message__container[_ngcontent-%COMP%]   .icon-no-data--no-margin-top[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e94e";margin-left:-1em;color:#8bade0}.icon-no-data[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before, .missing-pattern-message__container[_ngcontent-%COMP%]   .icon-no-data--no-margin-top[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e94f";margin-left:-1em;color:#586b7a}.icon-notifications[_ngcontent-%COMP%]:before{content:"\\e92a";color:#586b7a}.icon-pattern[_ngcontent-%COMP%]:before{content:"\\e92b";color:#0165bd}.icon-piechart[_ngcontent-%COMP%]:before{content:"\\e92c";color:#00afbd}.icon-plus[_ngcontent-%COMP%]:before{content:"\\e92d";color:#586b7a}.icon-refresh[_ngcontent-%COMP%]:before{content:"\\e92e";color:#586b7a}.icon-road[_ngcontent-%COMP%]:before{content:"\\e92f"}.icon-roadblock[_ngcontent-%COMP%]:before{content:"\\e930";color:#f25050}.icon-roadpin[_ngcontent-%COMP%]:before{content:"\\e931";color:#ff8200}.icon-settings[_ngcontent-%COMP%]:before{content:"\\e932";color:#586b7a}.icon-shovel[_ngcontent-%COMP%]:before{content:"\\e933";color:#0165bd}.icon-target[_ngcontent-%COMP%]:before{content:"\\e934";color:#586b7a}.icon-time[_ngcontent-%COMP%]:before{content:"\\e935";color:#586b7a}.icon-truck[_ngcontent-%COMP%]:before{content:"\\e936";color:#0165bd}.icon-user[_ngcontent-%COMP%]:before{content:"\\e937";color:#586b7a}.icon-waste[_ngcontent-%COMP%]:before{content:"\\e938";color:#586b7a}.icon-info[_ngcontent-%COMP%]:before{content:"\\ea03";color:#586b7a}.hole[_ngcontent-%COMP%], .hole-inner[_ngcontent-%COMP%], .hole-middle[_ngcontent-%COMP%]{position:absolute;width:12px;height:12px;border-radius:50%}.hole-container[_ngcontent-%COMP%]{position:relative;display:flex;width:12px;height:12px;justify-content:center;align-items:center;margin-right:5px}.hole-preconditioning[_ngcontent-%COMP%]{position:absolute;border-left:3px solid transparent;border-right:3px solid transparent;border-top:3px solid rgba(0,0,0,.5)}.hole-pumped[_ngcontent-%COMP%]{position:absolute;color:#00000080;margin:1px 0 0;font-size:12px}.hole-middle[_ngcontent-%COMP%]{width:8px;height:8px;top:50%;left:50%;margin:-4px 0 0 -4px}.hole-inner[_ngcontent-%COMP%]{margin:-2px 0 0 -2px;width:4px;height:4px;top:50%;left:50%}.wet[_ngcontent-%COMP%]{background-color:#76aff4}.dry[_ngcontent-%COMP%]{background-color:#ffe8ae}.empty[_ngcontent-%COMP%]{background-color:#0000}.cross[_ngcontent-%COMP%], .cross-black[_ngcontent-%COMP%], .cross-white[_ngcontent-%COMP%]{font-size:12px;line-height:12px;text-align:center}.cross-white[_ngcontent-%COMP%]{background-color:#001e3a66}.cross-white[_ngcontent-%COMP%]:before{content:"\\2715";color:#fff}.cross-black[_ngcontent-%COMP%]{background-color:#0165be26}.cross-black[_ngcontent-%COMP%]:before{content:"\\2715";color:#0009}.bottom[_ngcontent-%COMP%]{background-color:#3f36e6}.middle[_ngcontent-%COMP%]{background-color:#ba35f2}.multiple[_ngcontent-%COMP%]{background-color:#ef1414}.normal[_ngcontent-%COMP%]{background-color:gray}.top[_ngcontent-%COMP%]{background-color:#ffd46f}.normalMoreThan14HVC[_ngcontent-%COMP%]{background-color:#001e3a4d}.caved[_ngcontent-%COMP%]{background-color:#ef1414;position:relative}.caved__symbol[_ngcontent-%COMP%]{position:absolute;color:#fff;top:-1px;left:2px;font-size:8px}.blastability--NaN[_ngcontent-%COMP%]{background-color:#0165be26}.blastability--0[_ngcontent-%COMP%]{background-color:#000}.blastability--12[_ngcontent-%COMP%]{background-color:#d20102}.blastability--20[_ngcontent-%COMP%]{background-color:#1a37f5}.blastability--30[_ngcontent-%COMP%]{background-color:#32a4e1}.blastability--40[_ngcontent-%COMP%]{background-color:#48ffc3}.blastability--50[_ngcontent-%COMP%]{background-color:#caff77}.blastability--60[_ngcontent-%COMP%]{background-color:#ff8}'],changeDetection:0}),Ie}()},77269:function(ye,ie,o){"use strict";o.d(ie,{i:function(){return y}});var h=o(43144),D=o(15671),f=o(69808),S=o(32883),e=o(65542),y=function(){var m=(0,h.Z)(function p(){(0,D.Z)(this,p)});return m.\u0275fac=function(E){return new(E||m)},m.\u0275mod=e.oAB({type:m}),m.\u0275inj=e.cJS({providers:[S.O],imports:[[f.ez]]}),m}()},32883:function(ye,ie,o){"use strict";o.d(ie,{O:function(){return y}});var h=o(97685),D=o(15671),f=o(43144),S=o(49861),e=o(65542),y=function(){var m=function(){function p(){(0,D.Z)(this,p)}return(0,f.Z)(p,[{key:"getBgColorBasedOnColorMapRanges",value:function(C,a){var b=a.find(function(c){var x=(0,h.Z)(c,2),M=x[1];return C>=Number(x[0])&&C<=Number(M)});return b?b[2]:null}},{key:"getBgColorByValueAndTypeOfColormap",value:function(C,a,b){try{return this.getBgColorBasedOnColorMapRanges(C,S.L[a][b]||S.L[a].default)}catch(x){return null}}}]),p}();return m.\u0275fac=function(E){return new(E||m)},m.\u0275prov=e.Yz7({token:m,factory:m.\u0275fac}),m}()},13873:function(ye,ie,o){"use strict";o.d(ie,{L:function(){return p}});var h=o(15671),D=o(43144),f=o(65542),S=o(30325),e=o(69808);function y(E,C){if(1&E){var a=f.EpF();f.TgZ(0,"span",2),f.NdJ("click",function(x){return f.CHM(a),f.oxw().onClick(x)}),f._uU(1," KPI "),f._UZ(2,"span",3),f.qZA()}if(2&E){var b=f.oxw();f.ekj("disabled",b.isDisabled)}}function m(E,C){1&E&&(f.TgZ(0,"div",4),f._UZ(1,"div",5),f.qZA())}var p=function(){var E=function(){function C(a){(0,h.Z)(this,C),this.router=a,this.isDisabled=!1,this.isLoading=!1,this.linkClicked=new f.vpe}return(0,D.Z)(C,[{key:"onClick",value:function(b){this.linkClicked.emit(b)}},{key:"openLink",value:function(b){var c=this.router.serializeUrl(this.router.createUrlTree([b]));window.open(c,"_blank")}}]),C}();return E.\u0275fac=function(a){return new(a||E)(f.Y36(S.F0))},E.\u0275cmp=f.Xpm({type:E,selectors:[["dabo-kpi-link"]],inputs:{isDisabled:"isDisabled",isLoading:"isLoading"},outputs:{linkClicked:"linkClicked"},decls:2,vars:2,consts:[["class","kpi-link",3,"disabled","click",4,"ngIf"],["class","base-spinner-wrapper","fxFill","","fxLayoutAlign","center center",4,"ngIf"],[1,"kpi-link",3,"click"],[1,"icon-growup-light"],["fxFill","","fxLayoutAlign","center center",1,"base-spinner-wrapper"],[1,"spinner","spinner--small"]],template:function(a,b){1&a&&(f.YNc(0,y,3,2,"span",0),f.YNc(1,m,2,0,"div",1)),2&a&&(f.Q6J("ngIf",!b.isLoading),f.xp6(1),f.Q6J("ngIf",b.isLoading))},directives:[e.O5],styles:[".kpi-link[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;background-color:#0065bd;color:#fff;text-decoration:none;border-radius:16px;padding:0 8px;line-height:16px;cursor:pointer;font-weight:500;font-size:10px}.kpi-link[_ngcontent-%COMP%]   .icon-growup-light[_ngcontent-%COMP%]{padding-left:3px}.kpi-link[_ngcontent-%COMP%]:not([disabled], .disabled)[_ngcontent-%COMP%]:hover{background-color:#0056a1;color:#fff}.kpi-link[_ngcontent-%COMP%]:not([disabled], .disabled)[_ngcontent-%COMP%]:hover   .icon-growup-light[_ngcontent-%COMP%]:before{color:#fff;opacity:1}.kpi-link.disabled[_ngcontent-%COMP%]{background-color:#586b7a33;color:#0003;pointer-events:none}.kpi-link.disabled[_ngcontent-%COMP%]   .icon-growup-light[_ngcontent-%COMP%]:before{color:#000;opacity:.2}"],changeDetection:0}),E}()},67800:function(ye,ie,o){"use strict";o.d(ie,{T:function(){return e}});var h=o(43144),D=o(15671),f=o(69808),S=o(65542),e=function(){var y=(0,h.Z)(function m(){(0,D.Z)(this,m)});return y.\u0275fac=function(p){return new(p||y)},y.\u0275mod=S.oAB({type:y}),y.\u0275inj=S.cJS({imports:[[f.ez]]}),y}()},78015:function(ye,ie,o){"use strict";o.d(ie,{F:function(){return y}});var h=o(43144),D=o(15671),f=o(65542),S=o(69808);function e(m,p){if(1&m&&(f.TgZ(0,"span",1)(1,"span",2),f._uU(2),f.qZA()()),2&m){var E=p.$implicit,C=f.oxw();f.Q6J("ngClass",C.labelStyle),f.xp6(2),f.hij(" ",E," ")}}var y=function(){var m=(0,h.Z)(function p(){(0,D.Z)(this,p),this.labelStyle="blue"});return m.\u0275fac=function(E){return new(E||m)},m.\u0275cmp=f.Xpm({type:m,selectors:[["dabo-data-source-label"]],inputs:{labels:"labels",labelStyle:"labelStyle"},decls:1,vars:1,consts:[["class","data-source-label",3,"ngClass",4,"ngFor","ngForOf"],[1,"data-source-label",3,"ngClass"],[1,"data-source-label__text"]],template:function(E,C){1&E&&f.YNc(0,e,3,2,"span",0),2&E&&f.Q6J("ngForOf",C.labels)},directives:[S.sg,S.mk],styles:["[_nghost-%COMP%]{line-height:8px;margin-left:6px}.data-source-label[_ngcontent-%COMP%]{padding:.1px;margin-right:6px;font-size:10px;font-weight:300;text-align:center;white-space:nowrap;border-radius:2px}.data-source-label__text[_ngcontent-%COMP%]{opacity:.6}.data-source-label.dark-blue[_ngcontent-%COMP%]{background-color:#1f8ff7;border:1px solid rgba(43,138,225,.25)}.data-source-label.dark-blue[_ngcontent-%COMP%]   .data-source-label__text[_ngcontent-%COMP%]{color:#fff;opacity:1}.data-source-label.blue[_ngcontent-%COMP%]{background:rgba(217,235,252,.3);border:1px solid rgba(43,138,225,.25)}.data-source-label.blue[_ngcontent-%COMP%]   .data-source-label__text[_ngcontent-%COMP%]{color:#455796}.data-source-label.orange[_ngcontent-%COMP%]{background:rgba(252,234,217,.3);border:1px solid rgba(225,174,43,.25)}.data-source-label.orange[_ngcontent-%COMP%]   .data-source-label__text[_ngcontent-%COMP%]{color:#7b4f2f}"]}),m}()},34988:function(ye,ie,o){"use strict";o.d(ie,{r:function(){return e}});var h=o(43144),D=o(15671),f=o(69808),S=o(65542),e=function(){var y=(0,h.Z)(function m(){(0,D.Z)(this,m)});return y.\u0275fac=function(p){return new(p||y)},y.\u0275mod=S.oAB({type:y}),y.\u0275inj=S.cJS({imports:[[f.ez]]}),y}()},22992:function(ye,ie,o){"use strict";o.d(ie,{ot:function(){return b},Y5:function(){return S},O5:function(){return c},ul:function(){return C},yf:function(){return a},cr:function(){return E},zo:function(){return be},YC:function(){return m},N_:function(){return y},m1:function(){return p},a$:function(){return e},LB:function(){return M},S7:function(){return De},n4:function(){return U},bj:function(){return J}});var ue,h=o(89062),D=o(4942),f=o(48924),S="mapTranslations.shared.cost_map_panel_table.",e="mapTranslations.single_hole.",y="mapTranslations.polygon.",m="mapTranslations.header.",p="mapTranslations.shared.",E="mapTranslations.multi_holes.",C="mapTranslations.multi_holes.assays.",a="mapTranslations.multi_holes.data_points.",b="mapTranslations.assays.",c="mapTranslations.data_points.",x=o(38001),M=((0,D.Z)(ue={},x.N.DIGGING_CONDITIONS,[{value:"hardDigConditionPercent",label:p+"diggingConditions",pipes:[{token:"customNumber"},{token:"unit",args:["% ".concat(f.diggingConditionsTypeConfig.hard.label),""]}]},{value:"mediumDigConditionPercent",label:"",pipes:[{token:"customNumber"},{token:"unit",args:["% ".concat(f.diggingConditionsTypeConfig.medium.label),""]},{token:"hideValue"}]},{value:"softDigConditionPercent",label:"",pipes:[{token:"customNumber"},{token:"unit",args:["% ".concat(f.diggingConditionsTypeConfig.soft.label),""]},{token:"hideValue"}]}]),(0,D.Z)(ue,x.N.DIGGING_CONDITIONS_TOP,[{value:"hardDigConditionTopPercent",label:p+f.diggingConditionZoneKeys.top,pipes:[{token:"customNumber"},{token:"unit",args:["% ".concat(f.diggingConditionsTypeConfig.hard.label),""]}]},{value:"mediumDigConditionTopPercent",label:"",pipes:[{token:"customNumber"},{token:"unit",args:["% ".concat(f.diggingConditionsTypeConfig.medium.label),""]},{token:"hideValue"}]},{value:"softDigConditionTopPercent",label:"",pipes:[{token:"customNumber"},{token:"unit",args:["% ".concat(f.diggingConditionsTypeConfig.soft.label),""]},{token:"hideValue"}]}]),(0,D.Z)(ue,x.N.DIGGING_CONDITIONS_BOTTOM,[{value:"hardDigConditionBottomPercent",label:p+f.diggingConditionZoneKeys.bottom,pipes:[{token:"customNumber"},{token:"unit",args:["% ".concat(f.diggingConditionsTypeConfig.hard.label),""]}]},{value:"mediumDigConditionBottomPercent",label:"",pipes:[{token:"customNumber"},{token:"unit",args:["% ".concat(f.diggingConditionsTypeConfig.medium.label),""]},{token:"hideValue"}]},{value:"softDigConditionBottomPercent",label:"",pipes:[{token:"customNumber"},{token:"unit",args:["% ".concat(f.diggingConditionsTypeConfig.soft.label),""]},{token:"hideValue"}]}]),ue),le=([].concat((0,h.Z)(M[x.N.DIGGING_CONDITIONS]),(0,h.Z)(M[x.N.DIGGING_CONDITIONS_TOP]),(0,h.Z)(M[x.N.DIGGING_CONDITIONS_BOTTOM])),o(65542)),I=o(16509),De={SH_FIELDS:I.Qw,SH_PRODUCTIVITY:I.Aj,SH_ELEVATION:I.Ox,SH_CHARGES:I.jS,SH_SHORT_HOLE_CHARGES:I.kO,SH_ASSAY_SAMPLE:I.e7,SH_ASSAY_PER_METHOD:I.c1,DATA_POINTS:I.QR,PB_POLYGON_GENERAL:I.$R,PB_PREDICTED:I.Jf,PB_RECOMMENDED_HVC:I.Uc,PB_RESULT_COAL:I.WR,PB_RESULT_HVC:I.iT,PB_RECOMMENDED_COAL:I.rm,POLYGON_FIELDS:I.rB,POLYGON_EXPLOSIVE:I.RR,POLYGON_OTHER:I.jo,POLYGON_AVG_HOLE_DEPTH:I.EB,POLYGON_BLASTING:I.F_,POLYGON_FRAGMENTATION:I.GS,POLYGON_FRAGMENTATION_OVER_10_IN:I.wc,POLYGON_FRAGMENTATION_LESS_36_IN:I.dp,POLYGON_COLLAR_DEVIATION:I.x,POLYGON_AVG_COLLAR_DEVIATION:I.Ss,POLYGON_DEPTH:I.Sf,PATTERN_ASSAY:I.ig,MULTI_SH:I.Xo,MULTI_SH_COUNTS:I.Bw,MULTI_DATA_POINTS:I.yz,MULTI_ASSAYS:I.ZW,FRAGMENTATION_OTHER:I.Yh,FRAGMENTATION_OVER_10_IN:I.eT,FRAGMENTATION_LESS_36_IN:I.yB},be=new le.OlP("panelFieldsFactory"),J="1.0-2",U="1.0-3"},1400:function(ye,ie,o){"use strict";o.d(ie,{w:function(){return Ki}});var h=o(15671),D=o(43144),f=o(60136),S=o(57777),e=o(65542),y=o(46940),m=o(7625),p=o(38001),E=o(98711),C=o(94720),a=o(78090),b=o(69808),c=o(4942),x=o(2033),ue=o(22451),M=o(21347),$=o(77093),le=o(78015),I=o(71654),De=o(80964);function be(t,u){if(1&t&&e._UZ(0,"dabo-data-source-label",18),2&t){var n=e.oxw().$implicit,r=e.oxw();e.Q6J("labels",r.formatSourceLabel(n.properties.source))("labelStyle",r.labelColors[n.properties.source])}}function Pe(t,u){if(1&t&&(e.TgZ(0,"div",15)(1,"div",16),e._uU(2,"Operator:"),e.qZA(),e.TgZ(3,"div",17),e._uU(4),e.qZA()()),2&t){var n=e.oxw().$implicit;e.xp6(4),e.Oqu(n.properties.operatorSurname)}}function J(t,u){if(1&t&&(e.TgZ(0,"div",15)(1,"div",16),e._uU(2,"Delay:"),e.qZA(),e.TgZ(3,"div",17),e._uU(4),e.ALo(5,"detectNullValue"),e.qZA()()),2&t){var n=e.oxw().$implicit;e.xp6(4),e.Oqu(e.lcZ(5,1,n.properties.delay))}}var U=function(u){return{active:u}},W=function(u){return{"background-color":u}};function re(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"div",7),e.NdJ("click",function(){var z=e.CHM(n).$implicit;return e.oxw().findOperatorEvent(z)}),e.TgZ(1,"div",8)(2,"div",9),e._UZ(3,"span",10),e.TgZ(4,"strong",11),e._uU(5),e.qZA(),e.YNc(6,be,1,2,"dabo-data-source-label",12),e.qZA(),e.TgZ(7,"div",13),e.YNc(8,Pe,5,1,"div",14),e.TgZ(9,"div",15)(10,"div",16),e._uU(11,"Shovel:"),e.qZA(),e.TgZ(12,"div",17),e._uU(13),e.ALo(14,"detectNullValue"),e.qZA()(),e.TgZ(15,"div",15)(16,"div",16),e._uU(17,"Bench/Pattern:"),e.qZA(),e.TgZ(18,"div",17),e._uU(19),e.qZA()(),e.TgZ(20,"div",15)(21,"div",16),e._uU(22,"Date:"),e.qZA(),e.TgZ(23,"div",17),e._uU(24),e.ALo(25,"dateFormatter"),e.qZA()(),e.YNc(26,J,6,3,"div",14),e.qZA()()()}if(2&t){var r=u.$implicit,v=e.oxw();e.Q6J("id",r.properties.elevation+r.properties.eventId),e.xp6(1),e.Q6J("ngClass",e.VKq(16,U,v.getActiveOpEvent(r))),e.xp6(2),e.Q6J("ngStyle",e.VKq(18,W,r.properties.color)),e.xp6(2),e.Oqu(r.properties.category),e.xp6(1),e.Q6J("ngIf",r.properties.source),e.xp6(2),e.Q6J("ngIf",!v.isFroMine),e.xp6(5),e.Oqu(e.lcZ(14,10,r.properties.shovelId)),e.xp6(6),e.Oqu(v.getEventRoute(r.properties)),e.xp6(5),e.hij(" ",e.Dn7(25,12,r.properties.time,v.mine,v.timeFormats.DATE_TIME)," "),e.xp6(2),e.Q6J("ngIf",v.panelInfo.type===v.colorMapsEnum.SHOVEL_OPERATOR_ALARM)}}var Ee=p.N.SHOVEL_OPERATOR_FEEDBACK,ge=p.N.SHOVEL_OPERATOR_ALARM,ve=function(){return(t=ve||(ve={})).SHOVEL="orange",t.BUCKET="blue",ve;var t}(),_e=function(){var t=function(u){(0,f.Z)(r,u);var n=(0,S.Z)(r);function r(v){var s,L;return(0,h.Z)(this,r),(L=n.call(this)).cdr=v,L.scrollToTable=new e.vpe,L.flyToOpEvent=new e.vpe,L.closeMapPanel=new e.vpe,L.timeFormats=ue.a,L.labelColors=ve,L.colorMapsEnum=p.N,L.colorMaps=((0,c.Z)(s={},Ee,{title:"Shovel Operator Feedback",icon:"icon-map-feedback-small"}),(0,c.Z)(s,ge,{title:"Shovel Alarms",icon:"icon-alert"}),s),L}return(0,D.Z)(r,[{key:"selectedEvent",set:function(s){if(s){var L=this.shovelOperatorsEvent.features.findIndex(function(z){return z.properties.elevation===s.properties.elevation&&z.properties.eventId===s.properties.eventId});this.cdr.detectChanges(),this.viewPort.scrollToIndex(L)}}},{key:"ngOnInit",value:function(){this.mine=M.q[this.mineSite]}},{key:"isFroMine",get:function(){return this.mineSite===M.q.FRO}},{key:"getEventRoute",value:function(s){var z=s.patternGroup,fe=s.pattern;return"".concat(s.elevation," / ").concat(z," ").concat(fe)}},{key:"findOperatorEvent",value:function(s){this.flyToOpEvent.emit(s),this.panelInfo.feature=s,this.cdr.detectChanges()}},{key:"getActiveOpEvent",value:function(s){return s.properties.elevation===this.panelInfo.feature.properties.elevation&&s.properties.eventId===this.panelInfo.feature.properties.eventId}},{key:"formatSourceLabel",value:function(s){return["".concat(s[0]).concat(s.slice(1).toLowerCase())]}},{key:"togglePanel",value:function(){this.closeMapPanel.emit()}}]),r}(y.eO);return t.\u0275fac=function(n){return new(n||t)(e.Y36(e.sBO))},t.\u0275cmp=e.Xpm({type:t,selectors:[["dabo-shovel-operator-event-panel"]],viewQuery:function(n,r){var v;1&n&&e.Gf(x.N7,5),2&n&&e.iGM(v=e.CRH())&&(r.viewPort=v.first)},inputs:{mineSite:"mineSite",patternViewPermission:"patternViewPermission",holeViewPermission:"holeViewPermission",panelInfo:"panelInfo",shovelOperatorsEvent:"shovelOperatorsEvent",isReportsPage:"isReportsPage",selectedEvent:"selectedEvent"},outputs:{scrollToTable:"scrollToTable",flyToOpEvent:"flyToOpEvent",closeMapPanel:"closeMapPanel"},features:[e.qOj],decls:9,vars:5,consts:[[1,"map-panel","scrollable"],["fxLayout","row","fxLayoutAlign","space-between center",1,"map-panel__header"],[1,"map-panel__header-props"],[1,"icon","icon-close","map-panel__header-close",3,"click"],["id","map-panel-shovel-op",1,"map-panel__body"],["itemSize","120",1,"example-viewport"],["class","map-panel__item pd0",3,"id","click",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"map-panel__item","pd0",3,"id","click"],[1,"map-panel__shovel-op",3,"ngClass"],[1,"map-panel__shovel-op-header"],[1,"map-panel__shovel-op-color",3,"ngStyle"],[1,"map-panel__shovel-op-category"],[3,"labels","labelStyle",4,"ngIf"],[1,"map-panel__shovel-op-content"],["class","map-panel__shovel-op-content__item",4,"ngIf"],[1,"map-panel__shovel-op-content__item"],[1,"map-panel__shovel-op-content__item-label"],[1,"map-panel__shovel-op-content__item-value"],[3,"labels","labelStyle"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"span"),e._uU(4),e.qZA(),e.TgZ(5,"span",3),e.NdJ("click",function(){return r.togglePanel()}),e.qZA()(),e.TgZ(6,"div",4)(7,"cdk-virtual-scroll-viewport",5),e.YNc(8,re,27,20,"div",6),e.qZA()()()),2&n&&(e.xp6(3),e.Gre("icon ",r.colorMaps[r.panelInfo.type].icon,""),e.xp6(1),e.hij(" ",r.colorMaps[r.panelInfo.type].title," "),e.xp6(4),e.Q6J("cdkVirtualForOf",r.shovelOperatorsEvent.features))},directives:[$.xw,$.Wh,x.N7,x.xd,x.x0,b.mk,b.PC,b.O5,le.F],pipes:[I.R,De.l],encapsulation:2}),t}(),V=o(42585),k=o(22992),N=o(27107),B=o(6348),pe=o(16509),me=o(81798),X=o(37143),ee=o(29772),j=o(13873),se=o(17489),Se=o(31497),K=function(){var t=function(){function u(n){(0,h.Z)(this,u),this.dynamicPipe=n,this.labelClass="item-props__name",this.valueClass="item-props__value",this.joinBy=" ",this.translated=!0}return(0,D.Z)(u,[{key:"ngOnChangesInternal",value:function(r){this.setLabelClass(r),this.setCalculatedValue(),this.setTooltipValueText(),this.sourceLabels=this.getDataSourceLabels()}},{key:"setLabelClass",value:function(r){var v,s;"labelClass"in r&&void 0===(null===(v=r.labelClass)||void 0===v?void 0:v.currentValue)&&(this.labelClass="item-props__name"),"valueClass"in r&&void 0===(null===(s=r.valueClass)||void 0===s?void 0:s.currentValue)&&(this.valueClass="item-props__value")}},{key:"setCalculatedValue",value:function(){var r=this.getValue();this.calculatedValue=this.shouldBeSplitted?r:this.dynamicPipe.transform(r,this.pipes)}},{key:"setTooltipValueText",value:function(){this.valueTooltip=this.tooltip&&(this.valueTooltipText||""===this.valueTooltipText)?this.valueTooltipText:this.tooltip&&!this.shouldBeSplitted?this.calculatedValue:""}},{key:"getValue",value:function(){var r=this;if((0,se.isArray)(this.value)){var v=this.value.map(function(s){return r.dynamicPipe.transform(r.data[s.name],s.pipes)});return this.shouldBeSplitted?v:v.join(this.joinBy)}return this.data[this.value]}},{key:"getDataSourceLabels",value:function(){return(0,se.isArray)(this.value)?null:(0,se.get)(this.data,"dataSource.".concat(this.value))}}]),u}();return t.\u0275fac=function(n){return new(n||t)(e.Y36(Se.e))},t.\u0275dir=e.lG2({type:t,inputs:{labelClass:"labelClass",valueClass:"valueClass",tooltip:"tooltip",valueTooltipText:"valueTooltipText",value:"value",joinBy:"joinBy",label:"label",translated:"translated",translocoParams:"translocoParams",data:"data",pipes:"pipes",shouldBeSplitted:"shouldBeSplitted"}}),t}();function Ce(t,u){if(1&t&&e._UZ(0,"span",7),2&t){var n=e.oxw(2);e.s9C("transloco",n.label),e.Q6J("translocoParams",n.translocoParams)}}function Y(t,u){if(1&t&&e._UZ(0,"dabo-data-source-label",8),2&t){var n=e.oxw(2);e.Q6J("labels",n.sourceLabels)}}function w(t,u){if(1&t&&(e.TgZ(0,"div",9),e._uU(1),e.qZA()),2&t){var n=e.oxw(2);e.Gre("",n.valueClass," data-item data-item__value"),e.Q6J("title",n.valueTooltip),e.xp6(1),e.hij(" ",n.calculatedValue," ")}}function ce(t,u){if(1&t&&(e.TgZ(0,"div")(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span",9),e._uU(4),e.qZA()()),2&t){var n=e.oxw(2);e.Gre("",n.valueClass," data-item data-item__value"),e.xp6(2),e.Oqu(n.calculatedValue[0]),e.xp6(1),e.Q6J("title",n.valueTooltip),e.xp6(1),e.hij("(",n.calculatedValue[1],") ")}}function he(t,u){if(1&t&&(e.TgZ(0,"div",2)(1,"div"),e.YNc(2,Ce,1,2,"span",3),e.TgZ(3,"div"),e.YNc(4,Y,1,1,"dabo-data-source-label",4),e.qZA()(),e.YNc(5,w,2,5,"div",5),e.YNc(6,ce,5,6,"div",6),e.qZA()),2&t){var n=e.oxw(),r=e.MAs(2);e.xp6(1),e.Gre("",n.labelClass," data-item data-item__label"),e.xp6(1),e.Q6J("ngIf",!0===n.translated||void 0===n.translated)("ngIfElse",r),e.xp6(2),e.Q6J("ngIf",n.sourceLabels),e.xp6(1),e.Q6J("ngIf",!n.shouldBeSplitted),e.xp6(1),e.Q6J("ngIf",n.shouldBeSplitted)}}function we(t,u){if(1&t&&e._uU(0),2&t){var n=e.oxw();e.Oqu(n.label)}}var Ze=function(){var t=function(u){(0,f.Z)(r,u);var n=(0,S.Z)(r);function r(v){return(0,h.Z)(this,r),n.call(this,v)}return(0,D.Z)(r,[{key:"ngOnChanges",value:function(s){this.ngOnChangesInternal(s)}}]),r}(K);return t.\u0275fac=function(n){return new(n||t)(e.Y36(Se.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["dabo-map-panel-field"]],features:[e.qOj,e.TTD],decls:3,vars:1,consts:[["fxLayout","row",4,"ngIf"],["notTranslated",""],["fxLayout","row"],[3,"transloco","translocoParams",4,"ngIf","ngIfElse"],[3,"labels",4,"ngIf"],[3,"class","title",4,"ngIf"],[3,"class",4,"ngIf"],[3,"transloco","translocoParams"],[3,"labels"],[3,"title"]],template:function(n,r){1&n&&(e.YNc(0,he,7,8,"div",0),e.YNc(1,we,1,1,"ng-template",null,1,e.W1O)),2&n&&e.Q6J("ngIf",r.calculatedValue||r.label)},directives:[b.O5,$.xw,V.KI,le.F],styles:[".data-item__label[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.data-item.explosive-type-label[_ngcontent-%COMP%]{font-weight:500;color:#586b7acc}"],changeDetection:0}),t}(),qe=o(67992);function Fe(t,u){if(1&t&&e._UZ(0,"dabo-info-tooltip-icon",5),2&t){var n=e.oxw(2);e.Q6J("tooltip",n.tooltip)}}function Ve(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",7),2&t){var n=e.oxw().$implicit;e.Q6J("value",n.value)("label",n.label)("data",n.dataSource)("pipes",n.pipes)("translated",n.translated)("labelClass",n.labelClass)}}function Ke(t,u){if(1&t&&(e.ynx(0),e.YNc(1,Ve,1,6,"dabo-map-panel-field",6),e.BQk()),2&t){var n=u.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r.panelField.isShown(n))}}function gt(t,u){if(1&t&&(e.TgZ(0,"div")(1,"div",1),e._UZ(2,"span",2),e.YNc(3,Fe,1,1,"dabo-info-tooltip-icon",3),e.qZA(),e.YNc(4,Ke,2,1,"ng-container",4),e.qZA()),2&t){var n=e.oxw();e.xp6(2),e.s9C("transloco",n.label),e.xp6(1),e.Q6J("ngIf",n.hasIcon),e.xp6(1),e.Q6J("ngForOf",n.panelFields)}}var de=function(){var t=(0,D.Z)(function u(n){(0,h.Z)(this,u),this.panelField=n,this.panelFields=[],this.hasIcon=!0});return t.\u0275fac=function(n){return new(n||t)(e.Y36(pe.ON))},t.\u0275cmp=e.Xpm({type:t,selectors:[["dabo-map-panel-nested-fields"]],inputs:{panelFields:"panelFields",label:"label",tooltip:"tooltip",show:"show",hasIcon:"hasIcon"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"item-container"],[1,"item-label",3,"transloco"],[3,"tooltip",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"tooltip"],[3,"value","label","data","pipes","translated","labelClass",4,"ngIf"],[3,"value","label","data","pipes","translated","labelClass"]],template:function(n,r){1&n&&e.YNc(0,gt,5,3,"div",0),2&n&&e.Q6J("ngIf",r.show)},directives:[b.O5,V.KI,qe.B,b.sg,Ze],styles:[".item-container[_ngcontent-%COMP%]{display:flex;align-items:center}.item-label[_ngcontent-%COMP%]{margin-right:5px;color:#586b7acc}"],changeDetection:0}),t}(),Ie=o(88279);function Ne(t,u){if(1&t&&(e.TgZ(0,"mat-header-cell"),e._UZ(1,"span",8),e.qZA()),2&t){var n=e.oxw().$implicit,r=e.oxw();e.xp6(1),e.s9C("transloco",r.translateKey+n.property)}}function G(t,u){1&t&&(e.TgZ(0,"span",13),e._uU(1,"\u2022"),e.qZA())}function T(t,u){if(1&t&&(e._UZ(0,"span",14),e.ALo(1,"dynamicPipe")),2&t){var n=e.oxw().$implicit,r=e.oxw().$implicit;e.s9C("transloco",e.xi3(1,1,n[r.property],r.pipes))}}function g(t,u){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"dynamicPipe"),e.qZA()),2&t){var n=e.oxw().$implicit,r=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,n[r.property],r.pipes)," ")}}function i(t,u){if(1&t&&(e.TgZ(0,"mat-cell"),e.YNc(1,G,2,0,"span",9),e.YNc(2,T,2,4,"span",10),e.YNc(3,g,3,4,"span",11),e.TgZ(4,"span",12),e._uU(5),e.qZA()()),2&t){var n=u.$implicit,r=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",n.isCircle),e.xp6(1),e.Q6J("ngIf","label"===r.property),e.xp6(1),e.Q6J("ngIf","label"!==r.property),e.xp6(2),e.hij(" ",n.unit,"")}}function P(t,u){1&t&&(e.ynx(0,5),e.YNc(1,Ne,2,1,"mat-header-cell",6),e.YNc(2,i,6,4,"mat-cell",7),e.BQk()),2&t&&e.Q6J("matColumnDef",u.$implicit.property)}function _(t,u){1&t&&e._UZ(0,"mat-header-row")}function ne(t,u){1&t&&e._UZ(0,"mat-row")}var Oe=function(){var t=(0,D.Z)(function u(){(0,h.Z)(this,u)});return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["dabo-map-panel-table"]],inputs:{dataFields:"dataFields",displayedColumns:"displayedColumns",columns:"columns",translateKey:"translateKey"},decls:5,vars:4,consts:[[1,"table"],["aria-label","map-panel-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],[4,"matHeaderCellDef"],[4,"matCellDef"],[1,"item-header__title",3,"transloco"],["class","circle",4,"ngIf"],[3,"transloco",4,"ngIf"],[4,"ngIf"],[1,"unit"],[1,"circle"],[3,"transloco"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"mat-table",1),e.YNc(2,P,3,1,"ng-container",2),e.YNc(3,_,1,0,"mat-header-row",3),e.YNc(4,ne,1,0,"mat-row",4),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("dataSource",r.dataFields),e.xp6(1),e.Q6J("ngForOf",r.columns),e.xp6(1),e.Q6J("matHeaderRowDef",r.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",r.displayedColumns))},directives:[Ie.BZ,b.sg,Ie.w1,Ie.fO,Ie.ge,V.KI,Ie.Dz,Ie.ev,b.O5,Ie.as,Ie.XQ,Ie.nj,Ie.Gk],pipes:[Se.e],styles:[".table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{white-space:nowrap}.table[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]{min-height:auto;justify-content:space-between;border:none}.table[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]{padding:0;text-align:left;font-weight:400;font-size:13px}.table[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{margin:0 7px;display:none}.table[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{display:none;margin-left:3px}.table[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]:first-of-type, .table[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]:first-of-type{color:#586b7a;flex-grow:3}.table[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]:first-of-type   .circle[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]:first-of-type   .unit[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]:first-of-type   .circle[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]:first-of-type   .unit[_ngcontent-%COMP%]{display:block}.table[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]{font-size:11px}.table[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]:nth-child(1){font-weight:500;color:#282d32;font-size:13px}"]}),t}();function Ge(t,u){1&t&&e._UZ(0,"span",25)}function Re(t,u){1&t&&e._UZ(0,"span",26)}function at(t,u){1&t&&(e.TgZ(0,"div",30),e._uU(1,"Preconditioned"),e.qZA())}function et(t,u){1&t&&(e.TgZ(0,"div",31),e._uU(1,"Preconditioning"),e.qZA())}function tt(t,u){if(1&t&&(e.TgZ(0,"div",27),e.YNc(1,at,2,0,"div",28),e.YNc(2,et,2,0,"div",29),e.qZA()),2&t){var n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.isPreconditioned()),e.xp6(1),e.Q6J("ngIf",n.isPreconditioning())}}var We=function(u){return{value:u}};function rt(t,u){if(1&t&&(e._UZ(0,"span",32),e.ALo(1,"detectNullValue")),2&t){var n=e.oxw();e.Q6J("translocoParams",e.VKq(3,We,e.lcZ(1,1,n.panelInfo.feature.properties.shortHolesQuantity.all)))}}function st(t,u){1&t&&e._UZ(0,"span",33)}function ft(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",36),2&t){var n=e.oxw().$implicit;e.Q6J("labelClass","name")("valueClass","value")("value",n.value)("label",n.label)("data",n.dataSource)("pipes",n.pipes)("translocoParams",n.params)("tooltip",n.tooltip)("valueTooltipText",n.valueTooltipText)("shouldBeSplitted",n.shouldBeSplitted)}}function mt(t,u){if(1&t&&(e.ynx(0),e.YNc(1,ft,1,10,"dabo-map-panel-field",35),e.BQk()),2&t){var n=u.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r.panelField.isShown(n))}}function Ot(t,u){if(1&t&&(e.ynx(0),e.TgZ(1,"div",34),e.YNc(2,mt,2,1,"ng-container",20),e.qZA(),e.BQk()),2&t){var n=u.$implicit;e.xp6(2),e.Q6J("ngForOf",n.fields)}}function Pt(t,u){1&t&&e._UZ(0,"div",37)}var yt=function(){return{token:"customNumber"}},Mt=function(){return{token:"unit",args:"kg"}},O=function(u,n){return[u,n]};function Z(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",43),2&t){var n=e.oxw(2);e.Q6J("labelClass","item-header__title")("valueClass","item-header__value")("value","totalActualExplosive")("label","mapTranslations.header.explosives")("data",n.panelInfo.feature.properties)("pipes",e.WLB(8,O,e.DdM(6,yt),e.DdM(7,Mt)))}}var A=function(){return[]};function l(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",44),2&t){var n=e.oxw(2);e.Q6J("labelClass","item-header__title")("label","mapTranslations.header.explosives")("data",n.panelInfo.feature.properties)("pipes",e.DdM(4,A))}}function d(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",46),2&t){var n=e.oxw().$implicit;e.Q6J("value",n.value)("label",n.label)("data",n.dataSource)("pipes",n.pipes)("translated",n.translated)("labelClass",n.labelClass)}}function te(t,u){if(1&t&&(e.ynx(0),e.YNc(1,d,1,6,"dabo-map-panel-field",45),e.BQk()),2&t){var n=u.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r.panelField.isShown(n))}}function xe(t,u){if(1&t&&(e.TgZ(0,"div",38)(1,"div",39),e.YNc(2,Z,1,11,"dabo-map-panel-field",40),e.YNc(3,l,1,5,"dabo-map-panel-field",41),e.qZA(),e.TgZ(4,"div",42),e.YNc(5,te,2,1,"ng-container",20),e.qZA()()),2&t){var n=e.oxw();e.xp6(2),e.Q6J("ngIf",n.isPresented("patternViewInspector.explosives.visible")&&!n.isHVC),e.xp6(1),e.Q6J("ngIf",n.isHVC),e.xp6(2),e.Q6J("ngForOf",n.explosiveDataFields)}}function Be(t,u){1&t&&e._UZ(0,"div",37)}function $e(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",49),2&t){var n=e.oxw().$implicit;e.Q6J("value",n.value)("label",n.label)("data",n.dataSource)("translocoParams",n.translocoParams)("pipes",n.pipes)}}function nt(t,u){if(1&t&&(e.ynx(0),e.YNc(1,$e,1,5,"dabo-map-panel-field",48),e.BQk()),2&t){var n=u.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r.panelField.isShown(n))}}function ot(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",51),2&t){var n=e.oxw().$implicit;e.Q6J("value",n.value)("label",n.label)("data",n.dataSource)("pipes",n.pipes)}}function St(t,u){if(1&t&&(e.ynx(0),e.YNc(1,ot,1,4,"dabo-map-panel-field",50),e.BQk()),2&t){var n=u.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r.panelField.isShown(n))}}function Zt(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",53),2&t){var n=e.oxw().$implicit;e.Q6J("value",n.value)("label",n.label)("joinBy",n.joinBy)("data",n.dataSource)("pipes",n.pipes)}}function wt(t,u){if(1&t&&(e.ynx(0),e.YNc(1,Zt,1,5,"dabo-map-panel-field",52),e.BQk()),2&t){var n=u.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r.panelField.isShown(n))}}function Rt(t,u){if(1&t&&(e.TgZ(0,"div",38)(1,"div",42),e.YNc(2,nt,2,1,"ng-container",20),e.YNc(3,St,2,1,"ng-container",20),e._UZ(4,"dabo-map-panel-nested-fields",47),e.YNc(5,wt,2,1,"ng-container",20),e.qZA()()),2&t){var n=e.oxw();e.ekj("rdo",n.isRDO),e.xp6(2),e.Q6J("ngForOf",n.depthFields),e.xp6(1),e.Q6J("ngForOf",n.collarDeviationAvgDataFields),e.xp6(1),e.Q6J("show",n.isPresented("patternViewInspector.other.fields.xyCollarDeviation"))("label","mapTranslations.polygon.collarDeviation")("panelFields",n.collarDeviationDataFields)("hasIcon",!1),e.xp6(1),e.Q6J("ngForOf",n.otherDataFields)}}function Bt(t,u){1&t&&e._UZ(0,"div",37)}function Ut(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",51),2&t){var n=e.oxw().$implicit;e.Q6J("value",n.value)("label",n.label)("data",n.dataSource)("pipes",n.pipes)}}function Ht(t,u){if(1&t&&(e.ynx(0),e.YNc(1,Ut,1,4,"dabo-map-panel-field",50),e.BQk()),2&t){var n=u.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r.panelField.isShown(n))}}function Vt(t,u){if(1&t&&(e.TgZ(0,"div",38)(1,"div",15),e._UZ(2,"span",54),e.qZA(),e.TgZ(3,"div",42),e.YNc(4,Ht,2,1,"ng-container",55),e.qZA()()),2&t){var n=e.oxw();e.ekj("rdo",n.isRDO),e.xp6(4),e.Q6J("ngForOf",n.avgHoleDepthFields)("ngForTrackBy",n.trackByValue)}}function jt(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",59),2&t){var n=e.oxw().$implicit;e.Q6J("labelClass","name")("valueClass","value")("value",n.value)("label",n.label)("data",n.dataSource)("pipes",n.pipes)("translated",n.translated)}}function Jt(t,u){if(1&t&&(e.ynx(0),e.YNc(1,jt,1,7,"dabo-map-panel-field",58),e.BQk()),2&t){var n=u.$implicit,r=e.oxw(3);e.xp6(1),e.Q6J("ngIf",r.panelField.isShown(n))}}function Qt(t,u){if(1&t&&(e.ynx(0),e.TgZ(1,"div",34),e.YNc(2,Jt,2,1,"ng-container",20),e.qZA(),e.BQk()),2&t){var n=u.$implicit;e.xp6(2),e.Q6J("ngForOf",n)}}function Gt(t,u){if(1&t&&(e.TgZ(0,"div",38)(1,"div",15),e._UZ(2,"span",56),e.qZA(),e.TgZ(3,"div",57),e.YNc(4,Qt,3,1,"ng-container",20),e.qZA()()),2&t){var n=e.oxw();e.ekj("rdo",n.isRDO),e.xp6(4),e.Q6J("ngForOf",n.assaysDataFields)}}function Yt(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",51),2&t){var n=e.oxw().$implicit;e.Q6J("value",n.value)("label",n.label)("data",n.dataSource)("pipes",n.pipes)}}function Wt(t,u){if(1&t&&(e.ynx(0),e.YNc(1,Yt,1,4,"dabo-map-panel-field",50),e.BQk()),2&t){var n=u.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r.panelField.isShown(n))}}function It(t,u){if(1&t&&(e.TgZ(0,"div",38)(1,"div",15),e._UZ(2,"span",60),e.qZA(),e.TgZ(3,"div",42),e.YNc(4,Wt,2,1,"ng-container",55),e.qZA()()),2&t){var n=e.oxw();e.ekj("rdo",n.isRDO),e.xp6(4),e.Q6J("ngForOf",n.blastingFields)("ngForTrackBy",n.trackByValue)}}function Kt(t,u){if(1&t&&(e.TgZ(0,"div",38)(1,"div",42),e._UZ(2,"dabo-map-panel-table",61),e.qZA()()),2&t){var n=e.oxw();e.xp6(2),e.Q6J("dataFields",n.costsDataFields)("displayedColumns",n.costDisplayedColumns)("columns",n.costColumnsConfig)("translateKey",n.costTranslationKey)}}function zt(t,u){1&t&&e._UZ(0,"div",37)}function $t(t,u){1&t&&(e.TgZ(0,"div",15),e._UZ(1,"span",64),e.qZA())}function Xt(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",53),2&t){var n=e.oxw().$implicit;e.Q6J("value",n.value)("label",n.label)("joinBy",n.joinBy)("data",n.dataSource)("pipes",n.pipes)}}function qt(t,u){if(1&t&&(e.ynx(0),e.YNc(1,Xt,1,5,"dabo-map-panel-field",52),e.BQk()),2&t){var n=u.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r.panelField.isShown(n))}}function en(t,u){if(1&t&&(e.TgZ(0,"div",38),e.YNc(1,$t,2,0,"div",62),e.TgZ(2,"div",42),e.YNc(3,qt,2,1,"ng-container",20),e._UZ(4,"dabo-map-panel-nested-fields",63)(5,"dabo-map-panel-nested-fields",63),e.qZA()()),2&t){var n=e.oxw();e.ekj("rdo",n.isRDO),e.xp6(1),e.Q6J("ngIf",!n.isCDA),e.xp6(2),e.Q6J("ngForOf",n.fragmentationOtherFields),e.xp6(1),e.Q6J("show",n.isPresented("patternViewInspector.other.fields.fragmentationOver10in"))("label","mapTranslations.polygon.fragmentationOver10in")("tooltip","mapTranslations.polygon.tooltipMessageFragmentation")("panelFields",n.fragmentationOver10inFields),e.xp6(1),e.Q6J("show",n.isPresented("patternViewInspector.other.fields.fragmentationLess36in"))("label","mapTranslations.polygon.fragmentationOver1m")("tooltip","mapTranslations.polygon.tooltipMessageFragmentation")("panelFields",n.fragmentationLess36inFields)}}function At(t,u){1&t&&e._UZ(0,"div",65)}var lt=function(u,n){return{"map-panel__item--rdo":u,"map-panel__item--has-label-area":n}},ct=function(){var t=function(){function u(n,r,v,s){(0,h.Z)(this,u),this.fieldsFactory=n,this.panelField=r,this.mineStateService=v,this.costCalculationService=s,this.closeMapPanel=new e.vpe,this.holesDataFields=[],this.explosiveDataFields=[],this.depthFields=[],this.collarDeviationDataFields=[],this.collarDeviationAvgDataFields=[],this.otherDataFields=[],this.avgHoleDepthFields=[],this.assaysDataFields=[],this.blastingFields=[],this.fragmentationOtherFields=[],this.fragmentationOver10inFields=[],this.fragmentationLess36inFields=[],this.costsDataFields=[],this.costColumnsConfig=[],this.costDisplayedColumns=[],this.costTranslationKey=k.Y5,this.minesEnum=M.q}return(0,D.Z)(u,[{key:"shortHolesBlockVisible",get:function(){return!this.isCDA&&!this.isRDO&&!this.isHVC}},{key:"ngOnChanges",value:function(){var r;this.isHVC=y.ZA.isHVC(this.mineSite),this.isCDA=y.ZA.isCDA(this.mineSite),this.isRDO=y.ZA.isRDO(this.mineSite),this.isCoal=y.ZA.isCoalMine(this.mineSite),this.holesDataFields=this.fieldsFactory.createMultiConfig("POLYGON_FIELDS",this.panelInfo.feature.properties,this.mineSite),this.depthFields=this.fieldsFactory.createConfig("POLYGON_DEPTH",this.panelInfo.feature.properties,this.mineSite),this.collarDeviationDataFields=this.fieldsFactory.createConfig("POLYGON_COLLAR_DEVIATION",this.panelInfo.feature.properties,this.mineSite),this.collarDeviationAvgDataFields=this.fieldsFactory.createConfig("POLYGON_AVG_COLLAR_DEVIATION",this.panelInfo.feature.properties,this.mineSite),this.explosiveDataFields=this.fieldsFactory.createConfig("POLYGON_EXPLOSIVE",this.panelInfo.feature.properties,this.mineSite),this.otherDataFields=this.fieldsFactory.createConfig("POLYGON_OTHER",this.panelInfo.feature.properties,this.mineSite),this.avgHoleDepthFields=this.fieldsFactory.createConfig("POLYGON_AVG_HOLE_DEPTH",this.panelInfo.feature.properties,this.mineSite),this.blastingFields=this.fieldsFactory.createConfig("POLYGON_BLASTING",this.panelInfo.feature.properties,this.mineSite),this.assaysDataFields=this.fieldsFactory.createArrayConfig("PATTERN_ASSAY",this.panelInfo.feature.properties),this.fragmentationOtherFields=this.fieldsFactory.createConfig("POLYGON_FRAGMENTATION",this.panelInfo.feature.properties,this.mineSite),this.fragmentationOver10inFields=this.fieldsFactory.createConfig("POLYGON_FRAGMENTATION_OVER_10_IN",this.panelInfo.feature.properties,this.mineSite),this.fragmentationLess36inFields=this.fieldsFactory.createConfig("POLYGON_FRAGMENTATION_LESS_36_IN",this.panelInfo.feature.properties,this.mineSite),this.isCoal&&(this.costsDataFields=this.costCalculationService.transformCosts(this.panelInfo.feature.properties.costs),this.costColumnsConfig=this.costCalculationService.getColumnsConfig(),this.costDisplayedColumns=null===(r=this.costColumnsConfig)||void 0===r?void 0:r.map(function(v){return v.property}))}},{key:"trackByValue",value:function(r,v){return"".concat(r,"_").concat(v.value)}},{key:"hasLabelsArea",value:function(){return this.isPreconditioning()||this.isPreconditioned()}},{key:"isPreconditioning",value:function(){return this.minesEnum.HVC===this.mineSite&&this.panelInfo.feature.properties.isPreconditioning}},{key:"isPreconditioned",value:function(){return this.minesEnum.HVC===this.mineSite&&this.panelInfo.feature.properties.isPreconditioned&&"null"!==this.panelInfo.feature.properties.isPreconditioned}},{key:"togglePanel",value:function(){this.closeMapPanel.emit()}},{key:"isPresented",value:function(r){return this.panelField.isFieldPresentedByPattern(r)}},{key:"buildReportLink",value:function(r){var L=this.panelInfo.feature.properties.isBlast,z=(0,N.g)(this.panelInfo.feature.properties[this.isCDA?"polygonId":"patternId"],this.mineStateService.getSelectedMineArea(),L);r.openLink(z)}}]),u}();return t.\u0275fac=function(n){return new(n||t)(e.Y36(B.E),e.Y36(pe.ON),e.Y36(C.Hj),e.Y36(me.R))},t.\u0275cmp=e.Xpm({type:t,selectors:[["dabo-polygon-panel"]],inputs:{panelInfo:"panelInfo",mineSite:"mineSite"},outputs:{closeMapPanel:"closeMapPanel"},features:[e._Bn([{provide:V.Hn,useValue:{scope:"polygon-map-panel",alias:"mapTranslations"},multi:!0},{provide:V.Hn,useValue:{scope:"shared-map-panel",alias:"mapTranslations"},multi:!0},{provide:V.Hn,useValue:{scope:"header-map-panel",alias:"mapTranslations"},multi:!0}]),e.TTD],decls:36,vars:29,consts:[[1,"map-panel"],[1,"map-panel--polygon"],["fxLayout","row","fxLayoutAlign","space-between center",1,"map-panel__header"],[1,"map-panel__header-props"],[1,"map-panel__header-dot","polygon-mode"],["class","icon icon-blast map-panel__header-icon",4,"ngIf"],["class","icon icon-patt-light map-panel__header-icon",4,"ngIf"],["daboIsOutOfBound","",1,"map-panel__header-name",3,"matTooltip"],["tooltipContent","innerText"],[3,"linkClicked"],["linkComponent",""],[1,"icon","icon-close","map-panel__header-close",3,"click"],[1,"map-panel__items"],["fxLayout","column",1,"map-panel__item",3,"ngClass"],["class","labels","fxLayout","row","fxLayoutGap","15px",4,"ngIf"],["fxLayout","row",1,"map-panel__item-header"],["transloco","mapTranslations.header.holes_count",1,"item-header__title",3,"translocoParams"],["class","item-header__value","transloco","mapTranslations.header.short_holes_count",3,"translocoParams",4,"ngIf"],["class","item-header__value","transloco","mapTranslations.header.assays_count",4,"ngIf"],[1,"map-panel__item-props","map-panel__item-props--polygon"],[4,"ngFor","ngForOf"],["class","divider--line",4,"ngIf"],["class","map-panel__item","fxLayout","column",4,"ngIf"],["class","map-panel__item","fxLayout","column",3,"rdo",4,"ngIf"],["class","divider",4,"ngIf"],[1,"icon","icon-blast","map-panel__header-icon"],[1,"icon","icon-patt-light","map-panel__header-icon"],["fxLayout","row","fxLayoutGap","15px",1,"labels"],["class","labels__preconditioned",4,"ngIf"],["class","labels__preconditioning",4,"ngIf"],[1,"labels__preconditioned"],[1,"labels__preconditioning"],["transloco","mapTranslations.header.short_holes_count",1,"item-header__value",3,"translocoParams"],["transloco","mapTranslations.header.assays_count",1,"item-header__value"],[1,"item-props__column"],[3,"labelClass","valueClass","value","label","data","pipes","translocoParams","tooltip","valueTooltipText","shouldBeSplitted",4,"ngIf"],[3,"labelClass","valueClass","value","label","data","pipes","translocoParams","tooltip","valueTooltipText","shouldBeSplitted"],[1,"divider--line"],["fxLayout","column",1,"map-panel__item"],[1,"map-panel__item-header"],[3,"labelClass","valueClass","value","label","data","pipes",4,"ngIf"],[3,"labelClass","label","data","pipes",4,"ngIf"],["fxFlex","",1,"map-panel__item-props"],[3,"labelClass","valueClass","value","label","data","pipes"],[3,"labelClass","label","data","pipes"],[3,"value","label","data","pipes","translated","labelClass",4,"ngIf"],[3,"value","label","data","pipes","translated","labelClass"],[3,"show","label","panelFields","hasIcon"],[3,"value","label","data","translocoParams","pipes",4,"ngIf"],[3,"value","label","data","translocoParams","pipes"],[3,"value","label","data","pipes",4,"ngIf"],[3,"value","label","data","pipes"],[3,"value","label","joinBy","data","pipes",4,"ngIf"],[3,"value","label","joinBy","data","pipes"],["transloco","mapTranslations.header.avgHoleDepth",1,"item-header__title"],[4,"ngFor","ngForOf","ngForTrackBy"],["transloco","mapTranslations.header.assays_count",1,"item-header__title"],[1,"map-panel__item-props","map-panel__item-props--assay"],[3,"labelClass","valueClass","value","label","data","pipes","translated",4,"ngIf"],[3,"labelClass","valueClass","value","label","data","pipes","translated"],["transloco","mapTranslations.header.blasting",1,"item-header__title"],[3,"dataFields","displayedColumns","columns","translateKey"],["class","map-panel__item-header","fxLayout","row",4,"ngIf"],[3,"show","label","tooltip","panelFields"],["transloco","mapTranslations.header.fragmentation",1,"item-header__title"],[1,"divider"]],template:function(n,r){if(1&n){var v=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"span",4),e.ynx(5),e.YNc(6,Ge,1,0,"span",5),e.YNc(7,Re,1,0,"span",6),e.BQk(),e.TgZ(8,"span",7,8),e._uU(10),e.qZA()(),e.TgZ(11,"dabo-kpi-link",9,10),e.NdJ("linkClicked",function(){e.CHM(v);var z=e.MAs(12);return r.buildReportLink(z)}),e.qZA(),e.TgZ(13,"span",11),e.NdJ("click",function(){return r.togglePanel()}),e.qZA()(),e.TgZ(14,"div",12)(15,"div",13),e.YNc(16,tt,3,2,"div",14),e.TgZ(17,"div",15),e._UZ(18,"span",16),e.ALo(19,"detectNullValue"),e.YNc(20,rt,2,5,"span",17),e.YNc(21,st,1,0,"span",18),e.qZA(),e.TgZ(22,"div",19),e.YNc(23,Ot,3,1,"ng-container",20),e.qZA()(),e.YNc(24,Pt,1,0,"div",21),e.YNc(25,xe,6,3,"div",22),e.YNc(26,Be,1,0,"div",21),e.YNc(27,Rt,6,9,"div",23),e.YNc(28,Bt,1,0,"div",21),e.YNc(29,Vt,5,4,"div",23),e.YNc(30,Gt,5,3,"div",23),e.YNc(31,It,5,4,"div",23),e.YNc(32,Kt,3,4,"div",22),e.YNc(33,zt,1,0,"div",21),e.YNc(34,en,6,12,"div",23),e.YNc(35,At,1,0,"div",24),e.qZA()()()}if(2&n){var s=e.MAs(9);e.xp6(6),e.Q6J("ngIf",r.panelInfo.feature.properties.isBlast),e.xp6(1),e.Q6J("ngIf",!r.panelInfo.feature.properties.isBlast),e.xp6(1),e.Q6J("matTooltip",s.innerText),e.xp6(2),e.hij(" ",r.panelInfo.feature.properties.uniquePatternId," "),e.xp6(5),e.Q6J("ngClass",e.WLB(24,lt,r.isRDO,r.hasLabelsArea())),e.xp6(1),e.Q6J("ngIf",r.hasLabelsArea()),e.xp6(2),e.Q6J("translocoParams",e.VKq(27,We,e.lcZ(19,22,r.panelInfo.feature.properties.holesQuantity.all))),e.xp6(2),e.Q6J("ngIf",r.shortHolesBlockVisible),e.xp6(1),e.Q6J("ngIf",r.isRDO),e.xp6(2),e.Q6J("ngForOf",r.holesDataFields),e.xp6(1),e.Q6J("ngIf",!r.isRDO),e.xp6(1),e.Q6J("ngIf",!r.isRDO),e.xp6(1),e.Q6J("ngIf",!r.isRDO),e.xp6(1),e.Q6J("ngIf",r.isPresented("patternViewInspector.other.visible")),e.xp6(1),e.Q6J("ngIf",r.isCoal),e.xp6(1),e.Q6J("ngIf",r.isPresented("patternViewInspector.avgHoleDepth.visible")),e.xp6(1),e.Q6J("ngIf",r.isRDO),e.xp6(1),e.Q6J("ngIf",r.isPresented("patternViewInspector.blasting.visible")),e.xp6(1),e.Q6J("ngIf",r.isPresented("patternViewInspector.costs.visible")),e.xp6(1),e.Q6J("ngIf",r.isCDA),e.xp6(1),e.Q6J("ngIf",r.isRDO||r.isCDA),e.xp6(1),e.Q6J("ngIf",!r.isRDO)}},directives:[$.xw,$.Wh,b.O5,X.J,ee.gM,j.L,b.mk,$.SQ,V.KI,b.sg,Ze,$.yH,de,Oe],pipes:[I.R],encapsulation:2}),t}(),Xe=o(91857),Dt=function(){var t=function(u){(0,f.Z)(r,u);var n=(0,S.Z)(r);function r(v,s){var L;return(0,h.Z)(this,r),(L=n.call(this)).fieldsFactory=v,L.panelField=s,L.closeMapPanel=new e.vpe,L}return(0,D.Z)(r,[{key:"togglePanel",value:function(){this.closeMapPanel.emit()}}]),r}(y.eO);return t.\u0275fac=function(n){return new(n||t)(e.Y36(B.E),e.Y36(Xe.O))},t.\u0275dir=e.lG2({type:t,inputs:{mineSite:"mineSite"},outputs:{closeMapPanel:"closeMapPanel"},features:[e.qOj]}),t}(),ut=o(48924),dt=o(35908),_t=o(73237),ht=o(61120),Et=o(75778),Ft=o(87545),tn=o(591),je=o(93075),nn=o(24573),vt=o(47423),on=o(44117);function an(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){return e.CHM(n),e.oxw().switchToEditMode()}),e._UZ(1,"span",7),e.qZA()}}function oe(t,u){1&t&&(e.TgZ(0,"div",8),e._UZ(1,"div",9),e.qZA())}function Te(t,u){1&t&&e.GkF(0)}function Q(t,u){if(1&t&&(e.TgZ(0,"div",10)(1,"div",11),e._uU(2),e.ALo(3,"transloco"),e.qZA(),e.YNc(4,Te,1,0,"ng-container",12),e.qZA()),2&t){var n=e.oxw(),r=e.MAs(7),v=e.MAs(5);e.xp6(2),e.Oqu(e.lcZ(3,2,"commentsBoxTranslations.label")),e.xp6(2),e.Q6J("ngTemplateOutlet",n.isEditMode?r:v)}}function q(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"div",14),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).switchToEditMode()}),e._uU(1),e.qZA()}if(2&t){var r=e.oxw(2);e.xp6(1),e.Oqu(r.activeComment)}}function H(t,u){if(1&t&&e.YNc(0,q,2,1,"div",13),2&t){var n=e.oxw();e.Q6J("ngIf",n.activeComment)}}function F(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).deleteComment()}),e._uU(1),e.ALo(2,"transloco"),e.qZA()}2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"global.delete")," "))}function R(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"dabo-edit-comment",15),e.ALo(1,"transloco"),e.TgZ(2,"div",16),e.YNc(3,F,3,3,"button",17),e.TgZ(4,"button",18),e.NdJ("click",function(){return e.CHM(n),e.oxw().onCancel()}),e._uU(5),e.ALo(6,"transloco"),e.qZA(),e.TgZ(7,"button",19),e.NdJ("click",function(){return e.CHM(n),e.oxw().saveComment()}),e._uU(8),e.ALo(9,"transloco"),e.qZA()()()}if(2&t){var r=e.oxw();e.Q6J("groupInstance",r.form)("controlName","commentText")("placeholder",e.lcZ(1,7,"commentsBoxTranslations.placeholder")),e.xp6(3),e.Q6J("ngIf",r.activeComment),e.xp6(2),e.hij(" ",e.lcZ(6,9,"global.cancel")," "),e.xp6(2),e.Q6J("disabled",r.form.invalid),e.xp6(1),e.hij(" ",e.lcZ(9,11,"global.save")," ")}}var ae=function(){var t=function(u){(0,f.Z)(r,u);var n=(0,S.Z)(r);function r(v,s,L){var z;return(0,h.Z)(this,r),(z=n.call(this)).fb=v,z.commentService=s,z.cdr=L,z.loading=!1,z.isEditMode=!1,z.noCommentsMode=!1,z.hasMaxLengthError=!1,z.idChanged$=new tn.X(null),z.maxInputLength=300,z}return(0,D.Z)(r,[{key:"id",set:function(s){this.entityId=s,this.idChanged$.next(s)}},{key:"commentText",get:function(){var s;return null===(s=this.form)||void 0===s?void 0:s.get("commentText").value}},{key:"ngOnInit",value:function(){var s=this;this.initForm(),this.idChanged$.pipe((0,Et.x)(),(0,Ft.w)(function(){return s.loading=!0,s.cancelSubscription(),s.cdr.markForCheck(),s.commentService.getComment(s.entityId)}),(0,m.R)(this.destroy$)).subscribe(function(L){L.text?(s.form.get("commentText").setValue(L.text),s.isEditMode=!1,s.noCommentsMode=!1,s.activeComment=L.text,s.loading=!1):(s.activeComment="",s.form.get("commentText").setValue(""),s.loading=!1,s.noCommentsMode=!0),s.cdr.detectChanges()})}},{key:"ngOnDestroy",value:function(){(0,_t.Z)((0,ht.Z)(r.prototype),"ngOnDestroy",this).call(this),this.cancelSubscription()}},{key:"switchToEditMode",value:function(){this.isEditMode=!0,this.noCommentsMode=!1}},{key:"onCancel",value:function(){this.isEditMode=!1,this.form.get("commentText").setValue(this.activeComment?this.activeComment:""),this.noCommentsMode=!this.activeComment}},{key:"saveComment",value:function(){var s=this;this.loading=!0,this.requestSubscription=this.commentService.saveComment(this.entityId,this.commentText.trim()).pipe((0,m.R)(this.destroy$)).subscribe(function(){s.loading=!1,s.isEditMode=!1,s.activeComment=s.commentText.trim(),s.cdr.detectChanges()},function(){s.loading=!1,s.cdr.detectChanges()})}},{key:"deleteComment",value:function(){var s=this;this.loading=!0,this.requestSubscription=this.commentService.deleteComment(this.entityId).pipe((0,m.R)(this.destroy$)).subscribe(function(){s.loading=!1,s.noCommentsMode=!0,s.activeComment="",s.form.get("commentText").setValue(""),s.cdr.detectChanges()},function(){s.loading=!1,s.cdr.detectChanges()})}},{key:"initForm",value:function(){this.form=this.fb.group({commentText:["",[y.eQ.minLength(2)]]})}},{key:"cancelSubscription",value:function(){this.requestSubscription&&(this.requestSubscription.unsubscribe(),this.requestSubscription=null)}}]),r}(y.eO);return t.\u0275fac=function(n){return new(n||t)(e.Y36(je.qu),e.Y36(nn.S),e.Y36(e.sBO))},t.\u0275cmp=e.Xpm({type:t,selectors:[["dabo-comment"]],inputs:{id:"id"},features:[e._Bn([{provide:V.Hn,useValue:{scope:"comment-dialog-map-panel",alias:"commentsBoxTranslations"}}]),e.qOj],decls:8,vars:3,consts:[[1,"comment-container"],["class","comment-add-btn","mat-button","",3,"click",4,"ngIf"],["class","base-spinner-wrapper",4,"ngIf"],["class","comment-content",4,"ngIf"],["displayMode",""],["editMode",""],["mat-button","",1,"comment-add-btn",3,"click"],["transloco","commentsBoxTranslations.comment_button"],[1,"base-spinner-wrapper"],[1,"spinner"],[1,"comment-content"],[1,"comment-content__label"],[4,"ngTemplateOutlet"],["class","comment-text",3,"click",4,"ngIf"],[1,"comment-text",3,"click"],[3,"groupInstance","controlName","placeholder"],[1,"comment-buttons"],["mat-button","","type","button","class","comment-buttons__btn comment-buttons__btn--delete btn btn--xs btn--outline btn--red",3,"click",4,"ngIf"],["mat-button","","type","button",1,"comment-buttons--btn","comment-buttons__btn--cancel","btn","btn--xs","btn--outline",3,"click"],["mat-button","","type","button",1,"comment-buttons__btn","comment-buttons__btn--add","btn","btn--xs","btn--outline",3,"disabled","click"],["mat-button","","type","button",1,"comment-buttons__btn","comment-buttons__btn--delete","btn","btn--xs","btn--outline","btn--red",3,"click"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0),e.YNc(1,an,2,0,"button",1),e.YNc(2,oe,2,0,"div",2),e.YNc(3,Q,5,4,"div",3),e.YNc(4,H,1,1,"ng-template",null,4,e.W1O),e.YNc(6,R,10,13,"ng-template",null,5,e.W1O),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",r.noCommentsMode&&!r.loading),e.xp6(1),e.Q6J("ngIf",r.loading),e.xp6(1),e.Q6J("ngIf",!r.loading&&!r.noCommentsMode))},directives:[b.O5,vt.lW,V.KI,b.tP,on.q],pipes:[V.Ot],encapsulation:2,changeDetection:0}),t}();function Me(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",19),2&t){var n=e.oxw().$implicit;e.Q6J("value",n.value)("label",n.label)("data",n.dataSource)("pipes",n.pipes)}}function Le(t,u){if(1&t&&(e.ynx(0),e.YNc(1,Me,1,4,"dabo-map-panel-field",18),e.BQk()),2&t){var n=u.$implicit,r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.panelField.isShown(n))}}function Ue(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",21),2&t){var n=e.oxw().$implicit;e.Q6J("value",n.value)("label",n.label)("translated",n.translated)("data",n.dataSource)("pipes",n.pipes)}}function Ae(t,u){if(1&t&&(e.ynx(0),e.YNc(1,Ue,1,5,"dabo-map-panel-field",20),e.BQk()),2&t){var n=u.$implicit,r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.panelField.isShown(n))}}var it=function(){var t=function(u){(0,f.Z)(r,u);var n=(0,S.Z)(r);function r(v,s){var L;return(0,h.Z)(this,r),(L=n.call(this,v,s)).fieldsFactory=v,L.panelField=s,L.assaySampleFields=[],L.methodsFields=[],L}return(0,D.Z)(r,[{key:"ngOnChanges",value:function(){this.colorMap=this.panelInfo.colorMap,this.assaySampleFields=this.fieldsFactory.createConfig("SH_ASSAY_SAMPLE",this.panelInfo.assayHoleData,this.mineSite),this.methodsFields=this.fieldsFactory.createConfig("SH_ASSAY_PER_METHOD",this.panelInfo,this.mineSite,ut.assayMethods.wdxrf.key)}},{key:"trackByField",value:function(s,L){return L.value}}]),r}(Dt);return t.\u0275fac=function(n){return new(n||t)(e.Y36(B.E),e.Y36(Xe.O))},t.\u0275cmp=e.Xpm({type:t,selectors:[["dabo-single-assay-hole-panel"]],inputs:{panelInfo:"panelInfo"},features:[e._Bn([{provide:V.Hn,useValue:{scope:"assays-map-panel",alias:"mapTranslations"},multi:!0}]),e.qOj,e.TTD],decls:23,vars:10,consts:[[1,"map-panel","map-panel--single-hole","map-panel--single-hole-assays"],["fxLayout","row","fxLayoutAlign","space-between center",1,"map-panel__header"],["fxLayout","row","fxLayoutAlign","space-between center",1,"map-panel-header--flat"],[1,"map-panel__header-dot"],[3,"hole","resetBlastabilityLayer","colorMap","mineSite"],[1,"map-panel__header-name"],[1,"icon","icon-close","map-panel__header-close",3,"click"],[1,"map-panel__data"],["fxLayout","column",1,"map-panel__item","map-panel__item--has-label-area"],["fxLayout","row",1,"labels"],[1,"labels__assays"],[3,"id"],["fxFlex","",1,"map-panel__item-props"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"divider"],["fxLayout","column",1,"map-panel__item"],["fxLayout","row",1,"map-panel__item-header"],[1,"item-header__title"],[3,"value","label","data","pipes",4,"ngIf"],[3,"value","label","data","pipes"],[3,"value","label","translated","data","pipes",4,"ngIf"],[3,"value","label","translated","data","pipes"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._UZ(4,"dabo-hole-point",4),e.qZA(),e.TgZ(5,"span",5),e._uU(6),e.qZA()(),e.TgZ(7,"span",6),e.NdJ("click",function(){return r.togglePanel()}),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10),e._uU(12,"Assays Hole"),e.qZA()(),e._UZ(13,"dabo-comment",11),e.TgZ(14,"div",12),e.YNc(15,Le,2,1,"ng-container",13),e.qZA()(),e._UZ(16,"div",14),e.TgZ(17,"div",15)(18,"div",12)(19,"div",16)(20,"span",17),e._uU(21,"Assays Results"),e.qZA()(),e.YNc(22,Ae,2,1,"ng-container",13),e.qZA()()()()),2&n&&(e.xp6(4),e.Q6J("hole",r.panelInfo.assayHoleData)("resetBlastabilityLayer",!0)("colorMap",r.colorMap)("mineSite",r.mineSite),e.xp6(2),e.hij(" ",r.panelInfo.assayHoleData.drilledNumber," "),e.xp6(7),e.Q6J("id",r.panelInfo.assayHoleData.uniqueHoleId),e.xp6(2),e.Q6J("ngForOf",r.assaySampleFields)("ngForTrackBy",r.trackByField),e.xp6(7),e.Q6J("ngForOf",r.methodsFields)("ngForTrackBy",r.trackByField))},directives:[$.xw,$.Wh,dt.a,ae,$.yH,b.sg,b.O5,Ze],encapsulation:2}),t}(),Qe=o(89062),Ye=o(97685),Ct=o(75791),Sn=o(19855),Dn=o(48619),rn=o(40714),pn=o(68896),sn=o(30325),En=Sn.K.COMPARING,gn=function(){var t=function(u){(0,f.Z)(r,u);var n=(0,S.Z)(r);function r(v,s,L,z){var fe;return(0,h.Z)(this,r),(fe=n.call(this)).cdr=v,fe.polygonToolSelectionService=s,fe.router=L,fe.compareService=z,fe.closeMapPanel=new e.vpe,fe.minesEnum=M.q,fe.colors=Dn.C,fe.polygonToolButtonLabels=ut.polygonToolButtonLabels,fe.isComparePage=fe.router.url.includes(En),fe.settings={isPreserveSelectionMode:!1,isPreserveSelectionLoading:!1,isLoadingAfterDraw:!1},fe.dataItems=[],fe.selectionsData=[],fe.isKPI=fe.router.url.includes("/report"),fe}return(0,D.Z)(r,[{key:"showSpinner",get:function(){return this.settings.isLoadingAfterDraw&&1===this.selectionsData.length||this.settings.isPreserveSelectionLoading}},{key:"showAdditionalSpinner",get:function(){return this.settings.isLoadingAfterDraw&&2===this.selectionsData.length&&!this.settings.isPreserveSelectionMode}},{key:"drawingLabel",get:function(){return"mapControlsTranslation.".concat(this.isComparePage?"duplicateSelectionText":this.drawingButtonLabel)}},{key:"ngOnDestroy",value:function(){(0,_t.Z)((0,ht.Z)(r.prototype),"ngOnDestroy",this).call(this)}},{key:"onPressingEscapeButton",value:function(){this.polygonToolButtonLabels.cancelDraw===this.drawingButtonLabel&&this.removeActiveModeForAddSelectionBtn()}},{key:"togglePanel",value:function(){this.polygonToolSelectionService.setPolygonSelectionState(!1),this.closeMapPanel.emit()}},{key:"togglePolygonTool",value:function(){this.compareService.resetMatchError(this.compareSide),this.drawingButtonLabel===this.polygonToolButtonLabels.addNewSelection?(this.polygonToolSelectionService.triggerMapPanelAction$.next({type:"startDraw"}),this.drawingButtonLabel=this.polygonToolButtonLabels.cancelDraw):this.drawingButtonLabel===this.sideTitle?this.polygonToolSelectionService.triggerMapPanelAction$.next({type:"duplicate",extraInformation:this.compareSide}):(this.polygonToolSelectionService.triggerMapPanelAction$.next({type:"stopDraw"}),this.drawingButtonLabel=this.polygonToolButtonLabels.addNewSelection),this.cdr.detectChanges()}},{key:"onLoadAfterDraw",value:function(s,L){this.dataItems=this.isComparePage?[s]:[].concat((0,Qe.Z)(this.dataItems),[s]),this.settings=Object.assign(Object.assign({},this.settings),{isPreserveSelectionLoading:!1,isLoadingAfterDraw:!1}),this.polygonToolSelectionService.chartsDataBySelection$.next(L?{charts:L}:{charts:[],reset:!0}),this.cdr.detectChanges()}},{key:"fetchData",value:function(s,L){var z=s[L].selectionsData;return"draw"===s.type?(this.beforeFetchingDataAfterDraw(z),this.polygonToolSelectionService.getDataBySelection(z,L,this.isKPI)):"selectionEmpty"===s.type?(this.removeActiveModeForAddSelectionBtn(),pn.E):"preserveSelection"===s.type?(this.beforeFetchingDataAfterPreserveSelection(z),this.polygonToolSelectionService.getDataBySelectionAfterPreserveSelection(z,L,this.isKPI)):pn.E}},{key:"onLoadAfterPreserveSelection",value:function(s){var z=s.charts;this.dataItems=s.metrics,this.polygonToolSelectionService.chartsDataBySelection$.next(z?{charts:z}:{charts:[],reset:!0}),this.settings=Object.assign(Object.assign({},this.settings),{isLoadingAfterDraw:!1,isPreserveSelectionLoading:!1}),this.cdr.detectChanges()}},{key:"onLoad",value:function(s){var L=s.data,z=s.type;if("draw"===z){var fe=(0,Ye.Z)(L,2);this.onLoadAfterDraw(fe[0],fe[1])}else"preserveSelection"===z&&this.onLoadAfterPreserveSelection(L)}},{key:"onError",value:function(){this.settings=Object.assign(Object.assign({},this.settings),{isPreserveSelectionLoading:!1,isLoadingAfterDraw:!1}),this.cdr.detectChanges()}},{key:"beforeFetchingDataAfterDraw",value:function(s){this.sideTitle=(0,rn.oL)(this.compareSide,!0).title,this.selectionsData=s,this.drawingButtonLabel=this.isComparePage?this.sideTitle:this.polygonToolButtonLabels.addNewSelection,this.settings=Object.assign(Object.assign({},this.settings),{isLoadingAfterDraw:!0,isPreserveSelectionMode:!1}),this.polygonToolSelectionService.chartsDataBySelection$.next({charts:[]}),this.cdr.markForCheck()}},{key:"subscribeOnCompareErrors",value:function(){var s=this;this.compareService.errors$.pipe((0,m.R)(this.destroy$)).subscribe(function(L){s.duplicationErrors=L[s.compareSide],s.cdr.destroyed||s.cdr.detectChanges()})}},{key:"beforeFetchingDataAfterPreserveSelection",value:function(s){this.sideTitle=(0,rn.oL)(this.compareSide,!0).title,this.settings=Object.assign(Object.assign({},this.settings),{isPreserveSelectionLoading:!0,isPreserveSelectionMode:!0}),this.drawingButtonLabel=this.isComparePage?this.sideTitle:this.polygonToolButtonLabels.addNewSelection,this.polygonToolSelectionService.chartsDataBySelection$.next({charts:[]}),this.selectionsData=s,this.dataItems=[],this.cdr.markForCheck()}},{key:"removeActiveModeForAddSelectionBtn",value:function(){this.drawingButtonLabel=this.polygonToolButtonLabels.addNewSelection,this.cdr.detectChanges()}},{key:"removeSelection",value:function(s,L){var z,fe,Je,He,ke=this.polygonToolSelectionService.getMapSelectionState(L);if(1===ke.selectionsData.length)this.polygonToolSelectionService.triggerMapPanelAction$.next({type:"delete",selectionId:null===(z=ke.selectionsData[s])||void 0===z?void 0:z.selectionId,idMapping:{},ids:[]}),this.togglePanel();else if(2===ke.selectionsData.length){var bt=0===s?1:0;this.selectionsData=[ke.selectionsData[bt]],this.dataItems=[this.dataItems[bt]],this.drawingButtonLabel=this.polygonToolButtonLabels.addNewSelection,this.polygonToolSelectionService.updateMapSelectionState(L,null,{selectionsData:this.selectionsData}),this.polygonToolSelectionService.triggerMapPanelAction$.next({type:"delete",selectionId:null===(fe=ke.selectionsData[s])||void 0===fe?void 0:fe.selectionId,ids:null===(Je=ke.selectionsData[bt])||void 0===Je?void 0:Je.ids,idMapping:null===(He=ke.selectionsData[bt])||void 0===He?void 0:He.idMapping}),this.isKPI||this.polygonToolSelectionService.chartsDataBySelection$.next({charts:[this.polygonToolSelectionService.getChartsData().charts[bt]]})}this.isComparePage&&this.compareService.resetMatchError(this.compareSide)}}]),r}(y.eO);return t.\u0275fac=function(n){return new(n||t)(e.Y36(e.sBO),e.Y36(a.nY),e.Y36(sn.F0),e.Y36(a.zY))},t.\u0275dir=e.lG2({type:t,inputs:{compareSide:"compareSide"},outputs:{closeMapPanel:"closeMapPanel"},features:[e.qOj]}),t}(),mn=o(21265),fn=o(4834);function Fn(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",5),2&t){var n=u.$implicit,r=e.oxw(2);e.Q6J("tooltip",n.tooltip)("valueClass",n.valueClass)("value",n.value)("label",r.getLabel(n,r.data))("data",r.data)("pipes",n.pipes)}}function Tn(t,u){if(1&t&&(e.ynx(0),e.YNc(1,Fn,1,6,"dabo-map-panel-field",4),e.BQk()),2&t){var n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.dataFields)}}function In(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",7),2&t){var n=u.$implicit,r=e.oxw(2);e.Q6J("tooltip",n.tooltip)("valueClass",n.valueClass)("value",n.value)("label",r.getLabel(n,r.data))("translated",n.translated)("data",r.data)("pipes",n.pipes)}}function An(t,u){if(1&t&&(e.ynx(0),e.YNc(1,In,1,7,"dabo-map-panel-field",6),e.BQk()),2&t){var n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.methodFields)("ngForTrackBy",n.trackByField)}}function kn(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",9),2&t){var n=u.$implicit,r=e.oxw(2);e.Q6J("tooltip",n.tooltip)("valueClass",n.valueClass)("value",n.value)("label",r.getLabel(n,r.data))("data",r.data)("pipes",n.pipes)}}function xn(t,u){if(1&t&&(e.ynx(0),e.YNc(1,kn,1,6,"dabo-map-panel-field",8),e.BQk()),2&t){var n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.commonDates)}}var Ln=function(){var t=function(){function u(n){(0,h.Z)(this,u),this.fieldsFactory=n,this.methodFields=[],this.commonDates=[],this.dataFields=[],this.assayMethods=ut.assayMethods}return(0,D.Z)(u,[{key:"ngOnInit",value:function(){this.buildInspector()}},{key:"getLabel",value:function(r,v){return r.labelPlural&&v[r.value].length>1?r.labelPlural:r.label}},{key:"trackByField",value:function(r,v){return v.value}},{key:"buildInspector",value:function(){var r=this.fieldsFactory.createConfig("MULTI_ASSAYS",this.colorMap,M.q.RDO),v=r.findIndex(function(s){return"firstDrillDate"===s.value});this.commonDates=r.splice(v),this.dataFields=r.splice(0,v),this.methodFields=this.fieldsFactory.createConfig("SH_ASSAY_PER_METHOD",{assayHoleData:this.data,isPolygonTool:!0},M.q.RDO,ut.assayMethods.aa.key)}}]),u}();return t.\u0275fac=function(n){return new(n||t)(e.Y36(B.E))},t.\u0275cmp=e.Xpm({type:t,selectors:[["dabo-multi-assays-panel"]],inputs:{data:"data",colorMap:"colorMap"},features:[e._Bn([{provide:V.Hn,useValue:{scope:"multi-hole-map-panel",alias:"mapTranslations"},multi:!0},{provide:V.Hn,useValue:{scope:"assays-map-panel",alias:"mapTranslations"},multi:!0}])],decls:7,vars:3,consts:[[1,"assays-panel"],[4,"ngIf"],[1,"item-header__title"],[1,"divider"],[3,"tooltip","valueClass","value","label","data","pipes",4,"ngFor","ngForOf"],[3,"tooltip","valueClass","value","label","data","pipes"],["labelClass","item-props__name assay-inspector",3,"tooltip","valueClass","value","label","translated","data","pipes",4,"ngFor","ngForOf","ngForTrackBy"],["labelClass","item-props__name assay-inspector",3,"tooltip","valueClass","value","label","translated","data","pipes"],["labelClass","item-props__name assay-inspector",3,"tooltip","valueClass","value","label","data","pipes",4,"ngFor","ngForOf"],["labelClass","item-props__name assay-inspector",3,"tooltip","valueClass","value","label","data","pipes"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Tn,2,1,"ng-container",1),e.TgZ(2,"div",2),e._uU(3,"Assay Results"),e.qZA(),e.YNc(4,An,2,2,"ng-container",1),e._UZ(5,"div",3),e.YNc(6,xn,2,1,"ng-container",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",r.dataFields.length),e.xp6(3),e.Q6J("ngIf",r.data),e.xp6(2),e.Q6J("ngIf",r.commonDates.length))},directives:[b.O5,b.sg,Ze],styles:[".assays-panel[_ngcontent-%COMP%]{font-size:12px}.assays-panel[_ngcontent-%COMP%]   .item-header__title[_ngcontent-%COMP%]{font-weight:500;margin-top:15px}.assays-panel[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin-top:15px}"]}),t}(),_n=function(){var t=function(){function u(){(0,h.Z)(this,u)}return(0,D.Z)(u,[{key:"getPipesForMinMax",value:function(r){return r?r.filter(function(v){return"unit"!==v.token}):[]}}]),u}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t}();function Nn(t,u){if(1&t&&e._UZ(0,"span",9),2&t){var n=e.oxw();e.s9C("transloco",n.label),e.Q6J("translocoParams",n.translocoParams)}}function Zn(t,u){if(1&t&&e._UZ(0,"dabo-data-source-label",10),2&t){var n=e.oxw();e.Q6J("labels",n.sourceLabels)}}function wn(t,u){if(1&t&&e._UZ(0,"dabo-info-tooltip-icon",11),2&t){var n=e.oxw();e.Q6J("tooltip",n.iconTooltipText)}}function Rn(t,u){if(1&t&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&t){var n=e.oxw();e.xp6(1),e.AsE(" (",n._minValue," - ",n._maxValue,") ")}}function Bn(t,u){if(1&t&&e._uU(0),2&t){var n=e.oxw();e.Oqu(n.label)}}var Un=function(){var t=function(u){(0,f.Z)(r,u);var n=(0,S.Z)(r);function r(v,s){var L;return(0,h.Z)(this,r),(L=n.call(this,v)).extendedFieldService=s,L}return(0,D.Z)(r,[{key:"ngOnChanges",value:function(s){this.setMinMaxField("maxValue","_maxValue"),this.setMinMaxField("minValue","_minValue"),this.ngOnChangesInternal(s)}},{key:"setMinMaxField",value:function(s,L){this[s]&&(this[L]=this.dynamicPipe.transform(this.data[this[s]],this.extendedFieldService.getPipesForMinMax(this.pipes)))}}]),r}(K);return t.\u0275fac=function(n){return new(n||t)(e.Y36(Se.e),e.Y36(_n))},t.\u0275cmp=e.Xpm({type:t,selectors:[["dabo-map-panel-field-extended"]],inputs:{minValue:"minValue",maxValue:"maxValue",iconTooltipText:"iconTooltipText"},features:[e._Bn([_n]),e.qOj,e.TTD],decls:12,vars:13,consts:[["fxLayout","row"],[3,"transloco","translocoParams",4,"ngIf","ngIfElse"],[1,"data-item__label-controls"],[3,"labels",4,"ngIf"],[3,"tooltip",4,"ngIf"],[3,"title"],[1,"data-item__calculated"],["class","data-item__min-max","title","(min-max)",4,"ngIf"],["notTranslated",""],[3,"transloco","translocoParams"],[3,"labels"],[3,"tooltip"],["title","(min-max)",1,"data-item__min-max"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0)(1,"div"),e.YNc(2,Nn,1,2,"span",1),e.TgZ(3,"div",2),e.YNc(4,Zn,1,1,"dabo-data-source-label",3),e.YNc(5,wn,1,1,"dabo-info-tooltip-icon",4),e.qZA()(),e.TgZ(6,"div",5)(7,"span",6),e._uU(8),e.qZA(),e.YNc(9,Rn,2,2,"span",7),e.qZA()(),e.YNc(10,Bn,1,1,"ng-template",null,8,e.W1O)),2&n){var v=e.MAs(11);e.xp6(1),e.Gre("",r.labelClass," data-item data-item__label"),e.xp6(1),e.Q6J("ngIf",!0===r.translated||void 0===r.translated)("ngIfElse",v),e.xp6(2),e.Q6J("ngIf",r.sourceLabels),e.xp6(1),e.Q6J("ngIf",r.iconTooltipText),e.xp6(1),e.Gre("",r.valueClass," data-item data-item__value"),e.Q6J("title",r.tooltip?r.calculatedValue:""),e.xp6(2),e.Oqu(r.calculatedValue),e.xp6(1),e.Q6J("ngIf",(r.minValue||r.maxValue)&&"-"!==r.calculatedValue)}},directives:[$.xw,b.O5,V.KI,le.F,qe.B],styles:['@charset "UTF-8";.data-item__label[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.data-item__label[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{display:flex;cursor:pointer}.data-item__label-controls[_ngcontent-%COMP%]{display:flex;align-items:center}.data-item__min-max[_ngcontent-%COMP%]{color:#c4c4c4;display:block}.data-item.label-list-item[_ngcontent-%COMP%]{padding-left:8px}.data-item.label-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"\\2022";padding-right:8px}'],changeDetection:0}),t}();function Hn(t,u){if(1&t&&(e.TgZ(0,"span",1),e._uU(1),e.qZA()),2&t){var n=e.oxw();e.xp6(1),e.hij(" There is no selected pattern in the ",n.sideTitle," ")}}function Vn(t,u){if(1&t&&(e.TgZ(0,"span",1),e._uU(1),e.qZA()),2&t){var n=e.oxw();e.xp6(1),e.hij(" ",n.sideTitle," color map doesn't support polygon selection\n")}}function jn(t,u){if(1&t&&(e.TgZ(0,"div",1),e._uU(1," Selection doesn't match any pattern "),e._UZ(2,"br"),e._uU(3),e.qZA()),2&t){var n=e.oxw();e.xp6(3),e.hij(" in the ",n.sideTitle,"\n")}}var hn=function(){var t=(0,D.Z)(function u(){(0,h.Z)(this,u)});return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["dabo-duplication-error-message"]],inputs:{duplicationErrors:"duplicationErrors",sideTitle:"sideTitle"},decls:3,vars:3,consts:[["class","error",4,"ngIf"],[1,"error"]],template:function(n,r){1&n&&(e.YNc(0,Hn,2,1,"span",0),e.YNc(1,Vn,2,1,"span",0),e.YNc(2,jn,4,1,"div",0)),2&n&&(e.Q6J("ngIf",null==r.duplicationErrors?null:r.duplicationErrors.noSelectedPatterns),e.xp6(1),e.Q6J("ngIf",null==r.duplicationErrors?null:r.duplicationErrors.isNoSelectionFunctionality),e.xp6(1),e.Q6J("ngIf",null==r.duplicationErrors?null:r.duplicationErrors.noSelectedHoles))},directives:[b.O5],encapsulation:2}),t}();function Jn(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"div")(1,"dabo-kpi-link",7,8),e.NdJ("linkClicked",function(){e.CHM(n);var s=e.MAs(2);return e.oxw().getKpiUrlParams(s)}),e.qZA()()}if(2&t){var r=e.oxw();e.xp6(1),e.Q6J("isLoading",r.isKPIURLLoading)}}function Qn(t,u){1&t&&(e.TgZ(0,"div",12),e._UZ(1,"div",13),e.qZA())}function Gn(t,u){if(1&t&&(e.TgZ(0,"div",27),e._UZ(1,"div",28),e.TgZ(2,"div",29),e._uU(3),e.ALo(4,"transloco"),e.qZA()()),2&t){var n=e.oxw().index,r=e.oxw(2);e.xp6(1),e.Udp("background-color",0===n?r.colors.SANDY_BROWN:r.colors.HELIOTROPE),e.xp6(2),e.AsE("",e.lcZ(4,4,"mapControlsTranslation.selection")," ",n+1,"")}}function Yn(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",31),2&t){var n=e.oxw().$implicit,r=e.oxw().$implicit,v=e.oxw(2);e.Q6J("value",n.value)("label",v.getLabel(n,r))("data",r)("pipes",n.pipes)("labelClass","name")("valueClass","value")("tooltip",n.tooltip)}}function Wn(t,u){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Yn,1,7,"dabo-map-panel-field",30),e.qZA()),2&t){var n=u.$implicit,r=e.oxw(3);e.xp6(1),e.Q6J("ngIf",r.isShown(n))}}function Kn(t,u){1&t&&e._UZ(0,"mat-divider")}function zn(t,u){if(1&t&&e._UZ(0,"dabo-multi-assays-panel",32),2&t){var n=e.oxw().$implicit;e.Q6J("data",n)}}function $n(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field-extended",36),2&t){var n=e.oxw(2).$implicit,r=e.oxw(2).$implicit,v=e.oxw(2);e.Q6J("value",n.value)("label",v.getLabel(n,n.dataSource||r))("data",n.dataSource||r)("pipes",n.pipes)("valueClass",n.valueClass)("tooltip",n.tooltip)("labelClass",n.labelClass)("minValue",n.minValue)("maxValue",n.maxValue)("translated",n.translated)("iconTooltipText",n.iconTooltipText)}}function Xn(t,u){if(1&t&&(e.ynx(0),e.YNc(1,$n,1,11,"dabo-map-panel-field-extended",35),e.BQk()),2&t){var n=e.oxw().$implicit,r=e.oxw(4);e.xp6(1),e.Q6J("ngIf",r.isShown(n))}}function qn(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",38),2&t){var n=e.oxw(2).$implicit,r=e.oxw(2).$implicit,v=e.oxw(2);e.Q6J("tooltip",n.tooltip)("value",n.value)("label",v.getLabel(n,r))("data",n.dataSource||r)("valueClass",n.valueClass)("pipes",n.pipes)("translocoParams",n.translocoParams)}}function eo(t,u){if(1&t&&e.YNc(0,qn,1,7,"dabo-map-panel-field",37),2&t){var n=e.oxw().$implicit,r=e.oxw(4);e.Q6J("ngIf",r.isShown(n))}}function to(t,u){if(1&t&&(e.ynx(0),e.YNc(1,Xn,2,1,"ng-container",33),e.YNc(2,eo,1,1,"ng-template",null,34,e.W1O),e.BQk()),2&t){var n=u.$implicit,r=e.MAs(3);e.xp6(1),e.Q6J("ngIf",n.minValue||n.maxValue||n.iconTooltipText||n.labelClass)("ngIfElse",r)}}function no(t,u){if(1&t&&e.YNc(0,to,4,2,"ng-container",11),2&t){var n=e.oxw().index,r=e.oxw(2);e.Q6J("ngForOf",r.dataFields[n])}}function oo(t,u){if(1&t&&(e.TgZ(0,"div",19),e._UZ(1,"dabo-map-panel-table",39),e.qZA()),2&t){var n=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("dataFields",r.transformCosts(n.costs))("displayedColumns",r.costDisplayedColumns)("columns",r.costColumnsConfig)("translateKey",r.costTranslationKey)}}var io=function(u){return{label:u}};function ao(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).togglePolygonTool()}),e._uU(1),e.ALo(2,"transloco"),e.qZA()}if(2&t){var r=e.oxw(3);e.Q6J("disabled",(null==r.duplicationErrors?null:r.duplicationErrors.noSelectedPatterns)||(null==r.duplicationErrors?null:r.duplicationErrors.isNoSelectionFunctionality)),e.xp6(1),e.hij(" ",e.xi3(2,2,r.drawingLabel,e.VKq(5,io,r.sideTitle))," ")}}function ro(t,u){1&t&&(e.TgZ(0,"div",41),e._UZ(1,"div",13),e.qZA())}var so=function(u){return{value:u}};function lo(t,u){if(1&t){var n=e.EpF();e.ynx(0),e.TgZ(1,"div",14),e.YNc(2,Gn,5,6,"div",15),e.TgZ(3,"div",16),e._UZ(4,"span",17),e.qZA(),e.TgZ(5,"div",18),e.YNc(6,Wn,2,1,"div",11),e.qZA(),e.YNc(7,Kn,1,0,"mat-divider",5),e.TgZ(8,"div",19),e.YNc(9,zn,1,1,"dabo-multi-assays-panel",20),e.YNc(10,no,1,1,"ng-template",null,21,e.W1O),e.qZA(),e.YNc(12,oo,2,4,"div",22),e.TgZ(13,"button",23),e.NdJ("click",function(){var fe=e.CHM(n).index;return e.oxw(2).removeSelection(fe)}),e._uU(14),e.ALo(15,"transloco"),e.qZA(),e.YNc(16,ao,3,7,"button",24),e._UZ(17,"dabo-duplication-error-message",25),e.qZA(),e.YNc(18,ro,2,0,"div",26),e.BQk()}if(2&t){var r=u.$implicit,v=e.MAs(11),s=e.oxw(2);e.xp6(2),e.Q6J("ngIf",2===s.selectionsData.length),e.xp6(2),e.Q6J("translocoParams",e.VKq(15,so,r.count||0)),e.xp6(2),e.Q6J("ngForOf",s.countFields),e.xp6(1),e.Q6J("ngIf",s.showDivider[s.mineSite]),e.xp6(2),e.Q6J("ngIf",s.isAssayColorMap)("ngIfElse",v),e.xp6(3),e.Q6J("ngIf",s.isCoal),e.xp6(1),e.Q6J("disabled",s.settings.isLoadingAfterDraw&&2===s.selectionsData.length),e.xp6(1),e.hij(" ",e.lcZ(15,13,"mapControlsTranslation.remove_selection")," "),e.xp6(2),e.Q6J("ngIf",1===s.selectionsData.length),e.xp6(1),e.Q6J("duplicationErrors",s.duplicationErrors)("sideTitle",s.sideTitle),e.xp6(1),e.Q6J("ngIf",s.showAdditionalSpinner)}}function co(t,u){if(1&t&&(e.ynx(0),e.TgZ(1,"div",9),e.YNc(2,Qn,2,0,"div",10),e.YNc(3,lo,19,17,"ng-container",11),e.qZA(),e.BQk()),2&t){var n=e.oxw();e.xp6(2),e.Q6J("ngIf",n.showSpinner),e.xp6(1),e.Q6J("ngForOf",n.dataItems)}}var kt=Ct.H.HOLES,uo=function(){var t=function(u){(0,f.Z)(r,u);var n=(0,S.Z)(r);function r(v,s,L,z,fe,Je,He,ke,bt){var ze;return(0,h.Z)(this,r),(ze=n.call(this,v,s,L,z)).cdr=v,ze.polygonToolSelectionService=s,ze.router=L,ze.compareService=z,ze.mapApiService=fe,ze.mineStateService=Je,ze.fieldsFactory=He,ze.panelField=ke,ze.costCalculationService=bt,ze.isKPIURLLoading=!1,ze.hasSelectedHoles=!1,ze.dataFields=[],ze.countFields=[],ze.costColumnsConfig=[],ze.costDisplayedColumns=[],ze.costTranslationKey=k.Y5,ze.showDivider=(0,c.Z)({},M.q.CDA,!0),ze}return(0,D.Z)(r,[{key:"isAssayColorMap",get:function(){return(0,rn.Z9)(this.colorMap)}},{key:"isCoal",get:function(){return y.ZA.isCoalMine(this.mineSite)}},{key:"transformCosts",value:function(s){return this.costCalculationService.transformCosts(s)}},{key:"ngOnInit",value:function(){var s=this;this.subscribeOnCompareErrors(),this.polygonToolSelectionService.selectionStateChangesForInspector().pipe((0,Ft.w)(function(L){return s.hasSelectedHoles=s.polygonToolSelectionService.hasSelectedHoleIds(),s.colorMap=L[kt].colorMap,s.countFields=s.fieldsFactory.createConfig("MULTI_SH_COUNTS",s.mineSite),s.fetchData(L,kt)}),(0,m.R)(this.destroy$)).subscribe(function(L){var z;s.setFieldConfigs(L),s.costColumnsConfig=s.costCalculationService.getColumnsConfig(),s.costDisplayedColumns=null===(z=s.costColumnsConfig)||void 0===z?void 0:z.map(function(fe){return fe.property}),s.onLoad(L)},function(){s.onError()})}},{key:"getKpiUrlParams",value:function(s){var L=this,z=this.polygonToolSelectionService.getSelectedHoleIds();return this.isKPIURLLoading=!0,this.cdr.detectChanges(),this.mapApiService.getKpiUrlShortening(z).pipe((0,m.R)(this.destroy$)).subscribe(function(fe){var Je="".concat(L.mineStateService.getSelectedMineArea(),"/report/per-selection/").concat(fe.shortening);L.isKPIURLLoading=!1,s.openLink(Je),L.cdr.detectChanges()})}},{key:"removeSelection",value:function(s){2===this.polygonToolSelectionService.getMapSelectionState(kt).selectionsData.length&&(this.dataFields=[this.dataFields[0===s?1:0]]),(0,_t.Z)((0,ht.Z)(r.prototype),"removeSelection",this).call(this,s,kt),this.hasSelectedHoles=this.polygonToolSelectionService.hasSelectedHoleIds(),this.cdr&&!this.cdr.destroyed&&this.cdr.detectChanges()}},{key:"getLabel",value:function(s,L){var z;return s.labelPlural&&(null===(z=L[s.value])||void 0===z?void 0:z.length)>1?s.labelPlural:s.label}},{key:"isShown",value:function(s){return this.panelField.isShown(s)}},{key:"setFieldConfigs",value:function(s){var L=this;if("draw"===s.type){var fe=(0,Ye.Z)(s.data,1)[0];fe&&(this.dataFields=[].concat((0,Qe.Z)(this.dataFields),[this.fieldsFactory.createConfig("MULTI_SH",this.colorMap,this.mineSite,fe)]))}else if("preserveSelection"===s.type){var Je=s.data.metrics;Je&&(this.dataFields=null==Je?void 0:Je.map(function(He){return L.fieldsFactory.createConfig("MULTI_SH",L.colorMap,L.mineSite,He)}))}}}]),r}(gn);return t.\u0275fac=function(n){return new(n||t)(e.Y36(e.sBO),e.Y36(a.nY),e.Y36(sn.F0),e.Y36(a.zY),e.Y36(C.P2),e.Y36(C.Hj),e.Y36(B.E),e.Y36(Xe.O),e.Y36(pe.Rt))},t.\u0275cmp=e.Xpm({type:t,selectors:[["dabo-multi-holes-panel"]],inputs:{mineSite:"mineSite"},features:[e._Bn([{provide:V.Hn,useValue:{scope:"multi-hole-map-panel",alias:"mapTranslations"},multi:!0},{provide:V.Hn,useValue:{scope:"header-map-panel",alias:"mapTranslations"},multi:!0},{provide:V.Hn,useValue:{scope:"shared-map-panel",alias:"mapTranslations"},multi:!0}]),e.qOj],decls:8,vars:2,consts:[["daboKeydownEscape","",1,"map-panel","map-panel--multi-selection",3,"keydownEmitter"],["fxLayout","row","fxLayoutAlign","space-between center",1,"map-panel__header"],[1,"map-panel__header-props"],[1,"selection-icon"],["transloco","mapTranslations.title",1,"map-panel__header-name"],[4,"ngIf"],[1,"icon","icon-close","map-panel__header-close",3,"click"],[3,"isLoading","linkClicked"],["linkComponent",""],[1,"map-panel__data"],["class","base-spinner-wrapper","fxFill","","fxLayoutAlign","center center",4,"ngIf"],[4,"ngFor","ngForOf"],["fxFill","","fxLayoutAlign","center center",1,"base-spinner-wrapper"],[1,"spinner"],["fxLayout","column",1,"map-panel__item"],["class","map-panel__selection","fxFlex","21px","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","6px",4,"ngIf"],["fxLayout","row",1,"map-panel__item-header"],["transloco","mapTranslations.header.holes_count",1,"item-header__title",3,"translocoParams"],[1,"map-panel__item-props",2,"column-count","2"],[1,"map-panel__item-props"],[3,"data",4,"ngIf","ngIfElse"],["notAssay",""],["class","map-panel__item-props",4,"ngIf"],["mat-button","",1,"btn","btn--outline","btn--xs","btn--gray","btn--remove",3,"disabled","click"],["class","btn btn--secondary btn--xs map-panel__button--add","mat-button","",3,"disabled","click",4,"ngIf"],[3,"duplicationErrors","sideTitle"],["class","base-spinner-wrapper","fxFill","","fxLayoutAlign","start start",4,"ngIf"],["fxFlex","21px","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","6px",1,"map-panel__selection"],[1,"map-panel__dot"],[1,"map-panel__selection-label"],["class","item-props__column",3,"value","label","data","pipes","labelClass","valueClass","tooltip",4,"ngIf"],[1,"item-props__column",3,"value","label","data","pipes","labelClass","valueClass","tooltip"],[3,"data"],[4,"ngIf","ngIfElse"],["commonMapField",""],["class","item-props__column",3,"value","label","data","pipes","valueClass","tooltip","labelClass","minValue","maxValue","translated","iconTooltipText",4,"ngIf"],[1,"item-props__column",3,"value","label","data","pipes","valueClass","tooltip","labelClass","minValue","maxValue","translated","iconTooltipText"],[3,"tooltip","value","label","data","valueClass","pipes","translocoParams",4,"ngIf"],[3,"tooltip","value","label","data","valueClass","pipes","translocoParams"],[3,"dataFields","displayedColumns","columns","translateKey"],["mat-button","",1,"btn","btn--secondary","btn--xs","map-panel__button--add",3,"disabled","click"],["fxFill","","fxLayoutAlign","start start",1,"base-spinner-wrapper"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0),e.NdJ("keydownEmitter",function(){return r.onPressingEscapeButton()}),e.TgZ(1,"div",1)(2,"div",2),e._UZ(3,"span",3)(4,"span",4),e.qZA(),e.YNc(5,Jn,3,1,"div",5),e.TgZ(6,"span",6),e.NdJ("click",function(){return r.togglePanel()}),e.qZA()(),e.YNc(7,co,4,2,"ng-container",5),e.qZA()),2&n&&(e.xp6(5),e.Q6J("ngIf",r.hasSelectedHoles),e.xp6(2),e.Q6J("ngIf",r.selectionsData.length))},directives:[mn.h,$.xw,$.Wh,V.KI,b.O5,j.L,$.s9,b.sg,$.yH,$.SQ,Ze,fn.d,Ln,Un,Oe,vt.lW,hn],pipes:[V.Ot],styles:['@font-face{font-family:dabaha;src:url(/assets/fonts/dabaha.eot);src:url(/assets/fonts/dabaha.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/dabaha.ttf) format("truetype"),url(/assets/fonts/dabaha.woff) format("woff"),url(/assets/fonts/dabaha.svg) format("svg");font-weight:400;font-style:normal;font-display:block}.icon[_ngcontent-%COMP%]{font-family:dabaha!important;speak:none;width:16px;height:16px;font-size:16px;font-style:normal;font-weight:400;font-feature-settings:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon--disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:initial}.icon--hidden[_ngcontent-%COMP%]{display:none}.icon-byc[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\ea04";color:#008cff}.icon-byc[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\ea05";margin-left:-1em;color:#008cff}.icon-byc[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\ea06";margin-left:-1em;color:#586b7a}.icon-byc[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\ea07";margin-left:-1em;color:#586b7a}.icon-information[_ngcontent-%COMP%]:before{content:"\\ea03";color:#586b7a}.icon-colormap[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9fe";color:#f25050}.icon-colormap[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9ff";margin-left:-1em;color:#f2c94c}.icon-colormap[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\ea00";margin-left:-1em;color:#1f8ff7}.icon-colormap[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\ea01";margin-left:-1em;color:#39be04}.icon-colormap[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\ea02";margin-left:-1em;color:#586b7a}.icon-drillbit[_ngcontent-%COMP%]:before{content:"\\e9fc";color:#00afbd}.icon-report[_ngcontent-%COMP%]:before{content:"\\e9fa";color:#0065bd}.icon-quality[_ngcontent-%COMP%]:before{content:"\\e9fb";color:#d5b1f1}.icon-permissions[_ngcontent-%COMP%]:before{content:"\\e9f9";color:#00afbd}.icon-batchedit[_ngcontent-%COMP%]:before{content:"\\e9f8";color:#0165bd}.icon-comment[_ngcontent-%COMP%]:before{content:"\\e9f4";color:#0065bd}.icon-actions[_ngcontent-%COMP%]:before{content:"\\e9f5";color:#0065bd}.icon-add-comment[_ngcontent-%COMP%]:before{content:"\\e9f6";color:#0065bd}.icon-scorecard[_ngcontent-%COMP%]:before{content:"\\e9f7";color:#0065bd}.icon-data-error[_ngcontent-%COMP%]:before{content:"\\e9f3";color:#586b7a}.icon-BL-1z[_ngcontent-%COMP%]:before{content:"\\e9e5";color:#366cfb}.icon-BL-2z-1[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9e6";color:#366cfb}.icon-BL-2z-1[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9e7";margin-left:-1em;color:#eef3fb}.icon-BL-2z-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9e8";color:#eef3fb}.icon-BL-2z-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9e9";margin-left:-1em;color:#366cfb}.icon-BL-3z-1[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9ea";color:#366cfb}.icon-BL-3z-1[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9eb";margin-left:-1em;color:#b8d3fd}.icon-BL-3z-1[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9ec";margin-left:-1em;color:#eef3fb}.icon-BL-3z-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9ed";color:#b8d3fd}.icon-BL-3z-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9ee";margin-left:-1em;color:#366cfb}.icon-BL-3z-2[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9ef";margin-left:-1em;color:#eef3fb}.icon-BL-3z-3[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9f0";color:#e3edfb}.icon-BL-3z-3[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9f1";margin-left:-1em;color:#f4f8fb}.icon-BL-3z-3[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9f2";margin-left:-1em;color:#366cfb}.icon-hole-pumped[_ngcontent-%COMP%]:before{content:"\\e9e3"}.icon-history[_ngcontent-%COMP%]:before{content:"\\e9e2";color:#586b7a}.icon-crusher[_ngcontent-%COMP%]:before{content:"\\e9e4";color:#0165bd}.icon-calculator[_ngcontent-%COMP%]:before{content:"\\e9e1";color:#0165bd}.icon-issue[_ngcontent-%COMP%]:before{content:"\\e9de";color:#e68537}.icon-nitrate[_ngcontent-%COMP%]:before{content:"\\e9df";color:#0165bd}.icon-vibration[_ngcontent-%COMP%]:before{content:"\\e9e0";color:#0165bd}.icon-angled[_ngcontent-%COMP%]:before{content:"\\e9dd"}.icon-userguide[_ngcontent-%COMP%]:before{content:"\\e9dc";color:#0165bd}.icon-crew[_ngcontent-%COMP%]:before{content:"\\e9db";color:#586b7a}.icon-bench[_ngcontent-%COMP%]:before{content:"\\e9d7";color:#586b7a}.icon-pat-group[_ngcontent-%COMP%]:before{content:"\\e9d8";color:#586b7a}.icon-pat-small[_ngcontent-%COMP%]:before{content:"\\e9d9";color:#586b7a}.icon-patt[_ngcontent-%COMP%]:before, .icon-patt-light[_ngcontent-%COMP%]:before{content:"\\e9da";color:#586b7a}.icon-patt-light[_ngcontent-%COMP%]:before{opacity:.5}.icon-safety[_ngcontent-%COMP%]:before{content:"\\e9d6";color:#0165bd}.icon-godown[_ngcontent-%COMP%]:before{content:"\\e9d3";color:#586b7a}.icon-growup[_ngcontent-%COMP%]:before{content:"\\e9d4";color:#586b7a}.icon-growup-light[_ngcontent-%COMP%]:before{content:"\\e9d4";color:#fff;opacity:.5}.icon-circle[_ngcontent-%COMP%]:before{content:"\\e9d5";color:#586b7a}.icon-sliders[_ngcontent-%COMP%]:before{content:"\\e9d2";color:#586b7a}.icon-chart[_ngcontent-%COMP%]:before{content:"\\e9d1";color:#586b7a}.icon-no-data-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9cb";color:#8bade0}.icon-no-data-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9cc";margin-left:-1em;color:#586b7a}.icon-no-data-3[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9cd";color:#586b7a}.icon-no-data-3[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9ce";margin-left:-1em;color:#8bade0}.icon-no-data-4[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9cf";color:#8bade0}.icon-no-data-4[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9d0";margin-left:-1em;color:#586b7a}.icon-connection[_ngcontent-%COMP%]:before{content:"\\e9c8";color:#586b7a}.icon-dashboard[_ngcontent-%COMP%]:before{content:"\\e9c9";color:#586b7a}.icon-temperature[_ngcontent-%COMP%]:before{content:"\\e9ca";color:#586b7a}.icon-menu-1[_ngcontent-%COMP%]:before{content:"\\e9c6";color:#586b7a}.icon-menu-2[_ngcontent-%COMP%]:before{content:"\\e9c7";color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9b4";color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9b5";margin-left:-1em;color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9b6";margin-left:-1em;color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e9b7";margin-left:-1em;color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e9b8";margin-left:-1em;color:#586b7a}.icon-w3-6[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e9b9";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3-6[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e9ba";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3-6[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e9bb";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3-6[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e9bc";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9bd";color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9be";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9bf";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e9c0";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e9c1";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e9c2";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1-2[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e9c3";margin-left:-1em;color:#586b7a}.icon-w1-2[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e9c4";margin-left:-1em;color:#586b7a}.icon-w1-2[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e9c5";margin-left:-1em;color:#586b7a}.icon-hole-precond[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9b2";color:#000;opacity:.75}.icon-hole-precond[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9b3";margin-left:-1em;color:#fff}.icon-w1[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e97c";color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e97d";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e97e";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e97f";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e980";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e981";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e982";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e983";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w1[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e984";margin-left:-1em;color:#586b7a}.icon-w2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e985";color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e986";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e987";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e988";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e989";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e98a";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e98b";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e98c";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w2[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e98d";margin-left:-1em;color:#586b7a}.icon-w3[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e98e";color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e98f";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e990";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e991";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e992";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e993";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e994";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e995";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w3[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e996";margin-left:-1em;color:#586b7a}.icon-w4[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e997";color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e998";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e999";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e99a";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e99b";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e99c";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e99d";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e99e";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w4[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e99f";margin-left:-1em;color:#586b7a}.icon-w5[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9a0";color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9a1";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9a2";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e9a3";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e9a4";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e9a5";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e9a6";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e9a7";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w5[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e9a8";margin-left:-1em;color:#586b7a}.icon-w6[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e9a9";color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e9aa";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e9ab";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e9ac";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e9ad";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e9ae";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e9af";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e9b0";margin-left:-1em;color:#2e384d;opacity:.2}.icon-w6[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e9b1";margin-left:-1em;color:#586b7a}.icon-T-Icon[_ngcontent-%COMP%]:before{content:"\\e97a";color:#fff}.icon-tasks[_ngcontent-%COMP%]:before{content:"\\e97b";color:#586b7a}.icon-pdf_template[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e967";color:#fff}.icon-pdf_template[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e968";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e969";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e96a";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e96b";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path6[_ngcontent-%COMP%]:before{content:"\\e96c";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path7[_ngcontent-%COMP%]:before{content:"\\e96d";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path8[_ngcontent-%COMP%]:before{content:"\\e96e";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path9[_ngcontent-%COMP%]:before{content:"\\e96f";margin-left:-.7998046875em;color:#f0f2f3}.icon-pdf_template[_ngcontent-%COMP%]   .path10[_ngcontent-%COMP%]:before{content:"\\e970";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path11[_ngcontent-%COMP%]:before{content:"\\e971";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path12[_ngcontent-%COMP%]:before{content:"\\e972";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path13[_ngcontent-%COMP%]:before{content:"\\e973";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path14[_ngcontent-%COMP%]:before{content:"\\e974";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path15[_ngcontent-%COMP%]:before{content:"\\e975";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path16[_ngcontent-%COMP%]:before{content:"\\e976";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path17[_ngcontent-%COMP%]:before{content:"\\e977";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path18[_ngcontent-%COMP%]:before{content:"\\e978";margin-left:-.7998046875em;color:#d0dae0}.icon-pdf_template[_ngcontent-%COMP%]   .path19[_ngcontent-%COMP%]:before{content:"\\e979";margin-left:-.7998046875em;color:#d0dae0}.icon-ellipsis[_ngcontent-%COMP%]:before{content:"\\e966";color:#586b7a}.icon-edit[_ngcontent-%COMP%]:before{content:"\\e965";color:#586b7a}.icon-help-center[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e963";color:#ffe845}.icon-help-center[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e964";margin-left:-1em;color:#000;opacity:.5029}.icon-driver[_ngcontent-%COMP%]:before{content:"\\e95a";color:#0165bd}.icon-eye-crossed[_ngcontent-%COMP%]:before{content:"\\e95b";color:#586b7a}.icon-eye[_ngcontent-%COMP%]:before{content:"\\e95c";color:#586b7a}.icon-grade[_ngcontent-%COMP%]:before{content:"\\e95d";color:#586b7a}.icon-ropes-2[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e95e";color:#586b7a}.icon-ropes-2[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e95f";margin-left:-1em;color:#0165bd}.icon-ropes[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e960";color:#586b7a}.icon-ropes[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e961";margin-left:-1em;color:#0165bd}.icon-score[_ngcontent-%COMP%]:before{content:"\\e962";color:#586b7a}.icon-search[_ngcontent-%COMP%]:before{content:"\\e959";color:#586b7a}.icon-progress[_ngcontent-%COMP%]:before{content:"\\e958";color:#586b7a}.icon-day-shift[_ngcontent-%COMP%]:before{content:"\\e955";color:#fcd47d}.icon-night-shift[_ngcontent-%COMP%]:before{content:"\\e956";color:#7d8c9a}.icon-segment[_ngcontent-%COMP%]:before{content:"\\e957";color:#586b7a}.icon-print[_ngcontent-%COMP%]:before{content:"\\e954";color:#586b7a}.icon-success[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e951";color:#fff}.icon-success[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e952";margin-left:-1em;color:#8bade0}.icon-success[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e953";margin-left:-1em;color:#39be04}.icon-misfire[_ngcontent-%COMP%]:before{content:"\\e950";color:#ff8200}.icon-no-selection[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e949";color:#fff}.icon-no-selection[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e94a";margin-left:-1em;color:#8bade0}.icon-no-selection[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e94b";margin-left:-1em;color:#eaeef6}.icon-no-selection[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e94c";margin-left:-1em;color:#1f8ff7}.icon-no-selection[_ngcontent-%COMP%]   .path5[_ngcontent-%COMP%]:before{content:"\\e94d";margin-left:-1em;color:#586b7a}.icon-home[_ngcontent-%COMP%]:before{content:"\\e948";color:#586b7a}.icon-feedback-normal[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e93f";color:#31495d;opacity:.8504}.icon-feedback-normal[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e940";margin-left:-.7861328125em;color:#ffaf00}.icon-feedback-normal[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e941";margin-left:-.7861328125em;color:#fff}.icon-feedback-selected[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e942";color:#0165bd}.icon-feedback-selected[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e943";margin-left:-.7861328125em;color:#fff}.icon-feedback-selected[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e944";margin-left:-.7861328125em;color:#ffaf00}.icon-feedback-selected[_ngcontent-%COMP%]   .path4[_ngcontent-%COMP%]:before{content:"\\e945";margin-left:-.7861328125em;color:#586b7a}.icon-map-feedback-small[_ngcontent-%COMP%]:before{content:"\\e946";color:#ffaf00}.icon-map-feedback[_ngcontent-%COMP%]:before{content:"\\e947";color:#586b7a}.icon-equip-driller[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e911";color:#fff}.icon-equip-driller[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e912";margin-left:-1em;color:#0165bd}.icon-equip-driller[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e913";margin-left:-1em;color:#0165bd}.icon-equip-loader[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e939";color:#fff}.icon-equip-loader[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e93a";margin-left:-1em;color:#0165bd}.icon-equip-loader[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e93b";margin-left:-1em;color:#0165bd}.icon-equip-shovel[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e93c";color:#fff}.icon-equip-shovel[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e93d";margin-left:-1em;color:#0165bd}.icon-equip-shovel[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e93e";margin-left:-1em;color:#0165bd}.icon-alert[_ngcontent-%COMP%]:before{content:"\\e900";color:#ff8200}.icon-arrow-down[_ngcontent-%COMP%]:before{content:"\\e901";color:#586b7a}.icon-arrow-left[_ngcontent-%COMP%]:before{content:"\\e902";color:#586b7a}.icon-arrow-right[_ngcontent-%COMP%]:before{content:"\\e903";color:#586b7a}.icon-arrow-top[_ngcontent-%COMP%]:before{content:"\\e904";color:#586b7a}.icon-blast[_ngcontent-%COMP%]:before, .icon-blast-light[_ngcontent-%COMP%]:before{content:"\\e905";color:#f25050}.icon-blast-light[_ngcontent-%COMP%]:before{color:#586b7a;opacity:.5}.icon-calendar[_ngcontent-%COMP%]:before{content:"\\e906";color:#0165bd}.icon-checkmark[_ngcontent-%COMP%]:before{content:"\\e907";color:#586b7a}.icon-close[_ngcontent-%COMP%]:before{content:"\\e908";color:#586b7a}.icon-coal[_ngcontent-%COMP%]:before{content:"\\e909";color:#586b7a}.icon-cost[_ngcontent-%COMP%]:before{content:"\\e90a";color:#ff8200}.icon-critical[_ngcontent-%COMP%]:before{content:"\\e90b";color:#c55563}.icon-datepicker[_ngcontent-%COMP%]:before{content:"\\e90c";color:#586b7a}.icon-destination[_ngcontent-%COMP%]:before{content:"\\e90d";color:#39be04}.icon-drill[_ngcontent-%COMP%]:before{content:"\\e90e";color:#00afbd}.icon-empty[_ngcontent-%COMP%]:before{content:"\\e90f";color:#a4afbe}.icon-env[_ngcontent-%COMP%]:before{content:"\\e910";color:#39be04}.icon-filter[_ngcontent-%COMP%]:before{content:"\\e914";color:#586b7a}.icon-flag[_ngcontent-%COMP%]:before{content:"\\e915";color:#f54f63}.icon-grid[_ngcontent-%COMP%]:before{content:"\\e916";color:#0165bd}.icon-group[_ngcontent-%COMP%]:before{content:"\\e917";color:#586b7a}.icon-help[_ngcontent-%COMP%]:before{content:"\\e918";color:#586b7a}.icon-help-light[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e963";color:#586b7a;opacity:.2}.icon-help-light[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e964";margin-left:-1em;color:#586b7a;opacity:.75}.icon-hole[_ngcontent-%COMP%]:before{content:"\\e919";color:#0165bd}.icon-kpi[_ngcontent-%COMP%]:before{content:"\\e91a";color:#0165bd}.icon-kpi-cda[_ngcontent-%COMP%]:before{content:"\\e91a";color:#e1c06b}.icon-letter[_ngcontent-%COMP%]:before{content:"\\e91b";color:#586b7a}.icon-list[_ngcontent-%COMP%]:before{content:"\\e91c";color:#0165bd}.icon-load[_ngcontent-%COMP%]:before{content:"\\e91d";color:#0165bd}.icon-loaded[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e91e";color:#a4afbe}.icon-loaded[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e91f";margin-left:-1em;color:#1f8ff7}.icon-mail[_ngcontent-%COMP%]:before{content:"\\e920";color:#586b7a}.icon-map-collapse[_ngcontent-%COMP%]:before{content:"\\e921";color:#586b7a}.icon-map-compare-tool[_ngcontent-%COMP%]:before{content:"\\e922";color:#586b7a}.icon-map-expand[_ngcontent-%COMP%]:before{content:"\\e923";color:#586b7a}.icon-map-legend[_ngcontent-%COMP%]:before{content:"\\e924";color:#586b7a}.icon-map-polygon-tool[_ngcontent-%COMP%]:before, .selection-icon[_ngcontent-%COMP%]:before{content:"\\e925";color:#586b7a}.icon-map-toggle[_ngcontent-%COMP%]:before{content:"\\e926";color:#586b7a}.icon-map-visibility[_ngcontent-%COMP%]:before{content:"\\e927";color:#586b7a}.icon-minus[_ngcontent-%COMP%]:before{content:"\\e928";color:#586b7a}.icon-no-data[_ngcontent-%COMP%]   .path1[_ngcontent-%COMP%]:before{content:"\\e929";color:#fff}.icon-no-data[_ngcontent-%COMP%]   .path2[_ngcontent-%COMP%]:before{content:"\\e94e";margin-left:-1em;color:#8bade0}.icon-no-data[_ngcontent-%COMP%]   .path3[_ngcontent-%COMP%]:before{content:"\\e94f";margin-left:-1em;color:#586b7a}.icon-notifications[_ngcontent-%COMP%]:before{content:"\\e92a";color:#586b7a}.icon-pattern[_ngcontent-%COMP%]:before{content:"\\e92b";color:#0165bd}.icon-piechart[_ngcontent-%COMP%]:before{content:"\\e92c";color:#00afbd}.icon-plus[_ngcontent-%COMP%]:before{content:"\\e92d";color:#586b7a}.icon-refresh[_ngcontent-%COMP%]:before{content:"\\e92e";color:#586b7a}.icon-road[_ngcontent-%COMP%]:before{content:"\\e92f"}.icon-roadblock[_ngcontent-%COMP%]:before{content:"\\e930";color:#f25050}.icon-roadpin[_ngcontent-%COMP%]:before{content:"\\e931";color:#ff8200}.icon-settings[_ngcontent-%COMP%]:before{content:"\\e932";color:#586b7a}.icon-shovel[_ngcontent-%COMP%]:before{content:"\\e933";color:#0165bd}.icon-target[_ngcontent-%COMP%]:before{content:"\\e934";color:#586b7a}.icon-time[_ngcontent-%COMP%]:before{content:"\\e935";color:#586b7a}.icon-truck[_ngcontent-%COMP%]:before{content:"\\e936";color:#0165bd}.icon-user[_ngcontent-%COMP%]:before{content:"\\e937";color:#586b7a}.icon-waste[_ngcontent-%COMP%]:before{content:"\\e938";color:#586b7a}.icon-info[_ngcontent-%COMP%]:before{content:"\\ea03";color:#586b7a}.mat-divider[_ngcontent-%COMP%]{position:inherit;margin:0 0 10px}.selection-icon[_ngcontent-%COMP%]{padding-right:8px}'],changeDetection:0}),t}();function po(t,u){1&t&&(e.TgZ(0,"div",9),e._UZ(1,"div",10),e.qZA())}function go(t,u){if(1&t&&(e.TgZ(0,"div",18),e._UZ(1,"div",19),e.TgZ(2,"div",20),e._uU(3),e.qZA()()),2&t){var n=e.oxw().index,r=e.oxw(2);e.xp6(1),e.Udp("background-color",0===n?r.colors.SANDY_BROWN:r.colors.HELIOTROPE),e.xp6(2),e.hij("Selection ",n+1,"")}}function mo(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",22),2&t){var n=e.oxw().$implicit,r=e.oxw().$implicit;e.Q6J("value",n.value)("label",n.label)("data",r)("pipes",n.pipes)}}function fo(t,u){if(1&t&&(e.ynx(0),e.YNc(1,mo,1,4,"dabo-map-panel-field",21),e.BQk()),2&t){var n=u.$implicit,r=e.oxw(3);e.xp6(1),e.Q6J("ngIf",r.isShown(n))}}var _o=function(u){return{label:u}};function ho(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).togglePolygonTool()}),e._uU(1),e.ALo(2,"transloco"),e.qZA()}if(2&t){var r=e.oxw(3);e.Q6J("disabled",(null==r.duplicationErrors?null:r.duplicationErrors.noSelectedPatterns)||(null==r.duplicationErrors?null:r.duplicationErrors.isNoSelectionFunctionality)),e.xp6(1),e.hij(" ",e.xi3(2,2,r.drawingLabel,e.VKq(5,_o,r.sideTitle))," ")}}function vo(t,u){1&t&&(e.TgZ(0,"div",24),e._UZ(1,"div",10),e.qZA())}function Co(t,u){if(1&t){var n=e.EpF();e.ynx(0),e.TgZ(1,"div",11),e.YNc(2,go,4,3,"div",12),e.TgZ(3,"div",13),e.YNc(4,fo,2,1,"ng-container",8),e.qZA(),e.TgZ(5,"button",14),e.NdJ("click",function(){var L=e.CHM(n).index;return e.oxw(2).removeSelection(L)}),e._uU(6," Remove Selection "),e.qZA(),e.YNc(7,ho,3,7,"button",15),e._UZ(8,"dabo-duplication-error-message",16),e.qZA(),e.YNc(9,vo,2,0,"div",17),e.BQk()}if(2&t){var r=e.oxw(2);e.xp6(2),e.Q6J("ngIf",2===r.selectionsData.length),e.xp6(2),e.Q6J("ngForOf",r.dataFields),e.xp6(1),e.Q6J("disabled",r.settings.isLoadingAfterDraw&&2===r.selectionsData.length),e.xp6(2),e.Q6J("ngIf",1===r.selectionsData.length),e.xp6(1),e.Q6J("duplicationErrors",r.duplicationErrors)("sideTitle",r.sideTitle),e.xp6(1),e.Q6J("ngIf",r.showAdditionalSpinner)}}function bo(t,u){if(1&t&&(e.ynx(0),e.TgZ(1,"div",6),e.YNc(2,po,2,0,"div",7),e.YNc(3,Co,10,7,"ng-container",8),e.qZA(),e.BQk()),2&t){var n=e.oxw();e.xp6(2),e.Q6J("ngIf",n.showSpinner),e.xp6(1),e.Q6J("ngForOf",n.dataItems)}}var ln=Ct.H.DATA_POINTS,Po=function(){var t=function(u){(0,f.Z)(r,u);var n=(0,S.Z)(r);function r(v,s,L,z,fe,Je){var He;return(0,h.Z)(this,r),(He=n.call(this,v,s,L,z)).cdr=v,He.polygonToolSelectionService=s,He.router=L,He.compareService=z,He.fieldsFactory=fe,He.panelField=Je,He.dataFields=[],He}return(0,D.Z)(r,[{key:"ngOnInit",value:function(){var s=this;this.subscribeOnCompareErrors(),this.polygonToolSelectionService.selectionStateChangesForInspector().pipe((0,Ft.w)(function(L){return s.colorMap=L[ln].colorMap,s.dataFields=s.fieldsFactory.createConfig("MULTI_DATA_POINTS",s.colorMap,s.mineSite),s.fetchData(L,ln)}),(0,m.R)(this.destroy$)).subscribe(function(L){s.onLoad(L)},function(){s.onError()})}},{key:"removeSelection",value:function(s){(0,_t.Z)((0,ht.Z)(r.prototype),"removeSelection",this).call(this,s,ln),this.cdr&&!this.cdr.destroyed&&this.cdr.detectChanges()}},{key:"isShown",value:function(s){return this.panelField.isShown(s)}}]),r}(gn);return t.\u0275fac=function(n){return new(n||t)(e.Y36(e.sBO),e.Y36(a.nY),e.Y36(sn.F0),e.Y36(a.zY),e.Y36(B.E),e.Y36(Xe.O))},t.\u0275cmp=e.Xpm({type:t,selectors:[["dabo-multi-data-points-panel"]],inputs:{mineSite:"mineSite"},features:[e._Bn([{provide:V.Hn,useValue:{scope:"multi-hole-map-panel",alias:"mapTranslations"},multi:!0},{provide:V.Hn,useValue:{scope:"shared-map-panel",alias:"mapTranslations"},multi:!0}]),e.qOj],decls:7,vars:1,consts:[["daboKeydownEscape","",1,"map-panel","map-panel--multi-selection",3,"keydownEmitter"],["fxLayout","row","fxLayoutAlign","space-between center",1,"map-panel__header"],[1,"map-panel__header-props"],[1,"map-panel__header-name"],[1,"icon","icon-close","map-panel__header-close",3,"click"],[4,"ngIf"],[1,"map-panel__data"],["class","base-spinner-wrapper","fxFill","","fxLayoutAlign","center center",4,"ngIf"],[4,"ngFor","ngForOf"],["fxFill","","fxLayoutAlign","center center",1,"base-spinner-wrapper"],[1,"spinner"],["fxLayout","column",1,"map-panel__item"],["class","map-panel__selection","fxFlex","21px","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","6px",4,"ngIf"],[1,"map-panel__item-props"],["mat-button","",1,"btn","btn--outline","btn--xs","btn--gray","btn--remove",3,"disabled","click"],["class","btn btn--secondary btn--xs map-panel__button--add","mat-button","",3,"disabled","click",4,"ngIf"],[3,"duplicationErrors","sideTitle"],["class","base-spinner-wrapper","fxFill","","fxLayoutAlign","start start",4,"ngIf"],["fxFlex","21px","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","6px",1,"map-panel__selection"],[1,"map-panel__dot"],[1,"map-panel__selection-label"],[3,"value","label","data","pipes",4,"ngIf"],[3,"value","label","data","pipes"],["mat-button","",1,"btn","btn--secondary","btn--xs","map-panel__button--add",3,"disabled","click"],["fxFill","","fxLayoutAlign","start start",1,"base-spinner-wrapper"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0),e.NdJ("keydownEmitter",function(){return r.onPressingEscapeButton()}),e.TgZ(1,"div",1)(2,"div",2)(3,"span",3),e._uU(4," Polygon selection "),e.qZA()(),e.TgZ(5,"span",4),e.NdJ("click",function(){return r.togglePanel()}),e.qZA()(),e.YNc(6,bo,4,2,"ng-container",5),e.qZA()),2&n&&(e.xp6(6),e.Q6J("ngIf",r.selectionsData.length))},directives:[mn.h,$.xw,$.Wh,b.O5,$.s9,b.sg,$.yH,$.SQ,Ze,vt.lW,hn],pipes:[V.Ot],encapsulation:2,changeDetection:0}),t}();function Oo(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",12),2&t){var n=e.oxw().$implicit;e.Q6J("value",n.value)("label",n.label)("data",n.dataSource)("pipes",n.pipes)}}function yo(t,u){if(1&t&&(e.ynx(0),e.YNc(1,Oo,1,4,"dabo-map-panel-field",11),e.BQk()),2&t){var n=u.$implicit,r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.panelField.isShown(n))}}var Mo=function(){var t=function(u){(0,f.Z)(r,u);var n=(0,S.Z)(r);function r(v,s,L,z){var fe;return(0,h.Z)(this,r),(fe=n.call(this,L,z)).cdr=v,fe.mapStateService=s,fe.fieldsFactory=L,fe.panelField=z,fe.dataPointsFields=[],fe.mapModesEnum=Ct.H,fe}return(0,D.Z)(r,[{key:"ngOnInit",value:function(){var s=this;this.mapStateService.selectedColorMap$.pipe((0,m.R)(this.destroy$)).subscribe(function(L){s.colorMap=L,s.dataPointsFields=s.fieldsFactory.createConfig("DATA_POINTS",s.panelInfo.feature.properties,L,s.mineSite),s.cdr.detectChanges()})}},{key:"ngOnChanges",value:function(){this.dataPointsFields=this.fieldsFactory.createConfig("DATA_POINTS",this.panelInfo.feature.properties,this.colorMap,this.mineSite)}}]),r}(Dt);return t.\u0275fac=function(n){return new(n||t)(e.Y36(e.sBO),e.Y36(C.I3),e.Y36(B.E),e.Y36(Xe.O))},t.\u0275cmp=e.Xpm({type:t,selectors:[["dabo-data-points-panel"]],inputs:{panelInfo:"panelInfo",mineSite:"mineSite",isReportsPage:"isReportsPage"},features:[e._Bn([{provide:V.Hn,useValue:{scope:"data-points-map-panel",alias:"mapTranslations"},multi:!0},{provide:V.Hn,useValue:{scope:"shared-map-panel",alias:"mapTranslations"},multi:!0}]),e.qOj,e.TTD],decls:11,vars:5,consts:[[1,"map-panel","map-panel--data_points"],["fxLayout","row","fxLayoutAlign","space-between center",1,"map-panel__header"],["fxLayout","row","fxLayoutAlign","space-between center",1,"map-panel-header--flat"],[1,"map-panel__header-dot"],[3,"hole","resetBlastabilityLayer","colorMap","mineSite"],["transloco","mapTranslations.data_points.title",1,"map-panel__header-name"],[1,"icon","icon-close","map-panel__header-close",3,"click"],[1,"map-panel__data"],["fxLayout","column",1,"map-panel__item"],["fxFlex","",1,"map-panel__item-props"],[4,"ngFor","ngForOf"],[3,"value","label","data","pipes",4,"ngIf"],[3,"value","label","data","pipes"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._UZ(4,"dabo-hole-point",4),e.qZA(),e._UZ(5,"span",5),e.qZA(),e.TgZ(6,"span",6),e.NdJ("click",function(){return r.togglePanel()}),e.qZA()(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9),e.YNc(10,yo,2,1,"ng-container",10),e.qZA()()()()),2&n&&(e.xp6(4),e.Q6J("hole",r.panelInfo.feature.properties)("resetBlastabilityLayer",!0)("colorMap",r.colorMap)("mineSite",r.mineSite),e.xp6(6),e.Q6J("ngForOf",r.dataPointsFields))},directives:[$.xw,$.Wh,dt.a,V.KI,$.yH,b.sg,b.O5,Ze],encapsulation:2}),t}(),vn=o(89255),cn=o(81186),pt=function(){return(t=pt||(pt={})).BURDEN="burden",t.SPACING="spacing",t.EXPLOSIVE="explosive",t.COLLAR_HEIGHT="collarHeight",t.SUBDRILL_LENGTH="subdrillLength",t.HOLE_DIAMETER="holeDiameter",t.ENERGY_FACTOR="energyFactor",pt;var t}(),So=o(33816),Do=o.n(So),Cn=o(65062),Eo=o(80013),bn=function(){var t=function(u){(0,f.Z)(r,u);var n=(0,S.Z)(r);function r(){var v;return(0,h.Z)(this,r),(v=n.call(this)).valueChanges=new e.vpe,v}return(0,D.Z)(r,[{key:"initSliders",value:function(s){var L=[],z=this.data;for(var fe in z)s.hasOwnProperty(fe)&&L.push(Object.assign(s[fe].recommendedLimits?Object.assign(Object.assign({},s[fe]),this.getRecommendedLimits(s[fe])):Object.assign({},s[fe]),{actual:z[fe]}));this.sliderList=L}},{key:"getRecommendedLimits",value:function(s){var L,z;return{minRecommended:this.data[null===(L=s.recommendedLimits)||void 0===L?void 0:L.minRecommendedKey],maxRecommended:this.data[null===(z=s.recommendedLimits)||void 0===z?void 0:z.maxRecommendedKey]}}},{key:"createFormGroup",value:function(){return this.sliderList.reduce(function(s,L){return Object.assign(Object.assign({},s),(0,c.Z)({},L.control,new je.NI(L.actual,[je.kI.min(L.min),je.kI.max(L.max)])))},{})}},{key:"subscribeToValueChanges",value:function(){var s=this;this.form&&this.form.valueChanges.pipe((0,Eo.b)(200),(0,m.R)(this.destroy$)).subscribe(function(){s.valueChanges.emit(s.form.getRawValue())})}}]),r}(y.eO);return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=e.lG2({type:t,inputs:{data:"data",mineSite:"mineSite"},outputs:{valueChanges:"valueChanges"},features:[e.qOj]}),t}(),Fo=o(78029),To=o(26215),Io=o(30349);function Ao(t,u){if(1&t&&(e.TgZ(0,"em",10),e._uU(1),e.ALo(2,"number"),e.ALo(3,"fixTo"),e.ALo(4,"number"),e.ALo(5,"fixTo"),e.qZA()),2&t){var n=e.oxw().$implicit,r=e.oxw();e.ekj("recommended-limits--invalid",r.hasErrorForRecommendedLimits(n)),e.xp6(1),e.AsE(" (",n.isInteger?e.lcZ(2,4,n.minRecommended):e.xi3(3,6,n.minRecommended,1)," - ",n.isInteger?e.lcZ(4,9,n.maxRecommended):e.xi3(5,11,n.maxRecommended,1),")")}}function ko(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"div",2)(1,"div")(2,"span",3),e._uU(3),e.qZA(),e.TgZ(4,"span",4),e._uU(5),e.ALo(6,"unit"),e.ALo(7,"number"),e.ALo(8,"unit"),e.ALo(9,"number"),e.ALo(10,"fixTo"),e.YNc(11,Ao,6,14,"em",5),e.qZA()(),e.TgZ(12,"div")(13,"mat-slider",6),e.NdJ("input",function(L){var fe=e.CHM(n).$implicit;return e.oxw().updateSliderValue(fe.control,L)}),e.qZA(),e.TgZ(14,"div",7)(15,"span",8),e._uU(16),e.ALo(17,"number"),e.ALo(18,"fixTo"),e.qZA(),e.TgZ(19,"span",9),e._uU(20),e.ALo(21,"number"),e.ALo(22,"fixTo"),e.qZA()()()()}if(2&t){var r=u.$implicit,v=e.oxw();e.xp6(3),e.hij(" ",r.header,": "),e.xp6(1),e.ekj("item-props__value--disabled",v.form.get(r.control).disabled)("item-props__value--invalid",v.form.controls[r.control].invalid),e.xp6(1),e.hij(" ",r.isInteger?e.xi3(6,15,e.lcZ(7,18,v.form.getRawValue()[r.control]),r.units):e.xi3(8,20,e.lcZ(9,23,e.xi3(10,25,v.form.getRawValue()[r.control],1)),r.units)," "),e.xp6(6),e.Q6J("ngIf",r.recommendedLimits),e.xp6(2),e.Q6J("min",r.min)("max",r.max)("step",r.step)("formControlName",r.control),e.xp6(1),e.ekj("slider-ranges-label--disabled",v.form.get(r.control).disabled),e.xp6(2),e.Oqu(r.isInteger?e.lcZ(17,28,r.min):e.xi3(18,30,r.min,1)),e.xp6(4),e.Oqu(r.isInteger?e.lcZ(21,33,r.max):e.xi3(22,35,r.max,1))}}var Pn=function(){var t=function(){function u(){(0,h.Z)(this,u),this.valueChanged=new e.vpe}return(0,D.Z)(u,[{key:"hasErrorForRecommendedLimits",value:function(r){var v=r.min,s=r.max,z=r.maxRecommended,fe=function(He){return He>=v&&He<=s};return!fe(r.minRecommended)||!fe(z)}},{key:"updateSliderValue",value:function(r,v){this.form.get(r).setValue(v.value),this.valueChanged.emit(r)}}]),u}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["dabo-prediction-slider-section"]],inputs:{sliderList:"sliderList",form:"form"},outputs:{valueChanged:"valueChanged"},decls:2,vars:2,consts:[[3,"formGroup"],["fxLayout","column",4,"ngFor","ngForOf"],["fxLayout","column"],[1,"item-props__name--slider"],[1,"item-props__value"],["class","recommended-limits",3,"recommended-limits--invalid",4,"ngIf"],[3,"min","max","step","formControlName","input"],["fxLayoutAlign","space-between","fxLayout","row",1,"slider-ranges-label"],[1,"item-props__label--custom","item-props__label--text-start"],[1,"item-props__label--custom","item-props__label--text-end"],[1,"recommended-limits"]],template:function(n,r){1&n&&(e.ynx(0,0),e.YNc(1,ko,23,38,"div",1),e.BQk()),2&n&&(e.Q6J("formGroup",r.form),e.xp6(1),e.Q6J("ngForOf",r.sliderList))},directives:[je.JL,je.sg,b.sg,$.xw,b.O5,Fo.pH,je.JJ,je.u,$.Wh],pipes:[To.O,b.JJ,Io.L],styles:[".slider-ranges-label--disabled[_ngcontent-%COMP%], .slider-value--disabled[_ngcontent-%COMP%]{color:#00f}.slider-ranges-label--disabled[_ngcontent-%COMP%]   .item-props__label--custom[_ngcontent-%COMP%], .slider-value--disabled[_ngcontent-%COMP%]   .item-props__label--custom[_ngcontent-%COMP%]{color:#586b7abf}"]}),t}();function xo(t,u){if(1&t&&(e.TgZ(0,"option",7),e._uU(1),e.qZA()),2&t){var n=u.$implicit;e.Q6J("value",n.value),e.xp6(1),e.hij(" ",n.label," ")}}var On=pt.BURDEN,yn=pt.SPACING,xt=pt.EXPLOSIVE,Tt=pt.HOLE_DIAMETER,un=pt.COLLAR_HEIGHT,Lt=pt.SUBDRILL_LENGTH,Lo=function(){var t=function(u){(0,f.Z)(r,u);var n=(0,S.Z)(r);function r(v){var s;return(0,h.Z)(this,r),(s=n.call(this)).cdr=v,s.valueChanges=new e.vpe,s.holeDiameterDropdownOptions=[{value:"311",label:"311 mm"},{value:"270",label:"270 mm"}],s}return(0,D.Z)(r,[{key:"factor",get:function(){var L=+this.form.get(Tt).value;return Math.PI/4*Math.pow(L,2)*1.07*1250*Math.pow(10,-6)}},{key:"isBenchPreconditioned",get:function(){var s,L=this.benchInfo.find(function(z){return"preconditioning"===z.value});return!Do()(L.dataSource.preconditioning)&&"yes"===(null===(s=L.dataSource)||void 0===s?void 0:s.preconditioning.toLowerCase())}},{key:"holeDepth",get:function(){var s=+this.form.get(Lt).value;return this.isBenchPreconditioned?15+s:16}},{key:"ngOnChanges",value:function(){this.initSlidersData(),this.initForm(),this.subscribeToValueChanges()}},{key:"initSlidersData",value:function(){this.initSliders(Cn.S[M.q.HVC])}},{key:"initForm",value:function(){var s=this.createFormGroup();s[Tt]=new je.NI(String(this.data.holeDiameter)),this.form=new je.cw(s),this.setSubDrillLengthState()}},{key:"recalculateDependencies",value:function(s){if([un,Lt,Tt].includes(s)){var z=+this.form.get(un).value,fe=this.sliderList.find(function(He){return He.control===xt}).step;this.sliderData=(0,c.Z)({},xt,Math.round((this.holeDepth-z)*this.factor/fe)*fe)}if(s===xt){var Je=+this.form.get(xt).value;this.sliderData=(0,c.Z)({},un,this.holeDepth-Je/this.factor)}this.sliderData=Object.assign(Object.assign({},this.sliderData),(0,c.Z)({},Tt,+this.form.get(Tt).value)),this.controlBurdenSpacingRelations(s),this.cdr.markForCheck(),this.form.patchValue(this.sliderData)}},{key:"setSubDrillLengthState",value:function(){this.isBenchPreconditioned||(this.form.get(Lt).patchValue(1),this.form.get(Lt).disable())}},{key:"controlBurdenSpacingRelations",value:function(s){var L=+this.form.get(s).value;s===On?this.sliderData=(0,c.Z)({},yn,1.15*L):s===yn&&(this.sliderData=(0,c.Z)({},On,L/1.15))}}]),r}(bn);return t.\u0275fac=function(n){return new(n||t)(e.Y36(e.sBO))},t.\u0275cmp=e.Xpm({type:t,selectors:[["dabo-prediction-form-hvc"]],inputs:{benchInfo:"benchInfo",data:"data"},outputs:{valueChanges:"valueChanges"},features:[e.qOj,e.TTD],decls:8,vars:4,consts:[[3,"formGroup"],[3,"sliderList","form","valueChanged"],["fxLayout","row","fxLayoutAlign","start"],[1,"item-props__name--start"],[1,"item-props__value"],["formControlName","holeDiameter","name","holeDiameter",1,"native-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,r){1&n&&(e.TgZ(0,"form",0)(1,"dabo-prediction-slider-section",1),e.NdJ("valueChanged",function(s){return r.recalculateDependencies(s)}),e.qZA(),e.TgZ(2,"div",2)(3,"span",3),e._uU(4," Hole Diameter: "),e.qZA(),e.TgZ(5,"span",4)(6,"select",5),e.NdJ("change",function(){return r.recalculateDependencies("holeDiameter")}),e.YNc(7,xo,2,2,"option",6),e.qZA()()()()),2&n&&(e.Q6J("formGroup",r.form),e.xp6(1),e.Q6J("sliderList",r.sliderList)("form",r.form),e.xp6(6),e.Q6J("ngForOf",r.holeDiameterDropdownOptions))},directives:[je._Y,je.JL,je.sg,Pn,$.xw,$.Wh,je.EJ,je.JJ,je.u,b.sg,je.YN,je.Kr],encapsulation:2}),t}(),No=function(){var t=function(u){(0,f.Z)(r,u);var n=(0,S.Z)(r);function r(){var v;return(0,h.Z)(this,r),(v=n.apply(this,arguments)).valueChanges=new e.vpe,v}return(0,D.Z)(r,[{key:"ngOnChanges",value:function(){this.initSlidersData(),this.initForm(),this.subscribeToValueChanges()}},{key:"initSlidersData",value:function(){this.initSliders(Cn.S.coal)}},{key:"initForm",value:function(){this.form=new je.cw(this.createFormGroup())}}]),r}(bn);return t.\u0275fac=function(){var u;return function(r){return(u||(u=e.n5z(t)))(r||t)}}(),t.\u0275cmp=e.Xpm({type:t,selectors:[["dabo-prediction-form-coal"]],inputs:{data:"data"},outputs:{valueChanges:"valueChanges"},features:[e.qOj,e.TTD],decls:2,vars:3,consts:[[3,"formGroup"],[3,"sliderList","form"]],template:function(n,r){1&n&&(e.TgZ(0,"form",0),e._UZ(1,"dabo-prediction-slider-section",1),e.qZA()),2&n&&(e.Q6J("formGroup",r.form),e.xp6(1),e.Q6J("sliderList",r.sliderList)("form",r.form))},directives:[je._Y,je.JL,je.sg,Pn],encapsulation:2}),t}();function Zo(t,u){1&t&&(e.TgZ(0,"div",12),e._UZ(1,"div",13),e.qZA())}function wo(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",26),2&t){var n=e.oxw().$implicit;e.Q6J("labelClass","item-props__name--half")("valueClass","item-props__value--half--mg-l-10")("value",n.value)("label",n.label)("translated",!1)("data",n.dataSource)("pipes",n.pipes)}}function Ro(t,u){if(1&t&&(e.ynx(0),e.YNc(1,wo,1,7,"dabo-map-panel-field",25),e.BQk()),2&t){var n=u.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r.panelField.isShown(n))}}function Bo(t,u){if(1&t&&(e.ynx(0),e._UZ(1,"dabo-map-panel-field",27),e.BQk()),2&t){var n=u.$implicit;e.xp6(1),e.Q6J("labelClass","item-props__name--prediction")("valueClass","item-props__value")("value",n.value)("label",n.label)("translated",!1)("joinBy",n.joinBy)("data",n.dataSource)("pipes",n.pipes)}}function Uo(t,u){if(1&t&&(e.ynx(0),e.TgZ(1,"div",14)(2,"div",15)(3,"div",18)(4,"span",19),e._uU(5,"Predicted data:"),e.qZA()(),e.YNc(6,Bo,2,8,"ng-container",16),e.qZA()(),e._UZ(7,"div",17),e.BQk()),2&t){var n=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",n.predictedResultFields)}}function Ho(t,u){1&t&&e.GkF(0)}function Vo(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"div")(1,"button",28),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).resetToDefault()}),e._uU(2," Reset "),e.qZA(),e.TgZ(3,"button",29),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).applyChanges()}),e._uU(4," Apply "),e.qZA()()}if(2&t){var r=e.oxw(2);e.xp6(1),e.Q6J("disabled",r.isResetDisabled()),e.xp6(2),e.Q6J("disabled",r.isApplyDisabled())}}function jo(t,u){if(1&t&&(e.ynx(0),e._UZ(1,"dabo-map-panel-field",27),e.BQk()),2&t){var n=u.$implicit;e.xp6(1),e.Q6J("labelClass","item-props__name--prediction")("valueClass","item-header__value")("value",n.value)("label",n.label)("translated",!1)("joinBy",n.joinBy)("data",n.dataSource)("pipes",n.pipes)}}function Jo(t,u){if(1&t){var n=e.EpF();e.ynx(0),e.TgZ(1,"div",14)(2,"div",15),e.YNc(3,Ro,2,1,"ng-container",16),e.qZA()(),e._UZ(4,"div",17),e.YNc(5,Uo,8,1,"ng-container",9),e.TgZ(6,"div",14)(7,"div",15)(8,"div",18)(9,"span",19),e._uU(10),e.qZA()(),e.YNc(11,Ho,1,0,"ng-container",20),e.TgZ(12,"div",21)(13,"button",22),e.NdJ("click",function(){return e.CHM(n),e.oxw().toggleRecommendedDataEdit()}),e._uU(14),e._UZ(15,"span",23),e.qZA(),e.YNc(16,Vo,5,2,"div",9),e.qZA()()(),e._UZ(17,"div",17),e.TgZ(18,"div",24)(19,"div",15)(20,"div",18)(21,"span",19),e._uU(22,"Result data:"),e.qZA()(),e.YNc(23,jo,2,8,"ng-container",16),e.qZA()(),e._UZ(24,"div",17),e.BQk()}if(2&t){var r=e.oxw(),v=e.MAs(11),s=e.MAs(13);e.xp6(3),e.Q6J("ngForOf",r.generalFileDataFields),e.xp6(2),e.Q6J("ngIf",!r.isHVC()),e.xp6(5),e.hij("Recommended data",r.isPredictionRecalculated?" (modified):":":",""),e.xp6(1),e.Q6J("ngTemplateOutlet",r.isRecommendedEditable?s:v),e.xp6(3),e.hij(" ",r.isRecommendedEditable?"Hide":"Edit Values"," "),e.xp6(1),e.Q6J("ngClass",r.isRecommendedEditable?"icon-arrow-top":"icon-arrow-down"),e.xp6(1),e.Q6J("ngIf",r.isRecommendedEditable),e.xp6(7),e.Q6J("ngForOf",r.resultDataFields)}}function Qo(t,u){if(1&t&&(e.ynx(0),e._UZ(1,"dabo-map-panel-field",27),e.BQk()),2&t){var n=u.$implicit;e.xp6(1),e.Q6J("labelClass","item-props__name--prediction")("valueClass","item-header__value")("value",n.value)("label",n.label)("translated",!1)("joinBy",n.joinBy)("data",n.dataSource)("pipes",n.pipes)}}function Go(t,u){if(1&t&&e.YNc(0,Qo,2,8,"ng-container",16),2&t){var n=e.oxw();e.Q6J("ngForOf",n.recommendedDataFields)}}function Yo(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"dabo-prediction-form-hvc",32),e.NdJ("valueChanges",function(s){return e.CHM(n),e.oxw(2).onFormChanged(s)}),e.qZA()}if(2&t){var r=e.oxw(2);e.Q6J("data",r.dataForEditForm)("benchInfo",r.generalFileDataFields)}}function Wo(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"dabo-prediction-form-coal",33),e.NdJ("valueChanges",function(s){return e.CHM(n),e.oxw(2).onFormChanged(s)}),e.qZA()}if(2&t){var r=e.oxw(2);e.Q6J("data",r.dataForEditForm)}}function Ko(t,u){if(1&t&&(e.YNc(0,Yo,1,2,"dabo-prediction-form-hvc",30),e.YNc(1,Wo,1,1,"dabo-prediction-form-coal",31)),2&t){var n=e.oxw();e.Q6J("ngIf",n.isHVC()),e.xp6(1),e.Q6J("ngIf",!n.isHVC())}}var zo=function(){var t=function(u){(0,f.Z)(r,u);var n=(0,S.Z)(r);function r(v,s,L,z,fe,Je,He){var ke;return(0,h.Z)(this,r),(ke=n.call(this)).cdr=v,ke.fieldsFactory=s,ke.plannedBenchesApiService=L,ke.inspectorService=z,ke.predictionResultsService=fe,ke.panelField=Je,ke.customEventService=He,ke.closePanel=new e.vpe,ke.miningSites=M.q,ke.generalFileDataFields=[],ke.recommendedDataFields=[],ke.resultDataFields=[],ke.predictedResultFields=[],ke.isRecommendedEditable=!1,ke.isPredictionRecalculated=!1,ke.formValue={},ke.loading=!1,ke}return(0,D.Z)(r,[{key:"ngOnChanges",value:function(s){var L,z=s.mineSite,fe=s.panelInfo;!(null==fe?void 0:fe.currentValue.polygonData)||(null==fe?void 0:fe.currentValue.polygonData.uuid)===(null===(L=null==fe?void 0:fe.previousValue.polygonData)||void 0===L?void 0:L.uuid)||(this.cancelSubscription(),this.plannedBenchUuid=this.panelInfo.polygonData.uuid,this.polygonName=this.panelInfo.polygonData.polygonName,this.isRecommendedEditable=!1,this.generalFileDataFields=this.fieldsFactory.createConfig("PB_POLYGON_GENERAL",this.panelInfo.polygonData,this.mineSite),this.initRecalculatableData(),this.predictedResultFields=this.fieldsFactory.createConfig("PB_PREDICTED",this.panelInfo.polygonData,this.mineSite),z&&!z.isFirstChange()&&this.closePanel.emit("closed"))}},{key:"ngOnDestroy",value:function(){this.inspectorService.setLoading(!1),(0,_t.Z)((0,ht.Z)(r.prototype),"ngOnDestroy",this).call(this)}},{key:"togglePanel",value:function(){this.closePanel.emit("closed")}},{key:"onFormChanged",value:function(s){this.formValue=s,this.cdr.detectChanges()}},{key:"toggleRecommendedDataEdit",value:function(){this.formValue={},this.isRecommendedEditable=!this.isRecommendedEditable,this.cdr.detectChanges()}},{key:"applyChanges",value:function(){var s=this;this.loading=!0,this.timeStart=(new Date).getTime(),this.inspectorService.setLoading(!0),this.sendMetricsUpdateEvent(this.formValue),this.cdr.detectChanges(),this.recalculationSubscription=this.plannedBenchesApiService.getUpdatedPredictionResults(this.plannedBenchUuid,this.formValue).pipe((0,m.R)(this.destroy$)).subscribe(function(L){s.setConfigForRecommendedFields(Object.assign(Object.assign({},s.panelInfo.polygonData),s.formValue)),s.setConfigForResultFields(Object.assign({},L.inspectorData)),s.setEditForm(Object.assign(Object.assign({},s.dataForEditForm),s.formValue)),s.predictionResultsService.updateRecalculatedData(s.plannedBenchUuid,{recommendedData:s.recommendedDataFields,recommendedFormData:s.dataForEditForm,results:s.resultDataFields},L),s.formValue={},s.isPredictionRecalculated=!0,s.loading=!1,s.inspectorService.setLoading(!1);var z=(new Date).getTime();s.customEventService.event(vn.R.LOADING_TERMINATE,{loading_terminate_time:z-s.timeStart}),s.cdr.detectChanges()},function(){s.onError()})}},{key:"resetToDefault",value:function(){var s=this;this.isPredictionRecalculated?(this.loading=!0,this.inspectorService.setLoading(!0),this.cdr.detectChanges(),this.recalculationSubscription=this.plannedBenchesApiService.getUpdatedPredictionResults(this.plannedBenchUuid).pipe((0,m.R)(this.destroy$)).subscribe(function(L){s.setEditForm(s.initialDataForEditForm),s.setConfigForResultFields(s.panelInfo.polygonData),s.setConfigForRecommendedFields(s.panelInfo.polygonData),s.predictionResultsService.resetRecalculatedData(s.plannedBenchUuid,L),s.isPredictionRecalculated=!1,s.loading=!1,s.formValue={},s.inspectorService.setLoading(!1),s.cdr.detectChanges()},function(){s.onError()})):(this.formValue={},this.setEditForm(Object.assign({},this.initialDataForEditForm)),this.cdr.detectChanges())}},{key:"isResetDisabled",value:function(){return(0,se.isEmpty)(this.formValue)&&!this.inspectorService.hasRecalculatedData(this.plannedBenchUuid)}},{key:"isApplyDisabled",value:function(){return(0,se.isEmpty)(this.formValue)}},{key:"isHVC",value:function(){return y.ZA.isHVC(this.mineSite)}},{key:"updatePolygonName",value:function(){var s=this,L=this.panelInfo.polygonData,z=L.polygonName,fe=L.uuid;this.polygonName=this.polygonName||z,this.polygonName!==z&&(this.inspectorService.panelInfoData$.next({uuid:fe,polygonName:this.polygonName}),this.plannedBenchesApiService.updatePolygonName(fe,this.polygonName).subscribe(function(){s.panelInfo.polygonData.polygonName=s.polygonName},function(){s.inspectorService.panelInfoData$.next({uuid:fe,polygonName:z}),s.polygonName=z,s.cdr.detectChanges()}))}},{key:"setConfigForResultFields",value:function(s){this.resultDataFields=this.fieldsFactory.createConfig(this.isHVC()?"PB_RESULT_HVC":"PB_RESULT_COAL",s)}},{key:"setConfigForRecommendedFields",value:function(s){this.recommendedDataFields=this.fieldsFactory.createConfig(this.isHVC()?"PB_RECOMMENDED_HVC":"PB_RECOMMENDED_COAL",s)}},{key:"initRecalculatableData",value:function(){if(this.isPredictionRecalculated=this.inspectorService.hasRecalculatedData(this.plannedBenchUuid),this.initialDataForEditForm=this.inspectorService.getInitialDataForEditForm(this.panelInfo.polygonData,this.mineSite),this.isPredictionRecalculated){var s=this.inspectorService.getRecalculatedData(this.plannedBenchUuid),L=s.recommendedData,fe=s.results;this.setEditForm(s.recommendedFormData),this.resultDataFields=fe,this.recommendedDataFields=L}else this.setEditForm(this.initialDataForEditForm),this.setConfigForResultFields(this.panelInfo.polygonData),this.setConfigForRecommendedFields(this.panelInfo.polygonData)}},{key:"cancelSubscription",value:function(){this.recalculationSubscription&&(this.loading=!1,this.inspectorService.setLoading(!1),this.recalculationSubscription.unsubscribe(),this.recalculationSubscription=null)}},{key:"onError",value:function(){this.inspectorService.setLoading(!1),this.loading=!1,this.cdr.detectChanges()}},{key:"setEditForm",value:function(s){this.dataForEditForm=s}},{key:"sendMetricsUpdateEvent",value:function(s){var L=this,fe=Object.keys(this.initialDataForEditForm).filter(function(He){return s[He]&&s[He]!==L.initialDataForEditForm[He]}).join(", ");this.customEventService.event(vn.R.PLANNED_BENCHES_METRIC_UPDATE,{planned_benches_metric:fe})}}]),r}(y.eO);return t.\u0275fac=function(n){return new(n||t)(e.Y36(e.sBO),e.Y36(B.E),e.Y36(cn.I),e.Y36(cn.CB),e.Y36(cn.br),e.Y36(Xe.O),e.Y36(C.qL))},t.\u0275cmp=e.Xpm({type:t,selectors:[["dabo-pattern-prediction-panel"]],inputs:{panelInfo:"panelInfo",mineSite:"mineSite"},outputs:{closePanel:"closePanel"},features:[e.qOj,e.TTD],decls:14,vars:3,consts:[[1,"map-panel","map-panel--prediction"],["fxLayout","row","fxLayoutAlign","space-between center",1,"map-panel__header"],[1,"map-panel__header-props"],[1,"map-panel__header-name"],["type","text","maxlength","50",1,"map-panel__header-name__polygon",3,"ngModel","ngModelChange","keyup.enter","blur"],[1,"icon-polygon-name"],[1,"icon","icon-close","map-panel__header-close",3,"click"],[1,"map-panel__data"],["class","base-spinner-wrapper","fxFill","","fxLayoutAlign","center center",4,"ngIf"],[4,"ngIf"],["recommendedNotEditable",""],["recommendedEditable",""],["fxFill","","fxLayoutAlign","center center",1,"base-spinner-wrapper"],[1,"spinner"],[1,"map-panel__item"],["fxFlex","",1,"map-panel__item-props"],[4,"ngFor","ngForOf"],[1,"divider--line"],["fxLayout","row",1,"map-panel__item-header"],[1,"item-header__title"],[4,"ngTemplateOutlet"],["fxLayout","row","fxLayoutGap","18%",1,"button-row"],["mat-button","",1,"pd0","btn","btn--outline","btn--xs",3,"click"],[1,"icon","button-icon",3,"ngClass"],[1,"map-panel__item","highlighted-section--prediction"],[3,"labelClass","valueClass","value","label","translated","data","pipes",4,"ngIf"],[3,"labelClass","valueClass","value","label","translated","data","pipes"],[3,"labelClass","valueClass","value","label","translated","joinBy","data","pipes"],["mat-button","",1,"btn","btn--outline","btn--xs",3,"disabled","click"],["mat-button","",1,"btn","btn--primary","btn--xs",3,"disabled","click"],[3,"data","benchInfo","valueChanges",4,"ngIf"],[3,"data","valueChanges",4,"ngIf"],[3,"data","benchInfo","valueChanges"],[3,"data","valueChanges"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3)(4,"input",4),e.NdJ("ngModelChange",function(s){return r.polygonName=s})("keyup.enter",function(s){return s.target.blur()})("blur",function(){return r.updatePolygonName()}),e.qZA(),e._UZ(5,"span",5),e.qZA()(),e.TgZ(6,"span",6),e.NdJ("click",function(){return r.togglePanel()}),e.qZA()(),e.TgZ(7,"div",7),e.YNc(8,Zo,2,0,"div",8),e.YNc(9,Jo,25,8,"ng-container",9),e.qZA()(),e.YNc(10,Go,1,1,"ng-template",null,10,e.W1O),e.YNc(12,Ko,2,2,"ng-template",null,11,e.W1O)),2&n&&(e.xp6(4),e.Q6J("ngModel",r.polygonName),e.xp6(4),e.Q6J("ngIf",r.loading),e.xp6(1),e.Q6J("ngIf",!r.loading))},directives:[$.xw,$.Wh,je.Fj,je.nD,je.JJ,je.On,b.O5,$.s9,$.yH,b.sg,Ze,b.tP,$.SQ,vt.lW,b.mk,Lo,No],encapsulation:2,changeDetection:0}),t}(),$o=o(46057),Xo=o(48966),qo=o(11479),ei=o(72810),ti=o(7813);function ni(t,u){if(1&t&&(e.TgZ(0,"span",21),e._UZ(1,"dabo-hole-point",22),e.qZA()),2&t){var n=e.oxw();e.xp6(1),e.Q6J("colorMap",n.panelInfo.type)("resetBlastabilityLayer",!0)("hole",n.panelInfo.defaultHoleData)("mineSite",n.mineSite)}}function oi(t,u){if(1&t&&(e.TgZ(0,"span",21),e._UZ(1,"dabo-hole-point",23),e.qZA()),2&t){var n=e.oxw();e.xp6(1),e.Q6J("hole",n.panelInfo.defaultHoleData)("colorMap",n.panelInfo.type)("mineSite",n.mineSite)}}function ii(t,u){if(1&t&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"digit"),e.qZA()),2&t){var n=e.oxw();e.xp6(1),e.AsE(" ",e.lcZ(2,2,n.panelInfo.defaultHoleData.id)," ",n.panelInfo.defaultHoleData.type," ")}}function ai(t,u){if(1&t&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"digit"),e.qZA()),2&t){var n=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,n.panelInfo.defaultHoleData.id)," ")}}var Mn=function(u){return{disabled:u}};function ri(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){return e.CHM(n),e.oxw().openEditModal()}),e._UZ(1,"span",26)(2,"span",27),e.qZA()}if(2&t){var r=e.oxw();e.Q6J("disabled",!r.editEnabled),e.xp6(1),e.Q6J("ngClass",e.VKq(3,Mn,!r.editEnabled)),e.xp6(1),e.Q6J("ngClass",e.VKq(5,Mn,!r.editEnabled))}}function si(t,u){1&t&&(e.TgZ(0,"div",28)(1,"span"),e._uU(2),e.ALo(3,"transloco"),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"mapTranslations.single_hole.userMisfire")))}function li(t,u){1&t&&(e.TgZ(0,"div",28)(1,"span"),e._uU(2),e.ALo(3,"transloco"),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"mapTranslations.single_hole.userCaved")))}function ci(t,u){1&t&&e._UZ(0,"div",32)}function ui(t,u){1&t&&e._UZ(0,"div",33)}function di(t,u){if(1&t&&(e.TgZ(0,"div",29),e.YNc(1,ci,1,0,"div",30),e.YNc(2,ui,1,0,"div",31),e.qZA()),2&t){var n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.isHVC),e.xp6(1),e.Q6J("ngIf",!n.isHVC)}}function pi(t,u){if(1&t&&e._UZ(0,"dabo-comment",34),2&t){var n=e.oxw();e.Q6J("id",n.panelInfo.defaultHoleData.uniqueHoleId)}}function gi(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",36),2&t){var n=e.oxw().$implicit;e.Q6J("value",n.value)("label",n.label)("joinBy",n.joinBy)("data",n.dataSource)("pipes",n.pipes)("valueClass",n.valueClass)("tooltip",n.tooltip)("valueTooltipText",n.valueTooltipText)}}function mi(t,u){if(1&t&&(e.ynx(0),e.YNc(1,gi,1,8,"dabo-map-panel-field",35),e.BQk()),2&t){var n=u.$implicit,r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.panelField.isShown(n))}}function fi(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",38),2&t){var n=e.oxw().$implicit;e.Q6J("value",n.value)("label",n.label)("data",n.dataSource)("pipes",n.pipes)("translated",n.translated)("labelClass",n.labelClass)}}function _i(t,u){if(1&t&&(e.ynx(0),e.YNc(1,fi,1,6,"dabo-map-panel-field",37),e.BQk()),2&t){var n=u.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r.panelField.isShown(n))}}function hi(t,u){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,_i,2,1,"ng-container",14),e.qZA()),2&t){var n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.fragmentationOtherFields)}}function vi(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(n);var v=e.oxw(2).$implicit;return e.oxw(2).toggleHoleCharge(v)}),e.qZA()}}function Ci(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(n);var v=e.oxw(2).$implicit;return e.oxw(2).toggleHoleCharge(v)}),e.qZA()}}function bi(t,u){if(1&t&&(e.TgZ(0,"div",41),e.YNc(1,vi,1,0,"button",42),e.YNc(2,Ci,1,0,"button",43),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&t){var n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!n.display),e.xp6(1),e.Q6J("ngIf",n.display),e.xp6(2),e.Oqu(n.label)}}function Pi(t,u){if(1&t&&(e.ynx(0),e._UZ(1,"dabo-map-panel-field",47),e.BQk()),2&t){var n=u.$implicit,r=e.oxw(2).$implicit;e.xp6(1),e.Q6J("value",n.value)("label",n.label)("data",r)("pipes",n.pipes)}}function Oi(t,u){if(1&t&&(e.TgZ(0,"div")(1,"div",46),e.YNc(2,Pi,2,4,"ng-container",14),e.qZA()()),2&t){var n=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",n.chargesFields)}}function yi(t,u){if(1&t&&(e.ynx(0),e._UZ(1,"mat-divider"),e.YNc(2,bi,5,3,"div",40),e.YNc(3,Oi,3,1,"div",15),e.BQk()),2&t){var n=u.$implicit,r=e.oxw(2);e.xp6(2),e.Q6J("ngIf",r.isMultiChargedHoles(r.panelInfo.defaultHoleData.holeCharges)),e.xp6(1),e.Q6J("ngIf",n.display)}}function Mi(t,u){1&t&&e._UZ(0,"mat-divider")}function Si(t,u){if(1&t&&(e.TgZ(0,"div",39),e.YNc(1,yi,4,2,"ng-container",14),e.YNc(2,Mi,1,0,"mat-divider",15),e.qZA()),2&t){var n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.panelInfo.defaultHoleData.holeCharges),e.xp6(1),e.Q6J("ngIf",n.isMultiChargedHoles(n.panelInfo.defaultHoleData.holeCharges))}}function Di(t,u){if(1&t&&(e.TgZ(0,"div",49),e._UZ(1,"dabo-map-panel-field",50),e.qZA()),2&t){var n=e.oxw(2);e.xp6(1),e.Q6J("labelClass","item-header__title")("valueClass","item-header__value")("value",n.headerConfig.value)("label",n.headerConfig.label)("data",n.panelInfo.defaultHoleData)("pipes",n.headerConfig.pipes)}}function Ei(t,u){if(1&t&&e._UZ(0,"dabo-map-panel-field",47),2&t){var n=e.oxw().$implicit,r=e.oxw().$implicit;e.Q6J("value",n.value)("label",n.label+r.label)("data",r)("pipes",n.pipes)}}function Fi(t,u){if(1&t&&(e.ynx(0),e.YNc(1,Ei,1,4,"dabo-map-panel-field",52),e.BQk()),2&t){var n=u.$implicit,r=e.oxw(4);e.xp6(1),e.Q6J("ngIf",r.panelField.isShown(n))}}function Ti(t,u){if(1&t&&(e.TgZ(0,"div",46),e.YNc(1,Fi,2,1,"ng-container",14),e.qZA()),2&t){var n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",n.shortHoleChargesFields)}}function Ii(t,u){if(1&t&&(e.ynx(0),e.YNc(1,Ti,2,1,"div",51),e.BQk()),2&t){var n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.panelInfo.defaultHoleData.shortHoleCharges)}}var dn=function(){return{token:"digit"}},Nt=function(u){return[u]},Ai=function(u){return{name:"designDepth",pipes:u}},ki=function(u){return{name:"actualDepth",pipes:u}},xi=function(u,n){return[u,n]},Li=function(){return{token:"unit",args:"m"}};function Ni(t,u){if(1&t&&(e.ynx(0),e._UZ(1,"dabo-map-panel-field",53),e.BQk()),2&t){var n=e.oxw(2);e.xp6(1),e.Q6J("value",e.WLB(15,xi,e.VKq(8,Ai,e.VKq(6,Nt,e.DdM(5,dn))),e.VKq(13,ki,e.VKq(11,Nt,e.DdM(10,dn)))))("joinBy"," / ")("label","mapTranslations.single_hole.hole_depth_da")("data",n.panelInfo.defaultHoleData)("pipes",e.VKq(19,Nt,e.DdM(18,Li)))}}function Zi(t,u){if(1&t&&(e.ynx(0),e._UZ(1,"dabo-map-panel-field",47),e.BQk()),2&t){var n=e.oxw(2);e.xp6(1),e.Q6J("value","depthDiff")("label","mapTranslations.single_hole.difference")("data",n.panelInfo.defaultHoleData)("pipes",e.VKq(5,Nt,e.DdM(4,dn)))}}function wi(t,u){if(1&t&&(e.TgZ(0,"div",9)(1,"div"),e.YNc(2,Di,2,6,"div",48),e.YNc(3,Ii,2,1,"ng-container",15),e.qZA(),e.TgZ(4,"div",46),e.YNc(5,Ni,2,21,"ng-container",15),e.YNc(6,Zi,2,7,"ng-container",15),e.qZA()()),2&t){var n=e.oxw();e.xp6(2),e.Q6J("ngIf",!n.panelInfo.defaultHoleData.isBmm),e.xp6(1),e.Q6J("ngIf",!n.isHVC),e.xp6(2),e.Q6J("ngIf",n.isPresented("holeViewInspector.shortHoles.fields.designDepth")&&n.isPresented("holeViewInspector.shortHoles.fields.actualDepth")&&n.isHVC&&!n.panelInfo.defaultHoleData.isBmm),e.xp6(1),e.Q6J("ngIf",n.isPresented("holeViewInspector.shortHoles.fields.depthDiff")&&!n.panelInfo.defaultHoleData.isBmm)}}function Ri(t,u){if(1&t&&e._UZ(0,"dabo-distribution-chart",54),2&t){var n=e.oxw();e.Q6J("chartConfig",n.panelInfo.defaultHoleData.distributionCurveData)}}var Bi=function(){var t=function(u){(0,f.Z)(r,u);var n=(0,S.Z)(r);function r(v,s,L,z,fe,Je,He){var ke;return(0,h.Z)(this,r),(ke=n.call(this,v,s)).fieldsFactory=v,ke.panelField=s,ke.panelService=L,ke.dialog=z,ke.cdr=fe,ke.editHoleService=Je,ke.permissionService=He,ke.holesDataFields=[],ke.drillProductivityFields=[],ke.collarElevationFields=[],ke.shortHoleChargesFields=[],ke.chargesFields=[],ke.fragmentationOtherFields=[],ke.fragmentationOver10inFields=[],ke.fragmentationLess36inFields=[],ke}return(0,D.Z)(r,[{key:"ngOnChanges",value:function(){this.isHVC=y.ZA.isHVC(this.mineSite),this.isRDO=y.ZA.isRDO(this.mineSite),this.isDrillProductivityOnRDO=y.ZA.isRDO(this.mineSite)&&this.panelInfo.type===p.N.DRILL_PRODUCTIVITY,this.holesDataFields=this.fieldsFactory.createConfig("SH_FIELDS",this.panelInfo.defaultHoleData,this.mineSite,this.panelInfo.type),this.drillProductivityFields=this.fieldsFactory.createConfig("SH_PRODUCTIVITY",this.panelInfo.defaultHoleData,this.mineSite),this.collarElevationFields=this.fieldsFactory.createConfig("SH_ELEVATION",this.panelInfo.defaultHoleData,this.mineSite),this.shortHoleChargesFields=this.fieldsFactory.createConfig("SH_SHORT_HOLE_CHARGES"),this.chargesFields=this.fieldsFactory.createConfig("SH_CHARGES"),this.fragmentationOtherFields=this.fieldsFactory.createConfig("FRAGMENTATION_OTHER",this.panelInfo.defaultHoleData,this.mineSite,this.colorMap),this.fragmentationOver10inFields=this.fieldsFactory.createConfig("FRAGMENTATION_OVER_10_IN",this.panelInfo.defaultHoleData,this.mineSite),this.fragmentationLess36inFields=this.fieldsFactory.createConfig("FRAGMENTATION_LESS_36_IN",this.panelInfo.defaultHoleData,this.mineSite)}},{key:"ngOnInit",value:function(){var s=this;this.headerConfig={value:"shortHoleTypeString",label:"mapTranslations.header.shortHoleTypeString",pipes:[{token:"titlecase"}]},this.permissionService.permissions$.pipe((0,m.R)(this.destroy$)).subscribe(function(L){s.permission=L[s.permissionService.mapPermissionsPerPage].components.map.controls.viewSwitcher.holesView.holeViewInspector.main})}},{key:"fieldsData",get:function(){var s=(0,Qe.Z)(this.holesDataFields);return this.panelInfo.type===p.N.DRILL_PRODUCTIVITY&&(s=this.isRDO?[].concat((0,Qe.Z)(s),(0,Qe.Z)(this.fragmentationOtherFields),(0,Qe.Z)(this.drillProductivityFields)):[].concat((0,Qe.Z)(s),(0,Qe.Z)(this.drillProductivityFields))),this.panelInfo.type===p.N.COLLAR_ELEVATION&&(s=[].concat((0,Qe.Z)(s),(0,Qe.Z)(this.collarElevationFields))),this.panelInfo.type===p.N.ExplosiveLoadingVsDrillingTime&&(s=[].concat((0,Qe.Z)(s),(0,Qe.Z)(this.collarElevationFields))),s}},{key:"editAvailable",get:function(){return!this.isReportsPage&&!this.compareSide&&!this.panelInfo.defaultHoleData.isBmm&&this.permission.editOption}},{key:"editEnabled",get:function(){return this.editHoleService.isEditingPossible(this.panelInfo.defaultHoleData)}},{key:"isPreconditioningHole",value:function(){return y.ZA.isMetalMine(this.mineSite)&&this.panelInfo.defaultHoleData.isPreconditioning}},{key:"isLoadingColorMap",value:function(){return this.panelInfo&&(this.panelInfo.type===p.N.LOADING||null===this.panelInfo.type)}},{key:"isShortHolesColorMap",value:function(){return this.panelInfo&&"shortHoleType"===this.panelInfo.type}},{key:"isShortHole",value:function(){return 0!==this.panelInfo.defaultHoleData.shortHoleType}},{key:"isPresented",value:function(s){return this.panelField.isFieldPresented(s)}},{key:"isChartShown",value:function(){return this.isHVC&&this.panelInfo.type===p.N.AVERAGE_FRAGMENTATION&&!this.panelInfo.defaultHoleData.isBmm}},{key:"isHoleChargesShown",value:function(){return this.panelInfo.type===p.N.LOADING||this.panelInfo.type===p.N.EXPLOSIVE_KG||this.panelInfo.type===p.N.POWDER_FACTOR}},{key:"openEditModal",value:function(){this.dialog.open($o.P,{panelClass:"modal-base",autoFocus:!1,disableClose:!0,height:"auto",width:"300px",data:{properties:[this.panelInfo.defaultHoleData],onSuccess:this.editHandler.bind(this)}})}},{key:"editHandler",value:function(s){var z=s.updatedKeys,fe=s.params[0];this.panelInfo=Object.assign(Object.assign({},this.panelInfo),{defaultHoleData:Object.assign(Object.assign(Object.assign({},this.panelInfo.defaultHoleData),fe),{updatedKeys:z})}),this.panelService.panelInfoData$.next(Object.assign(Object.assign({},fe),{updatedKeys:z})),this.cdr.detectChanges()}},{key:"toggleHoleCharge",value:function(s){s.display=!s.display}},{key:"isMultiChargedHoles",value:function(s){return(null==s?void 0:s.length)>1}},{key:"capitalize",value:function(s){return s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()}}]),r}(Dt);return t.\u0275fac=function(n){return new(n||t)(e.Y36(B.E),e.Y36(pe.ON),e.Y36(a.dJ),e.Y36(Xo.uw),e.Y36(e.sBO),e.Y36(qo.g),e.Y36(C.$A))},t.\u0275cmp=e.Xpm({type:t,selectors:[["dabo-single-hole-panel"]],inputs:{panelInfo:"panelInfo",isReportsPage:"isReportsPage",colorMap:"colorMap",compareSide:"compareSide"},features:[e._Bn([{provide:V.Hn,useValue:{scope:"single-hole-map-panel",alias:"mapTranslations"},multi:!0},{provide:V.Hn,useValue:{scope:"header-map-panel",alias:"mapTranslations"},multi:!0},{provide:V.Hn,useValue:{scope:"shared-map-panel",alias:"mapTranslations"},multi:!0}]),e.qOj,e.TTD],decls:25,vars:24,consts:[[1,"map-panel","map-panel--single-hole"],["fxLayout","row","fxLayoutAlign","space-between center",1,"map-panel__header"],[1,"map-panel__header-props"],["class","map-panel__header-dot",4,"ngIf"],["class","map-panel__header-name",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center"],["class","btn btn--outline btn--xs basic-hole-edit","mat-button","",3,"disabled","click",4,"ngIf"],[1,"icon","icon-close","map-panel__header-close",3,"click"],[1,"map-panel__data"],["fxLayout","column",1,"map-panel__item"],["class","map-panel__item-label",4,"ngIf"],["fxLayout","row","class","labels",4,"ngIf"],[3,"id",4,"ngIf"],["fxFlex","",1,"map-panel__item-props"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"show","label","tooltip","panelFields"],["class","hole-charge",4,"ngIf"],[1,"divider"],["class","map-panel__item","fxLayout","column",4,"ngIf"],["holeInspectorMode","","class","map-panel__chart",3,"chartConfig",4,"ngIf"],[1,"map-panel__header-dot"],[3,"colorMap","resetBlastabilityLayer","hole","mineSite"],[3,"hole","colorMap","mineSite"],[1,"map-panel__header-name"],["mat-button","",1,"btn","btn--outline","btn--xs","basic-hole-edit",3,"disabled","click"],[1,"icon-edit",3,"ngClass"],["transloco","mapTranslations.single_hole.buttons.edit",3,"ngClass"],[1,"map-panel__item-label"],["fxLayout","row",1,"labels"],["class","labels__preconditioning","transloco","mapTranslations.single_hole.preconditioning",4,"ngIf"],["class","labels__preconditioning","transloco","mapTranslations.single_hole.subdrill",4,"ngIf"],["transloco","mapTranslations.single_hole.preconditioning",1,"labels__preconditioning"],["transloco","mapTranslations.single_hole.subdrill",1,"labels__preconditioning"],[3,"id"],[3,"value","label","joinBy","data","pipes","valueClass","tooltip","valueTooltipText",4,"ngIf"],[3,"value","label","joinBy","data","pipes","valueClass","tooltip","valueTooltipText"],[3,"value","label","data","pipes","translated","labelClass",4,"ngIf"],[3,"value","label","data","pipes","translated","labelClass"],[1,"hole-charge"],["class","hole-charge__header",4,"ngIf"],[1,"hole-charge__header"],["mat-icon-button","","class","icon icon-arrow-right",3,"click",4,"ngIf"],["mat-icon-button","","class","icon icon-arrow-down",3,"click",4,"ngIf"],["mat-icon-button","",1,"icon","icon-arrow-right",3,"click"],["mat-icon-button","",1,"icon","icon-arrow-down",3,"click"],[1,"map-panel__item-props"],[3,"value","label","data","pipes"],["class","map-panel__item-header",4,"ngIf"],[1,"map-panel__item-header"],[3,"labelClass","valueClass","value","label","data","pipes"],["class","map-panel__item-props",4,"ngFor","ngForOf"],[3,"value","label","data","pipes",4,"ngIf"],[3,"value","joinBy","label","data","pipes"],["holeInspectorMode","",1,"map-panel__chart",3,"chartConfig"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,ni,2,4,"span",3),e.YNc(4,oi,2,3,"span",3),e.YNc(5,ii,3,4,"span",4),e.YNc(6,ai,3,3,"span",4),e.qZA(),e.TgZ(7,"div",5),e.YNc(8,ri,3,7,"button",6),e.TgZ(9,"span",7),e.NdJ("click",function(){return r.togglePanel()}),e.qZA()()(),e.TgZ(10,"div",8)(11,"div",9),e.YNc(12,si,4,3,"div",10),e.YNc(13,li,4,3,"div",10),e.YNc(14,di,3,2,"div",11),e.YNc(15,pi,1,1,"dabo-comment",12),e.TgZ(16,"div",13),e.YNc(17,mi,2,1,"ng-container",14),e.YNc(18,hi,2,1,"div",15),e._UZ(19,"dabo-map-panel-nested-fields",16)(20,"dabo-map-panel-nested-fields",16),e.YNc(21,Si,3,2,"div",17),e.qZA()(),e._UZ(22,"div",18),e.YNc(23,wi,7,4,"div",19),e.YNc(24,Ri,1,1,"dabo-distribution-chart",20),e.qZA()()),2&n&&(e.xp6(3),e.Q6J("ngIf",r.isLoadingColorMap()||r.isShortHolesColorMap()),e.xp6(1),e.Q6J("ngIf",!r.isLoadingColorMap()&&!r.isShortHolesColorMap()),e.xp6(1),e.Q6J("ngIf",r.isLoadingColorMap()),e.xp6(1),e.Q6J("ngIf",!r.isLoadingColorMap()),e.xp6(2),e.Q6J("ngIf",r.editAvailable),e.xp6(3),e.ekj("map-panel__item--has-label-area",r.isPreconditioningHole()),e.xp6(1),e.Q6J("ngIf",null==r.panelInfo.defaultHoleData?null:r.panelInfo.defaultHoleData.isUserMisfire),e.xp6(1),e.Q6J("ngIf",null==r.panelInfo.defaultHoleData?null:r.panelInfo.defaultHoleData.isUserCaved),e.xp6(1),e.Q6J("ngIf",r.isPreconditioningHole()),e.xp6(1),e.Q6J("ngIf",r.permission.comment),e.xp6(2),e.Q6J("ngForOf",r.fieldsData),e.xp6(1),e.Q6J("ngIf",!r.isDrillProductivityOnRDO),e.xp6(1),e.Q6J("show",r.permission.fields.fragmentationOver10in)("label","mapTranslations.single_hole.fragmentationOver10in")("tooltip","mapTranslations.single_hole.tooltipMessageFragmentation")("panelFields",r.fragmentationOver10inFields),e.xp6(1),e.Q6J("show",r.permission.fields.fragmentationOver36inLess48in)("label","mapTranslations.single_hole.fragmentationOver1m")("tooltip","mapTranslations.single_hole.tooltipMessageFragmentation")("panelFields",r.fragmentationLess36inFields),e.xp6(1),e.Q6J("ngIf",r.isHoleChargesShown()),e.xp6(2),e.Q6J("ngIf",r.isShortHolesColorMap()&&r.isShortHole()),e.xp6(1),e.Q6J("ngIf",r.isChartShown()))},directives:[$.xw,$.Wh,b.O5,dt.a,vt.lW,b.mk,V.KI,ae,$.yH,b.sg,Ze,de,fn.d,ei.e],pipes:[ti.W,V.Ot],styles:[".hole-charge__header[_ngcontent-%COMP%]{display:flex;align-items:center}.hole-charge[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:auto;height:24px;line-height:24px;margin-right:6px}.hole-charge[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{position:inherit;margin:10px 0}"]}),t}();function Ui(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"dabo-shovel-operator-event-panel",2),e.NdJ("flyToOpEvent",function(s){return e.CHM(n),e.oxw().findOperatorEvent(s)})("closeMapPanel",function(){return e.CHM(n),e.oxw().togglePanel()}),e.qZA()}if(2&t){var r=e.oxw();e.Q6J("panelInfo",r.panelInfo)("mineSite",r.mineSite)("shovelOperatorsEvent",r.shovelOperatorsEvent)("selectedEvent",r.selectedEvent)("isReportsPage",r.isReportsPage)}}function Hi(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"dabo-polygon-panel",10),e.NdJ("closeMapPanel",function(){return e.CHM(n),e.oxw(2).togglePanel()}),e.qZA()}if(2&t){var r=e.oxw(2);e.Q6J("panelInfo",r.panelInfo)("mineSite",r.mineSite)}}function Vi(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"dabo-single-assay-hole-panel",11),e.NdJ("closeMapPanel",function(){return e.CHM(n),e.oxw(2).togglePanel()}),e.qZA()}if(2&t){var r=e.oxw(2);e.Q6J("mineSite",r.mineSite)("panelInfo",r.panelInfo)}}function ji(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"dabo-multi-holes-panel",12),e.NdJ("closeMapPanel",function(){return e.CHM(n),e.oxw(2).togglePanel()}),e.qZA()}if(2&t){var r=e.oxw(2);e.Q6J("compareSide",r.compareSide)("mineSite",r.mineSite)}}function Ji(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"dabo-multi-data-points-panel",12),e.NdJ("closeMapPanel",function(){return e.CHM(n),e.oxw(2).togglePanel()}),e.qZA()}if(2&t){var r=e.oxw(2);e.Q6J("compareSide",r.compareSide)("mineSite",r.mineSite)}}function Qi(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"dabo-data-points-panel",13),e.NdJ("closeMapPanel",function(){return e.CHM(n),e.oxw(2).togglePanel()}),e.qZA()}if(2&t){var r=e.oxw(2);e.Q6J("panelInfo",r.panelInfo)("mineSite",r.mineSite)("isReportsPage",r.isReportsPage)}}function Gi(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"dabo-pattern-prediction-panel",14),e.NdJ("closePanel",function(){return e.CHM(n),e.oxw(2).togglePanel()}),e.qZA()}if(2&t){var r=e.oxw(2);e.Q6J("mineSite",r.mineSite)("panelInfo",r.panelInfo)}}function Yi(t,u){if(1&t){var n=e.EpF();e.TgZ(0,"dabo-single-hole-panel",15),e.NdJ("closeMapPanel",function(){return e.CHM(n),e.oxw(2).togglePanel()}),e.qZA()}if(2&t){var r=e.oxw(2);e.Q6J("panelInfo",r.panelInfo)("mineSite",r.mineSite)("compareSide",r.compareSide)("colorMap",r.colorMap)("isReportsPage",r.isReportsPage)}}function Wi(t,u){if(1&t&&(e.ynx(0)(1,3),e.YNc(2,Hi,1,2,"dabo-polygon-panel",4),e.YNc(3,Vi,1,2,"dabo-single-assay-hole-panel",5),e.YNc(4,ji,1,2,"dabo-multi-holes-panel",6),e.YNc(5,Ji,1,2,"dabo-multi-data-points-panel",6),e.YNc(6,Qi,1,3,"dabo-data-points-panel",7),e.YNc(7,Gi,1,2,"dabo-pattern-prediction-panel",8),e.YNc(8,Yi,1,5,"dabo-single-hole-panel",9),e.BQk()()),2&t){var n=e.oxw();e.xp6(1),e.Q6J("ngSwitch",null==n.panelInfo?null:n.panelInfo.type),e.xp6(1),e.Q6J("ngSwitchCase",n.panelTypes.POLYGON),e.xp6(1),e.Q6J("ngSwitchCase",n.panelTypes.HOLE_ASSAYS),e.xp6(1),e.Q6J("ngSwitchCase",n.panelTypes.MULTI_HOLES),e.xp6(1),e.Q6J("ngSwitchCase",n.panelTypes.MULTI_DATAPOINTS),e.xp6(1),e.Q6J("ngSwitchCase",n.panelTypes.DATAPOINT),e.xp6(1),e.Q6J("ngSwitchCase",n.panelTypes.PREDICTION)}}var Ki=function(){var t=function(u){(0,f.Z)(r,u);var n=(0,S.Z)(r);function r(v,s,L){var z;return(0,h.Z)(this,r),(z=n.call(this)).mineStateService=v,z.cdr=s,z.panelService=L,z.closeMapPanel=new e.vpe,z.flyToOpEvent=new e.vpe,z.panelTypes=E.K,z}return(0,D.Z)(r,[{key:"isShovelElevationRelatedType",get:function(){return this.panelInfo&&[p.N.SHOVEL_OPERATOR_FEEDBACK,p.N.SHOVEL_OPERATOR_ALARM].includes(this.panelInfo.type)}},{key:"ngOnInit",value:function(){var s=this;this.mineStateService.selectedMineArea$.pipe((0,m.R)(this.destroy$)).subscribe(function(L){return s.mineSite=L.value}),this.panelService.shovelOpEventData$.pipe((0,m.R)(this.destroy$)).subscribe(function(L){s.shovelOperatorsEvent=L,s.cdr.detectChanges()})}},{key:"togglePanel",value:function(){this.closeMapPanel.emit()}},{key:"scrollToOpEvent",value:function(s){this.selectedEvent=s,this.cdr.detectChanges()}},{key:"findOperatorEvent",value:function(s){this.flyToOpEvent.emit(s),this.panelInfo.feature=s,this.cdr.detectChanges()}}]),r}(y.eO);return t.\u0275fac=function(n){return new(n||t)(e.Y36(C.Hj),e.Y36(e.sBO),e.Y36(a.dJ))},t.\u0275cmp=e.Xpm({type:t,selectors:[["dabo-map-panel"]],inputs:{panelInfo:"panelInfo",isReportsPage:"isReportsPage",compareSide:"compareSide",colorMap:"colorMap"},outputs:{closeMapPanel:"closeMapPanel",flyToOpEvent:"flyToOpEvent"},features:[e.qOj],decls:2,vars:2,consts:[[3,"panelInfo","mineSite","shovelOperatorsEvent","selectedEvent","isReportsPage","flyToOpEvent","closeMapPanel",4,"ngIf"],[4,"ngIf"],[3,"panelInfo","mineSite","shovelOperatorsEvent","selectedEvent","isReportsPage","flyToOpEvent","closeMapPanel"],[3,"ngSwitch"],[3,"panelInfo","mineSite","closeMapPanel",4,"ngSwitchCase"],[3,"mineSite","panelInfo","closeMapPanel",4,"ngSwitchCase"],[3,"compareSide","mineSite","closeMapPanel",4,"ngSwitchCase"],[3,"panelInfo","mineSite","isReportsPage","closeMapPanel",4,"ngSwitchCase"],[3,"mineSite","panelInfo","closePanel",4,"ngSwitchCase"],[3,"panelInfo","mineSite","compareSide","colorMap","isReportsPage","closeMapPanel",4,"ngSwitchDefault"],[3,"panelInfo","mineSite","closeMapPanel"],[3,"mineSite","panelInfo","closeMapPanel"],[3,"compareSide","mineSite","closeMapPanel"],[3,"panelInfo","mineSite","isReportsPage","closeMapPanel"],[3,"mineSite","panelInfo","closePanel"],[3,"panelInfo","mineSite","compareSide","colorMap","isReportsPage","closeMapPanel"]],template:function(n,r){1&n&&(e.YNc(0,Ui,1,5,"dabo-shovel-operator-event-panel",0),e.YNc(1,Wi,9,7,"ng-container",1)),2&n&&(e.Q6J("ngIf",r.isShovelElevationRelatedType),e.xp6(1),e.Q6J("ngIf",r.panelInfo&&!r.isShovelElevationRelatedType))},directives:[b.O5,_e,b.RF,b.n9,ct,it,uo,Po,Mo,zo,b.ED,Bi],styles:["[_nghost-%COMP%]{position:absolute;top:0;right:0;width:300px;height:100%;transition:all .3s ease-in-out;transform:translate(100%);visibility:hidden;z-index:100}[_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{height:100%}.opened[_nghost-%COMP%]{transition:all .3s ease-in-out;transform:none;visibility:visible}.wide[_nghost-%COMP%]{width:350px}"],changeDetection:0}),t}()},98711:function(ye,ie,o){"use strict";o.d(ie,{K:function(){return h}});var h=function(){return(D=h||(h={})).POLYGON="polygon",D.HOLE_ASSAYS="holeAssays",D.MULTI_HOLES="multiHoles",D.MULTI_DATAPOINTS="multiDataPoints",D.DATAPOINT="dataPointsView",D.PREDICTION="prediction",h;var D}()},58836:function(ye,ie,o){"use strict";o.d(ie,{LB:function(){return h.LB},ON:function(){return D.ON},cr:function(){return h.cr},zo:function(){return h.zo}});var h=o(22992),D=o(16509);o(22124)},28364:function(ye,ie,o){"use strict";o.d(ie,{W:function(){return j}});var h=o(43144),D=o(15671),f=o(65542),S=o(23178),e=o(93075),y=o(69808),m=o(42585),p=o(77093),E=o(30325),C=o(2033),a=o(47423),b=o(78029),c=o(67322),x=o(48966),ue=o(4834),M=o(88279),$=o(29772),le=o(77269),I=o(89936),De=o(33074),be=o(14623),Pe=o(79814),J=o(34594),U=function(){var se=(0,h.Z)(function Se(){(0,D.Z)(this,Se)});return se.\u0275fac=function(K){return new(K||se)},se.\u0275mod=f.oAB({type:se}),se.\u0275inj=f.cJS({imports:[[y.ez,p.ae,J.g0,c.lN,x.Is,Pe.Fk,be.ie,a.ot,e.UX,m.y4]]}),se}(),W=o(67800),re=o(1302),Ee=o(78090),ge=o(31497),ve=o(96165),_e=o(32807),V=o(6348),k=o(16509),N=o(34988),B=o(81046),pe=o(58464),me=o(72451),X=o(22992);function ee(se){return function(Se){return se.get(X.S7[Se])}}var j=function(){var se=(0,h.Z)(function Se(){(0,D.Z)(this,Se)});return se.\u0275fac=function(K){return new(K||se)},se.\u0275mod=f.oAB({type:se}),se.\u0275inj=f.cJS({providers:[ve.G,Ee.dJ,Ee.nY,ge.e,k.ON,V.E,k.Qw,k.Aj,k.Ox,k.QR,k.$R,k.Jf,k.rm,k.Uc,k.iT,k.WR,k.rB,k.RR,k.jo,k.wc,k.dp,k.Xo,k.Bw,k.yz,k.c1,k.e7,k.ZW,k.ig,k.Rt,k.kO,k.jS,k.GS,k.Yh,k.eT,k.yB,k.Sf,k.x,k.Ss,k.EB,k.F_,pe.i,me.k,{provide:X.zo,useFactory:ee,deps:[f.zs3]}],imports:[[y.ez,I.d,le.i,p.ae,E.Bz,C.Cl,a.ot,S.SD,re.o,b.KP,c.lN,e.UX,N.r,De.b,e.u5,x.Is,U,ue.t,M.p0,m.y4,_e.q,B.t,W.T,$.AV]]}),se}()},81798:function(ye,ie,o){"use strict";o.d(ie,{R:function(){return e}});var h=o(15671),D=o(43144),f=o(22992),S=o(65542),e=function(){var y=function(){function m(){(0,h.Z)(this,m),this.config=[{key:"blastCost",label:"".concat(f.Y5,"fields.")+"blastCost",unit:"$"},{key:"drillingCost",label:"".concat(f.Y5,"fields.")+"drillingCost",unit:"$",isCircle:!0},{key:"explosiveCost",label:"".concat(f.Y5,"fields.")+"explosiveCost",unit:"$",isCircle:!0},{key:"accessoriesCost",label:"".concat(f.Y5,"fields.")+"accessoriesCost",unit:"$",isCircle:!0},{key:"diggingCost",label:"".concat(f.Y5,"fields.")+"diggingCost",unit:"$"}],this.columnsConfig=[{property:"label",pipes:[]},{property:"perBcm",pipes:[{token:"customNumber"}]},{property:"total",pipes:[{token:"customNumber"}]}]}return(0,D.Z)(m,[{key:"transformCosts",value:function(E){return this.config.map(function(C){return Object.assign(Object.assign({},C),E[C.key])})}},{key:"getColumnsConfig",value:function(){return this.columnsConfig}}]),m}();return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac}),y}()},30175:function(ye,ie,o){"use strict";o.d(ie,{V:function(){return e}});var h=o(15671),D=o(43144),f=o(40714),S=o(21347),e=function(){function y(){(0,h.Z)(this,y)}return(0,D.Z)(y,[{key:"getBasePipes",value:function(p){return[{token:"customNumber"},{token:"unit",args:f.Ab.getUnits(p,S.q.HVC)}]}},{key:"getExplosivesData",value:function(p){try{return JSON.parse(p)}catch(E){return[]}}}]),y}()},72451:function(ye,ie,o){"use strict";o.d(ie,{k:function(){return p}});var h=o(89062),D=o(15671),f=o(43144),S=o(60136),e=o(57777),y=o(30175),m=o(65542),p=function(){var E=function(C){(0,S.Z)(b,C);var a=(0,e.Z)(b);function b(){return(0,D.Z)(this,b),a.apply(this,arguments)}return(0,f.Z)(b,[{key:"getConfig",value:function(x,ue){var M=this,$={value:"explosiveTypes",label:ue+"explosiveTypes",pipes:[],dataSource:{explosiveTypes:this.getExplosivesTypeData(x)}};if(!x||!x.length)return[$].concat((0,h.Z)(this.getBaseExplosiveFields(ue,{},!0)));var le=x.reduce(function(I,De){var be=(0,h.Z)(M.getBaseExplosiveFields(ue,De));return I.concat(be)},[]);return[$].concat((0,h.Z)(le))}},{key:"getExplosivesTypeData",value:function(x){var ue=this;return(null==x?void 0:x.map(function(M){return ue.getExplosiveType(M.explosiveType)}).join(", "))||"-"}},{key:"getExplosiveType",value:function(x){return(null==x?void 0:x.split(" ")[2])||x||"-"}},{key:"getBaseExplosiveFields",value:function(x,ue){var M=arguments.length>2&&void 0!==arguments[2]&&arguments[2],$=M?"default":"hvc";return[this.getBaseField(x,"avgExplosive","avgExplosive.".concat($),"avgExplosive",ue),this.getBaseField(x,"totalExplosive","totalExplosive.".concat($),"totalExplosive",ue),this.getBaseField(x,"avgExplosiveDeviation","avgExplosiveWeightDeviation.".concat($),"avgExplosiveDeviation",ue)]}},{key:"getBaseField",value:function(x,ue,M,$,le){return{value:ue,label:x+M,pipes:this.getBasePipes($),translocoParams:{type:this.getExplosiveType(le.explosiveType)},dataSource:le}}}]),b}(y.V);return E.\u0275fac=function(){var C;return function(b){return(C||(C=m.n5z(E)))(b||E)}}(),E.\u0275prov=m.Yz7({token:E,factory:E.\u0275fac}),E}()},58464:function(ye,ie,o){"use strict";o.d(ie,{i:function(){return E}});var h=o(89062),D=o(15671),f=o(43144),S=o(60136),e=o(57777),y=o(22992),m=o(30175),p=o(65542),E=function(){var C=function(a){(0,S.Z)(c,a);var b=(0,e.Z)(c);function c(){return(0,D.Z)(this,c),b.apply(this,arguments)}return(0,f.Z)(c,[{key:"getConfig",value:function(ue){var M=this,$=this.getExplosivesData(ue);return $&&$.length?$.reduce(function(le,I){var De=[{value:null,label:I.explosiveType,translated:!1,pipes:[],dataSource:I,labelClass:"explosive-type-label"}].concat((0,h.Z)(M.getBaseExplosiveFields(I)));return le.concat(De)},[]):this.getBaseExplosiveFields({})}},{key:"getBaseExplosiveFields",value:function(ue){return[this.getBaseField("explosiveDesign","totalDesignExplosive","totalDesignExplosive",ue),this.getBaseField("explosiveActual","totalActualExplosive","totalActualExplosive",ue),this.getBaseField("explosiveDeviation","explosiveWeightDeviation","avgExplosiveWeightDeviation",ue)]}},{key:"getBaseField",value:function(ue,M,$,le){return{value:ue,label:y.N_+M,pipes:this.getBasePipes($),dataSource:le}}}]),c}(m.V);return C.\u0275fac=function(){var a;return function(c){return(a||(a=p.n5z(C)))(c||C)}}(),C.\u0275prov=p.Yz7({token:C,factory:C.\u0275fac}),C}()},16509:function(ye,ie,o){"use strict";o.d(ie,{ig:function(){return C},c1:function(){return ue},ZW:function(){return le},e7:function(){return Pe},Ox:function(){return J},Rt:function(){return D.R},QR:function(){return ve},yB:function(){return k},Yh:function(){return N},eT:function(){return V},yz:function(){return Ke},Bw:function(){return gt},Xo:function(){return ne},ON:function(){return h.O},$R:function(){return pe},Jf:function(){return X},rm:function(){return w},Uc:function(){return ce},WR:function(){return ee},iT:function(){return j},Ss:function(){return Ze},EB:function(){return he},F_:function(){return Mt},x:function(){return we},Sf:function(){return qe},RR:function(){return et},rB:function(){return _e},GS:function(){return tt},dp:function(){return Ve},wc:function(){return Fe},jo:function(){return st},Aj:function(){return Oe},kO:function(){return Ge},jS:function(){return Re},Qw:function(){return yt}});var h=o(91857),D=o(81798),f=o(15671),S=o(43144),e=o(84709),y=o(21347),m=o(48924),p=o(40714),E=o(65542),C=function(){var O=function(){function Z(){(0,f.Z)(this,Z)}return(0,S.Z)(Z,[{key:"getConfig",value:function(l){var te=[e.p.SILVER,e.p.COPPER,e.p.SILICON,e.p.CADMIUM,e.p.SULFUR];return[this.getFieldsConfig(l.assaysMetrics,[e.p.ZINC,e.p.LEAD,e.p.SOLUBLE,e.p.IRON,e.p.BARIUM],y.q.RDO),this.getFieldsConfig(l.assaysMetrics,te,y.q.RDO)]}},{key:"getFieldsConfig",value:function(l,d,te){return d.map(function(xe){return{value:xe,label:"".concat(m.avgAssayMetalFields[xe].shortLabel,":"),translated:!1,dataSource:l,pipes:[{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits(xe,te)}]}})}}]),Z}();return O.\u0275fac=function(A){return new(A||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),a=o(89062),b=o(22451),c=o(22992),x=b.a.DATE_TIME_SEC,ue=function(){var O=function(){function Z(){(0,f.Z)(this,Z)}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d){return[].concat((0,a.Z)(this.getMetalFieldsConfig(l.assayHoleData,[e.T.ZINC,e.T.LEAD,e.T.SOLUBLE,e.T.RPB,e.T.IRON,e.T.BARIUM,e.T.SILVER,e.T.COPPER,e.T.SILICON_DIOXIDE,e.T.CADMIUM,e.T.SULFUR],d)),(0,a.Z)(this.getContextFields(l.assayHoleData,d,l.isPolygonTool)))}},{key:"getMetalFieldsConfig",value:function(l,d,te){return d.map(function(xe){return{value:xe,label:m.assayMetalFields[xe].shortLabel,translated:!1,dataSource:l,pipes:[{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits(xe,te)}]}})}},{key:"getContextFields",value:function(l,d,te){return te?[{value:"firstTestDate",label:c.ot+"firstTestDate",translated:!0,dataSource:l,pipes:[{token:"dateFormatter",args:[d,x]}]},{value:"lastTestDate",label:c.ot+"lastTestDate",translated:!0,dataSource:l,pipes:[{token:"dateFormatter",args:[d,x]}]}]:[{value:"isWeathered",label:c.ot+"weathered",translated:!0,dataSource:l,pipes:[{token:"yesNoPipe"}]},{value:"testDate",label:c.ot+"testDate",translated:!0,dataSource:l,pipes:[{token:"dateFormatter",args:[d,x]}]}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),M=b.a.DATE_TIME_SEC,$="holeViewInspector.polygonSelectionInspector.fields",le=function(){var O=function(){function Z(A){(0,f.Z)(this,Z),this.panelFields=A}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d){return[{value:"patterns",label:c.ul+"patterns",pipes:[{token:"join"},{token:"dataLength"}],labelPlural:c.ul+"pluralPatterns",tooltip:!0,valueClass:"item-props__value t-overflow--ellipsis",isShown:this.panelFields.isFieldPresented("".concat($,".patterns"))},{value:"avgDrilledHoleDepth",label:c.cr+"avgDrilledHoleDepth",pipes:[{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("avgDrilledHoleDepth",d)}],isShown:this.panelFields.isFieldPresented("".concat($,".avgDrilledHoleDepth"))},{value:"avgDesignedHoleDepth",label:c.cr+"avgDesignedHoleDepth",pipes:[{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("avgDesignedHoleDepth",d)}],isShown:this.panelFields.isFieldPresented("".concat($,".avgDesignedHoleDepth"))},{value:"firstDrillDate",label:c.ul+"firstDrillDate",pipes:[{token:"dateFormatter",args:[d,M]}],isShown:this.panelFields.isFieldPresented("".concat($,".firstDrillDate"))},{value:"lastDrillDate",label:c.ul+"lastDrillDate",pipes:[{token:"dateFormatter",args:[d,M]}],isShown:this.panelFields.isFieldPresented("".concat($,".lastDrillDate"))}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),I=o(46940),De=b.a.DATE_TIME_SEC,be=b.a.DEFAULT,Pe=function(){var O=function(){function Z(){(0,f.Z)(this,Z)}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d){var te=I.ZA.isRDO(d)?De:be;return[{value:"sampleNumber",label:c.ot+"sampleNumber",dataSource:l,pipes:[{token:"detectNullValue"}]},{value:"sampleId",label:c.ot+"sampleId",dataSource:l,pipes:[{token:"detectNullValue"}]},{value:"sampleType",label:c.ot+"sampleType",dataSource:l,pipes:[{token:"detectNullValue",args:[d,te]}]},{value:"drillDate",label:c.ot+"drillDate",dataSource:l,pipes:[{token:"dateFormatter",args:[d,te]}]}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),J=function(){var O=function(){function Z(){(0,f.Z)(this,Z)}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d){return[{value:"collarElevation",label:c.a$+"collarElevation.default",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:"m"}],isShown:!I.ZA.isMetalMine(d)}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),U=o(4942),W=o(38001),re=b.a.TIME,Ee=b.a.DEFAULT_CDA,ge=b.a.DEFAULT,ve=function(){var O=function(){function Z(){(0,f.Z)(this,Z)}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d,te){var xe,Be,$e=((0,U.Z)(xe={default:[{token:"customNumber"},{token:"unit",args:m.units[d]}]},W.N.LOADING_TIME,[{token:"digit",args:2},{token:"customNumber"},{token:"unit",args:m.units[d]}]),(0,U.Z)(xe,W.N.DIGGING_CONDITIONS,[{token:"diggingConditionType"}]),(0,U.Z)(xe,W.N.DIGGING_CONDITIONS_TOP,[{token:"diggingConditionType"}]),(0,U.Z)(xe,W.N.DIGGING_CONDITIONS_BOTTOM,[{token:"diggingConditionType"}]),xe),nt=((0,U.Z)(Be={default:c.O5+"colorMap."+d},W.N.DIGGING_CONDITIONS,c.m1+d),(0,U.Z)(Be,W.N.DIGGING_CONDITIONS_TOP,c.m1+d),(0,U.Z)(Be,W.N.DIGGING_CONDITIONS_BOTTOM,c.m1+d),Be),ot=I.ZA.isCDA(te)?Ee:ge;return[{value:d,label:nt[d]||nt.default,pipes:$e[d]||$e.default,dataSource:l,isShown:!I.ZA.isMetalMine(te)},{value:"shovelId",label:c.O5+"shovelId",pipes:[],dataSource:l,isShown:!I.ZA.isMetalMine(te)},{value:"fragmentationP80",label:c.O5+"fragmentationP80",pipes:[{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationP80",te)}],dataSource:l,isShown:I.ZA.isCDA(te)},{value:"fragmentationCdaB1",label:c.O5+"fragmentationCdaB1",pipes:[{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationCdaB1",te)}],dataSource:l,isShown:I.ZA.isCDA(te)},{value:"fragmentationOver3in",label:c.O5+"fragmentationOver3in",pipes:[{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationOver3in",te)}],dataSource:l,isShown:I.ZA.isCDA(te)},{value:"fragmentationTopSize",label:c.O5+"fragmentationTopSize",pipes:[{token:"metricConversion",args:["m-in",1]},{token:"unit",args:p.Ab.getUnits("fragmentationTopSize",te)}],dataSource:l,isShown:I.ZA.isCDA(te)},{value:"loaderId",label:c.O5+"loaderId",pipes:[],dataSource:l,isShown:I.ZA.isRDO(te)||I.ZA.isCDA(te)},{value:"shovelElevation",label:c.O5+"shovelElevation",pipes:[{token:"customNumber"}],dataSource:l,isShown:!I.ZA.isMetalMine(te)},{value:"elevation",label:c.O5+"elevation",pipes:[{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits("elevation",te)}],dataSource:l,isShown:I.ZA.isRDO(te)||I.ZA.isCDA(te)},{value:"date",label:c.O5+"date",pipes:[{token:"dateFormatter"}],dataSource:l,isShown:!I.ZA.isMetalMine(te)},{value:"date",label:c.O5+"time",pipes:[{token:"dateFormatter",args:[te,re]}],dataSource:l,isShown:!I.ZA.isMetalMine(te)},{value:"datetime",label:c.O5+"date",pipes:[{token:"dateFormatter",args:[te,ot]}],dataSource:l,isShown:I.ZA.isRDO(te)||I.ZA.isCDA(te)},{value:"datetime",label:c.O5+"time",pipes:[{token:"dateFormatter",args:[te,re]}],dataSource:l,isShown:I.ZA.isRDO(te)||I.ZA.isCDA(te)},{value:"fragmentationP50",label:c.O5+"fragmentationP50",pipes:[{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationP50",te)}],dataSource:l,isShown:I.ZA.isRDO(te)},{value:"fragmentationP80",label:c.O5+"fragmentationP80",pipes:[{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationP80",te)}],dataSource:l,isShown:I.ZA.isRDO(te)},{value:"fragmentationTopSize",label:c.O5+"fragmentationTopSize",pipes:[{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationTopSize",te)}],dataSource:l,isShown:I.ZA.isRDO(te)},{value:"boulderLocation",label:c.O5+"boulderLocation",pipes:[{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits("boulderLocation",te)}],dataSource:l,isShown:I.ZA.isRDO(te)}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),_e=function(){var O=function(){function Z(){(0,f.Z)(this,Z)}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d){var te=[{fields:[{value:"wet",label:c.N_+"wet",dataSource:l.holesQuantity,pipes:[{token:"detectNullValue"}]},{value:"dry",label:c.N_+"dry",dataSource:l.holesQuantity,pipes:[{token:"detectNullValue"}]},{value:"mixed",label:c.N_+"mixed",dataSource:l.holesQuantity,pipes:[{token:"detectNullValue"}]},{value:"noLoadByDesign",label:c.N_+"noLoadByDesign",dataSource:l.holesQuantity,pipes:[{token:"detectNullValue"}]},{value:"noLoadByCaving",label:c.N_+"noLoadByCaving",pipes:[{token:"detectNullValue"}],dataSource:l.holesQuantity},{value:"overloaded",label:c.N_+"overloaded",pipes:[{token:"detectNullValue"}],dataSource:l.holesQuantity,isShown:!I.ZA.isMetalMine(d)},{value:"misfires",label:c.N_+"misfires",pipes:[{token:"detectNullValue"}],dataSource:l.holesQuantity},{value:"notLined",label:c.N_+"notLined",pipes:[{token:"detectNullValue"}],dataSource:l.holesQuantity,isShown:!I.ZA.isMetalMine(d)},{value:[{name:"redrilledHoles",pipes:[{token:"detectNullValue"}]},{name:"perimeterRedrilledHoles",pipes:[{token:"detectNullValue"}]}],shouldBeSplitted:!0,label:c.N_+"perimeterRedrilledHoles",pipes:[{token:"detectNullValue"}],tooltip:!0,valueTooltipText:"in perimeter",dataSource:l.holesQuantity,isShown:!I.ZA.isMetalMine(d)}]},{fields:[{value:"top",label:c.N_+"top",dataSource:l.shortHolesQuantity,pipes:[{token:"detectNullValue"}]},{value:"middle",label:c.N_+"middle",dataSource:l.shortHolesQuantity,pipes:[{token:"detectNullValue"}],isShown:!I.ZA.isMetalMine(d)},{value:"bottom",label:c.N_+"bottom",dataSource:l.shortHolesQuantity,pipes:[{token:"detectNullValue"}]},{value:"multiple",label:c.N_+"multiple",dataSource:l.shortHolesQuantity,pipes:[{token:"detectNullValue"}],isShown:!I.ZA.isMetalMine(d)},{value:"both",label:c.N_+"both",dataSource:l.shortHolesQuantity,pipes:[{token:"detectNullValue"}],isShown:I.ZA.isMetalMine(d)}]}],xe=[{fields:[{value:"wet",label:c.N_+"wet",dataSource:l.holesQuantity,pipes:[{token:"detectNullValue"}]},{value:"dry",label:c.N_+"dry",dataSource:l.holesQuantity,pipes:[{token:"detectNullValue"}]},{value:"redrilled",label:c.N_+"reDrilled",dataSource:l.holesQuantity,pipes:[{token:"detectNullValue"}]}]},{fields:[{value:"shortHolesQuantity",label:c.YC+"shortHolesCountField",translocoParams:{value:l.shortHolesQuantity},dataSource:l,pipes:[{token:"detectNullValue"}]},{value:"subdrilled",label:c.N_+"subdrill",dataSource:l.holesQuantity,pipes:[{token:"detectNullValue"}]},{value:"noLoad",label:c.N_+"noLoad",dataSource:l.holesQuantity,pipes:[{token:"detectNullValue"}]}]}],Be=[{fields:[{value:"noLoadByCaving",label:c.N_+"noLoadByCaving",pipes:[{token:"detectNullValue"}],dataSource:l.holesQuantity},{value:"misfires",label:c.N_+"misfires",pipes:[{token:"detectNullValue"}],dataSource:l.holesQuantity},{value:"subdrilled",label:c.N_+"subdrill",pipes:[{token:"detectNullValue"}],dataSource:l.holesQuantity}]},{fields:[{value:"wdxrf",label:c.N_+"wdxrf",pipes:[{token:"detectNullValue"}],dataSource:l.holesQuantity},{value:"aa",label:c.N_+"aa",pipes:[{token:"detectNullValue"}],dataSource:l.holesQuantity}]}],$e=[{fields:[{value:"noLoadByDesign",label:c.N_+"noLoadByDesign",dataSource:l.holesQuantity,pipes:[{token:"detectNullValue"}]},{value:"noLoadByCaving",label:c.N_+"noLoadByCaving",pipes:[{token:"detectNullValue"}],dataSource:l.holesQuantity},{value:"misfires",label:c.N_+"misfires",pipes:[{token:"detectNullValue"}],dataSource:l.holesQuantity}]}];switch(!0){case I.ZA.isCDA(d):return xe;case I.ZA.isRDO(d):return Be;case I.ZA.isHVC(d):return $e;default:return te}}}]),Z}();return O.\u0275fac=function(A){return new(A||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),V=function(){var O=function(){function Z(A){(0,f.Z)(this,Z),this.panelFields=A}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d){return[{value:"fragmentationOver10in",label:c.a$+"fragmentationOver10inAverage",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationOver10in",d)}],translated:!0,labelClass:"item-props__name--circle",isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.fragmentationOver10in")},{value:"fragmentationOver10inMin",label:"min:",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationOver10in",d)}],translated:!1,labelClass:"item-props__name--circle",isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.fragmentationOver10inMin")},{value:"fragmentationOver10inMax",label:"max:",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationOver10in",d)}],translated:!1,labelClass:"item-props__name--circle",isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.fragmentationOver10inMax")}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),k=function(){var O=function(){function Z(A){(0,f.Z)(this,Z),this.panelFields=A}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d){return[{value:"totalPicturesNumber",label:c.a$+"totalPicturesNumber",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"}],translated:!0,labelClass:"item-props__name--circle",isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.totalPicturesNumber")},{value:"fragmentationLess36in",label:"\u22640.91",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationOver1m",d)}],translated:!1,labelClass:"item-props__name--circle",isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.fragmentationLess36in")},{value:"fragmentationOver36inLess48in",label:">0.91 - \u22641.2",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationOver1m",d)}],translated:!1,labelClass:"item-props__name--circle",isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.fragmentationOver36inLess48in")},{value:"fragmentationOver48in",label:">1.2",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationOver1m",d)}],translated:!1,labelClass:"item-props__name--circle",isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.fragmentationOver48in")}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),N=function(){var O=function(){function Z(A){(0,f.Z)(this,Z),this.panelFields=A}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d,te){return[{value:"fragmentationP50",label:c.a$+"fragmentationP50",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"fixTo",args:2},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationP50",d)}],translated:!0,labelClass:"item-props__name",isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.fragmentationP50")&&!this.panelFields.isHoleBmm(l)},{value:"fragmentationP80",label:c.a$+"fragmentationP80",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"fixTo",args:2},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationP80",d)}],translated:!0,labelClass:"item-props__name",isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.fragmentationP80")&&!this.panelFields.isHoleBmm(l)},{value:"fragmentationTopSize",label:c.a$+"fragmentationTopSize",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"fixTo",args:2},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationTopSize",d)}],translated:!0,labelClass:"item-props__name",isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.fragmentationTopSize")&&!this.panelFields.isHoleBmm(l)},{value:W.N.BOULDER_LOCATION,label:te===W.N.BOULDER_LOCATION?c.a$+"boulderLocationPostBlast":c.a$+"boulderLocation",dataSource:l,pipes:[{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits("boulderLocation",d)}],translated:!0,labelClass:"item-props__name",isShown:I.ZA.isRDO(d)&&!this.panelFields.isHoleBmm(l)&&te!==W.N.BOULDER_LOCATION_PRE_BLAST},{value:W.N.BOULDER_LOCATION_PRE_BLAST,label:c.a$+"boulderLocationPreBlast",dataSource:l,pipes:[{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits("boulderLocation",d)}],translated:!0,labelClass:"item-props__name",isShown:!this.panelFields.isHoleBmm(l)&&te===W.N.BOULDER_LOCATION_PRE_BLAST},{value:"fragmentationCdaB1",label:c.a$+"fragmentationCdaB1",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationCdaB1",d)}],translated:!0,labelClass:"item-props__name",isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.fragmentationCdaB1")},{value:"fragmentationOver3in",label:c.a$+"fragmentationOver3in",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationOver3in",d)}],translated:!0,labelClass:"item-props__name",isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.fragmentationOver3in")}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),B=b.a.DATE_TIME,pe=function(){var O=function(){function Z(A){(0,f.Z)(this,Z),this.panelFields=A}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d){return[{value:"filename",label:"File:",pipes:[],dataSource:this.panelFields.getField("filename",l)},{value:"calculated",label:"Calculated:",pipes:[{token:"dateFormatter",args:[d,B]}],dataSource:this.panelFields.getField("calculated",l)},{value:"mineArea",label:"Mining Area:",pipes:[],dataSource:this.panelFields.getField("mineArea",l)},{value:"benchLevel",label:"Bench Level:",pipes:[],dataSource:this.panelFields.getField("benchLevel",l)},{value:"patternType",label:"Pattern Type:",pipes:[{token:"titlecase"}],dataSource:this.panelFields.getField("patternType",l),isShown:I.ZA.isHVC(d)},{value:"preconditioning",label:"Preconditioning:",pipes:[{token:"titlecase"}],dataSource:this.panelFields.getField("preconditioning",l),isShown:I.ZA.isHVC(d)},{value:"preconditioned",label:"Preconditioned:",pipes:[{token:"detectNullValue"},{token:"plural",args:{"=1":"hole",other:"holes"}}],dataSource:this.panelFields.getField("preconditioned",l),isShown:I.ZA.isHVC(d)}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),me=y.q.HVC,X=function(){var O=function(){function Z(A){(0,f.Z)(this,Z),this.panelFields=A}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d){return d===me?[]:[{value:"avgBlastability",label:"Avg. Blastability:",pipes:[{token:"customNumber",args:"1.3-3"}],dataSource:this.panelFields.getField("avgBlastability",l)},{value:[{name:"minDip",pipes:[{token:"unit",args:["\u02da",""]}]},{name:"maxDip",pipes:[{token:"unit",args:["\u02da",""]}]}],label:"Dip (min-max):",joinBy:" - ",pipes:[],dataSource:Object.assign(Object.assign({},this.panelFields.getField("minDip",l)),this.panelFields.getField("maxDip",l))},{value:[{name:"minStrike",pipes:[{token:"unit",args:["\u02da",""]}]},{name:"maxStrike",pipes:[{token:"unit",args:["\u02da",""]}]}],label:"Strike (min-max):",pipes:[],joinBy:" - ",dataSource:Object.assign(Object.assign({},this.panelFields.getField("minStrike",l)),this.panelFields.getField("maxStrike",l))}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),ee=function(){var O=function(){function Z(A){(0,f.Z)(this,Z),this.panelFields=A}return(0,S.Z)(Z,[{key:"getConfig",value:function(l){return[{value:"totalBlastCost",label:"Blast Cost per BCM:",pipes:[{token:"customCurrency",args:["USD","symbol","0.0-2"]}],dataSource:this.panelFields.getField("totalBlastCost",l)},{value:"explosiveCost",label:"Explosive Cost per BCM:",pipes:[{token:"customCurrency",args:["USD","symbol","0.0-2"]}],dataSource:this.panelFields.getField("explosiveCost",l)},{value:"diggingCost",label:"Digging Cost per BCM:",pipes:[{token:"customCurrency",args:["USD","symbol","0.0-2"]}],dataSource:this.panelFields.getField("diggingCost",l)},{value:"diggingTime",label:"Digging Time per Pass:",pipes:[{token:"digit"},{token:"unit",args:"sec"}],dataSource:this.panelFields.getField("diggingTime",l)}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),j=function(){var O=function(){function Z(A){(0,f.Z)(this,Z),this.panelFields=A}return(0,S.Z)(Z,[{key:"getConfig",value:function(l){var d=p.Ab.getUnits("fragmentationP50",y.q.HVC);return[{value:"fragmentationP50",label:"Fragmentation P50:",pipes:[{token:"digit",args:2},{token:"customNumber"},{token:"unit",args:d}],dataSource:this.panelFields.getField("fragmentationP50",l)},{value:"interval68",label:"P50 Interval (68% conf.)",pipes:[{token:"unit",args:d}],dataSource:this.panelFields.getField("interval68",l)},{value:"interval95",label:"P50 Interval (95% conf.)",pipes:[{token:"unit",args:d}],dataSource:this.panelFields.getField("interval95",l)},{value:"energyFactor",label:"Energy Factor:",pipes:[{token:"digit",args:2},{token:"customNumber"},{token:"unit",args:"kcal/m\xb3"}],dataSource:this.panelFields.getField("energyFactor",l)}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),se=o(73237),Se=o(61120),K=o(60136),Ce=o(57777),Y=function(){function O(Z){(0,f.Z)(this,O),this.panelFields=Z}return(0,S.Z)(O,[{key:"getConfig",value:function(A){return[{value:[{name:"burden",pipes:[{token:"digit"}]},{name:"spacing",pipes:[{token:"digit"},{token:"unit",args:"m"}]}],label:"Burden x Spacing:",joinBy:" x ",dataSource:Object.assign(Object.assign({},this.panelFields.getField("burden",A)),this.panelFields.getField("spacing",A)),pipes:[]}]}}]),O}(),w=function(){var O=function(Z){(0,K.Z)(l,Z);var A=(0,Ce.Z)(l);function l(d){var te;return(0,f.Z)(this,l),(te=A.call(this,d)).panelFields=d,te}return(0,S.Z)(l,[{key:"getConfig",value:function(te){return[].concat((0,a.Z)((0,se.Z)((0,Se.Z)(l.prototype),"getConfig",this).call(this,te)),[{value:"energyFactor",label:"Energy Factor:",pipes:[{token:"customNumber"},{token:"unit",args:"kcal/m\xb3"}],dataSource:this.panelFields.getField("energyFactor",te)}])}}]),l}(Y);return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),ce=function(){var O=function(Z){(0,K.Z)(l,Z);var A=(0,Ce.Z)(l);function l(d){var te;return(0,f.Z)(this,l),(te=A.call(this,d)).panelFields=d,te}return(0,S.Z)(l,[{key:"getConfig",value:function(te){return[].concat((0,a.Z)((0,se.Z)((0,Se.Z)(l.prototype),"getConfig",this).call(this,te)),[{value:"collarHeight",label:"Collar Height:",pipes:[{token:"digit"},{token:"customNumber"},{token:"unit",args:"m"}],dataSource:this.panelFields.getField("collarHeight",te)},{value:"subdrillLength",label:"Subdrill Length:",pipes:[{token:"digit"},{token:"customNumber"},{token:"unit",args:"m"}],dataSource:this.panelFields.getField("subdrillLength",te)},{value:"explosive",label:"Explosive:",pipes:[{token:"digit"},{token:"customNumber"},{token:"unit",args:"kg"}],dataSource:this.panelFields.getField("explosive",te)},{value:"explosiveType",label:"Explosive type:",pipes:[{token:"detectNullValue"}],dataSource:this.panelFields.getField("explosiveType",te)},{value:"holeDiameter",label:"Hole Diameter:",pipes:[{token:"digit"},{token:"customNumber"},{token:"unit",args:"mm"}],dataSource:this.panelFields.getField("holeDiameter",te)}])}}]),l}(Y);return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),he=function(){var O=function(){function Z(A){(0,f.Z)(this,Z),this.panelFields=A}return(0,S.Z)(Z,[{key:"getConfig",value:function(l){return this.getFieldsConfig(l.avgHoleDepth,["designed","drilled","measured"],y.q.RDO)}},{key:"getFieldsConfig",value:function(l,d,te){var xe=this;return d.map(function(Be){return{value:Be,label:c.N_+"avgHoleDepth.".concat(Be),dataSource:l,pipes:[{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits("avgHoleDepth",te)}],isShown:xe.panelFields.isFieldPresentedByPattern("patternViewInspector.avgHoleDepth.fields.".concat(Be))}})}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),we=function(){var O=function(){function Z(){(0,f.Z)(this,Z)}return(0,S.Z)(Z,[{key:"getConfig",value:function(l){return[{value:"xyCollarDeviationLess033",label:"\u22640.33 m",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:"%"}],translated:!1,labelClass:"item-props__name--circle"},{value:"xyCollarDeviationMore033",label:">0.33 - \u22640.66 m",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:"%"}],translated:!1,labelClass:"item-props__name--circle"},{value:"xyCollarDeviationMore066",label:">0.66 m",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:"%"}],translated:!1,labelClass:"item-props__name--circle"}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),Ze=function(){var O=function(){function Z(A){(0,f.Z)(this,Z),this.panelFields=A}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d){return[{value:"avgXyCollarDeviation",label:c.N_+"avgXyCollarDeviation",dataSource:l,pipes:[{token:"detectNullValue"},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("collarXYDeviation",d)}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.avgXyCollarDeviation")}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),qe=function(){var O=function(){function Z(A){(0,f.Z)(this,Z),this.panelFields=A}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d){return[this.getPolygonIdsField(l),{value:"avgActualDepth",label:c.N_+"avgActualDepth",dataSource:l,pipes:[{token:"digit"},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("avgActualDepth",d)}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.avgActualDepth")},{value:"designDepth",label:c.N_+"designDepth",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("designDepth",d)}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.designDepth")}]}},{key:"getPolygonIdsField",value:function(l){var d;return{value:"polygonsIds",label:this.getPolygonIdsLabel(l),translocoParams:{value:null===(d=l.polygonsIds)||void 0===d?void 0:d.length},dataSource:l,pipes:[{token:"detectNullValue"},{token:"join"},{token:"dataLength"}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.polygonsIds")}}},{key:"getPolygonIdsLabel",value:function(l){return"".concat(c.N_).concat(l.isBlast?"pattern":"blast")}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),Fe=function(){var O=function(){function Z(A){(0,f.Z)(this,Z),this.panelFields=A}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d){return[{value:"fragmentationOver10inAverage",label:c.N_+"fragmentationOver10inAverage",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationOver10in",d)}],translated:!0,labelClass:"item-props__name--circle",isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.fragmentationOver10in")},{value:"fragmentationOver10inMin",label:"min:",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationOver10in",d)}],translated:!1,labelClass:"item-props__name--circle",isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.fragmentationOver10inMin")},{value:"fragmentationOver10inMax",label:"max:",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationOver10in",d)}],translated:!1,labelClass:"item-props__name--circle",isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.fragmentationOver10inMax")}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),Ve=function(){var O=function(){function Z(A){(0,f.Z)(this,Z),this.panelFields=A}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d){return[{value:"totalPicturesNumber",label:c.N_+"totalPicturesNumber",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"}],translated:!0,labelClass:"item-props__name--circle",isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.totalPicturesNumber")},{value:"fragmentationLess36in",label:"\u22640.91",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationOver1m",d)}],translated:!1,labelClass:"item-props__name--circle",isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.fragmentationLess36in")},{value:"fragmentationOver36inLess48in",label:">0.91 - \u22641.2",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationOver1m",d)}],translated:!1,labelClass:"item-props__name--circle",isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.fragmentationOver36inLess48in")},{value:"fragmentationOver48in",label:">1.2",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationOver1m",d)}],translated:!1,labelClass:"item-props__name--circle",isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.fragmentationOver48in")}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),Ke=function(){var O=function(){function Z(){(0,f.Z)(this,Z)}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d){var te,xe=(te={default:[{value:"min",label:c.yf+"min",pipes:[{token:"fixTo",args:3},{token:"customNumber"}],isShown:!I.ZA.isRDO(d)},{value:"max",label:c.yf+"max",pipes:[{token:"fixTo",args:3},{token:"customNumber"}],isShown:!I.ZA.isRDO(d)},{value:"avg",label:c.yf+"avg",pipes:[{token:"fixTo",args:3},{token:"customNumber"}],isShown:!I.ZA.isRDO(d)},{value:"sum",label:c.yf+"sum",pipes:[{token:"fixTo",args:3},{token:"customNumber"}],isShown:!I.ZA.isRDO(d)},{value:"stdDev",label:c.yf+"stdDev",pipes:[{token:"fixTo",args:3},{token:"customNumber"}],isShown:!I.ZA.isRDO(d)}]},(0,U.Z)(te,W.N.DIGGING_CONDITIONS,c.LB[W.N.DIGGING_CONDITIONS]),(0,U.Z)(te,W.N.DIGGING_CONDITIONS_TOP,c.LB[W.N.DIGGING_CONDITIONS_TOP]),(0,U.Z)(te,W.N.DIGGING_CONDITIONS_BOTTOM,c.LB[W.N.DIGGING_CONDITIONS_BOTTOM]),te);return[{value:"count",label:c.yf+"count",pipes:[{token:"customNumber"}]}].concat((0,a.Z)(xe[l]?xe[l]:xe.default),[{value:"avgShovelElevation",label:c.yf+"avgShovelElevation",pipes:[{token:"fixTo",args:3},{token:"customNumber"}],isShown:!I.ZA.isRDO(d)},{value:"firstDate",label:I.ZA.isRDO(d)?c.yf+"firstDateForFragmentation":c.yf+"firstDate",pipes:[{token:"dateFormatter"},{token:"detectNullValue"}]},{value:"lastDate",label:I.ZA.isRDO(d)?c.yf+"lastDateForFragmentation":c.yf+"lastDate",pipes:[{token:"dateFormatter"},{token:"detectNullValue"}]},{value:"avgElevation",label:c.yf+"avgElevation",pipes:[{token:"detectNullValue",args:!1},{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits("elevation",d)}],isShown:I.ZA.isRDO(d)},{value:"avgFragmentationP50",label:c.yf+"avgFragmentationP50",pipes:[{token:"detectNullValue",args:!1},{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits("fragmentationP50",d)}],isShown:I.ZA.isRDO(d)},{value:"avgFragmentationP80",label:c.yf+"avgFragmentationP80",pipes:[{token:"detectNullValue",args:!1},{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits("fragmentationP80",d)}],isShown:I.ZA.isRDO(d)},{value:"maxFragmentationTopSize",label:c.yf+"maxFragmentationTopSize",pipes:[{token:"detectNullValue",args:!1},{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits("fragmentationTopSize",d)}],isShown:I.ZA.isRDO(d)},{value:"avgFragmentationBouldersPct",label:c.yf+"avgFragmentationBouldersPct",pipes:[{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits("boulderLocation",d)}],isShown:I.ZA.isRDO(d)}])}}]),Z}();return O.\u0275fac=function(A){return new(A||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),gt=function(){var O=function(){function Z(){var A;(0,f.Z)(this,Z),this.perMineConfig=((0,U.Z)(A={},y.q.CDA,[{value:"numWet",label:c.cr+"numWet",pipes:[{token:"customNumber"}]},{value:"numDry",label:c.cr+"numDry",pipes:[{token:"customNumber"}]},{value:"numRedrilled",label:c.cr+"reDrilled",pipes:[{token:"customNumber"}]},{value:"numShort",label:c.cr+"shortHoles",pipes:[{token:"customNumber"}]},{value:"numSubdrilled",label:c.cr+"subDrilled",pipes:[{token:"customNumber"}]},{value:"numOverloaded",label:c.cr+"numOverloaded",pipes:[{token:"customNumber"}]},{value:"numNoLoad",label:c.cr+"numNoLoadByDesign",pipes:[{token:"customNumber"}]}]),(0,U.Z)(A,y.q.RDO,[{value:"numNoLoadByCaving",label:c.cr+"numNoLoadByCaving",pipes:[{token:"customNumber"}]},{value:"numMisfire",label:c.cr+"numMisfire",pipes:[{token:"customNumber"}]}]),A)}return(0,S.Z)(Z,[{key:"getConfig",value:function(l){return this.perMineConfig[l]?this.perMineConfig[l]:[{value:"numWet",label:c.cr+"numWet",pipes:[{token:"customNumber"}],isShown:I.ZA.isCoalMine(l)},{value:"numDry",label:c.cr+"numDry",pipes:[{token:"customNumber"}],isShown:I.ZA.isCoalMine(l)},{value:"numDewatered",label:c.cr+"numDewatered",pipes:[{token:"customNumber"}],isShown:I.ZA.isCoalMine(l)},{value:"numOverloaded",label:c.cr+"numOverloaded",pipes:[{token:"customNumber"}]},{value:"numNoLoadByDesign",label:c.cr+"numNoLoadByDesign",pipes:[{token:"customNumber"}]},{value:"numNoLoadByCaving",label:c.cr+"numNoLoadByCaving",pipes:[{token:"customNumber"}]},{value:"numMisfire",label:c.cr+"numMisfire",pipes:[{token:"customNumber"}]},{value:"numNotLined",label:c.cr+"numNotLined",pipes:[{token:"customNumber"}]}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),de=o(58836),Ie=o(72451),Ne=W.N.COLLAR_ELEVATION,G=W.N.LOADING,T=W.N.SHORT_HOLE,g=W.N.DRILL_PRODUCTIVITY,i=W.N.DRILL_COMPLIANCE,P=b.a.DATE_TIME_SEC,_="holeViewInspector.polygonSelectionInspector.fields",ne=function(){var O=function(){function Z(A,l){(0,f.Z)(this,Z),this.panelFields=A,this.multiHoleHVCService=l}return(0,S.Z)(Z,[{key:"isForDrillProductivity",value:function(l,d){return I.ZA.isMetalMine(d)&&l===g||I.ZA.isCoalMine(d)&&[g,i].includes(l)}},{key:"isFieldVisibleForDrillProductivity",value:function(l,d,te){return this.isForDrillProductivity(l,d)&&this.panelFields.isFieldPresented(te)}},{key:"getDiggingCondition",value:function(l){return this.addPermissionsForDiggingConditionFields(l===W.N.DIGGING_CONDITIONS_3D?[].concat((0,a.Z)(de.LB[W.N.DIGGING_CONDITIONS_TOP]),(0,a.Z)(de.LB[W.N.DIGGING_CONDITIONS_BOTTOM])):de.LB[W.N.DIGGING_CONDITIONS])}},{key:"getPrecision",value:function(l){return I.ZA.isRDO(l)?2:3}},{key:"getExplosivePipes",value:function(l,d){return I.ZA.isCDA(l)?[{token:"customNumber"},{token:"unit",args:p.Ab.getUnits(d,l)}]:[{token:"customNumber"}]}},{key:"getConfig",value:function(l,d,te){var Be=this.getDiggingConditionPercentages(l,d),$e=this.getTimeFormat(d),nt=this.getExplosiveFields(d,te.explosives),ot="item-props__value t-overflow--ellipsis";return[{value:"patterns",label:de.cr+"patterns",pipes:[{token:"join"},{token:"dataLength"}],labelPlural:de.cr+"pluralPatterns",tooltip:!I.ZA.isCDA(d),valueClass:I.ZA.isCDA(d)?"item-props__value":ot,isShown:this.panelFields.isFieldPresented("".concat(_,".patterns"))},{value:"blasts",label:de.cr+"blasts",pipes:[{token:"join"},{token:"dataLength"}],labelPlural:de.cr+"pluralBlasts",valueClass:"item-props__value",isShown:this.panelFields.isFieldPresented("".concat(_,".blasts"))},{value:"avgHoleLength",label:de.cr+"avgHoleLength",pipes:this.getUnitsPipes(d,"avgHoleLength"),isShown:this.panelFields.isFieldPresented("".concat(_,".avgHoleLength"))},{value:"avgDesignHoleLength",label:de.cr+"avgDesignHoleLength",pipes:this.getUnitsPipes(d,"avgDesignHoleLength"),isShown:this.panelFields.isFieldPresented("".concat(_,".avgDesignHoleLength"))},{value:"avgXyCollarDeviation",label:de.cr+"avgXyCollarDeviation",pipes:this.getUnitsPipes(d,"avgCollarDeviation"),isShown:this.panelFields.isFieldPresented("".concat(_,".avgXyCollarDeviation"))},{value:"collarDeviation",label:de.cr+"collarDeviation",pipes:[],isShown:this.panelFields.isFieldPresented("".concat(_,".collarDeviation"))},{value:"avgXyCollarDeviationLess033",label:de.cr+"avgXyCollarDeviationLess033",labelClass:"item-props__name label-list-item",pipes:[{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("avgXyCollarDeviation",d)}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgXyCollarDeviationLess033"))},{value:"avgXyCollarDeviationMore033",label:de.cr+"avgXyCollarDeviationMore033",labelClass:"item-props__name label-list-item",pipes:[{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("avgXyCollarDeviation",d)}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgXyCollarDeviationMore033"))},{value:"avgXyCollarDeviationMore066",label:de.cr+"avgXyCollarDeviationMore066",labelClass:"item-props__name label-list-item",pipes:[{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("avgXyCollarDeviation",d)}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgXyCollarDeviationMore066"))},{value:"avgCollarElevation",label:de.cr+"avgCollarElevation",pipes:[{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits("collarHeight",d)}],isShown:I.ZA.isCDA(d)},{value:"avgDrilledHoleDepth",label:de.cr+"avgDrilledHoleDepth",pipes:this.getUnitsPipes(d,"avgDrilledHoleDepth"),isShown:this.panelFields.isFieldPresented("".concat(_,".avgDrilledHoleDepth"))},{value:"avgDesignedHoleDepth",label:de.cr+"avgDesignedHoleDepth",pipes:this.getUnitsPipes(d,"avgDesignedHoleDepth"),isShown:this.panelFields.isFieldPresented("".concat(_,".avgDesignedHoleDepth"))},{value:"avgMeasuredHoleDepth",label:de.cr+"avgMeasuredHoleDepth",pipes:this.getUnitsPipes(d,"avgMeasuredHoleDepth"),isShown:this.panelFields.isFieldPresented("".concat(_,".avgMeasuredHoleDepth"))},{value:"avgCollarElevation",label:de.cr+"avgCollarElevation",pipes:[{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits("collarHeight",d)}],isShown:I.ZA.isRDO(d)}].concat((0,a.Z)(nt),[{value:"explosiveTypes",label:de.cr+"explosiveTypes",pipes:[{token:"detectNullValue"},{token:"join"},{token:"dataLength"}],tooltip:!I.ZA.isCDA(d),valueClass:I.ZA.isCDA(d)?"item-props__value":ot,isShown:this.panelFields.isFieldPresented("".concat(_,".explosiveTypes"))},{value:"avgExplosive",label:de.cr+"avgExplosive.default",pipes:this.getExplosivePipes(d,"avgExplosive"),isShown:this.panelFields.isFieldPresented("".concat(_,".avgExplosive"))},{value:"totalExplosive",label:de.cr+"totalExplosive.default",pipes:this.getExplosivePipes(d,"totalExplosive"),isShown:this.panelFields.isFieldPresented("".concat(_,".totalExplosive"))},{value:"avgSubdrill",label:de.cr+"avgSubDrilled",pipes:this.getUnitsPipes(d,"subdrillActual"),isShown:this.panelFields.isFieldPresented("".concat(_,".avgSubdrill"))},{value:"avgEnergyFactor",minValue:"energyFactorMin",maxValue:"energyFactorMax",label:de.cr+"avgEnergyFactor",pipes:this.getUnitsPipes(d,"avgEnergyFactor"),isShown:this.panelFields.isFieldPresented("".concat(_,".avgEnergyFactor"))},{value:"firstExplosiveLoadingDate",label:de.cr+"firstExplosiveLoadingDate",pipes:[{token:"dateFormatter",args:[d,P]},{token:"detectNullValue"}],isShown:this.panelFields.isFieldPresented("".concat(_,".firstExplosiveLoadingDate"))},{value:"lastExplosiveLoadingDate",label:de.cr+"lastExplosiveLoadingDate",pipes:[{token:"dateFormatter",args:[d,P]},{token:"detectNullValue"}],isShown:this.panelFields.isFieldPresented("".concat(_,".lastExplosiveLoadingDate"))},{value:"firstBlastDate",label:de.cr+"firstBlastDate",pipes:[{token:"dateFormatter",args:[d,$e]}],isShown:this.panelFields.isFieldPresented("".concat(_,".firstBlastDate"))},{value:"lastBlastDate",label:de.cr+"lastBlastDate",pipes:[{token:"dateFormatter",args:[d,$e]}],isShown:this.panelFields.isFieldPresented("".concat(_,".lastBlastDate"))},{value:"totalExplosiveWeight",label:de.cr+"totalExplosiveWeight",pipes:this.getUnitsPipes(d,"totalExplosiveWeight"),isShown:this.panelFields.isFieldPresented("".concat(_,".totalExplosiveWeight"))},{value:"totalDesignExplosiveWeight",label:de.cr+"totalDesignExplosiveWeight",pipes:this.getUnitsPipes(d,"totalDesignExplosiveWeight"),isShown:this.panelFields.isFieldPresented("".concat(_,".totalDesignExplosiveWeight"))},{value:"avgExplosiveWeightDeviation",label:de.cr+"avgExplosiveWeightDeviation.".concat(d),pipes:this.getUnitsPipes(d,"avgExplosiveWeightDeviation"),isShown:this.panelFields.isFieldPresented("".concat(_,".avgExplosiveWeightDeviation"))},{value:"avgExplosiveCost",label:de.cr+"avgExplosiveCost",pipes:this.getCustomCurrencyPipe(),isShown:this.panelFields.isFieldPresented("".concat(_,".avgExplosiveCost"))},{value:"totalExplosiveCost",label:de.cr+"totalExplosiveCost",pipes:this.getCustomCurrencyPipe(),isShown:this.panelFields.isFieldPresented("".concat(_,".totalExplosiveCost"))},{value:"avgExplosiveCostPerBcm",label:de.cr+"avgExplosiveCostPerBcm",pipes:this.getCustomCurrencyPipe(),isShown:this.panelFields.isFieldPresented("".concat(_,".avgExplosiveCostPerBcm"))},this.getAvgHolePowder(d),{value:"avgStemmingHeight",label:I.ZA.isHVC(d)?de.cr+"avgStemmingHeight.hvc":de.cr+"avgStemmingHeight.default",pipes:[{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("avgStemmingHeight",d)}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgStemmingHeight"))},{value:"avgDrillSpecificEnergy",minValue:"drillSpecificEnergyMin",maxValue:"drillSpecificEnergyMax",label:de.cr+"avgDrillSpecificEnergy",pipes:[{token:"customNumber"}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgDrillSpecificEnergy"))},{value:"blastability",label:de.cr+"avgBi",pipes:[{token:"customNumber"}],isShown:this.panelFields.isFieldPresented("".concat(_,".blastability"))},{value:"avgPenetrationRate",label:de.cr+"avgPenetrationRate",pipes:[{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("drillProductivity",d)}],isShown:I.ZA.isCDA(d)},{value:"avgActualPowderFactor",label:de.cr+"avgActualPowderFactor",pipes:[{token:"fixTo",args:2},{token:"customNumber"},{token:"unit",args:"lb/BCY"}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgActualPowderFactor"))},{value:"avgDesignPowderFactor",label:de.cr+"avgDesignPowderFactor",pipes:[{token:"fixTo",args:2},{token:"customNumber"},{token:"unit",args:"lb/BCY"}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgDesignPowderFactor"))},{value:"avgDiggability",label:de.cr+"avgDiggability",pipes:[{token:"fixTo",args:3},{token:"customNumber"}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgDiggability"))}],(0,a.Z)(Be),[{value:"avgDiggingTimePerPass",label:de.cr+"avgDiggingTimePerPass",pipes:[{token:"fixTo",args:this.getPrecision(d)}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgDiggingTimePerPass"))},{value:"avgPayloadPerPass",label:de.cr+"avgPayloadPerPass",pipes:[{token:"fixTo",args:this.getPrecision(d)},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("avgPayloadPerPass",d)}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgPayloadPerPass"))},{value:"avgBlastabilityToeZone",label:de.cr+"avgBlastabilityToeZone",pipes:[{token:"fixTo",args:3},{token:"customNumber"}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgBlastabilityToeZone"))},{value:"avgBlastabilityMidZone",label:I.ZA.isMetalMine(d)?de.cr+"avgBlastabilityMidZone.metal":de.cr+"avgBlastabilityMidZone.coal",pipes:[{token:"fixTo",args:this.getPrecision(d)},{token:"customNumber"}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgBlastabilityMidZone"))},{value:"avgBlastabilityTopZone",label:de.cr+"avgBlastabilityTopZone",pipes:[{token:"fixTo",args:3},{token:"customNumber"}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgBlastabilityTopZone"))},{value:"avgToeMomentum",label:de.cr+"avgToeMomentum",pipes:[{token:"customNumber"}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgToeMomentum"))},{value:"avgMaxForce",label:de.cr+"avgMaxForce",pipes:[{token:"customNumber"}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgMaxForce"))},{value:"avgInstantaneousDigRate",label:de.cr+"avgInstantaneousDigRate",pipes:[{token:"fixTo"},{token:"customNumber"}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgInstantaneousDigRate"))},{value:"avgLoadingTime",label:de.cr+(I.ZA.isRDO(d)?"avgMuckpileLoadingTime":"avgLoadingTime"),pipes:[{token:"digit",args:this.getPrecision(d)}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgLoadingTime"))},{value:"fragmentationCdaB1",label:de.cr+"fragmentationLess1In",pipes:this.getUnitsPipes(d,"fragmentationLess1In"),isShown:this.panelFields.isFieldPresented("".concat(_,".fragmentationCdaB1"))},{value:"fragmentationOver3in",label:de.cr+"fragmentationOver3in",pipes:this.getUnitsPipes(d,"fragmentationOver3in"),isShown:this.panelFields.isFieldPresented("".concat(_,".fragmentationOver3in"))},{value:"avgFragmentationP50",label:I.ZA.isRDO(d)?de.cr+"avgFragmentationP50.rdo":de.cr+"avgFragmentationP50.default",pipes:[{token:"fixTo",args:2},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("avgFragmentationP50",d)}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgFragmentationP50"))},{value:"avgFragmentationP80",label:I.ZA.isRDO(d)?de.cr+"avgFragmentationP80.rdo":de.cr+"avgFragmentationP80.default",pipes:[{token:"fixTo",args:2},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("avgFragmentationP80",d)}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgFragmentationP80"))},{value:"fragmentationOver1mField",label:de.cr+"fragmentationOver10in",pipes:[],iconTooltipText:de.cr+"fragmentationOver10inTooltipText",isShown:this.panelFields.isFieldPresented("".concat(_,".fragmentationOver1mField"))},{value:"fragmentationOver10inAverage",label:de.cr+"fragmentationOver10inAverage",labelClass:"item-props__name label-list-item",pipes:this.getUnitsPipes(d,"fragmentationLess1In"),isShown:this.panelFields.isFieldPresented("".concat(_,".fragmentationOver10inAverage"))},{value:"fragmentationOver10inMin",label:de.cr+"fragmentationOver10inMin",labelClass:"item-props__name label-list-item",pipes:this.getUnitsPipes(d,"fragmentationLess1In"),isShown:this.panelFields.isFieldPresented("".concat(_,".fragmentationOver10inMin"))},{value:"fragmentationOver10inMax",label:de.cr+"fragmentationOver10inMax",labelClass:"item-props__name label-list-item",pipes:this.getUnitsPipes(d,"fragmentationLess1In"),isShown:this.panelFields.isFieldPresented("".concat(_,".fragmentationOver10inMax"))},{value:"maxFragmentationTopSize",label:de.cr+"maxFragmentationTopSize",pipes:[{token:"fixTo",args:2},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("maxFragmentationTopSize",d)}],isShown:this.panelFields.isFieldPresented("".concat(_,".maxFragmentationTopSize"))},{value:"avgBoulderLocation",label:l===W.N.BOULDER_LOCATION?de.cr+"boulderLocationPostBlast":de.cr+"avgBoulderLocation",pipes:[{token:"unit",args:p.Ab.getUnits("boulderLocation",d)}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgBoulderLocation"))&&l!==W.N.BOULDER_LOCATION_PRE_BLAST},{value:"avgBoulderLocationPreBlast",label:de.cr+"boulderLocationPreBlast",pipes:[{token:"unit",args:p.Ab.getUnits("boulderLocation",d)}],isShown:this.panelFields.isFieldPresented("".concat(_,".avgBoulderLocationPreBlast"))&&l===W.N.BOULDER_LOCATION_PRE_BLAST},{value:"avgPenetrationRate",label:de.cr+"avgPenetrationRate",pipes:this.getUnitsPipes(d,"drillProductivity"),isShown:this.isFieldVisibleForDrillProductivity(l,d,"".concat(_,".avgPenetrationRate"))&&!I.ZA.isCDA(d)},{value:"avgInstantaneousPenetrationRate",label:de.cr+"avgInstantaneousPenetrationRate",pipes:[{token:"detectNullValue"},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("instantaneousPenetrationRate",d)}],isShown:this.isFieldVisibleForDrillProductivity(l,d,"".concat(_,".avgInstantaneousPenetrationRate"))},{value:"avgAvgTorque",label:de.cr+"avgAvgTorque",pipes:this.getUnitsPipes(d,"avgTorque"),isShown:this.isFieldVisibleForDrillProductivity(l,d,"".concat(_,".avgAvgTorque"))},{value:"maxMaxVibration",label:de.cr+"maxMaxVibration",pipes:this.getUnitsPipes(d,"maxVibration"),isShown:this.isFieldVisibleForDrillProductivity(l,d,"".concat(_,".maxMaxVibration"))},{value:"avgAvgRpm",label:de.cr+"avgAvgRpm",pipes:this.getUnitsPipes(d,"avgRpm"),isShown:this.isFieldVisibleForDrillProductivity(l,d,"".concat(_,".avgAvgRpm"))},{value:"avgAvgWeightOnBit",label:de.cr+"avgAvgWeightOnBit",pipes:this.getUnitsPipes(d,"avgWeightOnBit"),isShown:this.isFieldVisibleForDrillProductivity(l,d,"".concat(_,".avgAvgWeightOnBit"))},{value:"avgMaxWeightOnBit",label:de.cr+"avgMaxWeightOnBit",pipes:this.getUnitsPipes(d,"maxWeightOnBit"),isShown:this.isFieldVisibleForDrillProductivity(l,d,"".concat(_,".avgMaxWeightOnBit"))},{value:"maxMaxWeightOnBit",label:de.cr+"maxMaxWeightOnBit",pipes:this.getUnitsPipes(d,"maxWeightOnBit"),isShown:this.isFieldVisibleForDrillProductivity(l,d,"".concat(_,".maxMaxWeightOnBit"))},{value:"avgCollarElevation",label:de.cr+"avgCollarElevationActual",pipes:[{token:"customNumber"}],isShown:l===Ne&&I.ZA.isCoalMine(d)},{value:"avgDifference",label:de.cr+"avgDifference",pipes:[{token:"customNumber"}],isShown:l===T&&this.panelFields.isFieldPresented("holeViewInspector.main.fields.difference")},{value:"fragmentationOver1mField",label:de.cr+"fragmentationOver1m",iconTooltipText:de.cr+"fragmentationOver1mTooltipText",pipes:[],isShown:this.panelFields.isFieldPresented("".concat(_,".fragmentationOver1mField"))},{value:"totalPicturesNumber",label:de.cr+"fragmentationTotal",pipes:[{token:"customNumber"}],labelClass:"item-props__name label-list-item",isShown:this.panelFields.isFieldPresented("".concat(_,".totalPicturesNumber"))},{value:"fragmentationLess36in",label:de.cr+"fragmentationLess36in",pipes:this.getUnitsPipes(d,"fragmentationLess1In"),labelClass:"item-props__name label-list-item",isShown:this.panelFields.isFieldPresented("".concat(_,".fragmentationLess36in"))},{value:"fragmentationOver36inLess48in",label:de.cr+"fragmentationOver36inLess48in",pipes:this.getUnitsPipes(d,"fragmentationLess1In"),labelClass:"item-props__name label-list-item",isShown:this.panelFields.isFieldPresented("".concat(_,".fragmentationOver36inLess48in"))},{value:"fragmentationOver48in",label:de.cr+"fragmentationOver48in",pipes:this.getUnitsPipes(d,"fragmentationLess1In"),labelClass:"item-props__name label-list-item",isShown:this.panelFields.isFieldPresented("".concat(_,".fragmentationOver48in"))},{value:"standardDeviation",label:de.cr+"standardDeviation",pipes:[{token:"fixTo",args:this.getPrecision(d)},{token:"customNumber"}],isShown:![null,T,G,W.N.DIGGING_CONDITIONS,W.N.DIGGING_CONDITIONS_3D].includes(l)||I.ZA.isCDA(d)}]).filter(function(St){return!!St})}},{key:"getAvgHolePowder",value:function(l){return I.ZA.isCDA(l)?{value:"avgHolePowderFactor",minValue:"powderFactorMin",maxValue:"powderFactorMax",label:de.cr+"avgHolePowderFactor",pipes:this.getPowderPipes(l)}:{value:"avgHolePowderFactor",label:de.cr+"avgHolePowderFactor",pipes:this.getPowderPipes(l),isShown:this.panelFields.isFieldPresented("".concat(_,".avgHolePowderFactor"))}}},{key:"getPowderPipes",value:function(l){return[{token:"fixTo",args:this.getPrecision(l)},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("powderFactor",l)}]}},{key:"addPermissionsForDiggingConditionFields",value:function(l){var d=this;return l.map(function(te){return Object.assign(Object.assign({},te),{isShown:d.panelFields.isFieldPresented("holeViewInspector.main.fields.diggingConditions")})})}},{key:"getDiggingConditionPercentages",value:function(l,d){return I.ZA.isCDA(d)?[]:this.getDiggingCondition(l)}},{key:"getTimeFormat",value:function(l){return I.ZA.isRDO(l)?b.a.DATE_TIME_SEC:b.a.DEFAULT}},{key:"getExplosiveFields",value:function(l,d){return I.ZA.isHVC(l)?this.multiHoleHVCService.getConfig(d,de.cr):[]}},{key:"getUnitsPipes",value:function(l,d){return[{token:"customNumber"},{token:"unit",args:p.Ab.getUnits(d,l)}]}},{key:"getCustomCurrencyPipe",value:function(){return[{token:"customCurrency",args:["USD","symbol","0.0-2"]}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(de.ON),E.LFG(Ie.k))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),Oe=function(){var O=function(){function Z(A){(0,f.Z)(this,Z),this.panelFields=A}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d){return[{value:"drillProductivity",label:c.a$+"drillProductivity",dataSource:l,pipes:[{token:"detectNullValue"},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("drillProductivity",d)}]},{value:"instantaneousPenetrationRate",label:c.a$+"instantaneousPenetrationRate",dataSource:l,pipes:[{token:"detectNullValue"},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("instantaneousPenetrationRate",d)}],isShown:I.ZA.isCoalMine(d)&&!this.panelFields.isHoleBmm(l)},{value:"drillingEquipmentId",label:c.a$+"drillingEquipmentId",dataSource:l,pipes:[{token:"detectNullValue"}]},{value:"drillerId",label:c.a$+"drillerId",dataSource:l,pipes:[{token:"detectNullValue"}],tooltip:!0,valueClass:"item-props__value t-overflow--ellipsis",isShown:!I.ZA.isFroMine(d)},{value:"avgTorque",label:c.a$+"avgTorque",dataSource:l,pipes:[{token:"detectNullValue"},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("avgTorque",d)}]},{value:"maxVibration",label:c.a$+"maxVibration",dataSource:l,pipes:[{token:"detectNullValue"},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("maxVibration",d)}]},{value:"avgRpm",label:c.a$+"avgRpm",dataSource:l,pipes:[{token:"detectNullValue"},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("avgRpm",d)}]},{value:"avgWeightOnBit",label:c.a$+"avgWeightOnBit",dataSource:l,pipes:[{token:"detectNullValue"},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("avgWeightOnBit",d)}]},{value:"maxWeightOnBit",label:c.a$+"maxWeightOnBit",dataSource:l,pipes:[{token:"detectNullValue"},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("maxWeightOnBit",d)}]},{value:"drillBitSerialNumber",label:c.a$+"drillBitSerialNumber",dataSource:l,pipes:[{token:"detectNullValue"}],isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.drillBitSerialNumber")}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),Ge=function(){var O=function(){function Z(A){(0,f.Z)(this,Z),this.panelFields=A}return(0,S.Z)(Z,[{key:"getConfig",value:function(){return[{value:"planned",label:c.a$+"short_holes_charges.planned.",pipes:[{token:"unit",args:"m"}],isShown:this.panelFields.isFieldPresented("holeViewInspector.shortHoles.fields.bottomCharge")},{value:"actual",label:c.a$+"short_holes_charges.actual.",pipes:[{token:"unit",args:"m"}],isShown:this.panelFields.isFieldPresented("holeViewInspector.shortHoles.fields.bottomCharge")},{value:"difference",label:c.a$+"short_holes_charges.difference.",pipes:[{token:"unit",args:"m"}],isShown:this.panelFields.isFieldPresented("holeViewInspector.shortHoles.fields.bottomDifference")}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),Re=function(){var O=function(){function Z(){(0,f.Z)(this,Z)}return(0,S.Z)(Z,[{key:"getConfig",value:function(){return[{value:"actualChargeLength",label:c.a$+"charges.actualChargeLength",pipes:[{token:"digit",args:1},{token:"customNumber"},{token:"unit",args:"m"}]},{value:"designChargeLength",label:c.a$+"charges.designChargeLength",pipes:[{token:"digit",args:1},{token:"customNumber"},{token:"unit",args:"m"}]},{value:"explosiveTop",label:c.a$+"charges.explosiveTop",pipes:[{token:"digit",args:1},{token:"customNumber"},{token:"unit",args:"m"}]},{value:"explosiveBottom",label:c.a$+"charges.explosiveBottom",pipes:[{token:"digit",args:1},{token:"customNumber"},{token:"unit",args:"m"}]},{value:"charge",label:c.a$+"charges.charge",pipes:[{token:"digit",args:1},{token:"customNumber"},{token:"unit",args:"kg"}]},{value:"explosiveType",label:c.a$+"charges.explosiveType",pipes:[{token:"digit"}]}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),at=o(58464),et=function(){var O=function(){function Z(A,l){(0,f.Z)(this,Z),this.panelFields=A,this.hvcFieldsService=l}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d){if(d===y.q.HVC)return this.hvcFieldsService.getConfig(l.explosives);var te=[{value:[{name:"averageDesignWetExplosive",pipes:[{token:"customNumber"},{token:"digit"},{token:"unit",args:p.Ab.getUnits("averageDesignWetExplosive",d)}]},{name:"designWetPercent",pipes:[{token:"detectNullZeroValue",args:""}]}],label:c.N_+"averageDesignWetExplosive",pipes:[],dataSource:l,isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.explosives.fields.wet")},{value:[{name:"averageActualWetExplosive",pipes:[{token:"customNumber"},{token:"digit"},{token:"unit",args:p.Ab.getUnits("averageActualWetExplosive",d)}]},{name:"actualWetPercent",pipes:[{token:"detectNullZeroValue",args:""}]}],label:c.N_+"averageActualWetExplosive",pipes:[],dataSource:l,isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.explosives.fields.wet")},{value:[{name:"overloadedWetExplosive",pipes:[{token:"customNumber"},{token:"digit"},{token:"unit",args:p.Ab.getUnits("overloadedWetExplosive",d)}]},{name:"overloadedWetPercent",pipes:[{token:"detectNullZeroValue",args:""}]}],label:c.N_+"overloadedWetExplosive",pipes:[],dataSource:l,isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.explosives.fields.wet")},{value:[{name:"averageDesignDryExplosive",pipes:[{token:"customNumber"},{token:"digit"},{token:"unit",args:p.Ab.getUnits("averageDesignDryExplosive",d)}]},{name:"designDryPercent",pipes:[{token:"detectNullZeroValue",args:""}]}],label:c.N_+"averageDesignDryExplosive",pipes:[],dataSource:l,isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.explosives.fields.dry")},{value:[{name:"averageActualDryExplosive",pipes:[{token:"customNumber"},{token:"digit"},{token:"unit",args:p.Ab.getUnits("averageActualDryExplosive",d)}]},{name:"actualDryPercent",pipes:[{token:"detectNullZeroValue",args:""}]}],label:c.N_+"averageActualDryExplosive",pipes:[],dataSource:l,isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.explosives.fields.dry")},{value:[{name:"overloadedDryExplosive",pipes:[{token:"customNumber"},{token:"digit"},{token:"unit",args:p.Ab.getUnits("overloadedDryExplosive",d)}]},{name:"overloadedDryPercent",pipes:[{token:"detectNullZeroValue",args:""}]}],label:c.N_+"overloadedDryExplosive",pipes:[],dataSource:l,isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.explosives.fields.dry")}],xe=[{value:"totalDesignExplosive",label:c.N_+"totalDesignExplosive",pipes:[{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("totalDesignExplosive",d)}],dataSource:l},{value:"totalActualExplosive",label:c.N_+"totalActualExplosive",pipes:[{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("totalActualExplosive",d)}],dataSource:l}];return I.ZA.isCDA(d)?xe:!I.ZA.isHVC(d)&&this.panelFields.isFieldPresentedByPattern("patternViewInspector.explosives.visible")?te:void 0}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O),E.LFG(at.i))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),tt=function(){var O=function(){function Z(A){(0,f.Z)(this,Z),this.panelFields=A}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d){return[{value:"fragmentationP50",label:c.N_+"p50",dataSource:l,pipes:[{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits("fragmentationP50",d)}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.fragmentationP50")},{value:"fragmentationP80",label:c.N_+"p80",dataSource:l,pipes:[{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits("fragmentationP80",d)}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.fragmentationP80")},{value:"fragmentationTopSize",label:c.N_+"topSize",dataSource:l,pipes:[{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits("fragmentationTopSize",d)}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.fragmentationTopSize")},{value:"fragmentationBouldersPct",label:c.N_+"boulderLocation",dataSource:l,pipes:[{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits("boulderLocation",d)}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.fragmentationBouldersPct")},{value:"fragmentationCdaB1",label:c.N_+"fragmentationCdaB1",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationCdaB1",d)}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.fragmentationCdaB1")},{value:"fragmentationOver3in",label:c.N_+"fragmentationOver3in",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("fragmentationOver3in",d)}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.fragmentationOver3in")}]}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O}(),We=o(22124),rt=b.a.DATE_TIME_SEC,st=function(){var O=function(){function Z(A){(0,f.Z)(this,Z),this.panelFields=A}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d){var te=this,xe=I.ZA.isRDO(d)?b.a.DATE_TIME_SEC:b.a.DEFAULT,Be=c.LB[W.N.DIGGING_CONDITIONS].map(function(ot){return Object.assign(Object.assign({},ot),{dataSource:l.diggingConditions,isShown:te.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.diggingConditions")})}),$e=[{value:[{name:"burden",pipes:[{token:"digit"}]},{name:"spacing",pipes:[{token:"digit"}]}],label:c.N_+"burdenAndSpacing",joinBy:" x ",dataSource:l,pipes:[{token:"unit",args:p.Ab.getUnits("burdenAndSpacing",d)}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.burdenSpacing")},{value:"sleepTime",label:c.N_+"sleepTime",dataSource:l,pipes:[{token:"digit"}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.sleepTime")},{value:"powderFactor",label:c.N_+"powderFactor",dataSource:l,pipes:[{token:"digit"},{token:"unit",args:p.Ab.getUnits("powderFactorPolygon",d)}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.powderFactor")},{value:"energyFactor",label:c.N_+"energyFactor",dataSource:l,pipes:[{token:"digit"},{token:"unit",args:p.Ab.getUnits("energyFactorPolygon",d)}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.energyFactor")},{value:"diggability",label:c.N_+"diggability",dataSource:l,pipes:[{token:"digit"},{token:"unit",args:p.Ab.getUnits("diggabilityPolygon",d)}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.diggability")}].concat((0,a.Z)(Be),[{value:"blastability",label:c.N_+"blastability",dataSource:l,pipes:[{token:"digit"},{token:"unit",args:p.Ab.getUnits("blastabilityPolygon",d)}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.blastability")},{value:"loadingTime",label:c.N_+"loadingTime",dataSource:l,pipes:[{token:"digit"}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.loadingTime")},{value:"averagePenetrationRate",label:c.N_+"averagePenetrationRate",dataSource:l,pipes:[{token:"digit",args:3},{token:"unit",args:p.Ab.getUnits("avgPenetrationRate",d)}]},{value:"avgCollarElevation",label:c.N_+"avgCollarElevation",dataSource:l,pipes:[{token:"customNumber",args:(0,We.M)(d)},{token:"unit",args:p.Ab.getUnits("avgCollarElevation",d)}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.avgCollarElevation")},{value:"firstDrillDate",label:c.N_+"firstDrillDate",dataSource:l.dates,pipes:[{token:"dateFormatter",args:[d,xe]}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.firstDrillDate")},{value:"lastDrillDate",label:c.N_+"lastDrillDate",dataSource:l.dates,pipes:[{token:"dateFormatter",args:[d,xe]}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.lastDrillDate")},{value:"firstExplosiveLoadingDate",label:c.N_+"firstExplosiveLoadingDate",dataSource:l.dates,pipes:[{token:"dateFormatter",args:[d,rt]},{token:"detectNullValue"}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.firstExplosiveLoadingDate")},{value:"lastExplosiveLoadingDate",label:c.N_+"lastExplosiveLoadingDate",dataSource:l.dates,pipes:[{token:"dateFormatter",args:[d,rt]},{token:"detectNullValue"}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.lastExplosiveLoadingDate")},{value:"blastDate",label:c.N_+"blastDate",dataSource:l.dates,pipes:[{token:"dateFormatter",args:[d,xe]}],isShown:this.panelFields.isFieldPresentedByPattern("patternViewInspector.other.fields.blastDate")}]),nt=[{value:"avgCollarElevation",label:c.N_+"avgCollarElevation",dataSource:l,pipes:[{token:"customNumber",args:(0,We.M)(d)},{token:"unit",args:p.Ab.getUnits("collarHeight",d)}]},{value:"powderFactor",label:c.N_+"powderFactor",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("powderFactorPolygon",d)}]},{value:"energyFactor",label:c.N_+"energyFactor",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("energyFactorPolygon",d)}]},{value:"avgStemmingHeight",label:c.N_+"avgStemmingHeight",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("stemmingHeight",d)}]},{value:"avgDrillSpecificEnergy",label:c.N_+"avgDrillSpecificEnergy",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"}]},{value:"blastability",label:c.N_+"blastability",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("blastabilityPolygon",d)}]},{value:[{name:"burden",pipes:[{token:"digit"}]},{name:"spacing",pipes:[{token:"digit"}]}],label:c.N_+"burdenAndSpacing",joinBy:" x ",dataSource:l,pipes:[{token:"detectNullJoinedValues",args:"x"},{token:"unit",args:p.Ab.getUnits("burdenAndSpacing",d)}]},{value:"averagePenetrationRate",label:c.N_+"averagePenetrationRate",dataSource:l,pipes:[{token:"detectNullValue",args:!1},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("avgPenetrationRate",d)}]}];return I.ZA.isCDA(d)?nt:$e}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),ft=b.a.DATE_TIME_SEC,mt=b.a.DEFAULT,Ot=b.a.DEFAULT_CDA,Pt=b.a.FULL_TIME,yt=function(){var O=function(){function Z(A){var l,d,te,xe,Be,$e,nt,ot;(0,f.Z)(this,Z),this.panelFields=A,this.translationKeys={actualDepth:(l={},(0,U.Z)(l,y.q.RDO,"actualDepth.rdo"),(0,U.Z)(l,"default","actualDepth.default"),l),designDepth:(d={},(0,U.Z)(d,y.q.RDO,"designDepth.rdo"),(0,U.Z)(d,"default","designDepth.default"),d),collarElevation:(te={},(0,U.Z)(te,y.q.RDO,"collarElevation.rdo"),(0,U.Z)(te,"default","collarElevation"),te),energyFactor:(xe={},(0,U.Z)(xe,y.q.RDO,"energyFactor.rdo"),(0,U.Z)(xe,"default","energyFactor.default"),xe),powderFactor:(Be={},(0,U.Z)(Be,y.q.RDO,"powderFactor.rdo"),(0,U.Z)(Be,"default","powderFactor.default"),Be),stemmingHeight:($e={},(0,U.Z)($e,y.q.HVC,"stemmingHeight.hvc"),(0,U.Z)($e,"default","stemmingHeight.default"),$e),loadingTimeValue:(nt={},(0,U.Z)(nt,y.q.RDO,"muckpileLoadingTime"),(0,U.Z)(nt,"default","loadingTimeValue"),nt),shovelIds:(ot={},(0,U.Z)(ot,y.q.RDO,"shovelIds.rdo"),(0,U.Z)(ot,"default","shovelIds.default"),ot)}}return(0,S.Z)(Z,[{key:"getConfig",value:function(l,d,te){var xe=I.ZA.isHVC(d)&&(null==l?void 0:l.explosiveWeightDeviation)>20,Be={default:mt,rdo:ft,cda:Ot};return[{value:"blastIqComment",label:c.a$+"blastIqComment",dataSource:l,pipes:[{token:"detectNullValue"}],tooltip:!0,valueClass:"item-props__value t-overflow--ellipsis",isShown:this.isFieldPresentedAndNotBmm("blastIqComment",l)},{value:"blastPolygon",label:c.a$+"blastPolygon",dataSource:l,pipes:[{token:"detectNullValue"}],isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.blastPolygon")},{value:"pattern",label:c.a$+"pattern",dataSource:l,pipes:[{token:"detectNullValue"}],isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.pattern")},{value:"actualDepth",label:this.getTranslationKey("actualDepth",d),dataSource:l,pipes:[{token:"customNumber",args:(0,We.M)(d)},{token:"unit",args:p.Ab.getUnits("actualDepth",d)}]},{value:"designDepth",label:this.getTranslationKey("designDepth",d),dataSource:l,pipes:[{token:"customNumber",args:(0,We.M)(d)},{token:"unit",args:p.Ab.getUnits("designDepth",d)}],isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.designDepth")},{value:"measuredDepth",label:c.a$+"measuredDepth",dataSource:l,pipes:[{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits("measuredDepth",d)}],isShown:this.isFieldPresentedAndNotBmm("measuredDepth",l)},{value:[{name:"collarDeviationX",pipes:[{token:"customNumber"}]},{name:"collarDeviationY",pipes:[{token:"customNumber"}]}],label:c.a$+"collarXYDeviation",joinBy:" / ",dataSource:l,pipes:[{token:"detectNullJoinedValues",args:"/"},{token:"unit",args:p.Ab.getUnits("collarXYDeviation",d)}],isShown:this.isFieldPresentedAndNotBmm("collarXYDeviation",l)},{value:"collarElevation",label:this.getTranslationKey("collarElevation",d),dataSource:l,pipes:[{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits("collarElevationHoleInspector",d)}],isShown:this.isFieldPresentedAndNotBmm("collarElevation",l)&&(I.ZA.isRDO(d)||I.ZA.isCDA(d))},{value:"explosiveType",label:c.a$+"explosiveType",dataSource:l,pipes:[{token:"digit"}],tooltip:!0,valueClass:"item-props__value t-overflow--ellipsis",isShown:this.isFieldPresentedAndNotBmm("explosiveType",l)},{value:"explosiveLoadingDurationValue",label:c.a$+"explosiveLoadingDuration",dataSource:l,pipes:[{token:"detectNullValue"}],tooltip:!0,isShown:this.isFieldPresentedAndNotBmm("explosiveLoadingDuration",l)},{value:"explosiveKg",label:c.a$+"explosiveKg",dataSource:l,pipes:[{token:"digit"},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("explosiveKg",d)}],isShown:this.isFieldPresentedAndNotBmm("explosive",l)},{value:"explosiveLoadingDate",label:c.a$+"explosiveLoadingDate",dataSource:l,pipes:[{token:"dateFormatter",args:[d,I.ZA.isRDO(d)?mt:ft]},{token:"detectNullValue"}],isShown:this.isFieldPresentedAndNotBmm("explosiveLoadingDate",l)},{value:"explosiveLoadingDate",label:c.a$+"explosiveLoadingTime",dataSource:l,pipes:[{token:"dateFormatter",args:[d,Pt]},{token:"detectNullValue"}],isShown:I.ZA.isRDO(d)&&this.isFieldPresentedAndNotBmm("explosiveLoadingDate",l)},{value:"explosiveLoadingVsDrillingTimeValue",label:c.a$+"explosiveLoadingVsDrillingTime",dataSource:l,pipes:[{token:"detectNullValue"}],tooltip:!0,isShown:this.isFieldPresentedAndNotBmm("explosiveLoadingVsDrillingTimeValue",l)},{value:"previouslyLoadedHoleId",label:c.a$+"previouslyLoadedHoleId",dataSource:l,pipes:[{token:"detectNullValue"}],tooltip:!0,isShown:this.isFieldPresentedAndNotBmm("previouslyLoadedHoleId",l)},{value:"previouslyDrilledHoleId",label:c.a$+"previouslyDrilledHoleId",dataSource:l,pipes:[{token:"detectNullValue"}],tooltip:!0,isShown:this.isFieldPresentedAndNotBmm("previouslyDrilledHoleId",l)},{value:"drillingDurationValue",label:c.a$+"drillingDuration",dataSource:l,pipes:[{token:"detectNullValue"}],tooltip:!0,isShown:this.isFieldPresentedAndNotBmm("drillingDurationValue",l)},{value:"drillingCompletionDate",label:c.a$+"drillingCompletionDate",dataSource:l,pipes:[{token:"dateFormatter",args:[d,mt]}],tooltip:!0,isShown:this.isFieldPresentedAndNotBmm("drillingCompletionDate",l)},{value:"drillingCompletionDate",label:c.a$+"drillingCompletionTime",dataSource:l,pipes:[{token:"dateFormatter",args:[d,Pt]}],tooltip:!0,isShown:this.isFieldPresentedAndNotBmm("drillingCompletionDate",l)},{value:"blastDate",label:c.a$+"blastDate",dataSource:l,pipes:[{token:"dateFormatter",args:[d,Be[d]||Be.default]}],isShown:this.isFieldPresentedAndNotBmm("blastDate",l)},{value:"explosiveWeight",label:c.a$+"explosiveWeight.".concat(d),dataSource:l,pipes:[this.getCustomNumberPipe(d),{token:"unit",args:p.Ab.getUnits("explosiveWeight",d)}],valueClass:p.lj.getFieldValueStyle(xe,"item-props__value--outlier"),tooltip:!0,valueTooltipText:p.lj.getValueTooltipText(xe,"Outlier"),isShown:this.isFieldPresentedAndNotBmm("explosiveWeight",l)},{value:"designExplosiveWeight",label:c.a$+"designExplosiveWeight.".concat(d),dataSource:l,pipes:[this.getCustomNumberPipe(d),{token:"unit",args:p.Ab.getUnits("designExplosiveWeight",d)}],isShown:this.isFieldPresentedAndNotBmm("designExplosiveWeight",l)},{value:"explosiveWeightDeviation",label:c.a$+"explosiveWeightDeviation.".concat(d),dataSource:l,pipes:[{token:"customNumber",args:I.ZA.isRDO(d)?"1.0-2":"1.0-0"},{token:"unit",args:p.Ab.getUnits("explosiveWeightDeviation",d)}],isShown:this.isFieldPresentedAndNotBmm("explosiveWeightDeviation",l)},{value:"subdrillActual",label:c.a$+"subdrillActual",dataSource:l,pipes:[{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("subdrillActual",d)}],isShown:this.isFieldPresentedAndNotBmm("subdrillActual",l)},{value:"energyFactor",label:this.getTranslationKey("energyFactor",d),dataSource:l,pipes:[{token:"customNumber",args:(0,We.M)(d)},{token:"unit",args:p.Ab.getUnits("energyFactor",d)}],isShown:this.isFieldPresentedAndNotBmm("energyFactor",l)},{value:"designEnergyFactor",label:c.a$+"designEnergyFactor",dataSource:l,pipes:[{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits("energyFactor",d)}],isShown:this.isFieldPresentedAndNotBmm("designEnergyFactor",l)},{value:"powderFactor",label:this.getTranslationKey("powderFactor",d),dataSource:l,pipes:[{token:"customNumber",args:(0,We.M)(d)},{token:"unit",args:p.Ab.getUnits("powderFactor",d)}],isShown:this.isFieldPresentedAndNotBmm("holePowder",l)},{value:"designHolePowderFactor",label:c.a$+"designPowderFactor",dataSource:l,pipes:[{token:"customNumber",args:(0,We.M)(d)},{token:"unit",args:p.Ab.getUnits("designHolePowderFactor",d)}],isShown:this.isFieldPresentedAndNotBmm("designHolePowderFactor",l)},{value:"stemmingHeight",label:this.getTranslationKey("stemmingHeight",d),dataSource:l,pipes:[{token:"digit"},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("stemmingHeight",d)}],isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.stemmingHeight")},{value:"drillSpecificEnergy",label:c.a$+"drillSpecificEnergy",dataSource:l,pipes:[{token:"customNumber"}],isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.drillSpecificEnergy")},{value:"diggability",label:c.a$+"diggability",dataSource:l,pipes:[{token:"digit"},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("diggability",d)}],isShown:this.isFieldPresentedAndNotBmm("diggability",l)},{value:"diggingConditions",label:c.m1+"diggingConditions",dataSource:l,pipes:[{token:"diggingConditionType"}],isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.diggingConditions")&&(0,p.Tg)(te)},{value:m.diggingConditionZoneKeys.top,label:c.m1+m.diggingConditionZoneKeys.top,dataSource:l,pipes:[{token:"diggingConditionType"}],isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.diggingConditions")&&te===W.N.DIGGING_CONDITIONS_3D},{value:m.diggingConditionZoneKeys.bottom,label:c.m1+m.diggingConditionZoneKeys.bottom,dataSource:l,pipes:[{token:"diggingConditionType"}],isShown:this.panelFields.isFieldPresented("holeViewInspector.main.fields.diggingConditions")&&te===W.N.DIGGING_CONDITIONS_3D},{value:"blastabilityToeZone",label:c.a$+"blastabilityToeZone",dataSource:l,pipes:[{token:"digit"},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("blastabilityToeZone",d)}],isShown:this.isFieldPresentedAndNotBmm("blastabilityToe",l)},{value:"blastabilityMidZone",label:I.ZA.isMetalMine(d)?c.a$+"blastabilityMidZone.".concat(d):c.a$+"blastabilityMidZone.coal",dataSource:l,pipes:[{token:"digit"},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("blastabilityMidZone",d)}],isShown:this.isFieldPresentedAndNotBmm("blastabilityMid",l)},{value:"blastabilityTopZone",label:c.a$+"blastabilityTopZone",dataSource:l,pipes:[{token:"digit"},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("blastabilityTopZone",d)}],isShown:this.isFieldPresentedAndNotBmm("blastabilityTop",l)},{value:"toeMomentum",label:c.a$+"toeMomentum",dataSource:l,pipes:[{token:"digit"},{token:"customNumber"}],isShown:this.isFieldPresentedAndNotBmm("toeMomentum",l)},{value:"maxForce",label:c.a$+"maxForce",dataSource:l,pipes:[{token:"digit"},{token:"customNumber"}],isShown:this.isFieldPresentedAndNotBmm("maxForce",l)},{value:"instantaneousDigRate",label:c.a$+"instantaneousDigRate",dataSource:l,pipes:[{token:"digit"},{token:"customNumber"},{token:"unit",args:p.Ab.getUnits("instantaneousDigRate",d)}],isShown:this.isFieldPresentedAndNotBmm("instDigRate",l)},{value:"loadingTimeValue",label:this.getTranslationKey("loadingTimeValue",d),dataSource:l,pipes:[{token:"digit"}],isShown:!(!this.isFieldPresentedAndNotBmm("loadingTime",l)||!l.loadingTimeValue&&null!==l.loadingTimeValue&&!I.ZA.isMetalMine(d))},{value:"shovelIds",label:this.getTranslationKey("shovelIds",d),dataSource:l,pipes:[{token:"detectNullValue"}],isShown:this.isFieldPresentedAndNotBmm("shovelId",l)},{value:"truckTypes",label:c.a$+"truckTypes",dataSource:l,pipes:[{token:"detectNullValue"}],tooltip:!0,valueClass:"item-props__value t-overflow--ellipsis",isShown:this.isFieldPresentedAndNotBmm("truckType",l)},{value:"diggingDate",label:c.a$+"diggingDate",dataSource:l,pipes:[{token:"detectNullValue"}],isShown:this.isFieldPresentedAndNotBmm("diggingDate",l)}]}},{key:"getTranslationKey",value:function(l,d){var te=this.translationKeys[l];return te?c.a$+(te[d]?te[d]:te.default):l}},{key:"isFieldPresentedAndNotBmm",value:function(l,d){return!this.panelFields.isHoleBmm(d)&&this.panelFields.isFieldPresented("holeViewInspector.main.fields.".concat(l))}},{key:"getCustomNumberPipe",value:function(l){return{token:"customNumber",args:I.ZA.isRDO(l)?"1.0-2":"1.0-1"}}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}(),Mt=function(){var O=function(){function Z(A){(0,f.Z)(this,Z),this.panelFields=A}return(0,S.Z)(Z,[{key:"getConfig",value:function(l){return this.getFieldsConfig(l.blasting,["explosiveWeightDesign","explosiveWeightActual","avgDesignPowderFactor","avgActualPowderFactor","avgDesignEnergyFactor","avgActualEnergyFactor","avgExplosiveWeightDeviation"],y.q.RDO)}},{key:"getFieldsConfig",value:function(l,d,te){var xe=this;return d.map(function(Be){return{value:Be,label:c.N_+"blasting.".concat(Be),dataSource:l,pipes:[{token:"customNumber",args:"1.0-2"},{token:"unit",args:p.Ab.getUnits(Be,te)}],isShown:xe.panelFields.isFieldPresentedByPattern("patternViewInspector.blasting.fields.".concat(Be))}})}}]),Z}();return O.\u0275fac=function(A){return new(A||O)(E.LFG(h.O))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O}()},91857:function(ye,ie,o){"use strict";o.d(ie,{O:function(){return p}});var h=o(4942),D=o(15671),f=o(43144),S=o(17489),y=o(65542),m=o(94720),p=function(){var E=function(){function C(a){(0,D.Z)(this,C),this.permissionsService=a}return(0,f.Z)(C,[{key:"isShown",value:function(b){return!b.hasOwnProperty("isShown")||b.isShown}},{key:"isFieldPresentedByPattern",value:function(b){return(0,S.get)(this.permissionsService.getPatternInspectorPermissions(),b)}},{key:"isFieldPresented",value:function(b){return(0,S.get)(this.permissionsService.getHoleInspectorPermissions(),b)}},{key:"getField",value:function(b,c){return(0,h.Z)({},b,c[b])}},{key:"isHoleBmm",value:function(b){return"boolean"==typeof b.isBmm&&b.isBmm}}]),C}();return E.\u0275fac=function(a){return new(a||E)(y.LFG(m.$A))},E.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac}),E}()},6348:function(ye,ie,o){"use strict";o.d(ie,{E:function(){return e}});var h=o(15671),D=o(43144),f=o(58836),S=o(65542),e=function(){var y=function(){function m(p){(0,h.Z)(this,m),this.getInstanceByType=p}return(0,D.Z)(m,[{key:"createConfig",value:function(E,C){for(var a,b=arguments.length,c=new Array(b>2?b-2:0),x=2;x<b;x++)c[x-2]=arguments[x];return(a=this.getInstanceByType(E)).getConfig.apply(a,[C].concat(c))}},{key:"createMultiConfig",value:function(E,C){for(var a,b=arguments.length,c=new Array(b>2?b-2:0),x=2;x<b;x++)c[x-2]=arguments[x];return(a=this.getInstanceByType(E)).getConfig.apply(a,[C].concat(c))}},{key:"createArrayConfig",value:function(E,C){return this.getInstanceByType(E).getConfig(C)}}]),m}();return y.\u0275fac=function(p){return new(p||y)(S.LFG(f.zo))},y.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac}),y}()},22124:function(ye,ie,o){"use strict";o.d(ie,{M:function(){return f}});var h=o(22992),D=o(21347),f=function(e){return e===D.q.RDO?h.bj:h.n4}},97740:function(ye,ie,o){"use strict";o.d(ie,{j:function(){return Pe}});var h=o(4942),D=o(15671),f=o(43144),S=o(60136),e=o(57777),y=o(7625),m=o(46940),p=o(40714),E=o(21347),C=o(42585),a=o(65542),b=o(94720),c=o(77093),x=o(29772),ue=o(69808),M=o(66031);function $(J,U){if(1&J&&(a.TgZ(0,"div",4)(1,"span"),a._uU(2),a.ALo(3,"roundCoordinates"),a.qZA(),a.TgZ(4,"span"),a._uU(5),a.ALo(6,"roundCoordinates"),a.qZA()()),2&J){var W=a.oxw();a.xp6(2),a.hij("E ",a.lcZ(3,2,W.coordinates.localEasting),""),a.xp6(3),a.hij("N ",a.lcZ(6,4,W.coordinates.localNorthing),"")}}var le=E.q.FRO,I=E.q.HVC,De=E.q.RDO,be=E.q.CDA,Pe=function(){var J=function(U){(0,S.Z)(re,U);var W=(0,e.Z)(re);function re(Ee,ge){var ve;return(0,D.Z)(this,re),(ve=W.call(this)).cdr=Ee,ve.mineStateService=ge,ve}return(0,f.Z)(re,[{key:"getWidth",get:function(){var ge;return((0,h.Z)(ge={},De,203),(0,h.Z)(ge,le,185),(0,h.Z)(ge,I,170),(0,h.Z)(ge,be,185),ge)[this.mineStateService.getSelectedMineArea()]||165}},{key:"ngOnInit",value:function(){var ge=this;this.mineStateService.selectedMineArea$.pipe((0,y.R)(this.destroy$)).subscribe(function(ve){ge.mine=ve.value}),this.map.on("mousemove",function(ve){ge.coordinates=p.dI.calculateMineGridCoordinates(ve.lngLat.lat,ve.lngLat.lng,ge.mine),ge.cdr.detectChanges()})}}]),re}(m.eO);return J.\u0275fac=function(W){return new(W||J)(a.Y36(a.sBO),a.Y36(b.Hj))},J.\u0275cmp=a.Xpm({type:J,selectors:[["dabo-coordinates-bar"]],inputs:{map:"map"},features:[a._Bn([{provide:C.Hn,useValue:{scope:"map-controls",alias:"mapControlsTranslation"}}]),a.qOj],decls:5,vars:8,consts:[[3,"hidden"],["fxLayout","row","fxLayoutAlign","start center",1,"coordinates-bar",3,"matTooltip","matTooltipPosition"],[1,"icon","icon-target"],["class","coordinates-bar-info",4,"ngIf"],[1,"coordinates-bar-info"]],template:function(W,re){1&W&&(a.TgZ(0,"div",0)(1,"div",1),a.ALo(2,"transloco"),a._UZ(3,"span",2),a.YNc(4,$,7,6,"div",3),a.qZA()()),2&W&&(a.Q6J("hidden",!re.coordinates),a.xp6(1),a.Udp("width",re.getWidth,"px"),a.s9C("matTooltip",a.lcZ(2,6,"mapControlsTranslation.cursor_coordinates")),a.Q6J("matTooltipPosition","below"),a.xp6(3),a.Q6J("ngIf",re.coordinates))},directives:[c.xw,c.Wh,x.gM,ue.O5],pipes:[C.Ot,M.h],styles:["[_nghost-%COMP%]{position:absolute;right:0;top:10px}.coordinates-bar[_ngcontent-%COMP%]{background-color:#ffffffd9;height:32px;padding-right:7px;margin-right:10px;border-radius:2px}.coordinates-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px;opacity:.7;color:#2e384d}.coordinates-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:last-child){margin-right:3px;margin-top:5px}.coordinates-bar-info[_ngcontent-%COMP%]{margin-left:20px}.coordinates-bar[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;margin-left:6px}"]}),J}()},63102:function(ye,ie,o){"use strict";o.d(ie,{n:function(){return N}});var h=o(4942),D=o(15671),f=o(43144),S=o(60136),e=o(57777),y=o(7625),m=o(46940),p=o(55035),E=o(21347),C=o(65542),a=o(69808),b=o(93075),c=o(77446);function x(B,pe){if(1&B){var me=C.EpF();C.TgZ(0,"span",6),C.NdJ("click",function(){return C.CHM(me),C.oxw(3).switchSection()}),C._uU(1),C.qZA()}if(2&B){var X=C.oxw(3);C.ekj("filter-section__toggle--disabled",X.isSectionDisabled),C.xp6(1),C.hij(" ",X.atLeastOneUnchecked?"Select All":"None"," ")}}function ue(B,pe){if(1&B&&(C.TgZ(0,"div",7)(1,"mat-checkbox",8),C._uU(2),C.qZA()()),2&B){var me=pe.$implicit,X=pe.index,ee=C.oxw(3);C.ekj("lowercase",ee.controlName===ee.filterTypeEnum.DELAYS)("text-transform-none","Not set"===ee.filterItems[X].name),C.xp6(1),C.Q6J("checked",me.value)("formControl",me),C.xp6(1),C.hij(" ",ee.filterItems[X].name," ")}}function M(B,pe){if(1&B&&(C.ynx(0),C.YNc(1,x,2,3,"span",4),C.YNc(2,ue,3,7,"div",5),C.BQk()),2&B){var me=C.oxw(2);C.xp6(1),C.Q6J("ngIf",me.isSwitchBtnHidden(me.controlName)),C.xp6(1),C.Q6J("ngForOf",me.controls)}}function $(B,pe){if(1&B&&(C.ynx(0)(1,1),C.TgZ(2,"div",2)(3,"span",3),C._uU(4),C.qZA(),C.YNc(5,M,3,2,"ng-container",0),C.qZA(),C.BQk()()),2&B){var me=C.oxw();C.xp6(1),C.Q6J("formGroup",me.groupInstance),C.xp6(1),C.ekj("shifts",me.controlName===me.filterTypeEnum.SHIFTS),C.Q6J("formArrayName",me.controlName),C.xp6(2),C.hij("",me.titleSection,":"),C.xp6(1),C.Q6J("ngIf",me.section)}}function le(B,pe){if(1&B&&(C.ynx(0),C.TgZ(1,"div",9)(2,"span",3),C._uU(3),C.qZA(),C.TgZ(4,"div",10),C._uU(5,"No Data"),C.qZA()(),C.BQk()),2&B){var me=C.oxw();C.xp6(3),C.hij("",me.titleSection,":")}}var I=p.B.BLASTERS,De=p.B.CREWS,be=p.B.DELAYS,Pe=p.B.DRILLS,J=p.B.DRILLERS,U=p.B.DRILLING_EQUIPMENT,W=p.B.SHIFTS,re=p.B.SHOVELS,Ee=p.B.SHOVEL_OPERATORS,ge=p.B.TRUCKS,ve=p.B.EXPLOSIVE_TRUCK_IDS,_e=p.B.EXPLOSIVE_TRUCK_OPERATORS,V=p.B.SOURCES,k=p.B.MATERIALS,N=function(){var B=function(pe){(0,S.Z)(X,pe);var me=(0,e.Z)(X);function X(){var ee;return(0,D.Z)(this,X),(ee=me.call(this)).atLeastOneUnchecked=!1,ee.filterTypeEnum=p.B,ee}return(0,f.Z)(X,[{key:"section",get:function(){return this.groupInstance.get(this.controlName)}},{key:"controls",get:function(){return this.section&&this.section.controls}},{key:"titleSection",get:function(){var j;return((0,h.Z)(j={},I,"Blaster ID"),(0,h.Z)(j,De,"Crews"),(0,h.Z)(j,J,"Drillers"),(0,h.Z)(j,U,"Equipment"),(0,h.Z)(j,be,"Delay"),(0,h.Z)(j,Pe,"Drills"),(0,h.Z)(j,W,"Shifts"),(0,h.Z)(j,re,this.mineSite===E.q.RDO?"Loaders":"Shovels"),(0,h.Z)(j,Ee,"Operators"),(0,h.Z)(j,V,"Position"),(0,h.Z)(j,ge,"Truck type"),(0,h.Z)(j,ve,"Truck ID"),(0,h.Z)(j,_e,"Truck Operator"),(0,h.Z)(j,k,"Material"),j)[this.controlName]}},{key:"isSectionDisabled",get:function(){return this.section.disabled}},{key:"ngOnInit",value:function(){this.section&&this.subscribeOnChanges()}},{key:"switchSection",value:function(){this.section.enabled&&(this.section.value.includes(!1)?(this.atLeastOneUnchecked=!1,this.controls.forEach(function(j){j.enabled&&j.setValue(!0)})):(this.atLeastOneUnchecked=!0,this.controls.forEach(function(j){return j.setValue(!1)})))}},{key:"isSwitchBtnHidden",value:function(j){return![W,V].includes(j)}},{key:"subscribeOnChanges",value:function(){var j=this;this.controlName===k&&(this.atLeastOneUnchecked=this.section.value.includes(!1)),this.section.valueChanges.pipe((0,y.R)(this.destroy$)).subscribe(function(se){return j.atLeastOneUnchecked=se.includes(!1)})}}]),X}(m.eO);return B.\u0275fac=function(me){return new(me||B)},B.\u0275cmp=C.Xpm({type:B,selectors:[["dabo-filter-section"]],inputs:{controlName:"controlName",groupInstance:"groupInstance",filterItems:"filterItems",mineSite:"mineSite"},features:[C.qOj],decls:2,vars:2,consts:[[4,"ngIf"],[3,"formGroup"],[1,"filter",3,"formArrayName"],[1,"filter-name"],["class","filter-section__toggle",3,"filter-section__toggle--disabled","click",4,"ngIf"],["class","checkbox",3,"lowercase","text-transform-none",4,"ngFor","ngForOf"],[1,"filter-section__toggle",3,"click"],[1,"checkbox"],[3,"checked","formControl"],[1,"filter"],[1,"filter-section-no-data"]],template:function(me,X){1&me&&(C.YNc(0,$,6,6,"ng-container",0),C.YNc(1,le,6,1,"ng-container",0)),2&me&&(C.Q6J("ngIf",X.section),C.xp6(1),C.Q6J("ngIf",!X.section))},directives:[a.O5,b.JL,b.sg,b.CE,a.sg,c.oG,b.JJ,b.oH],styles:[".filter[_ngcontent-%COMP%]{margin-top:5px}.filter-name[_ngcontent-%COMP%]{color:#2e384d57}.checkbox[_ngcontent-%COMP%]{text-transform:capitalize;margin-bottom:2px;margin-top:2px}.checkbox.text-transform-none[_ngcontent-%COMP%]{text-transform:none}.checkbox.lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.shifts[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.shifts[_ngcontent-%COMP%]   .filter-name[_ngcontent-%COMP%]{flex:0 0 100%}.shifts[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-right:25px}.filter-section-no-data[_ngcontent-%COMP%]{font-family:Rubik,dabaha,sans-serif;font-size:13px;line-height:24px;color:#282d32}"],changeDetection:0}),B}()},13817:function(ye,ie,o){"use strict";o.d(ie,{z:function(){return an}});var h=o(4942),D=o(97685),f=o(37762),S=o(15671),e=o(43144),y=o(73237),m=o(61120),p=o(60136),E=o(57777),C=o(70655),a=o(65542),b=o(17489),c=o(7625),x=o(80013),ue=o(40537),M=o(87224),$=o(92198),le=o(38001),I=o(22451),De=o(89255),be=o(55035),Pe=o(21347),J=o(93075),U=o(40714),W=o(75791),re=o(46940),Ee=le.N.BLASTABILITY,ge=le.N.COLLAR_ELEVATION,ve=le.N.DRILL_PRODUCTIVITY,_e=le.N.DRILL_COMPLIANCE,V=le.N.LOADING_TIME,k=le.N.LOADING,N=le.N.EXPLOSIVE_KG,B=le.N.SHORT_HOLE,pe=le.N.POWDER_FACTOR,me=le.N.SHOVEL_OPERATOR_FEEDBACK,X=le.N.SHOVEL_OPERATOR_ALARM,ee=be.B.BLASTERS,j=be.B.CREWS,se=be.B.DELAYS,Se=be.B.DRILLERS,K=be.B.DRILLS,Ce=be.B.DRILLING_EQUIPMENT,Y=be.B.SHIFTS,w=be.B.SHOVELS,ce=be.B.SHOVEL_OPERATORS,he=be.B.SOURCES,we=be.B.TRUCKS,Ze=be.B.EXPLOSIVE_TRUCK_IDS,qe=be.B.EXPLOSIVE_TRUCK_OPERATORS,Fe=be.B.MATERIALS,Ve=W.H.DATA_POINTS,Ke=function(){var oe=function(Te){(0,p.Z)(q,Te);var Q=(0,E.Z)(q);function q(H,F){var R;return(0,S.Z)(this,q),(R=Q.call(this)).formBuilder=H,R.cdr=F,R.isDateTimePicker=!1,R.appliedFormValue={},R.isApplyDisabled=!1,R.isAllSelected=!0,R}return(0,e.Z)(q,[{key:"isBlastersPresent",get:function(){return(0,U.F0)(this.colorMap)||null===this.colorMap}},{key:"canShovelEntityBePresent",get:function(){return this.colorMap!==Ee&&this.colorMap!==ge&&this.colorMap!==ve&&this.colorMap!==_e&&this.colorMap!==N&&!(0,U.Z9)(this.colorMap)}},{key:"canShovelsBePresent",get:function(){return this.canShovelEntityBePresent}},{key:"canShovelOperatorsBePresent",get:function(){return this.canShovelEntityBePresent&&re.ZA.isRDO(this.mineArea)&&this.colorMap===le.N.SHOVEL_ELEVATION}},{key:"canTrucksBePresent",get:function(){return this.colorMap===V&&!re.ZA.isMetalMine(this.mineArea)}},{key:"materialsPresent",get:function(){return!(0,b.isEmpty)(this.materials)&&!(0,U.tH)(this.colorMap)&&(0,U.Tg)(this.colorMap)&&(0,U.kw)(this.mapSettings)===Ve}},{key:"isEquipmentRelatedColormap",get:function(){return(0,U.bR)(this.colorMap)}},{key:"isShiftNotSelected",get:function(){return this.getControl(Y)&&this.getControl(Y).getError("requiredTrue")}},{key:"dateRangeControl",get:function(){return this.filterForm.get("dateRange")}},{key:"isHVCShortHoles",get:function(){return re.ZA.isHVC(this.mineArea)&&this.colorMap===B}},{key:"isFROShortHoles",get:function(){return re.ZA.isFroMine(this.mineArea)&&this.colorMap===B}},{key:"isFROPowderFactor",get:function(){return re.ZA.isFroMine(this.mineArea)&&this.colorMap===pe}},{key:"getControl",value:function(F){return this.filterForm.get(F)}},{key:"isControlCreated",value:function(F){return!(0,b.isNil)(this.filterForm.get(F))}},{key:"setDateTimePickerMode",value:function(){this.isDateTimePicker=this.colorMap===le.N.DIGGING_CONDITIONS&&this.mapSettings.dataPointsMode}},{key:"buildFilterForm",value:function(){this.filterForm=this.formBuilder.group({dateRange:this.formBuilder.group({start:null,end:null})}),this.isDateTimePicker?(this.filterForm.get("dateRange").setValidators([re.ZC.isOneOfControlsNotSelected,re.ZC.isStartSameOrAfterEnd]),this.filterForm.get("dateRange").updateValueAndValidity()):(this.filterForm.get("dateRange").clearValidators(),this.filterForm.get("dateRange").updateValueAndValidity()),this.isBlastersPresent?(this.addBlastersControl(),[N,k].includes(this.colorMap)&&re.ZA.isCoalMine(this.mineArea)&&(this.addShiftsControl(),this.addExplosiveTruckIdsControl(),this.addExplosiveTruckOperatorsControl())):(this.addShiftsControl(),this.addShovelsControl(),this.addShovelOperatorsControl(),this.addTrucksControl(),this.addCrewsControl(),this.addDrillingEquipmentControl(),this.addDrillersControl(),this.addDrillsControl(),this.addDelaysControl(),this.addSourcesControl(),this.addMaterialsControl(),this.subscribeOnChanges()),this.cdr.markForCheck(),this.copyFormState()}},{key:"copyFormState",value:function(){var F=Object.entries(this.filterForm.controls).map(function(R){var ae=(0,D.Z)(R,2),Me=ae[0],Le=ae[1],Ue=Object.entries(Le.controls).map(function(Ae){return(0,D.Z)(Ae,2)[1].value});return[Me,Le instanceof J.cw?Le.value:Ue]});this.appliedFormValue=Object.fromEntries(F)}},{key:"setFormCopyState",value:function(){this.filterForm.patchValue(this.appliedFormValue)}},{key:"prepareForSending",value:function(F,R){var ae,Me=this,Le=((0,h.Z)(ae={},ee,"blaster"),(0,h.Z)(ae,j,"crew"),(0,h.Z)(ae,se,"delayCategory"),(0,h.Z)(ae,Se,"driller"),(0,h.Z)(ae,K,"drill"),(0,h.Z)(ae,Ce,"drillingEquipment"),(0,h.Z)(ae,Y,"shift"),(0,h.Z)(ae,w,"shovelId"),(0,h.Z)(ae,ce,"shovelOperator"),(0,h.Z)(ae,he,"source"),(0,h.Z)(ae,we,"truckType"),(0,h.Z)(ae,Ze,"explosiveTruckId"),(0,h.Z)(ae,qe,"explosiveTruckOperator"),(0,h.Z)(ae,Fe,"materialType"),ae),Ue=F===Y?"abbr":"name",Ae=function(Ct){return(0,b.keys)((0,b.pickBy)(Ct))},it=R[F].map(function(Ye,Ct){return(0,h.Z)({},Me[F][Ct][Ue],Ye)}),Qe=(0,h.Z)({},Le[F],it.filter(function(Ye){return!(0,b.isEmpty)(Ae(Ye))}).map(function(Ye){return Ae(Ye)}));return this.isBlastersPresent&&(0,b.isEmpty)(Qe.blaster)&&F===ee?Object.assign(Object.assign({},Qe),{blaster:[]}):Qe}},{key:"createControls",value:function(F){var R=this;return F.map(function(){return R.formBuilder.control(!0)})}},{key:"addTrucksControl",value:function(){if(!(0,b.isEmpty)(this.trucks)&&this.canTrucksBePresent){var F={firstFilterType:Y,secondFilterType:w,firstFilter:this.shifts,secondFilter:this.shovels},R={firstFilterType:w,secondFilterType:we,firstFilter:this.shovels,secondFilter:this.trucks};this.filterForm.addControl(we,this.formBuilder.array(this.createControls(this.trucks))),this.filterForm.get(Y)&&this.filterForm.get(Y).setValidators([re.eQ.filterValidator(F),re.eQ.requiredTrue()]),this.filterForm.get(w)&&this.filterForm.get(w).setValidators([re.eQ.filterValidator(R)])}}},{key:"addShiftsControl",value:function(){var F=this;if(!(0,b.isEmpty)(this.shifts)&&this.colorMap!==me){var R={filterType:w,filter:this.shovels},ae=(0,b.isEmpty)(this.drills)?R:{filterType:K,filter:this.drills},Me=function(Qe){var Ye;return(Ye={},(0,h.Z)(Ye,Ee,ae),(0,h.Z)(Ye,ge,{filterType:Ce,filter:F.drillingEquipment}),(0,h.Z)(Ye,ve,{filterType:Ce,filter:F.drillingEquipment}),(0,h.Z)(Ye,_e,{filterType:Se,filter:F.drillers}),(0,h.Z)(Ye,"assays",{filterType:Ce,filter:F.drillingEquipment}),(0,h.Z)(Ye,N,{filterType:Ze,filter:F.explosiveTruckIds}),(0,h.Z)(Ye,k,{filterType:Ze,filter:F.explosiveTruckIds}),Ye)[Qe]||R},Le={firstFilterType:Y,secondFilterType:(0,U.Z9)(this.colorMap)?Me("assays").filterType:Me(this.colorMap).filterType,firstFilter:this.shifts,secondFilter:(0,U.Z9)(this.colorMap)?Me("assays").filter:Me(this.colorMap).filter},Ue=[re.eQ.filterValidator(Le)];[N,k].includes(this.colorMap)&&Ue.push(re.eQ.filterValidator({firstFilterType:Y,secondFilterType:ee,firstFilter:this.shifts,secondFilter:this.blasters})),this.filterForm.addControl(Y,this.formBuilder.array(this.createControls(this.shifts),re.eQ.requiredTrue())),(!(0,b.isEmpty)(this.shovels)||!(0,b.isEmpty)(this.drillingEquipment)||!(0,b.isEmpty)(this.drillers)||!(0,b.isEmpty)(this.explosiveTruckIds))&&(this.getControl(Y).setValidators(Ue),this.filterForm.updateValueAndValidity())}}},{key:"addExplosiveTruckIdsControl",value:function(){if(!(0,b.isEmpty)(this.explosiveTruckIds)){var F={firstFilterType:Ze,secondFilterType:qe,firstFilter:this.explosiveTruckIds,secondFilter:this.explosiveTruckOperators};this.filterForm.addControl(Ze,this.formBuilder.array(this.createControls(this.explosiveTruckIds))),this.filterForm.get(Ze).setValidators(re.eQ.filterValidator(F)),this.filterForm.updateValueAndValidity()}}},{key:"addMaterialsControl",value:function(){var F=this;this.materialsPresent&&this.filterForm.addControl(Fe,this.formBuilder.array(this.materials.map(function(R){return F.formBuilder.control("Waste"===R.name)})))}},{key:"addExplosiveTruckOperatorsControl",value:function(){(0,b.isEmpty)(this.explosiveTruckOperators)||this.filterForm.addControl(qe,this.formBuilder.array(this.createControls(this.explosiveTruckOperators)))}},{key:"addShovelsControl",value:function(){if(!(0,b.isEmpty)(this.shovels)&&this.canShovelsBePresent&&(this.filterForm.addControl(w,this.formBuilder.array(this.createControls(this.shovels))),this.canShovelOperatorsBePresent)){var F={firstFilterType:w,secondFilterType:ce,firstFilter:this.shovels,secondFilter:this.shovelOperators};this.filterForm.get(w).setValidators(re.eQ.filterValidator(F)),this.filterForm.updateValueAndValidity()}}},{key:"addShovelOperatorsControl",value:function(){(0,b.isEmpty)(this.shovelOperators)||this.filterForm.addControl(ce,this.formBuilder.array(this.createControls(this.shovelOperators)))}},{key:"addDrillsControl",value:function(){!(0,b.isEmpty)(this.drills)&&this.colorMap===Ee&&this.filterForm.addControl(K,this.formBuilder.array(this.createControls(this.drills)))}},{key:"addCrewsControl",value:function(){if(!(0,b.isEmpty)(this.crews)&&this.isEquipmentRelatedColormap&&this.colorMap!==le.N.DRILL_COMPLIANCE){var F={firstFilterType:j,secondFilterType:Se,firstFilter:this.crews,secondFilter:this.drillers};this.filterForm.addControl(j,this.formBuilder.array(this.createControls(this.crews))),this.mineArea!==Pe.q.FRO&&(this.filterForm.get(j).setValidators(re.eQ.filterValidator(F)),this.filterForm.updateValueAndValidity())}}},{key:"addDrillersControl",value:function(){!(0,b.isEmpty)(this.drillers)&&this.mineArea!==Pe.q.FRO&&this.isEquipmentRelatedColormap&&this.filterForm.addControl(Se,this.formBuilder.array(this.createControls(this.drillers)))}},{key:"addDrillingEquipmentControl",value:function(){if(!(0,b.isEmpty)(this.drillingEquipment)&&this.isEquipmentRelatedColormap&&this.colorMap!==le.N.DRILL_COMPLIANCE){var F={firstFilterType:Ce,secondFilterType:j,firstFilter:this.drillingEquipment,secondFilter:this.crews};this.filterForm.addControl(Ce,this.formBuilder.array(this.createControls(this.drillingEquipment),re.eQ.filterValidator(F)))}}},{key:"addBlastersControl",value:function(){this.isBlastersPresent&&!(0,b.isEmpty)(this.blasters)&&(this.filterForm.addControl(ee,this.formBuilder.array(this.createControls(this.blasters))),this.subscribeOnChanges())}},{key:"addDelaysControl",value:function(){!(0,b.isEmpty)(this.delays)&&this.colorMap===X&&this.filterForm.addControl(se,this.formBuilder.array(this.createControls(this.delays)))}},{key:"addSourcesControl",value:function(){!(0,b.isEmpty)(this.sources)&&this.colorMap===X&&this.filterForm.addControl(he,this.formBuilder.array(this.createControls(this.sources)))}},{key:"subscribeOnChanges",value:function(){var F=this,R=function(Me,Le){return(0,b.keys)(Me).some(Le)};this.filterForm.valueChanges.pipe((0,c.R)(this.destroy$)).subscribe(function(){var ae=F.filterForm.getRawValue(),Le=ae.shifts,Ue=(0,C._T)(ae,["dateRange","shifts"]),Ae=!R(Ue,function(Qe){return Ue[Qe].includes(!1)}),it=R(Ue,function(Qe){return Ue[Qe].every(function(Ye){return!Ye})});F.isApplyDisabled=F.isApplyDisabledCheck(Le,Ue,F.colorMap,it)||!F.filterForm.get("dateRange").valid,F.isAllSelected=Le?Ae&&!Le.includes(!1):Ae})}},{key:"isApplyDisabledCheck",value:function(F,R,ae,Me){switch(!0){case[N,k].includes(ae):return!(F&&F.includes(!0)&&R.explosiveTruckIds&&R.explosiveTruckIds.includes(!0)&&R.explosiveTruckOperators&&R.explosiveTruckOperators.includes(!0));case!(0,b.isEmpty)(R):return Me;case(0,b.isEmpty)(F):return!0;case!(0,b.isEmpty)(F):return F.every(function(Le){return!Le})}}}]),q}(re.eO);return oe.\u0275fac=function(Q){return new(Q||oe)(a.Y36(J.qu),a.Y36(a.sBO))},oe.\u0275dir=a.lG2({type:oe,inputs:{colorMap:"colorMap",mineArea:"mineArea",mapSettings:"mapSettings"},features:[a.qOj]}),oe}(),gt=o(15439),de=o.n(gt),Ie=o(57676),Ne=o(42585),G=o(13914),T=o(94720),g=o(69808),i=o(23322),P=o(29772),_=o(3634),ne=o(94965),Oe=o(90508),Ge={parse:{dateInput:["L"]},display:{dateInput:I.a.DATE_TIME,monthYearLabel:I.a.MMM_YYYY,dateA11yLabel:I.a.LOCALIZED_DATE,monthYearA11yLabel:I.a.MMMM_YYYY}},Re=o(67322),at=o(77531),et=o(86856),tt=o(77093),We=o(8929),rt=o(38366),st=o(47423),ft=o(25245),mt=function(){var oe=function(Te){(0,p.Z)(q,Te);var Q=(0,E.Z)(q);function q(H,F){var R;return(0,S.Z)(this,q),(R=Q.call(this)).formBuilder=H,R.timeService=F,R.formInput$=new We.xQ,R.timeUpdated=new a.vpe,R}return(0,e.Z)(q,[{key:"time",set:function(F){this.resetTime=this.timeService.from24HoursTo12Hours(F)}},{key:"ngOnInit",value:function(){this.isAm=this.resetTime.isAm,this.initForm(),this.subscribeOnInputChange(),this.subscribeOnChanges()}},{key:"setTimeUpdated",value:function(){this.timeUpdated.next(Object.assign(Object.assign({},this.timeService.from12HoursTo24Hours({hours:this.timePickerForm.value.hours,minutes:this.timePickerForm.value.minutes,meridiem:this.isAm?rt.P.AM:rt.P.PM})),{isAm:this.isAm}))}},{key:"onFormInput",value:function(){this.formInput$.next(!0)}},{key:"incrementHours",value:function(){this.changeFormValue(this.timeService.incrementHours(this.getFormValue()))}},{key:"incrementMinutes",value:function(){this.changeFormValue(this.timeService.incrementMinutes(this.getFormValue()))}},{key:"decrementHours",value:function(){this.changeFormValue(this.timeService.decrementHours(this.getFormValue()))}},{key:"decrementMinutes",value:function(){this.changeFormValue(this.timeService.decrementMinutes(this.getFormValue()))}},{key:"changeMeridiem",value:function(){this.isAm=!this.isAm,this.setTimeUpdated()}},{key:"initForm",value:function(){this.timePickerForm=this.formBuilder.group({hours:[this.resetTime.hours],minutes:[this.resetTime.minutes]})}},{key:"subscribeOnChanges",value:function(){var F=this;this.timePickerForm.valueChanges.pipe((0,c.R)(this.destroy$)).subscribe(function(){F.setTimeUpdated()})}},{key:"subscribeOnInputChange",value:function(){var F=this;this.formInput$.pipe((0,x.b)(1e3),(0,c.R)(this.destroy$)).subscribe(function(){var R=F.timeService.modifyTimeInput(F.getFormValue()).format(I.a.TIME_INPUT).split(" "),ae=(0,D.Z)(R,3);F.changeFormValue({hours:ae[0],minutes:ae[1],meridiem:ae[2]})})}},{key:"changeFormValue",value:function(F){var ae=F.hours,Me=F.minutes;this.isAm=F.meridiem===rt.P.AM,this.timePickerForm.patchValue({hours:ae,minutes:Me})}},{key:"getFormValue",value:function(){return Object.assign(Object.assign({},this.timePickerForm.value),{isAm:this.isAm})}}]),q}(re.eO);return oe.\u0275fac=function(Q){return new(Q||oe)(a.Y36(J.qu),a.Y36(T.mb))},oe.\u0275cmp=a.Xpm({type:oe,selectors:[["dabo-time-picker"]],inputs:{time:"time"},outputs:{timeUpdated:"timeUpdated"},features:[a.qOj],decls:19,vars:2,consts:[[3,"formGroup"],["fxLayout","row","fxLayoutAlign","center center",1,"time-picker"],["fxLayout","column",1,"time-picker-form-control"],["mat-icon-button","","disableRipple","",3,"click"],[1,"icon","icon-arrow-top"],["formControlName","hours","type","text","maxlength","2",3,"input"],[1,"icon","icon-arrow-down"],["fxLayout","column",1,"time-divider"],[1,"icon","icon-circle"],["fxLayout","column",1,"time-picker-form-control","time-picker-form-control--minutes"],["formControlName","minutes","type","text","maxlength","2",3,"input"],[1,"meridiem-button",3,"click"]],template:function(Q,q){1&Q&&(a.ynx(0,0),a.TgZ(1,"div",1)(2,"div",2)(3,"button",3),a.NdJ("click",function(){return q.incrementHours()}),a._UZ(4,"mat-icon",4),a.qZA(),a.TgZ(5,"input",5),a.NdJ("input",function(){return q.onFormInput()}),a.qZA(),a.TgZ(6,"button",3),a.NdJ("click",function(){return q.decrementHours()}),a._UZ(7,"mat-icon",6),a.qZA()(),a.TgZ(8,"div",7),a._UZ(9,"div",8)(10,"div",8),a.qZA(),a.TgZ(11,"div",9)(12,"button",3),a.NdJ("click",function(){return q.incrementMinutes()}),a._UZ(13,"mat-icon",4),a.qZA(),a.TgZ(14,"input",10),a.NdJ("input",function(){return q.onFormInput()}),a.qZA(),a.TgZ(15,"button",3),a.NdJ("click",function(){return q.decrementMinutes()}),a._UZ(16,"mat-icon",6),a.qZA()(),a.TgZ(17,"button",11),a.NdJ("click",function(){return q.changeMeridiem()}),a._uU(18),a.qZA()(),a.BQk()),2&Q&&(a.Q6J("formGroup",q.timePickerForm),a.xp6(18),a.hij(" ",q.isAm?"AM":"PM"," "))},directives:[J.JL,J.sg,tt.xw,tt.Wh,st.lW,ft.Hw,J.Fj,J.JJ,J.u,J.nD],styles:[".time-picker[_ngcontent-%COMP%]{height:94px;width:168px;margin:0 auto}.time-picker[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.time-picker[_ngcontent-%COMP%]   .time-picker-form-control--minutes[_ngcontent-%COMP%]{margin-right:30px}.time-picker[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:36px;height:36px;line-height:36px}.time-picker[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:36px;height:30px;border:.5px solid rgba(0,0,0,.9);color:#000000e6;font-size:14px;padding:0 8px;text-align:center}.time-picker[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:.5px solid #008cff;outline:none}.time-picker[_ngcontent-%COMP%]   .time-divider[_ngcontent-%COMP%]{height:37px;width:36px;padding-bottom:8px;justify-content:center;align-items:center}.time-picker[_ngcontent-%COMP%]   .time-divider[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding:0;text-align:center;align-self:center}.time-picker[_ngcontent-%COMP%]   .time-divider[_ngcontent-%COMP%]   .icon-circle[_ngcontent-%COMP%]:before{font-size:6px}.time-picker[_ngcontent-%COMP%]   .meridiem-button[_ngcontent-%COMP%]{width:36px;height:30px;padding:6px 8px;color:#008cff;background-color:#fff;border:.5px solid #008cff;text-align:center;cursor:pointer}.time-picker[_ngcontent-%COMP%]   .meridiem-button[_ngcontent-%COMP%]:hover{background:#3f51b5;color:#fff}"],changeDetection:0}),oe}(),Ot=["datepickerFrom"],Pt=["datePickerTo"];function yt(oe,Te){if(1&oe){var Q=a.EpF();a.TgZ(0,"span",19),a.NdJ("click",function(){return a.CHM(Q),a.oxw().clear("start")}),a.qZA()}}function Mt(oe,Te){if(1&oe){var Q=a.EpF();a.TgZ(0,"span",19),a.NdJ("click",function(){return a.CHM(Q),a.oxw().clear("end")}),a.qZA()}}function O(oe,Te){1&oe&&(a.TgZ(0,"mat-error"),a._uU(1," Please choose end date and time "),a.qZA())}function Z(oe,Te){1&oe&&(a.TgZ(0,"mat-error"),a._uU(1," Invalid Date and Time: End Date and Time can't be earlier than Start Date and Time "),a.qZA())}var A=function(){var oe=function(Te){(0,p.Z)(q,Te);var Q=(0,E.Z)(q);function q(H){var F;return(0,S.Z)(this,q),(F=Q.call(this)).mineStateService=H,F.currentTime=(0,Ie.XD)(F.mineStateService.getSelectedMineArea()),F.isApplyDisabled=!1,F}return(0,e.Z)(q,[{key:"clickEvent",value:function(){var F,R;(null===(F=this.datePickerFrom)||void 0===F?void 0:F.opened)||(null===(R=this.datePickerTo)||void 0===R?void 0:R.opened)?this.setApplyDisable():this.isApplyDisabled=!1}},{key:"startControl",get:function(){return this.getControl().get("start")}},{key:"endControl",get:function(){return this.getControl().get("end")}},{key:"ngOnInit",value:function(){this.setInitialTimeValues()}},{key:"updateTimeStart",value:function(F){this.timeInputStart=F}},{key:"updateTimeEnd",value:function(F){this.timeInputEnd=F}},{key:"handleApplyStart",value:function(){this.appliedTimeStart=Object.assign({},this.timeInputStart);var F=this.startControl.value;this.getControl().patchValue({start:de().utc(F).hours(this.appliedTimeStart.hours).minutes(this.appliedTimeStart.minutes)})}},{key:"handleApplyEnd",value:function(){this.appliedTimeEnd=Object.assign({},this.timeInputEnd);var F=this.endControl.value;this.getControl().patchValue({end:de().utc(F).hours(this.appliedTimeEnd.hours).minutes(this.appliedTimeEnd.minutes)})}},{key:"clear",value:function(F){this.getControl().get(F).reset()}},{key:"setInitialTimeValues",value:function(){this.initialTime={hours:this.currentTime.hours(),minutes:this.currentTime.minutes(),isAm:"am"===this.currentTime.format("a"),meridiem:this.currentTime.format("a")},this.timeInputStart=Object.assign({},this.initialTime),this.timeInputEnd=Object.assign({},this.initialTime),this.appliedTimeStart=Object.assign({},this.timeInputStart),this.appliedTimeEnd=Object.assign({},this.timeInputEnd)}},{key:"setApplyDisable",value:function(){this.selectedCalendarElement=document.querySelector(".mat-calendar-body-selected"),this.isApplyDisabled=!this.selectedCalendarElement}}]),q}(ne.C);return oe.\u0275fac=function(Q){return new(Q||oe)(a.Y36(T.Hj))},oe.\u0275cmp=a.Xpm({type:oe,selectors:[["dabo-date-time-range"]],viewQuery:function(Q,q){var H;1&Q&&(a.Gf(Ot,5),a.Gf(Pt,5)),2&Q&&(a.iGM(H=a.CRH())&&(q.datePickerFrom=H.first),a.iGM(H=a.CRH())&&(q.datePickerTo=H.first))},hostBindings:function(Q,q){1&Q&&a.NdJ("click",function(F){return q.clickEvent(F)},!1,a.evT)},features:[a._Bn([{provide:Oe.sG,useValue:Ge},{provide:J.Cf,useExisting:(0,a.Gpc)(function(){return oe}),multi:!0},{provide:J.JU,useExisting:(0,a.Gpc)(function(){return oe}),multi:!0}]),a.qOj],decls:44,vars:16,consts:[[3,"formGroup"],[1,"date-range-picker","date-time-range-picker",3,"formGroupName"],[1,"date-time-range-picker__field"],["appearance","legacy","floatLabel","never"],[1,"date-range-picker__label"],["formControlName","start","readonly","true","matInput","",3,"max","matDatepicker","click"],["class","icon icon-close",3,"click",4,"ngIf"],["matPrefix","",3,"for"],["datepickerFrom",""],["fxFlex","100%","fxLayout","column",1,"date-time-picker-footer"],["fxFlex","100%",1,"date-time-picker-footer__timer"],[3,"time","timeUpdated"],[1,"datepicker-footer"],["fxFlex","100%","fxLayout","row",1,"date-time-picker-footer__buttons"],["mat-button","","matDatepickerCancel","",1,"btn","btn--outline"],["mat-button","","matDatepickerApply","",1,"btn","btn--outline",3,"disabled","click"],["formControlName","end","readonly","true","matInput","",3,"max","matDatepicker","click"],["datePickerTo",""],[4,"ngIf"],[1,"icon","icon-close",3,"click"]],template:function(Q,q){if(1&Q){var H=a.EpF();a.ynx(0,0),a.TgZ(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label",4),a._uU(5,"Start Date & Time"),a.qZA(),a.TgZ(6,"input",5),a.NdJ("click",function(){return a.CHM(H),a.MAs(10).open()}),a.qZA(),a.YNc(7,yt,1,0,"span",6),a._UZ(8,"mat-datepicker-toggle",7),a.TgZ(9,"mat-datepicker",null,8)(11,"mat-datepicker-actions")(12,"div",9)(13,"div",10)(14,"dabo-time-picker",11),a.NdJ("timeUpdated",function(Me){return q.updateTimeStart(Me)}),a.qZA()(),a.TgZ(15,"div",12),a._uU(16,"Filter applies to the Digging Date & Time"),a.qZA(),a.TgZ(17,"div",13)(18,"button",14),a._uU(19,"Cancel"),a.qZA(),a.TgZ(20,"button",15),a.NdJ("click",function(Me){return Me.stopPropagation(),q.handleApplyStart()}),a._uU(21," Apply "),a.qZA()()()()()()(),a.TgZ(22,"div",2)(23,"mat-form-field",3)(24,"mat-label",4),a._uU(25,"End Date & Time"),a.qZA(),a.TgZ(26,"input",16),a.NdJ("click",function(){return a.CHM(H),a.MAs(30).open()}),a.qZA(),a.YNc(27,Mt,1,0,"span",6),a._UZ(28,"mat-datepicker-toggle",7),a.TgZ(29,"mat-datepicker",null,17)(31,"mat-datepicker-actions")(32,"div",9)(33,"div",10)(34,"dabo-time-picker",11),a.NdJ("timeUpdated",function(Me){return q.updateTimeEnd(Me)}),a.qZA()(),a.TgZ(35,"div",12),a._uU(36,"Filter applies to the Digging Date & Time"),a.qZA(),a.TgZ(37,"div",13)(38,"button",14),a._uU(39,"Cancel"),a.qZA(),a.TgZ(40,"button",15),a.NdJ("click",function(Me){return Me.stopPropagation(),q.handleApplyEnd()}),a._uU(41," Apply "),a.qZA()()()()()()(),a.YNc(42,O,2,0,"mat-error",18),a.YNc(43,Z,2,0,"mat-error",18),a.qZA(),a.BQk()}if(2&Q){var F=a.MAs(10),R=a.MAs(30);a.Q6J("formGroup",q.groupInstance),a.xp6(1),a.Q6J("formGroupName",q.controlName),a.xp6(5),a.Q6J("max",q.currentTime)("matDatepicker",F),a.xp6(1),a.Q6J("ngIf",q.startControl.value),a.xp6(1),a.Q6J("for",F),a.xp6(6),a.Q6J("time",q.appliedTimeStart),a.xp6(6),a.Q6J("disabled",q.isApplyDisabled),a.xp6(6),a.Q6J("max",q.currentTime)("matDatepicker",R),a.xp6(1),a.Q6J("ngIf",q.endControl.value),a.xp6(1),a.Q6J("for",R),a.xp6(6),a.Q6J("time",q.appliedTimeEnd),a.xp6(6),a.Q6J("disabled",q.isApplyDisabled),a.xp6(2),a.Q6J("ngIf",q.getControl().hasError("isOneControlNotSelected")),a.xp6(1),a.Q6J("ngIf",q.getControl().hasError("isStartLaterThanEnd"))}},directives:[J.JL,J.sg,J.x0,Re.KE,Re.hX,J.Fj,at.Nt,et.hl,J.JJ,J.u,g.O5,et.nW,Re.qo,et.Mq,et.M5,tt.yH,tt.xw,mt,st.lW,et.dp,et.DK,Re.TO],styles:[".date-time-range-picker__field[_ngcontent-%COMP%]{height:51px;border-bottom:1px solid #ebeefc}.datepicker-footer[_ngcontent-%COMP%]{text-align:center}.date-time-picker-footer__buttons[_ngcontent-%COMP%]{justify-content:space-around}"],changeDetection:0}),oe}(),l=o(63102);function d(oe,Te){if(1&oe&&(a.TgZ(0,"span")(1,"span",5),a._uU(2,"Filters"),a.qZA(),a._UZ(3,"span",6),a.ALo(4,"transloco"),a.qZA()),2&oe){var Q=a.oxw(2);a.xp6(3),a.s9C("matTooltip",Q.filterShown?a.lcZ(4,2,"filterTranslation.close_filters"):""),a.Q6J("matTooltipPosition","below")}}function te(oe,Te){if(1&oe){var Q=a.EpF();a.TgZ(0,"dabo-date-range-picker",14),a.NdJ("closed",function(){return a.CHM(Q),a.oxw(3).onClose()}),a.qZA()}if(2&oe){var q=a.oxw(3);a.Q6J("dateClassFn",q.dateClass)("isDiggingDatePresent",q.isDiggingDatePresent)("groupInstance",q.filterForm)("maxDate",q.maxDate)("startDate",q.firstDiggingDate)("isLoading",q.isLoading)}}function xe(oe,Te){if(1&oe&&a._UZ(0,"dabo-date-time-range",15),2&oe){var Q=a.oxw(3);a.Q6J("groupInstance",Q.filterForm)}}function Be(oe,Te){if(1&oe&&a._UZ(0,"dabo-filter-section",16),2&oe){var Q=a.oxw(3);a.Q6J("filterItems",Q.blasters)("groupInstance",Q.filterForm)}}function $e(oe,Te){if(1&oe&&a._UZ(0,"dabo-filter-section",26),2&oe){var Q=a.oxw(4);a.Q6J("filterItems",Q.shifts)("groupInstance",Q.filterForm)}}function nt(oe,Te){if(1&oe&&a._UZ(0,"dabo-filter-section",27),2&oe){var Q=a.oxw(4);a.Q6J("filterItems",Q.sources)("groupInstance",Q.filterForm)}}function ot(oe,Te){if(1&oe&&a._UZ(0,"dabo-filter-section",28),2&oe){var Q=a.oxw(4);a.Q6J("filterItems",Q.shovels)("groupInstance",Q.filterForm)("mineSite",Q.mineArea)}}function St(oe,Te){if(1&oe&&a._UZ(0,"dabo-filter-section",29),2&oe){var Q=a.oxw(4);a.Q6J("filterItems",Q.shovelOperators)("groupInstance",Q.filterForm)}}function Zt(oe,Te){if(1&oe&&a._UZ(0,"dabo-filter-section",30),2&oe){var Q=a.oxw(4);a.Q6J("filterItems",Q.drills)("groupInstance",Q.filterForm)}}function wt(oe,Te){if(1&oe&&a._UZ(0,"dabo-filter-section",31),2&oe){var Q=a.oxw(4);a.Q6J("filterItems",Q.trucks)("groupInstance",Q.filterForm)}}function Rt(oe,Te){if(1&oe&&a._UZ(0,"dabo-filter-section",32),2&oe){var Q=a.oxw(4);a.Q6J("filterItems",Q.materials)("groupInstance",Q.filterForm)("mineSite",Q.mineArea)}}function Bt(oe,Te){if(1&oe&&a._UZ(0,"dabo-filter-section",33),2&oe){var Q=a.oxw(4);a.Q6J("filterItems",Q.delays)("groupInstance",Q.filterForm)}}function Ut(oe,Te){if(1&oe&&(a.TgZ(0,"div",36),a._UZ(1,"dabo-filter-section",37)(2,"dabo-filter-section",38),a.qZA()),2&oe){var Q=a.oxw(5);a.xp6(1),a.Q6J("filterItems",Q.drillingEquipment)("groupInstance",Q.filterForm),a.xp6(1),a.Q6J("filterItems",Q.crews)("groupInstance",Q.filterForm)}}function Ht(oe,Te){if(1&oe&&a._UZ(0,"dabo-filter-section",39),2&oe){var Q=a.oxw(5);a.Q6J("filterItems",Q.drillers)("groupInstance",Q.filterForm)}}function Vt(oe,Te){if(1&oe&&(a.ynx(0),a.YNc(1,Ut,3,4,"div",34),a.YNc(2,Ht,1,2,"dabo-filter-section",35),a.BQk()),2&oe){var Q=a.oxw(4);a.xp6(1),a.Q6J("ngIf",Q.colorMap!==Q.colorMapsEnum.DRILL_COMPLIANCE),a.xp6(1),a.Q6J("ngIf",Q.mineArea!==Q.minesEnum.FRO)}}function jt(oe,Te){if(1&oe&&(a.ynx(0),a.YNc(1,$e,1,2,"dabo-filter-section",17),a.TgZ(2,"div",18),a.YNc(3,nt,1,2,"dabo-filter-section",19),a.YNc(4,ot,1,3,"dabo-filter-section",20),a.YNc(5,St,1,2,"dabo-filter-section",21),a.YNc(6,Zt,1,2,"dabo-filter-section",22),a.YNc(7,wt,1,2,"dabo-filter-section",23),a.YNc(8,Rt,1,3,"dabo-filter-section",24),a.YNc(9,Bt,1,2,"dabo-filter-section",25),a.YNc(10,Vt,3,2,"ng-container",4),a.qZA(),a.BQk()),2&oe){var Q=a.oxw(3);a.xp6(1),a.Q6J("ngIf",Q.colorMap!==Q.colorMapsEnum.SHOVEL_OPERATOR_FEEDBACK),a.xp6(2),a.Q6J("ngIf",Q.colorMap===Q.colorMapsEnum.SHOVEL_OPERATOR_ALARM),a.xp6(1),a.Q6J("ngIf",Q.canShovelsBePresent),a.xp6(1),a.Q6J("ngIf",Q.canShovelOperatorsBePresent),a.xp6(1),a.Q6J("ngIf",Q.colorMap===Q.colorMapsEnum.BLASTABILITY),a.xp6(1),a.Q6J("ngIf",Q.canTrucksBePresent),a.xp6(1),a.Q6J("ngIf",Q.materialsPresent),a.xp6(1),a.Q6J("ngIf",Q.colorMap===Q.colorMapsEnum.SHOVEL_OPERATOR_ALARM),a.xp6(1),a.Q6J("ngIf",Q.isEquipmentRelatedColormap)}}function Jt(oe,Te){if(1&oe&&a._UZ(0,"dabo-filter-section",26),2&oe){var Q=a.oxw(4);a.Q6J("filterItems",Q.shifts)("groupInstance",Q.filterForm)}}function Qt(oe,Te){if(1&oe&&(a.ynx(0),a.TgZ(1,"div",18),a.YNc(2,Jt,1,2,"dabo-filter-section",17),a._UZ(3,"dabo-filter-section",40)(4,"dabo-filter-section",41)(5,"dabo-filter-section",42),a.qZA(),a.BQk()),2&oe){var Q=a.oxw(3);a.xp6(2),a.Q6J("ngIf",Q.colorMap!==Q.colorMapsEnum.SHOVEL_OPERATOR_FEEDBACK),a.xp6(1),a.Q6J("filterItems",Q.blasters)("groupInstance",Q.filterForm),a.xp6(1),a.Q6J("filterItems",Q.explosiveTruckIds)("groupInstance",Q.filterForm),a.xp6(1),a.Q6J("filterItems",Q.explosiveTruckOperators)("groupInstance",Q.filterForm)}}function Gt(oe,Te){1&oe&&(a.ynx(0),a._uU(1,"Deselect All"),a.BQk())}function Yt(oe,Te){1&oe&&a._uU(0,"Select All")}function Wt(oe,Te){if(1&oe){var Q=a.EpF();a.TgZ(0,"button",43),a.NdJ("click",function(){return a.CHM(Q),a.oxw(3).toggleAllSelection()}),a.YNc(1,Gt,2,0,"ng-container",44),a.YNc(2,Yt,1,0,"ng-template",null,45,a.W1O),a.qZA()}if(2&oe){var q=a.MAs(3),H=a.oxw(3);a.xp6(1),a.Q6J("ngIf",H.isAllSelected)("ngIfElse",q)}}var It=function(Te,Q){return[Te,Q]},Kt=function(Te,Q,q,H){return[Te,Q,q,H]};function zt(oe,Te){if(1&oe){var Q=a.EpF();a.ynx(0),a.TgZ(1,"form",7),a.YNc(2,te,1,6,"dabo-date-range-picker",8),a.YNc(3,xe,1,1,"dabo-date-time-range",9),a.YNc(4,Be,1,2,"dabo-filter-section",10),a.YNc(5,jt,11,9,"ng-container",4),a.YNc(6,Qt,6,7,"ng-container",4),a.qZA(),a.TgZ(7,"div",11),a.YNc(8,Wt,4,2,"button",12),a.TgZ(9,"button",13),a.NdJ("click",function(){return a.CHM(Q),a.oxw(2).onApply()}),a._uU(10," Apply "),a.qZA()(),a.BQk()}if(2&oe){var q=a.oxw(2);a.xp6(1),a.ekj("date-range-only",q.isBlastersPresent&&q.mineArea===q.minesEnum.FRO||q.isHVCShortHoles),a.Q6J("formGroup",q.filterForm),a.xp6(1),a.Q6J("ngIf",!q.isDateTimePicker),a.xp6(1),a.Q6J("ngIf",q.isDateTimePicker),a.xp6(1),a.Q6J("ngIf",a.WLB(12,It,q.colorMapsEnum.POWDER_FACTOR,q.colorMapsEnum.SHORT_HOLE).includes(q.colorMap)&&q.mineArea!==q.minesEnum.FRO&&!q.isHVCShortHoles),a.xp6(1),a.Q6J("ngIf",!a.l5B(15,Kt,q.colorMapsEnum.POWDER_FACTOR,q.colorMapsEnum.SHORT_HOLE,q.colorMapsEnum.LOADING,q.colorMapsEnum.EXPLOSIVE_KG).includes(q.colorMap)),a.xp6(1),a.Q6J("ngIf",a.WLB(20,It,q.colorMapsEnum.EXPLOSIVE_KG,q.colorMapsEnum.LOADING).includes(q.colorMap)),a.xp6(2),a.Q6J("ngIf",q.isToggleButtonAvailable),a.xp6(1),a.ekj("apply-only",!q.isToggleButtonAvailable),a.Q6J("disabled",q.isShiftNotSelected||q.isApplyDisabled||q.isLoading)}}var $t=function(Te,Q){return{opened:Te,disabled:Q}},Xt=function(Te){return{opened:Te}};function qt(oe,Te){if(1&oe){var Q=a.EpF();a.TgZ(0,"div",1)(1,"button",2),a.NdJ("click",function(){return a.CHM(Q),a.oxw().toggleFilter()}),a.ALo(2,"transloco"),a._UZ(3,"span",3),a.YNc(4,d,5,4,"span",4),a.qZA(),a.YNc(5,zt,11,23,"ng-container",4),a.qZA()}if(2&oe){var q=a.oxw();a.Q6J("ngClass",a.WLB(10,$t,q.filterShown,q.isDataNotExists||q.filterDisabled)),a.xp6(1),a.Q6J("disabled",q.isDataNotExists||q.filterDisabled)("matTooltip",q.filterShown?"":a.lcZ(2,8,"filterTranslation.filters"))("matTooltipPosition","below")("matTooltipDisabled",q.filterShown)("ngClass",a.VKq(13,Xt,q.filterShown)),a.xp6(3),a.Q6J("ngIf",q.filterShown),a.xp6(1),a.Q6J("ngIf",q.filterShown&&q.filterForm)}}var en=le.N.AVERAGE_FRAGMENTATION,At=le.N.LOADING_TIME,lt=le.N.SHOVEL_ELEVATION,ct=le.N.SHOVEL_OPERATOR_ALARM,Xe=le.N.SHOVEL_OPERATOR_FEEDBACK,Dt=le.N.DRILL_COMPLIANCE,ut=le.N.LOADING,dt=le.N.EXPLOSIVE_KG,_t=be.B.BLASTERS,ht=be.B.DELAYS,Et=be.B.SHIFTS,Ft=be.B.SHOVELS,tn=be.B.SOURCES,je=be.B.TRUCKS,nn=be.B.EXPLOSIVE_TRUCK_IDS,vt=be.B.EXPLOSIVE_TRUCK_OPERATORS,on=be.B.MATERIALS,an=function(){var oe=function(Te){(0,p.Z)(q,Te);var Q=(0,E.Z)(q);function q(H,F,R,ae,Me,Le,Ue){var Ae;return(0,S.Z)(this,q),(Ae=Q.call(this,R,F)).filterService=H,Ae.cdr=F,Ae.formBuilder=R,Ae.mapStateService=ae,Ae.patternsService=Me,Ae.mineStateService=Le,Ae.customEventService=Ue,Ae.completeFilteringEmitter=new a.vpe,Ae.filterShown=!1,Ae.maxDate=(0,Ie.XD)(Ae.mineStateService.getSelectedMineArea()),Ae.isExternallyDisabled=!1,Ae.isDataNotExists=!1,Ae.isDataPointsLoading=!0,Ae.isLoading=!1,Ae.metricsData={},Ae.isApplyTriggeredByPreserving=!1,Ae.colorMapsEnum=le.N,Ae.minesEnum=Pe.q,Ae.dateClass=function(it,Qe){if("month"===Qe&&Ae.isDiggingDatePresent&&(0,U.uU)(Ae.colorMap)){var Ye=it.format(I.a.DEFAULT);return Ae.activeDiggingDates.includes(Ye)?"active-digging-date":""}return""},Ae}return(0,e.Z)(q,[{key:"filtersDisabled",set:function(F){F&&(this.filterShown=!1),this.isExternallyDisabled=F}},{key:"filterDisabled",get:function(){return this.isExternallyDisabled}},{key:"isToggleButtonAvailable",get:function(){return Object.keys(this.filterForm.controls).length>1&&!this.isHVCShortHoles&&!this.isFROShortHoles&&!this.isFROPowderFactor}},{key:"ngOnChanges",value:function(F){var R=F.colorMap,ae=F.mapSettings;if(this.previousColormap=null==R?void 0:R.previousValue,ae&&!ae.isFirstChange()&&(this.setDateTimePickerMode(),this.cancelFilteringRequest(),this.resetFormState(),this.buildFilterForm(),this.checkNoData()),R&&R.currentValue){this.setDateTimePickerMode();var Me=[lt,ct,Xe].includes(R.currentValue),Le=[R.previousValue,R.currentValue].includes(Dt);!this.filterSubscription||Me||Le?(this.resetFormState(),this.buildFilterForm(),this.checkNoData(),this.initSeparatelyLoadedColorMaps(R.previousValue),this.completeFilteringEmitter.emit(this.isPolygonToolUsed)):!(0,U.I1)(R.previousValue,R.currentValue,this.mapSettings)||re.ZA.isRDO(this.mineArea)&&!this.isAssayPreserving()?(this.checkNoData(),this.resetFormState(),this.buildFilterForm(),this.cancelFilteringRequest(),this.setLoaderState(!1),this.completeFilteringEmitter.emit(this.isPolygonToolUsed)):this.handlePreserveFiltering(R),this.initActiveDiggingDates()}}},{key:"ngOnInit",value:function(){this.initHoleMode(),this.initDataPointMode(),this.initActiveDiggingDates(),this.subscribeOnAssaysLoading()}},{key:"ngOnDestroy",value:function(){(0,y.Z)((0,m.Z)(q.prototype),"ngOnDestroy",this).call(this),this.cancelFilteringRequest(),this.setDefaultMapState(!0),this.filterService.resetLegends()}},{key:"toggleAllSelection",value:function(){if(this.isAllSelected)this.isBlastersPresent&&![dt,ut].includes(this.colorMap)?this.deselectSection(_t):this.colorMap===Xe?this.deselectSection(Ft):this.colorMap===ct?(this.deselectSection(ht),this.deselectSection(tn),this.deselectSection(Et)):(this.deselectSection(Et),this.deselectSection(on)),this.isAllSelected=!1;else{var ae=(0,C._T)(this.filterForm.controls,["dateRange"]);(0,b.keys)(ae).forEach(function(Me){var Le=ae[Me];Le.setValue(Le.getRawValue().map(function(){return!0})),Le.enable()}),this.isAllSelected=!0}}},{key:"deselectSection",value:function(F){var R;null===(R=this.getControl(F))||void 0===R||R.setValue(this.filterForm.get(F).value.map(function(){return!1}))}},{key:"toggleFilter",value:function(){this.filterShown=!this.filterShown,this.filterShown&&this.setFormCopyState()}},{key:"handleApply",value:function(){if(this.cancelFilteringRequest(),this.isAllSelected&&!this.dateRangeControl.value)this.handleApplyOnDefaultState();else{this.setLoaderState(!0);var F=this.filterService.prepareParams(this.colorMap,this.filterForm.getRawValue(),this.prepareForSending.bind(this));this.colorMap===le.N.DIGGING_CONDITIONS&&this.mapStateService.setEntityFilters(F),this.filterSubscription=(0,U.JH)((0,U.kw)(this.mapSettings),this.executeFilteringDataPoints.bind(this),this.executeFilteringHoles.bind(this))(F)}}},{key:"onApply",value:function(){this.isApplyTriggeredByPreserving=!1,this.copyFormState(),(0,U.Z9)(this.colorMap)?this.handleApplyForAssay():this.handleApply(),this.customEventService.event(De.R.COLORMAP_FILTER_APPLY,{color_map_name:this.colorMap})}},{key:"handleApplyForAssay",value:function(){if(this.isAssayPreserving()&&this.isApplyTriggeredByPreserving)this.completeFilteringEmitter.emit(this.isPolygonToolUsed);else if(this.cancelFilteringRequest(),this.isAllSelected&&!this.dateRangeControl.value)this.handleApplyOnDefaultState();else{var F=this.filterService.prepareParams("assays",this.filterForm.getRawValue(),this.prepareForSending.bind(this));(0,U.Z9)(this.colorMap)&&(this.filterSubscription=this.executeFilteringAssays(F))}}},{key:"handleApplyOnDefaultState",value:function(){this.setDefaultMapState(),this.setLoaderState(!1),this.completeFilteringEmitter.emit(this.isPolygonToolUsed)}},{key:"isAssayPreserving",value:function(){return(0,U.Z9)(this.colorMap)&&(0,U.Z9)(this.previousColormap)}},{key:"initActiveDiggingDates",value:function(){var F=this;this.diggingDatesSubscription&&(this.diggingDatesSubscription.unsubscribe(),this.diggingDatesSubscription=null);var R=this.mapSettings.dataPointsMode?(0,U.rv)(this.colorMap):(0,U.uU)(this.colorMap);re.ZA.isCoalMine(this.mineArea)&&R?(this.isLoading=!0,this.diggingDatesSubscription=this.filterService.getActiveDiggingDates(this.colorMap).pipe((0,c.R)(this.destroy$)).subscribe(function(ae){F.activeDiggingDates=ae,F.isDiggingDatePresent=ae.length>0,F.firstDiggingDate=de()(new Date(ae[0])),F.isLoading=!1,F.cdr.markForCheck()},function(){F.activeDiggingDates=[],F.isLoading=!1,F.cdr.markForCheck()})):(this.isLoading=!1,this.firstDiggingDate=null,this.isDiggingDatePresent=!1)}},{key:"manageDistinctSections",value:function(F){F.currentValue===At&&(this.addTrucksControl(),this.copyFormState()),F.previousValue===At&&this.filterForm.removeControl(je),[dt,ut,null].includes(F.currentValue)&&![dt,ut,null].includes(F.previousValue)&&(this.addShiftsControl(),this.addExplosiveTruckIdsControl(),this.addExplosiveTruckOperatorsControl(),this.copyFormState()),[dt,ut,null].includes(F.previousValue)&&![dt,ut,null].includes(F.currentValue)&&(this.filterForm.removeControl(Et),this.filterForm.removeControl(nn),this.filterForm.removeControl(vt))}},{key:"checkNoData",value:function(){var F=this,R=[en,lt,Xe],ae=function(it){return!!it[F.colorMap]&&it[F.colorMap].noData},Me=(0,b.isEmpty)(this.mapStateService.dataPointMetricsData$.getValue())?{}:this.mapStateService.dataPointMetricsData$.getValue().initialMetricsData;if(R.includes(this.colorMap)||(0,U.Z9)(this.colorMap)){if((0,U.Z9)(this.colorMap)){var Le=this.mapStateService.assays$.getValue(),Ue=(0,b.isEmpty)(Le)?{}:Le.metrics;this.isDataNotExists=ae(Ue),this.cdr.markForCheck()}}else this.isDataNotExists=(0,U.JH)((0,U.kw)(this.mapSettings),function(){return F.mapStateService.dataPointsData$.getValue().isNoData||ae(Me)},function(){return ae(F.metricsData)})(),this.cdr.markForCheck()}},{key:"executeFilteringDataPoints",value:function(F){var R=this;return this.filterService.getFilteredDataPoints(F).pipe((0,x.b)(500),(0,ue.x)(function(){return R.setLoaderState(!1)}),(0,c.R)(this.destroy$)).subscribe(function(ae){R.map.getSource("dataPoints").setData(ae),R.mapStateService.setFilteredFeatureColection(ae),R.completeFilteringEmitter.emit(R.isPolygonToolUsed)})}},{key:"executeFilteringHoles",value:function(F){var R=this;return this.colorMap===lt?this.executeShovelElevationFiltering(F):this.colorMap===Xe||this.colorMap===ct?this.executeShovelOperatorFiltering(F):this.filterService.getFilteredHoles(F).pipe((0,ue.x)(function(){return R.mapStateService.mapLoading$.next(!1)}),(0,c.R)(this.destroy$)).subscribe(function(ae){R.mapStateService.setFilteredFeatureColection(ae.holes),R.updateMap(ae),R.completeFilteringEmitter.emit(R.isPolygonToolUsed)})}},{key:"executeFilteringAssays",value:function(F){var R=this;return this.filterService.getFilteredAssays(F).pipe((0,c.R)(this.destroy$)).subscribe(function(){R.completeFilteringEmitter.emit(R.isPolygonToolUsed)})}},{key:"filterByLegend",value:function(){this.filterService.applyFilteringByLegend(this.mapSettings,this.map,this.colorMap,this.mapType)}},{key:"executeShovelElevationFiltering",value:function(F){var R=this;return this.mapStateService.mapLoading$.next(!0),this.filterService.getShovelElevation(F).pipe((0,x.b)(500),(0,ue.x)(function(){return R.mapStateService.mapLoading$.next(!1)}),(0,c.R)(this.destroy$)).subscribe(function(ae){re.WC.removeLayers(R.map,["shovel-elevation"],["shovelElevationData"]),U.z5.drawShovelElevation(R.map,ae,R.mineArea),R.filterByLegend()})}},{key:"executeShovelOperatorFiltering",value:function(F){var R=this;return this.mapStateService.mapLoading$.next(!0),this.filterService.getShovelOperatorEvent(F,this.colorMap).pipe((0,x.b)(500),(0,ue.x)(function(){return R.mapStateService.mapLoading$.next(!1)}),(0,c.R)(this.destroy$)).subscribe(function(ae){R.map.getSource("shovelOperatorsEvent").setData(ae),R.isShovelOperator(ae)})}},{key:"isShovelOperator",value:function(F){var R=this.mapStateService.selectedShovelOperatorsEvent$.getValue().filters;this.mapStateService.selectedShovelOperatorsEvent$.next({filters:R,events:F}),this.cdr.markForCheck()}},{key:"setComponentBaseProperties",value:function(F){this.shifts=F.shifts,this.shovels=F.shovels,this.shovelOperators=F.shovelOperators}},{key:"getFilterOptions",value:function(){var F=this;this.filterService.getColorMapFilters().pipe((0,M.P)()).subscribe(function(R){F.setComponentBaseProperties(R),F.trucks=R.trucks,F.crews=R.crews,F.drills=R.drills,F.drillers=F.sortDrillersArray(R.drillers),F.blasters=R.blasters,F.drillingEquipment=R.drillingEquipment,F.explosiveTruckIds=R.explosiveTruckIds,F.explosiveTruckOperators=R.explosiveTruckOperators,F.materials=R.materials,F.buildFilterForm()})}},{key:"sortDrillersArray",value:function(F){var Le,R=[],ae=null,Me=(0,f.Z)(F);try{for(Me.s();!(Le=Me.n()).done;){var Ue=Le.value;null!==Ue&&"Not set"!==Ue.name&&"Rdog Null Employee"!==Ue.name?R.push(Ue):null!==Ue&&(ae=Object.assign(Object.assign({},Ue),{name:"Not set"}))}}catch(Ae){Me.e(Ae)}finally{Me.f()}return ae&&R.push(ae),R}},{key:"updateMap",value:function(F){var R,ae=this.map.getSource("angledHolesLines"),Me=this.map.getSource("angledHolesPoints");ae&&Me&&(this.map.getSource("angledHolesLines").setData(F.angledLines),this.map.getSource("angledHolesPoints").setData(F.angledPoints)),null===(R=this.map.getSource("colorCodes"))||void 0===R||R.setData(F.holes)}},{key:"setLoaderState",value:function(F){this.colorMap===Xe||this.colorMap===ct||this.colorMap===lt||this.mapStateService.mapLoading$.next(F)}},{key:"setDefaultMapState",value:function(){var R,ae,F=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Me=this.mapStateService.assays$.getValue(),Le=this.patternsService.polygons$.getValue();if(this.mapStateService.entityFiltersActive=!1,!(0,U.Z9)(this.colorMap)||(0,b.isEmpty)(Me)||F){var Ue=this.map.getSource("angledHolesLines"),Ae=this.map.getSource("angledHolesPoints");this.hasAngledHoles(Ue,Ae,Le)&&(Ue.setData(Le.angledLines),Ae.setData(Le.angledPoints)),this.hasDataPoints()?this.map.getSource("dataPoints").setData(this.initialDataPointsSource):this.isShovelElevationCase()?this.map.getSource("shovelElevationData").setData(this.initialShovelElevationSource):this.isShovelOperatorCase()?this.setShovelOperatorData():this.mapSettings.holesMode&&!(0,b.isEmpty)(null===(R=null==Le?void 0:Le.holes)||void 0===R?void 0:R.features)&&(null===(ae=this.map.getSource("colorCodes"))||void 0===ae||ae.setData(Le.holes))}else this.mapStateService.setAssays(Me.initial,Me.metrics,this.isAssayPreserving())}},{key:"isShovelOperatorCase",value:function(){return(this.colorMap===Xe||this.colorMap===ct)&&this.map.getSource("shovelOperatorsEvent")&&!this.mapStateService.mapLoading$.getValue()}},{key:"isShovelElevationCase",value:function(){return this.colorMap===lt&&this.map.getSource("shovelElevationData")&&!this.mapStateService.mapLoading$.getValue()}},{key:"hasAngledHoles",value:function(F,R,ae){return F&&R&&(null==ae?void 0:ae.angledLines)&&!!(null==ae?void 0:ae.angledPoints)}},{key:"hasDataPoints",value:function(){return this.mapSettings.dataPointsMode&&this.initialDataPointsSource&&!!this.map.getSource("dataPoints")}},{key:"cancelFilteringRequest",value:function(){this.filterSubscription&&(this.filterSubscription.unsubscribe(),this.filterSubscription=null)}},{key:"initDataPointMode",value:function(){var F=this;this.filterService.getDataPoints().pipe((0,c.R)(this.destroy$)).subscribe(function(R){var ae=(0,D.Z)(R,2),Me=ae[0],Le=ae[1];Me?(F.isDataNotExists=!0,F.cdr.markForCheck()):(F.isDataPointsLoading=Me,F.checkNoData(),!(0,b.isEmpty)(Le)&&F.map.getSource("dataPoints")&&F.mapSettings.dataPointsMode&&(F.initialDataPointsSource=(0,b.cloneDeep)(F.map.getSource("dataPoints")._data),F.getFilterOptions()))})}},{key:"initHoleMode",value:function(){var F=this;this.patternsService.polygons$.pipe((0,c.R)(this.destroy$)).subscribe(function(R){!R||(F.mapSettings.holesMode&&!(0,b.isEmpty)(R.holes.features)?(F.metricsData=R.metrics,F.checkNoData(),F.mapStateService.filterRequestNeeded&&F.getFilterOptions()):(F.isDataNotExists=!0,F.cdr.markForCheck()))})}},{key:"initSeparatelyLoadedColorMaps",value:function(F){var R=this,ae=[lt,ct,Xe];ae.includes(this.colorMap)&&(this.filterService.getColorMapFilters(this.colorMap).pipe((0,c.R)(this.destroy$)).subscribe(function(Me){R.setComponentBaseProperties(Me),R.delays=Me.delayCategory,R.sources=Me.source,R.buildFilterForm()}),this.mapStateService.mapLoading$.pipe((0,$.h)(function(){return ae.includes(R.colorMap)}),(0,c.R)(this.destroy$)).subscribe(function(Me){return R.checkLoadingState(Me)})),ae.includes(F)&&!ae.includes(this.colorMap)&&this.getFilterOptions()}},{key:"checkLoadingState",value:function(F){var R,ae,Me,Le=((0,h.Z)(R={},lt,"initialShovelElevationSource"),(0,h.Z)(R,Xe,"initialShovelOperatorsFeedback"),(0,h.Z)(R,ct,"initialShovelOperatorsAlarm"),R),Ue=((0,h.Z)(ae={},lt,"shovelElevationData"),(0,h.Z)(ae,Xe,"shovelOperatorsEvent"),(0,h.Z)(ae,ct,"shovelOperatorsEvent"),ae);if(F)this.isDataNotExists=!0;else{var Ae=null===(Me=this.map)||void 0===Me?void 0:Me.getSource(Ue[this.colorMap]);Ae&&Ae._data&&(this[Le[this.colorMap]]||(this[Le[this.colorMap]]=(0,b.cloneDeep)(Ae._data)),this.isDataNotExists=(0,b.isEmpty)(Ae._options.data.features)&&!this.filterShown),this.cdr.markForCheck()}}},{key:"subscribeOnAssaysLoading",value:function(){var F=this;this.mapStateService.assayLoading$.pipe((0,c.R)(this.destroy$)).subscribe(function(R){R&&(0,b.isEmpty)(F.mapStateService.assays$.getValue())?F.isDataNotExists=!0:F.checkNoData(),F.cdr.markForCheck()})}},{key:"handlePreserveFiltering",value:function(F){this.filterShown=!1,this.isApplyTriggeredByPreserving=!0,this.checkNoData(),this.isDataNotExists?(this.filterSubscription&&this.filterSubscription.unsubscribe(),this.setLoaderState(!1),this.setDefaultMapState(),this.completeFilteringEmitter.emit(this.isPolygonToolUsed)):(this.setFormCopyState(),this.manageDistinctSections(F),(0,U.Z9)(this.colorMap)?this.handleApplyForAssay():this.handleApply())}},{key:"onClose",value:function(){var F=this.filterForm.get("dateRange").value;(!F.start||!F.end)&&this.filterForm.get("dateRange").patchValue({start:null,end:null})}},{key:"resetFormState",value:function(){this.isApplyDisabled=!1,this.isAllSelected=!0,this.filterShown=!1,this.setDefaultMapState()}},{key:"setShovelOperatorData",value:function(){var R=this.colorMap===Xe?this.initialShovelOperatorsFeedback:this.initialShovelOperatorsAlarm;this.map.getSource("shovelOperatorsEvent").setData(R),this.isShovelOperator(R)}}]),q}(Ke);return oe.\u0275fac=function(Q){return new(Q||oe)(a.Y36(G.i),a.Y36(a.sBO),a.Y36(J.qu),a.Y36(T.I3),a.Y36(T.c5),a.Y36(T.Hj),a.Y36(T.qL))},oe.\u0275cmp=a.Xpm({type:oe,selectors:[["dabo-filter"]],inputs:{map:"map",mapType:"mapType",isPolygonToolUsed:"isPolygonToolUsed",filtersDisabled:"filtersDisabled"},outputs:{completeFilteringEmitter:"completeFilteringEmitter"},features:[a._Bn([{provide:Ne.Hn,useValue:{scope:"filter",alias:"filterTranslation"}}]),a.qOj,a.TTD],decls:1,vars:1,consts:[["class","map-filter",3,"ngClass",4,"ngIf"],[1,"map-filter",3,"ngClass"],[1,"btn","map-filter__btn",3,"disabled","matTooltip","matTooltipPosition","matTooltipDisabled","ngClass","click"],[1,"icon","icon-filter"],[4,"ngIf"],[1,"filter-title"],[1,"icon","icon-close",3,"matTooltip","matTooltipPosition"],[1,"filter-wrapper",3,"formGroup"],["controlName","dateRange",3,"dateClassFn","isDiggingDatePresent","groupInstance","maxDate","startDate","isLoading","closed",4,"ngIf"],["controlName","dateRange",3,"groupInstance",4,"ngIf"],["class","filter-section","controlName","blasters",3,"filterItems","groupInstance",4,"ngIf"],[1,"map-filter__footer"],["class","toggle-selection btn btn--outline","mat-button","",3,"click",4,"ngIf"],["mat-button","",1,"apply","btn","btn--outline",3,"disabled","click"],["controlName","dateRange",3,"dateClassFn","isDiggingDatePresent","groupInstance","maxDate","startDate","isLoading","closed"],["controlName","dateRange",3,"groupInstance"],["controlName","blasters",1,"filter-section",3,"filterItems","groupInstance"],["controlName","shifts",3,"filterItems","groupInstance",4,"ngIf"],[1,"flex-wrap"],["class","filter-section__half-width","controlName","sources",3,"filterItems","groupInstance",4,"ngIf"],["class","filter-section__half-width","controlName","shovels",3,"filterItems","groupInstance","mineSite",4,"ngIf"],["class","filter-section__half-width","controlName","shovelOperators",3,"filterItems","groupInstance",4,"ngIf"],["class","filter-section__half-width","controlName","drills",3,"filterItems","groupInstance",4,"ngIf"],["class","filter-section__half-width","controlName","trucks",3,"filterItems","groupInstance",4,"ngIf"],["class","filter-section__half-width","controlName","materials",3,"filterItems","groupInstance","mineSite",4,"ngIf"],["class","filter-section__half-width","controlName","delays",3,"filterItems","groupInstance",4,"ngIf"],["controlName","shifts",3,"filterItems","groupInstance"],["controlName","sources",1,"filter-section__half-width",3,"filterItems","groupInstance"],["controlName","shovels",1,"filter-section__half-width",3,"filterItems","groupInstance","mineSite"],["controlName","shovelOperators",1,"filter-section__half-width",3,"filterItems","groupInstance"],["controlName","drills",1,"filter-section__half-width",3,"filterItems","groupInstance"],["controlName","trucks",1,"filter-section__half-width",3,"filterItems","groupInstance"],["controlName","materials",1,"filter-section__half-width",3,"filterItems","groupInstance","mineSite"],["controlName","delays",1,"filter-section__half-width",3,"filterItems","groupInstance"],["class","filter-section filter-section__equipment",4,"ngIf"],["controlName","drillers","class","filter-section",3,"filterItems","groupInstance",4,"ngIf"],[1,"filter-section","filter-section__equipment"],["controlName","drillingEquipment",3,"filterItems","groupInstance"],["controlName","crews",3,"filterItems","groupInstance"],["controlName","drillers",1,"filter-section",3,"filterItems","groupInstance"],["controlName","blasters",1,"filter-section__half-width",3,"filterItems","groupInstance"],["controlName","explosiveTruckIds",1,"filter-section__half-width",3,"filterItems","groupInstance"],["controlName","explosiveTruckOperators",1,"filter-section__half-width",3,"filterItems","groupInstance"],["mat-button","",1,"toggle-selection","btn","btn--outline",3,"click"],[4,"ngIf","ngIfElse"],["selectAll",""]],template:function(Q,q){1&Q&&a.YNc(0,qt,6,15,"div",0),2&Q&&a.Q6J("ngIf",q.filterForm)},directives:[g.O5,g.mk,i.oO,P.gM,J._Y,J.JL,J.sg,_.C,A,l.n,st.lW],pipes:[Ne.Ot],styles:[".disabled[_ngcontent-%COMP%]{color:#d6d8dc!important}.mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{width:calc(100% - 23px)}  .first-date-class{background:whitesmoke;border-radius:100%}  button.mat-icon-button:hover:enabled{background-color:unset!important;color:unset!important}  .mat-form-field-label:enabled,   .mat-input-element:enabled{color:#0165bd!important;padding-left:5px}  .map-filter__date-filter .mat-form-field-label{padding-left:5px}  .mat-focused .mat-form-field-label{color:transparent!important}  .mat-form-field{font-size:14px}  .mat-form-field-underline{display:none}  .icon-close{cursor:pointer}mat-icon[_ngcontent-%COMP%]{width:18px;height:24px;padding-top:3px;font-size:18px;position:relative;float:right;top:-3px;cursor:pointer;color:#0165bd}.map-filter[_ngcontent-%COMP%]{width:auto;height:auto;position:relative;box-sizing:border-box}.map-filter[_ngcontent-%COMP%]   .filter-wrapper[_ngcontent-%COMP%]{padding:8px 14px 16px;background-color:#fff;max-height:471px;overflow:auto}.map-filter[_ngcontent-%COMP%]   .filter-wrapper.date-range-only[_ngcontent-%COMP%]{padding-bottom:0}.map-filter[_ngcontent-%COMP%]   .filter-list-wrapper[_ngcontent-%COMP%]{padding:4px 0}.map-filter[_ngcontent-%COMP%]   .flex-horizontal[_ngcontent-%COMP%]{display:flex}.map-filter[_ngcontent-%COMP%]   .flex-horizontal[_ngcontent-%COMP%]   .flex-item[_ngcontent-%COMP%]{flex:1}.map-filter.opened[_ngcontent-%COMP%]{width:285px;box-shadow:1px 1px 15px 2px #0003}.map-filter__btn[_ngcontent-%COMP%]{display:inline-flex;flex-wrap:nowrap;align-items:center;height:32px;min-width:32px;font-size:12px;border:none;transition:none}.map-filter__btn.opened[_ngcontent-%COMP%]{min-width:100%;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom:1px solid #f3f5ff;background-color:#fff!important;box-shadow:0 8px 24px #586b7a1a}.map-filter__btn.opened[_ngcontent-%COMP%]:hover{color:#586b7a}.map-filter__btn.opened[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]:before{color:#586b7a}.map-filter__btn.opened[_ngcontent-%COMP%]:hover   .icon-filter[_ngcontent-%COMP%]:before{color:#0165bd}.map-filter__btn.opened[_ngcontent-%COMP%]   .icon-filter[_ngcontent-%COMP%]:before, .map-filter__btn.opened[_ngcontent-%COMP%]   .icon-filter[_ngcontent-%COMP%]:hover{color:#0165bd}.map-filter__btn[_ngcontent-%COMP%]   .icon-filter[_ngcontent-%COMP%]{margin-right:0}.map-filter__btn[_ngcontent-%COMP%]   .filter-title[_ngcontent-%COMP%]{margin-left:10px}.map-filter__btn[_ngcontent-%COMP%]   .icon-close[_ngcontent-%COMP%]{position:absolute;right:10px;opacity:.4}.map-filter__btn[_ngcontent-%COMP%]   .icon-close[_ngcontent-%COMP%]:hover, .map-filter__btn[_ngcontent-%COMP%]   .icon-close[_ngcontent-%COMP%]:focus{opacity:1}.map-filter__footer[_ngcontent-%COMP%]{padding:0 14px 10px;background-color:#fff;border-radius:0 0 2px 2px}.map-filter__footer[_ngcontent-%COMP%]   .toggle-selection[_ngcontent-%COMP%], .map-filter__footer[_ngcontent-%COMP%]   .apply[_ngcontent-%COMP%]{width:50%}.flex-wrap[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-top:4px}.flex-wrap[_ngcontent-%COMP%]   .filter-section.no-flex[_ngcontent-%COMP%]{flex:none}.map-filter__btn.opened[_ngcontent-%COMP%]{justify-content:start;font-weight:500;padding-left:8px}.map-filter__footer[_ngcontent-%COMP%]   .toggle-selection[_ngcontent-%COMP%], .map-filter__footer[_ngcontent-%COMP%]   .apply[_ngcontent-%COMP%]{display:inline-block}.map-filter__footer[_ngcontent-%COMP%]   .toggle-selection[_ngcontent-%COMP%]:disabled, .map-filter__footer[_ngcontent-%COMP%]   .apply[_ngcontent-%COMP%]:disabled{cursor:not-allowed}"],changeDetection:0}),oe}()},13914:function(ye,ie,o){"use strict";o.d(ie,{i:function(){return I}});var h=o(15671),D=o(43144),f=o(70655),S=o(57676),e=o(46940),y=o(38001),m=o(75791),p=o(22451),E=o(17489),a=o(23426),b=o(24850),c=o(65542),x=o(40520),ue=o(94720),M=y.N.LOADING,$=S.mb.activeDiggingDates,le=S.mb.colorMapFilters,I=function(){var De=function(){function be(Pe,J,U,W,re,Ee,ge){(0,h.Z)(this,be),this.http=Pe,this.legendFilteringService=J,this.mineStateService=U,this.mapApiService=W,this.mapStateService=re,this.mapFacadeService=Ee,this.patternsService=ge}return(0,D.Z)(be,[{key:"getColorMapFilters",value:function(J){var U=this,W=this.patternsService.getSelectedPatternIds(),re=Array.from(this.patternsService.selectedElevations$.getValue()).map(String),Ee=J?{patternId:W,colorMapType:J,elevationId:re}:{patternId:W};return this.http.get((0,S.FP)(this.mineStateService.getSelectedMineArea(),le),{params:Ee}).pipe((0,b.U)(function(ge){return U.prepareFilters(ge)}))}},{key:"getFilteredHoles",value:function(J){var U=this.patternsService.getSelectedPatternIds(),W=Object.assign(Object.assign({},J),{patternId:U});return this.mapApiService.getPatterns(W)}},{key:"getFilteredAssays",value:function(J){var U=this.patternsService.getSelectedPatternIds(),W=Object.assign(Object.assign({},J),{patternId:U});return this.mapFacadeService.getAssays(W)}},{key:"getFilteredDataPoints",value:function(J){var U=this.patternsService.getSelectedPatternIds(),W=Object.assign(Object.assign({},J),{patternId:U});return this.mapFacadeService.getFilteredDataPoints(W).pipe((0,b.U)(function(re){return re.geoJson}))}},{key:"applyFilteringByLegend",value:function(J,U,W,re){var Ee=this.legendFilteringService.legends$.getValue()[re];(0,E.isEmpty)(Ee)||this.legendFilteringService.filterMap(J,U,W,Ee,Ee.blastabilityZonesState,this.mineStateService.getSelectedMineArea())}},{key:"getDataPoints",value:function(){return(0,a.aj)([this.mapStateService.dataPointsLoading$,this.mapStateService.dataPointsData$])}},{key:"getShovelElevation",value:function(J){var U=this.patternsService.getSelectedPatternIds(),W=Object.assign(Object.assign({},J),{patternId:U});return this.mapApiService.getShovelEvevation(W).pipe((0,b.U)(function(re){return re.geoJson}))}},{key:"getShovelOperatorEvent",value:function(J,U){var W=this.patternsService.getSelectedPatternIds(),re=Object.assign(Object.assign({},J),{patternId:W});return U===y.N.SHOVEL_OPERATOR_FEEDBACK?this.mapApiService.getShovelOperatorFeedback(re).pipe((0,b.U)(function(Ee){return Ee.geoJson})):this.mapApiService.getShovelOperatorAlarm(re).pipe((0,b.U)(function(Ee){return Ee.geoJson}))}},{key:"resetLegends",value:function(){this.legendFilteringService.legends$.next({})}},{key:"prepareFilters",value:function(J){var U=J.shifts.map(function(ee){return Object.assign(Object.assign({},ee),{abbr:function(){switch(ee.name){case"day":return"D";case"night":return"N";default:return"Not set"}}()})}),W=J.trucks.map(function(ee){return{name:ee.truckType}}),re=J.explosiveTruckIds.map(function(ee){return{name:ee.explosiveTruckId,explosiveTruckOperator:ee.explosiveTruckOperator}}),Ee=J.explosiveTruckOperators.map(function(ee){return{name:ee.explosiveTruckOperator}}),ge=J.shovels.map(function(ee){return{name:ee.id,truckTypes:ee.truckTypes,shovelOperators:ee.shovelOperators}}),ve=J.shovelOperators.map(function(ee){return{name:ee.shovelOperator}}),_e=J.crews.map(function(ee){return{name:ee.crew,driller:ee.driller}}),V=J.drillers.map(function(ee){var se=ee.driller;return"Rdog Null Employee"===se&&(se="Not set"),{name:se}}),k=J.drills.map(function(ee){return{name:ee.drill}}),N=J.blasters.map(function(ee){return{name:ee.blaster}}),B=J.delayCategory.map(function(ee){return{name:ee}}),pe=J.source.map(function(ee){return{name:ee.toLowerCase()}}),me=J.materials.map(function(ee){return{name:ee.materialType}});return{blasters:N,crews:_e,delayCategory:B,drillers:V,drillingEquipment:J.drillingEquipment.map(function(ee){return{name:ee.drillingEquipment,activeCrew:ee.activeCrew}}),drills:k,shifts:U,shovels:ge,shovelOperators:ve,source:pe,trucks:W,explosiveTruckIds:re,explosiveTruckOperators:Ee,materials:me}}},{key:"prepareParams",value:function(J,U,W){var re=U.dateRange,Ee=(0,f._T)(U,["dateRange"]),ge=J||M,ve=(0,E.keys)(Ee).reduce(function(k,N){return Object.assign(Object.assign({},k),W(N,Ee))},{}),_e=Object.assign(Object.assign({},ve),{colorMapType:ge}),V=this.mapStateService.getMapMode()===m.H.DATA_POINTS&&y.N.DIGGING_CONDITIONS?this.transformTimeRange(re):this.transformDate(re);return re.start&&re.end?Object.assign(Object.assign({},_e),V):_e}},{key:"getActiveDiggingDates",value:function(J){var U=this,re={patternId:this.patternsService.getSelectedPatternIds(),colorMapType:J};return this.http.get((0,S.FP)(this.mineStateService.getSelectedMineArea(),$),{params:re}).pipe((0,b.U)(function(Ee){var ve=Ee.activeDates.map(function(_e){return e.Ov.transformToMineUTCTimeZone(U.mineStateService.getSelectedMineArea(),_e,p.a.DEFAULT)});return Array.from(new Set(ve))}))}},{key:"transformTimeRange",value:function(J){var U,W,re,Ee,ge=null===(U=J.start)||void 0===U?void 0:U.valueOf(),ve=null===(W=J.start)||void 0===W?void 0:W.clone().subtract((0,S.pQ)(this.mineStateService.getSelectedMineArea(),ge),"minutes").valueOf(),_e=null===(re=J.end)||void 0===re?void 0:re.valueOf();return{dateFrom:ve,dateTo:null===(Ee=J.end)||void 0===Ee?void 0:Ee.clone().subtract((0,S.pQ)(this.mineStateService.getSelectedMineArea(),_e),"minutes").valueOf()}}},{key:"transformDate",value:function(J){var U,W,re,Ee,ge=null===(U=J.start)||void 0===U?void 0:U.valueOf(),ve=null===(W=J.start)||void 0===W?void 0:W.clone().startOf("day").subtract((0,S.pQ)(this.mineStateService.getSelectedMineArea(),ge),"minutes").valueOf(),_e=null===(re=J.end)||void 0===re?void 0:re.valueOf();return{dateFrom:ve,dateTo:null===(Ee=J.end)||void 0===Ee?void 0:Ee.clone().endOf("day").subtract((0,S.pQ)(this.mineStateService.getSelectedMineArea(),_e),"minutes").valueOf()}}}]),be}();return De.\u0275fac=function(Pe){return new(Pe||De)(c.LFG(x.eN),c.LFG(ue.ol),c.LFG(ue.Hj),c.LFG(ue.P2),c.LFG(ue.I3),c.LFG(ue.NL),c.LFG(ue.c5))},De.\u0275prov=c.Yz7({token:De,factory:De.\u0275fac}),De}()},51275:function(ye,ie,o){"use strict";o.d(ie,{d:function(){return p}});var h=o(15671),D=o(43144),f=o(46940),S=o(42585),e=o(65542),y=o(9338),m=o(29772),p=function(){var E=function(){function C(){(0,h.Z)(this,C)}return(0,D.Z)(C,[{key:"toggleFullScreen",value:function(){this.fullScreen=f.LZ.fullScreenMap("map-container")}},{key:"changeFullsreenState",value:function(b){this.fullScreen=b}}]),C}();return E.\u0275fac=function(a){return new(a||E)},E.\u0275cmp=e.Xpm({type:E,selectors:[["dabo-map-fullscreen-button"]],features:[e._Bn([{provide:S.Hn,useValue:{scope:"map-controls",alias:"mapControlsTranslation"}}])],decls:5,vars:9,consts:[[1,"fullscreen-container"],["fullscreen","","type","button",3,"defaultScreen","matTooltip","matTooltipPosition","click","fullScreenState"],["fullscreen","",3,"defaultScreen","fullscreen"]],template:function(a,b){1&a&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return b.toggleFullScreen()})("fullScreenState",function(x){return b.changeFullsreenState(x)}),e.ALo(2,"transloco"),e.ALo(3,"transloco"),e._UZ(4,"span",2),e.qZA()()),2&a&&(e.xp6(1),e.s9C("matTooltip",b.fullScreen?e.lcZ(2,5,"mapControlsTranslation.exit_full_screen"):e.lcZ(3,7,"mapControlsTranslation.full_screen")),e.Q6J("defaultScreen","active")("matTooltipPosition","left"),e.xp6(3),e.Q6J("defaultScreen","icon icon-map-collapse")("fullscreen","icon icon-map-expand"))},directives:[y.S,m.gM],pipes:[S.Ot],styles:[".fullscreen-container[_ngcontent-%COMP%]{position:absolute;bottom:145px;right:10px}"]}),E}()},97079:function(ye,ie,o){"use strict";o.d(ie,{D:function(){return p}});var h=o(43144),D=o(15671),f=o(69808),S=o(77446),e=o(47423),y=o(93075),m=o(65542),p=function(){var E=(0,h.Z)(function C(){(0,D.Z)(this,C)});return E.\u0275fac=function(a){return new(a||E)},E.\u0275mod=m.oAB({type:E}),E.\u0275inj=m.cJS({imports:[[f.ez,S.p9,e.ot,y.u5]]}),E}()},94579:function(ye,ie,o){"use strict";o.d(ie,{R:function(){return qe}});var h=o(43144),D=o(15671),f=o(69808),S=o(46537),e=o(97079),y=o(77269),m=o(77093),p=o(25245),E=o(79814),C=o(77446),a=o(93075),b=o(42585),c=o(1302),x=o(29772),ue=o(34988),M=o(65542),$=function(){var Fe=(0,h.Z)(function Ve(){(0,D.Z)(this,Ve)});return Fe.\u0275fac=function(Ke){return new(Ke||Fe)},Fe.\u0275mod=M.oAB({type:Fe}),Fe.\u0275inj=M.cJS({imports:[[f.ez,m.ae,p.Ps,E.Fk,C.p9,a.UX,e.D,c.o,x.AV,ue.r,b.y4]]}),Fe}(),le=o(28364),I=o(78090),De=o(94720),be=o(89936),Pe=o(53170),J=o(47423),U=o(86856),W=o(67322),re=o(77531),Ee=o(74107),ge=o(56121),ve=o(30325),_e=o(2033),V=o(40520),k=o(15980),pe=(o(13817),o(63102),o(13914)),me=o(42155),X=function(){var Fe=(0,h.Z)(function Ve(){(0,D.Z)(this,Ve)});return Fe.\u0275fac=function(Ke){return new(Ke||Fe)},Fe.\u0275mod=M.oAB({type:Fe}),Fe.\u0275inj=M.cJS({imports:[[f.ez,a.UX,me.o9,p.Ps,J.ot]]}),Fe}(),ee=function(){var Fe=(0,h.Z)(function Ve(){(0,D.Z)(this,Ve)});return Fe.\u0275fac=function(Ke){return new(Ke||Fe)},Fe.\u0275mod=M.oAB({type:Fe}),Fe.\u0275inj=M.cJS({imports:[[me.o9,f.ez,X,U.FA,a.UX,W.lN,re.c,J.ot]]}),Fe}(),se=function(){var Fe=(0,h.Z)(function Ve(){(0,D.Z)(this,Ve)});return Fe.\u0275fac=function(Ke){return new(Ke||Fe)},Fe.\u0275mod=M.oAB({type:Fe}),Fe.\u0275inj=M.cJS({providers:[pe.i],imports:[[ee,f.ez,k.E,c.o,J.ot,C.p9,U.FA,W.lN,re.c,a.UX,me.o9,x.AV,b.y4]]}),Fe}(),Se=o(90508),K=o(46940),Ce=o(47903),Y=o(11066),w=o(32807),ce=o(34594),he=o(48966),we=o(80779),Ze=function(){var Fe=(0,h.Z)(function Ve(){(0,D.Z)(this,Ve)});return Fe.\u0275fac=function(Ke){return new(Ke||Fe)},Fe.\u0275mod=M.oAB({type:Fe}),Fe.\u0275inj=M.cJS({providers:[],imports:[[ce.g0,he.Is,we.aO.forChild()]]}),Fe}(),qe=function(){var Fe=(0,h.Z)(function Ve(){(0,D.Z)(this,Ve)});return Fe.\u0275fac=function(Ke){return new(Ke||Fe)},Fe.\u0275mod=M.oAB({type:Fe}),Fe.\u0275inj=M.cJS({providers:[I.zY,De.ol,I.dJ,I.nY,Ce.rn,Ce.nA,Ce.Jq,I.xh,I.hA,{provide:V.TP,useClass:S.s,multi:!0},{provide:Se.sG,useValue:K.Kt}],imports:[[f.ez,c.o,e.D,be.d,m.ae,p.Ps,a.u5,a.UX,E.Fk,C.p9,U.FA,Pe.Yd,re.c,W.lN,Ee.LD,J.ot,x.AV,ge.Wm,ve.Bz,y.i,_e.Cl,$,le.W,se,Y.bt,w.q,b.y4,Ze]]}),Fe}()},65062:function(ye,ie,o){"use strict";o.d(ie,{e:function(){return h},S:function(){return D}});var h=function(){return(f=h||(h={})).COAL_SEAM="coalSeam",f.POLYGONS="polygons",f.POLYGON="polygon",h;var f}(),D={coal:{burden:{header:"Burden",control:"burden",units:"m",min:5.5,max:11,step:.1,recommendedLimits:{minRecommendedKey:"minBurden",maxRecommendedKey:"maxBurden"}},spacing:{header:"Spacing",control:"spacing",units:"m",min:6,max:14,step:.1,recommendedLimits:{minRecommendedKey:"minSpacing",maxRecommendedKey:"maxSpacing"}},energyFactor:{header:"Energy Factor",control:"energyFactor",units:"kcal/m\xb3",min:300,max:900,step:10,isInteger:!0,recommendedLimits:{minRecommendedKey:"minEnergyFactor",maxRecommendedKey:"maxEnergyFactor"}}},hvc:{burden:{header:"Burden",control:"burden",units:"m",min:5.5,max:11,step:.1,recommendedLimits:{minRecommendedKey:"minBurden",maxRecommendedKey:"maxBurden"}},explosive:{header:"Explosive",control:"explosive",units:"kg",isInteger:!0,min:90,max:1400,step:10},spacing:{header:"Spacing",control:"spacing",units:"m",min:6,max:14,step:.1,recommendedLimits:{minRecommendedKey:"minSpacing",maxRecommendedKey:"maxSpacing"}},collarHeight:{header:"Collar Height",control:"collarHeight",units:"m",min:5,max:7,step:.1},subdrillLength:{header:"Subdrill Length",control:"subdrillLength",units:"m",min:1,max:5,step:.1}}}},76219:function(ye,ie,o){"use strict";o.d(ie,{h:function(){return e}});var h=o(4942),D=o(89062),f=o(15671),S=o(43144),e=function(){function y(){(0,f.Z)(this,y)}return(0,S.Z)(y,null,[{key:"transformUuuidGeojsonToFeatureCollection",value:function(p){var E=[];if(p)for(var C in p)p.hasOwnProperty(C)&&p[C]&&E.push.apply(E,(0,D.Z)(p[C].features));return{type:"FeatureCollection",features:E}}},{key:"removeDeselectedData",value:function(p,E){return p.reduce(function(C,a){return E.hasOwnProperty(a)?Object.assign(Object.assign({},C),(0,h.Z)({},a,E[a])):Object.assign({},C)},{})}}]),y}()},81186:function(ye,ie,o){"use strict";o.d(ie,{FZ:function(){return y},I:function(){return U},CB:function(){return re},BA:function(){return ve.B},br:function(){return _e},eB:function(){return j},Zk:function(){return Se}});var h=o(15671),D=o(43144),f=o(591),S=o(76219),e=o(65542),y=function(){var K=function(){function Ce(){(0,h.Z)(this,Ce),this.fragmentationData$=new f.X({}),this.reCalculatedData={}}return(0,D.Z)(Ce,[{key:"removeDeselectedFragmentation",value:function(w){var ce=this.fragmentationData$.getValue();this.reCalculatedData=S.h.removeDeselectedData(w,this.reCalculatedData),this.fragmentationData$.next(S.h.removeDeselectedData(w,ce))}},{key:"setFragmentationData",value:function(w){var ce=this,he=Object.keys(w),we=this.fragmentationData$.getValue();he.length>0?(he.forEach(function(Ze){we[Ze]=ce.reCalculatedData.hasOwnProperty(Ze)?ce.reCalculatedData[Ze]:w[Ze]}),this.fragmentationData$.next(we)):this.fragmentationData$.next(w)}},{key:"setRecalculatedFragmentationForBench",value:function(w){var ce=this.fragmentationData$.getValue();this.reCalculatedData=Object.assign(Object.assign({},this.reCalculatedData),w),this.fragmentationData$.next(Object.assign(Object.assign({},ce),this.reCalculatedData))}},{key:"resetRecalculatedFragmentation",value:function(w,ce){this.reCalculatedData.hasOwnProperty(w)&&delete this.reCalculatedData[w],this.setRecalculatedFragmentationForBench(ce)}},{key:"getFragmentationData",value:function(){var w=this.fragmentationData$.getValue();return S.h.transformUuuidGeojsonToFeatureCollection(w)}}]),Ce}();return K.\u0275fac=function(Y){return new(Y||K)},K.\u0275prov=e.Yz7({token:K,factory:K.\u0275fac}),K}(),m=o(30567),p=o(24850),E=o(40537),C=o(7625),a=o(57676),b=o(34350),c=o(46940),x=o(89255),ue=o(40520),M=o(94720),$=o(16952),le=a.mb.coalSeams,I=a.mb.coalSeamsPlanned,De=a.mb.coalSeamsVisualization,be=a.mb.plannedBenchesFileUpload,Pe=a.mb.plannedBenchPrediction,J=a.mb.plannedBenchesPolygon,U=function(){var K=function(){function Ce(Y,w,ce,he,we,Ze){(0,h.Z)(this,Ce),this.http=Y,this.mineStateService=w,this.treeStateService=ce,this.spinnerService=he,this.localizationLocalService=we,this.customEventService=Ze}return(0,D.Z)(Ce,[{key:"getPredictedData",value:function(w){var ce=this,he=(new Date).getTime();return this.http.post((0,a.FP)(this.mineStateService.getSelectedMineArea(),a.mb.plannedBenchesPolygon),{plannedBenchId:w}).pipe((0,p.U)(function(we){b.S.addPolygonCenter(we.polygonsGeojson);var Ze=(new Date).getTime();return ce.customEventService.event(x.R.LOADING_TERMINATE,{loading_terminate_time:Ze-he}),we}))}},{key:"getUpdatedPredictionResults",value:function(w,ce){var he=ce?{params:c.ZA.isHVC(this.mineStateService.getSelectedMineArea())?{burden:String(ce.burden),spacing:String(ce.spacing),collar_height:String(ce.collarHeight),subdrill_length:String(ce.subdrillLength),hole_diameter:String(ce.holeDiameter),explosive:String(ce.explosive)}:{burden:String(ce.burden),spacing:String(ce.spacing),energy_factor:String(ce.energyFactor)}}:void 0;return this.http.get((0,a.FP)(this.mineStateService.getSelectedMineArea(),Pe)+"".concat(w,"/"),he)}},{key:"uploadFile",value:function(w,ce){switch(ce){case"top":case"bottom":return this.uploadCoalSeamFile(w);case"designBench":return this.uploadBenchFile(w)}}},{key:"uploadBenchFile",value:function(w){return this.http.post((0,a.FP)(this.mineStateService.getSelectedMineArea(),be),w)}},{key:"uploadCoalSeamFile",value:function(w){return this.http.post((0,a.FP)(this.mineStateService.getSelectedMineArea(),I),w)}},{key:"updateCoalSeamFile",value:function(w,ce){return this.http.patch((0,a.FP)(this.mineStateService.getSelectedMineArea(),le)+"".concat(ce,"/"),w)}},{key:"getFilesTree",value:function(w){return this.http.get((0,a.FP)(w,a.mb.plannedBenches))}},{key:"deleteBenchFile",value:function(w){return this.http.delete((0,a.FP)(this.mineStateService.getSelectedMineArea(),be)+"".concat(w,"/"))}},{key:"deleteCoalSeamFile",value:function(w){return this.http.delete((0,a.FP)(this.mineStateService.getSelectedMineArea(),le)+"".concat(w,"/"))}},{key:"updateTree",value:function(w){var ce=this,he=this.localizationLocalService.translateText("spinner.loading_files");this.spinnerService.startSpinner({active:!0,statusMessage:he}),this.getFilesTree(this.mineStateService.getSelectedMineArea()).pipe((0,E.x)(function(){ce.spinnerService.stopSpinner()}),(0,C.R)(w)).subscribe(function(we){var Ze=ce.treeStateService.mapTreeWithMine(we);ce.treeStateService.fileTree$.next(Ze)})}},{key:"removeFileFromTree",value:function(w){return(0,m.D)([this.deleteBenchFile(w)])}},{key:"removeCoalSeamFileFromTree",value:function(w){return(0,m.D)([this.deleteCoalSeamFile(w)])}},{key:"getCoalSeams",value:function(w){var ce={coal_seams_ids:w};return this.http.post((0,a.FP)(this.mineStateService.getSelectedMineArea(),De),ce)}},{key:"updatePolygonName",value:function(w,ce){return this.http.patch((0,a.FP)(this.mineStateService.getSelectedMineArea(),J)+"".concat(w,"/"),{polygonName:ce})}}]),Ce}();return K.\u0275fac=function(Y){return new(Y||K)(e.LFG(ue.eN),e.LFG(M.Hj),e.LFG(M.bC),e.LFG(M.V),e.LFG($.bM),e.LFG(M.qL))},K.\u0275prov=e.Yz7({token:K,factory:K.\u0275fac}),K}(),W=o(8929),re=function(){var K=function(){function Ce(){(0,h.Z)(this,Ce),this.isLoading$=new W.xQ,this.recalculatedData={},this.panelInfoData$=new W.xQ}return(0,D.Z)(Ce,[{key:"hasRecalculatedData",value:function(w){return this.recalculatedData.hasOwnProperty(w)}},{key:"removeDeselectedRecalculatedData",value:function(w){this.recalculatedData=S.h.removeDeselectedData(w,this.recalculatedData)}},{key:"getInitialDataForEditForm",value:function(w,ce){return c.ZA.isHVC(ce)?{maxBurden:w.maxBurden,minBurden:w.minBurden,maxSpacing:w.maxSpacing,minSpacing:w.minSpacing,burden:w.burden,spacing:w.spacing,collarHeight:w.collarHeight,subdrillLength:w.subdrillLength,explosive:w.explosive,holeDiameter:w.holeDiameter,energyFactor:w.energyFactor}:{minEnergyFactor:w.minEnergyFactor,maxEnergyFactor:w.maxEnergyFactor,maxBurden:w.maxBurden,minBurden:w.minBurden,maxSpacing:w.maxSpacing,minSpacing:w.minSpacing,burden:w.burden,spacing:w.spacing,energyFactor:w.energyFactor}}},{key:"setLoading",value:function(w){this.isLoading$.next(w)}},{key:"listenLoading$",value:function(){return this.isLoading$}},{key:"getRecalculatedData",value:function(w){return this.hasRecalculatedData(w)?this.recalculatedData[w]:{}}},{key:"updateRecalculatedData",value:function(w,ce){this.recalculatedData[w]=ce}},{key:"removeRecalculatedItem",value:function(w){this.hasRecalculatedData(w)&&delete this.recalculatedData[w]}}]),Ce}();return K.\u0275fac=function(Y){return new(Y||K)},K.\u0275prov=e.Yz7({token:K,factory:K.\u0275fac}),K}(),Ee=o(21086),ge=o(65062),ve=o(40547),_e=function(){var K=function(){function Ce(Y,w,ce,he){(0,h.Z)(this,Ce),this.mapService=Y,this.fragmentationService=w,this.inspectorService=ce,this.mineStateService=he}return(0,D.Z)(Ce,[{key:"removeUnselectedIdsData",value:function(w,ce,he){var we=this.mineStateService.getSelectedMineArea(),Ze=this.mapService.getFilePolygonUuids();return c.ZA.isMetalMine(we)?this.handleMetalMines(w,Ze,ce):this.handleCoalMines(w,Ze,ce,he),(0,Ee.of)({})}},{key:"updateRecalculatedData",value:function(w,ce,he){this.inspectorService.updateRecalculatedData(w,ce),c.ZA.isHVC(this.mineStateService.getSelectedMineArea())&&this.fragmentationService.setRecalculatedFragmentationForBench(he.fragmentationGeojson)}},{key:"resetRecalculatedData",value:function(w,ce){this.inspectorService.removeRecalculatedItem(w),c.ZA.isHVC(this.mineStateService.getSelectedMineArea())&&this.fragmentationService.resetRecalculatedFragmentation(w,ce.fragmentationGeojson)}},{key:"handleMetalMines",value:function(w,ce,he){this.fragmentationService.removeDeselectedFragmentation(ce),this.mapService.removeDeselectedPolygon(w,he),this.mapService.removeDeselectedPreconditionAreas(ce),this.inspectorService.removeDeselectedRecalculatedData(ce)}},{key:"handleCoalMines",value:function(w,ce,he,we){we===ge.e.COAL_SEAM?this.mapService.removeDeselectedCoalSeams(w,he):(this.mapService.removeDeselectedPolygon(w,he),this.mapService.removeDeselectedBlastabilityAreas(ce),this.inspectorService.removeDeselectedRecalculatedData(ce))}}]),Ce}();return K.\u0275fac=function(Y){return new(Y||K)(e.LFG(ve.B),e.LFG(y),e.LFG(re),e.LFG(M.Hj))},K.\u0275prov=e.Yz7({token:K,factory:K.\u0275fac}),K}(),V=o(73237),k=o(61120),N=o(60136),B=o(57777),pe=o(39195),me=o(97685),X=function(){function K(){(0,h.Z)(this,K)}return(0,D.Z)(K,[{key:"legend",get:function(){return this._legend},set:function(Y){this._legend=Y}},{key:"updateLegend",value:function(Y){return this._legend=Object.assign(Object.assign({},this._legend),{colorStops:this._legend.colorStops.map(function(w){return w.title===Y.title?Object.assign(Object.assign({},w),{filterActive:!w.filterActive}):w})}),this._legend}},{key:"getExpressions",value:function(Y){var w=this._legend.colorStops.filter(function(ce){return!ce.filterActive}).map(function(ce){return ce.filterProp});return Object.entries(Y).filter(function(ce){var he=(0,me.Z)(ce,1);return w.includes(he[0])}).map(function(ce){return(0,me.Z)(ce,2)[1]})}},{key:"resetFilters",value:function(){return this._legend=Object.assign(Object.assign({},this._legend),{colorStops:this._legend.colorStops.map(function(Y){return Y.filterActive?Object.assign(Object.assign({},Y),{filterActive:!1}):Y})}),this._legend}}]),K}(),ee={"<=12":["all",[">","blastability",0],["<=","blastability",12]],20:["all",[">","blastability",12],["<=","blastability",20]],30:["all",[">","blastability",20],["<=","blastability",30]],40:["all",[">","blastability",30],["<=","blastability",40]],50:["all",[">","blastability",40],["<=","blastability",50]],60:["all",[">","blastability",50],["<=","blastability",60]],">60":[">","blastability",60]},j=function(){var K=function(Ce){(0,N.Z)(w,Ce);var Y=(0,B.Z)(w);function w(ce){var he;return(0,h.Z)(this,w),(he=Y.call(this)).mineStateService=ce,he.legend=pe.oSs.getLegend("blastability",he.mineStateService.getSelectedMineArea(),null),he}return(0,D.Z)(w,[{key:"getFilterExpressions",value:function(){return(0,V.Z)((0,k.Z)(w.prototype),"getExpressions",this).call(this,ee)}}]),w}(X);return K.\u0275fac=function(Y){return new(Y||K)(e.LFG(M.Hj))},K.\u0275prov=e.Yz7({token:K,factory:K.\u0275fac}),K}(),se=o(21347),Se=function(){var K=function(Ce){(0,N.Z)(w,Ce);var Y=(0,B.Z)(w);function w(){var ce;return(0,h.Z)(this,w),(ce=Y.call(this)).legend=pe.oSs.getLegend("averageFragmentation",se.q.HVC,null),ce}return(0,D.Z)(w,[{key:"getFilterExpressions",value:function(he){var we=this.getConfig(he);return(0,V.Z)((0,k.Z)(w.prototype),"getExpressions",this).call(this,we)}},{key:"getConfig",value:function(he){return{0:["<=",he,0],50:["all",[">",he,0],["<=",he,50]],100:["all",[">",he,50],["<=",he,100]],150:["all",[">",he,100],["<=",he,150]],200:["all",[">",he,150],["<=",he,200]],250:["all",[">",he,200],["<=",he,250]],350:["all",[">",he,250],["<=",he,350]],500:["all",[">",he,350],["<=",he,500]],1e3:["all",[">",he,500],["<=",he,1e3]],">1000":[">",he,1e3]}}}]),w}(X);return K.\u0275fac=function(Y){return new(Y||K)},K.\u0275prov=e.Yz7({token:K,factory:K.\u0275fac}),K}()},40547:function(ye,ie,o){"use strict";o.d(ie,{B:function(){return p}});var h=o(89062),D=o(15671),f=o(43144),S=o(591),e=o(8929),y=o(76219),m=o(65542),p=function(){var E=function(){function C(){(0,D.Z)(this,C),this.polygonData$=new S.X({type:"FeatureCollection",features:[]}),this.coalSeamsIds$=new S.X([]),this.highlightedPolygon$=new e.xQ,this.filePolygons$=new S.X([]),this.preconditionAreas$=new S.X({}),this.blastabilityAreas$=new S.X({})}return(0,f.Z)(C,[{key:"setPreconditionAreas",value:function(b){this.preconditionAreas$.next(b)}},{key:"blastabilityAreas",get:function(){return this.blastabilityAreas$.value}},{key:"setFilePolygons",value:function(b){this.filePolygons$.next(b)}},{key:"getFilePolygonUuids",value:function(){return this.filePolygons$.getValue().reduce(function(c,x){return x.children?[].concat((0,h.Z)(c),(0,h.Z)(function(x){return x.map(function(ue){return ue.uuid})}(x.children))):(0,h.Z)(c)},[])}},{key:"setBlastabilityAreas",value:function(b){this.blastabilityAreas$.next(b)}},{key:"removeDeselectedBlastabilityAreas",value:function(b){var c=this.blastabilityAreas$.getValue(),x=y.h.removeDeselectedData(b,c);this.setBlastabilityAreas(x)}},{key:"getBlastabilityAreasData",value:function(){var b=this.blastabilityAreas$.getValue();return y.h.transformUuuidGeojsonToFeatureCollection(b)}},{key:"subscribeOnBlastabilityAreas",value:function(b){return this.blastabilityAreas$.subscribe(b)}},{key:"preconditionAreasChanges$",value:function(){return this.preconditionAreas$}},{key:"removeDeselectedPreconditionAreas",value:function(b){var c=this.preconditionAreas$.getValue();this.preconditionAreas$.next(y.h.removeDeselectedData(b,c))}},{key:"removeDeselectedPolygon",value:function(b,c){var x=this.polygonData$.getValue();x&&(x.features=x.features.filter(function(M){return b.includes(M.properties.parentUuid)}),this.polygonData$.next(x),c.getSource("polygons-planned-benches").setData(x))}},{key:"updatePolygon",value:function(b,c){var x=this.polygonData$.getValue(),ue=x.features.map(function(M){return M.properties.uuid===b?Object.assign(Object.assign({},M),{properties:Object.assign(Object.assign({},M.properties),c)}):M});this.polygonData$.next(Object.assign(Object.assign({},x),{features:ue}))}},{key:"getPreconditionAreaData",value:function(){var b=this.preconditionAreas$.getValue();return y.h.transformUuuidGeojsonToFeatureCollection(b)}},{key:"removeDeselectedCoalSeams",value:function(b,c){var x=c.getSource("coal-seams"),M=x._data.features.filter(function($){return b.includes($.properties.uuid)});x.setData({type:"FeatureCollection",features:M})}}]),C}();return E.\u0275fac=function(a){return new(a||E)},E.\u0275prov=m.Yz7({token:E,factory:E.\u0275fac}),E}()},65317:function(ye){ye.exports=function ie(o,h,D,f){for(var S=o.length,e=D+(f?1:-1);f?e--:++e<S;)if(h(o[e],e,o))return e;return-1}},83348:function(ye,ie,o){var h=o(42760),D=/^\s+/;ye.exports=function f(S){return S&&S.slice(0,h(S)+1).replace(D,"")}},24653:function(ye,ie,o){var h=o(96517),D=o(56507),f=o(118);ye.exports=function S(e){return function(y,m,p){var E=Object(y);if(!D(y)){var C=h(m,3);y=f(y),m=function(c){return C(E[c],c,E)}}var a=e(y,m,p);return a>-1?E[C?y[a]:a]:void 0}}},42760:function(ye){var ie=/\s/;ye.exports=function o(h){for(var D=h.length;D--&&ie.test(h.charAt(D)););return D}},62516:function(ye,ie,o){var f=o(24653)(o(36397));ye.exports=f},36397:function(ye,ie,o){var h=o(65317),D=o(96517),f=o(44401),S=Math.max;ye.exports=function e(y,m,p){var E=null==y?0:y.length;if(!E)return-1;var C=null==p?0:f(p);return C<0&&(C=S(E+C,0)),h(y,D(m,3),C)}},12232:function(ye,ie,o){var h=o(51467),D=1/0;ye.exports=function S(e){return e?(e=h(e))===D||e===-D?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},44401:function(ye,ie,o){var h=o(12232);ye.exports=function D(f){var S=h(f),e=S%1;return S==S?e?S-e:S:0}},51467:function(ye,ie,o){var h=o(83348),D=o(25940),f=o(44129),e=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,m=/^0o[0-7]+$/i,p=parseInt;ye.exports=function E(C){if("number"==typeof C)return C;if(f(C))return NaN;if(D(C)){var a="function"==typeof C.valueOf?C.valueOf():C;C=D(a)?a+"":a}if("string"!=typeof C)return 0===C?C:+C;C=h(C);var b=y.test(C);return b||m.test(C)?p(C.slice(2),b?2:8):e.test(C)?NaN:+C}},56121:function(ye,ie,o){"use strict";o.d(ie,{Fr:function(){return V},Gd:function(){return Ce},Wm:function(){return Ne},cu:function(){return Se}});var h=o(37762),D=o(15671),f=o(43144),S=o(87757),e=o.n(S),y=o(69808),m=o(65542),p=o(69898),C=o(70655),a=o(92185),b=o(42654),c=o(23753),x=o(87224),ue=o(87545),M=o(1059),$=o(92198),le=["content"],I=["*"],De=["container"],ge=new m.OlP("MapboxApiKey"),ve=function(){var G=function(){function T(g,i){(0,D.Z)(this,T),this.zone=g,this.MAPBOX_API_KEY=i,this.mapCreated=new a.c,this.mapLoaded=new a.c,this.markersToRemove=[],this.popupsToRemove=[],this.imageIdsToRemove=[],this.subscription=new b.w,this.mapCreated$=this.mapCreated.asObservable(),this.mapLoaded$=this.mapLoaded.asObservable()}return(0,f.Z)(T,[{key:"setup",value:function(i){var P=this;this.zone.onStable.pipe((0,x.P)()).subscribe(function(){P.assign(p,"accessToken",i.accessToken||P.MAPBOX_API_KEY),i.customMapboxApiUrl&&P.assign(p,"config.API_URL",i.customMapboxApiUrl),P.createMap(i.mapOptions),P.hookEvents(i.mapEvents),P.mapEvents=i.mapEvents,P.mapCreated.next(void 0),P.mapCreated.complete()})}},{key:"destroyMap",value:function(){this.mapInstance&&(this.subscription.unsubscribe(),this.mapInstance.remove())}},{key:"updateMinZoom",value:function(i){var P=this;return this.zone.runOutsideAngular(function(){P.mapInstance.setMinZoom(i)})}},{key:"updateMaxZoom",value:function(i){var P=this;return this.zone.runOutsideAngular(function(){P.mapInstance.setMaxZoom(i)})}},{key:"updateMinPitch",value:function(i){var P=this;return this.zone.runOutsideAngular(function(){P.mapInstance.setMinPitch(i)})}},{key:"updateMaxPitch",value:function(i){var P=this;return this.zone.runOutsideAngular(function(){P.mapInstance.setMaxPitch(i)})}},{key:"updateRenderWorldCopies",value:function(i){var P=this;return this.zone.runOutsideAngular(function(){P.mapInstance.setRenderWorldCopies(i)})}},{key:"updateScrollZoom",value:function(i){var P=this;return this.zone.runOutsideAngular(function(){i?P.mapInstance.scrollZoom.enable():P.mapInstance.scrollZoom.disable()})}},{key:"updateDragRotate",value:function(i){var P=this;return this.zone.runOutsideAngular(function(){i?P.mapInstance.dragRotate.enable():P.mapInstance.dragRotate.disable()})}},{key:"updateTouchPitch",value:function(i){var P=this;return this.zone.runOutsideAngular(function(){i?P.mapInstance.touchPitch.enable():P.mapInstance.touchPitch.disable()})}},{key:"updateTouchZoomRotate",value:function(i){var P=this;return this.zone.runOutsideAngular(function(){i?P.mapInstance.touchZoomRotate.enable():P.mapInstance.touchZoomRotate.disable()})}},{key:"updateDoubleClickZoom",value:function(i){var P=this;return this.zone.runOutsideAngular(function(){i?P.mapInstance.doubleClickZoom.enable():P.mapInstance.doubleClickZoom.disable()})}},{key:"updateKeyboard",value:function(i){var P=this;return this.zone.runOutsideAngular(function(){i?P.mapInstance.keyboard.enable():P.mapInstance.keyboard.disable()})}},{key:"updateDragPan",value:function(i){var P=this;return this.zone.runOutsideAngular(function(){i?P.mapInstance.dragPan.enable():P.mapInstance.dragPan.disable()})}},{key:"updateBoxZoom",value:function(i){var P=this;return this.zone.runOutsideAngular(function(){i?P.mapInstance.boxZoom.enable():P.mapInstance.boxZoom.disable()})}},{key:"updateStyle",value:function(i){var P=this;return this.zone.runOutsideAngular(function(){P.mapInstance.setStyle(i)})}},{key:"updateMaxBounds",value:function(i){var P=this;return this.zone.runOutsideAngular(function(){P.mapInstance.setMaxBounds(i)})}},{key:"changeCanvasCursor",value:function(i){this.mapInstance.getCanvasContainer().style.cursor=i}},{key:"queryRenderedFeatures",value:function(i,P){return this.mapInstance.queryRenderedFeatures(i,P)}},{key:"panTo",value:function(i,P){var _=this;return this.zone.runOutsideAngular(function(){_.mapInstance.panTo(i,P)})}},{key:"move",value:function(i,P,_,ne,Oe,Ge){var Re=this;return this.zone.runOutsideAngular(function(){Re.mapInstance[i](Object.assign(Object.assign({},P),{zoom:null!=_?_:Re.mapInstance.getZoom(),center:null!=ne?ne:Re.mapInstance.getCenter(),bearing:null!=Oe?Oe:Re.mapInstance.getBearing(),pitch:null!=Ge?Ge:Re.mapInstance.getPitch()}))})}},{key:"addLayer",value:function(i,P,_){var ne=this;this.zone.runOutsideAngular(function(){Object.keys(i.layerOptions).forEach(function(Oe){void 0===i.layerOptions[Oe]&&delete i.layerOptions[Oe]}),ne.mapInstance.addLayer(i.layerOptions,_),P&&((i.layerEvents.layerClick.observers.length||i.layerEvents.click.observers.length)&&ne.mapInstance.on("click",i.layerOptions.id,function(Oe){ne.zone.run(function(){i.layerEvents.layerClick.emit(Oe),i.layerEvents.click.emit(Oe)})}),(i.layerEvents.layerDblClick.observers.length||i.layerEvents.dblClick.observers.length)&&ne.mapInstance.on("dblclick",i.layerOptions.id,function(Oe){ne.zone.run(function(){i.layerEvents.layerDblClick.emit(Oe),i.layerEvents.dblClick.emit(Oe)})}),(i.layerEvents.layerMouseDown.observers.length||i.layerEvents.mouseDown.observers.length)&&ne.mapInstance.on("mousedown",i.layerOptions.id,function(Oe){ne.zone.run(function(){i.layerEvents.layerMouseDown.emit(Oe),i.layerEvents.mouseDown.emit(Oe)})}),(i.layerEvents.layerMouseUp.observers.length||i.layerEvents.mouseUp.observers.length)&&ne.mapInstance.on("mouseup",i.layerOptions.id,function(Oe){ne.zone.run(function(){i.layerEvents.layerMouseUp.emit(Oe),i.layerEvents.mouseUp.emit(Oe)})}),(i.layerEvents.layerMouseEnter.observers.length||i.layerEvents.mouseEnter.observers.length)&&ne.mapInstance.on("mouseenter",i.layerOptions.id,function(Oe){ne.zone.run(function(){i.layerEvents.layerMouseEnter.emit(Oe),i.layerEvents.mouseEnter.emit(Oe)})}),(i.layerEvents.layerMouseLeave.observers.length||i.layerEvents.mouseLeave.observers.length)&&ne.mapInstance.on("mouseleave",i.layerOptions.id,function(Oe){ne.zone.run(function(){i.layerEvents.layerMouseLeave.emit(Oe),i.layerEvents.mouseLeave.emit(Oe)})}),(i.layerEvents.layerMouseMove.observers.length||i.layerEvents.mouseMove.observers.length)&&ne.mapInstance.on("mousemove",i.layerOptions.id,function(Oe){ne.zone.run(function(){i.layerEvents.layerMouseMove.emit(Oe),i.layerEvents.mouseMove.emit(Oe)})}),(i.layerEvents.layerMouseOver.observers.length||i.layerEvents.mouseOver.observers.length)&&ne.mapInstance.on("mouseover",i.layerOptions.id,function(Oe){ne.zone.run(function(){i.layerEvents.layerMouseOver.emit(Oe),i.layerEvents.mouseOver.emit(Oe)})}),(i.layerEvents.layerMouseOut.observers.length||i.layerEvents.mouseOut.observers.length)&&ne.mapInstance.on("mouseout",i.layerOptions.id,function(Oe){ne.zone.run(function(){i.layerEvents.layerMouseOut.emit(Oe),i.layerEvents.mouseOut.emit(Oe)})}),(i.layerEvents.layerContextMenu.observers.length||i.layerEvents.contextMenu.observers.length)&&ne.mapInstance.on("contextmenu",i.layerOptions.id,function(Oe){ne.zone.run(function(){i.layerEvents.layerContextMenu.emit(Oe),i.layerEvents.contextMenu.emit(Oe)})}),(i.layerEvents.layerTouchStart.observers.length||i.layerEvents.touchStart.observers.length)&&ne.mapInstance.on("touchstart",i.layerOptions.id,function(Oe){ne.zone.run(function(){i.layerEvents.layerTouchStart.emit(Oe),i.layerEvents.touchStart.emit(Oe)})}),(i.layerEvents.layerTouchEnd.observers.length||i.layerEvents.touchEnd.observers.length)&&ne.mapInstance.on("touchend",i.layerOptions.id,function(Oe){ne.zone.run(function(){i.layerEvents.layerTouchEnd.emit(Oe),i.layerEvents.touchEnd.emit(Oe)})}),(i.layerEvents.layerTouchCancel.observers.length||i.layerEvents.touchCancel.observers.length)&&ne.mapInstance.on("touchcancel",i.layerOptions.id,function(Oe){ne.zone.run(function(){i.layerEvents.layerTouchCancel.emit(Oe),i.layerEvents.touchCancel.emit(Oe)})}))})}},{key:"removeLayer",value:function(i){var P=this;this.zone.runOutsideAngular(function(){null!=P.mapInstance.getLayer(i)&&P.mapInstance.removeLayer(i)})}},{key:"addMarker",value:function(i){var P=this,_={offset:i.markersOptions.offset,anchor:i.markersOptions.anchor,draggable:!!i.markersOptions.draggable,rotationAlignment:i.markersOptions.rotationAlignment,pitchAlignment:i.markersOptions.pitchAlignment,clickTolerance:i.markersOptions.clickTolerance};i.markersOptions.element.childNodes.length>0&&(_.element=i.markersOptions.element);var ne=new p.Marker(_);return(i.markersEvents.markerDragStart.observers.length||i.markersEvents.dragStart.observers.length)&&ne.on("dragstart",function(Ge){if(Ge){var Re=Ge.target;P.zone.run(function(){i.markersEvents.markerDragStart.emit(Re),i.markersEvents.dragStart.emit(Re)})}}),(i.markersEvents.markerDrag.observers.length||i.markersEvents.drag.observers.length)&&ne.on("drag",function(Ge){if(Ge){var Re=Ge.target;P.zone.run(function(){i.markersEvents.markerDrag.emit(Re),i.markersEvents.drag.emit(Re)})}}),(i.markersEvents.markerDragEnd.observers.length||i.markersEvents.dragEnd.observers.length)&&ne.on("dragend",function(Ge){if(Ge){var Re=Ge.target;P.zone.run(function(){i.markersEvents.markerDragEnd.emit(Re),i.markersEvents.dragEnd.emit(Re)})}}),ne.setLngLat(i.markersOptions.feature?i.markersOptions.feature.geometry.coordinates:i.markersOptions.lngLat),this.zone.runOutsideAngular(function(){return ne.addTo(P.mapInstance),ne})}},{key:"removeMarker",value:function(i){this.markersToRemove.push(i)}},{key:"createPopup",value:function(i,P){var _=this;return this.zone.runOutsideAngular(function(){Object.keys(i.popupOptions).forEach(function(Oe){return void 0===i.popupOptions[Oe]&&delete i.popupOptions[Oe]});var ne=new p.Popup(i.popupOptions);return ne.setDOMContent(P),(i.popupEvents.popupClose.observers.length||i.popupEvents.close.observers.length)&&ne.on("close",function(){_.zone.run(function(){i.popupEvents.popupClose.emit(),i.popupEvents.close.emit()})}),(i.popupEvents.popupOpen.observers.length||i.popupEvents.open.observers.length)&&ne.on("open",function(){_.zone.run(function(){i.popupEvents.popupOpen.emit(),i.popupEvents.open.emit()})}),ne})}},{key:"addPopupToMap",value:function(i,P){var _=this,ne=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.zone.runOutsideAngular(function(){ne&&i._listeners&&delete i._listeners.open,i.setLngLat(P),i.addTo(_.mapInstance)})}},{key:"addPopupToMarker",value:function(i,P){return this.zone.runOutsideAngular(function(){i.setPopup(P)})}},{key:"removePopupFromMap",value:function(i){var P=arguments.length>1&&void 0!==arguments[1]&&arguments[1];P&&i._listeners&&delete i._listeners.close,this.popupsToRemove.push(i)}},{key:"removePopupFromMarker",value:function(i){return this.zone.runOutsideAngular(function(){i.setPopup(void 0)})}},{key:"addControl",value:function(i,P){var _=this;return this.zone.runOutsideAngular(function(){_.mapInstance.addControl(i,P)})}},{key:"removeControl",value:function(i){var P=this;return this.zone.runOutsideAngular(function(){P.mapInstance.removeControl(i)})}},{key:"loadAndAddImage",value:function(i,P,_){return(0,C.mG)(this,void 0,void 0,e().mark(function ne(){var Oe=this;return e().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return Re.abrupt("return",this.zone.runOutsideAngular(function(){return new Promise(function(at,et){Oe.mapInstance.loadImage(P,function(tt,We){tt?et(tt):(Oe.addImage(i,We,_),at())})})}));case 1:case"end":return Re.stop()}},ne,this)}))}},{key:"addImage",value:function(i,P,_){var ne=this;return this.zone.runOutsideAngular(function(){ne.mapInstance.addImage(i,P,_)})}},{key:"removeImage",value:function(i){this.imageIdsToRemove.push(i)}},{key:"addSource",value:function(i,P){var _=this;return this.zone.runOutsideAngular(function(){Object.keys(P).forEach(function(ne){return void 0===P[ne]&&delete P[ne]}),_.mapInstance.addSource(i,P)})}},{key:"getSource",value:function(i){return this.mapInstance.getSource(i)}},{key:"removeSource",value:function(i){var P=this;this.zone.runOutsideAngular(function(){P.findLayersBySourceId(i).forEach(function(_){return P.mapInstance.removeLayer(_.id)}),P.mapInstance.removeSource(i)})}},{key:"setAllLayerPaintProperty",value:function(i,P){var _=this;return this.zone.runOutsideAngular(function(){Object.keys(P).forEach(function(ne){_.mapInstance.setPaintProperty(i,ne,P[ne])})})}},{key:"setAllLayerLayoutProperty",value:function(i,P){var _=this;return this.zone.runOutsideAngular(function(){Object.keys(P).forEach(function(ne){_.mapInstance.setLayoutProperty(i,ne,P[ne])})})}},{key:"setLayerFilter",value:function(i,P){var _=this;return this.zone.runOutsideAngular(function(){_.mapInstance.setFilter(i,P)})}},{key:"setLayerBefore",value:function(i,P){var _=this;return this.zone.runOutsideAngular(function(){_.mapInstance.moveLayer(i,P)})}},{key:"setLayerZoomRange",value:function(i,P,_){var ne=this;return this.zone.runOutsideAngular(function(){ne.mapInstance.setLayerZoomRange(i,P||0,_||20)})}},{key:"fitBounds",value:function(i,P){var _=this;return this.zone.runOutsideAngular(function(){_.mapInstance.fitBounds(i,P)})}},{key:"fitScreenCoordinates",value:function(i,P,_){var ne=this;return this.zone.runOutsideAngular(function(){ne.mapInstance.fitScreenCoordinates(i[0],i[1],P,_)})}},{key:"applyChanges",value:function(){var i=this;this.zone.runOutsideAngular(function(){i.removeMarkers(),i.removePopups(),i.removeImages()})}},{key:"createMap",value:function(i){var P=this;m.R0b.assertNotInAngularZone(),Object.keys(i).forEach(function(ne){void 0===i[ne]&&delete i[ne]}),this.mapInstance=new p.Map(i),window&&/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)&&this.mapInstance.setStyle(i.style),this.subscription.add(this.zone.onMicrotaskEmpty.subscribe(function(){return P.applyChanges()}))}},{key:"removeMarkers",value:function(){var P,i=(0,h.Z)(this.markersToRemove);try{for(i.s();!(P=i.n()).done;)P.value.remove()}catch(ne){i.e(ne)}finally{i.f()}this.markersToRemove=[]}},{key:"removePopups",value:function(){var P,i=(0,h.Z)(this.popupsToRemove);try{for(i.s();!(P=i.n()).done;)P.value.remove()}catch(ne){i.e(ne)}finally{i.f()}this.popupsToRemove=[]}},{key:"removeImages",value:function(){var P,i=(0,h.Z)(this.imageIdsToRemove);try{for(i.s();!(P=i.n()).done;)this.mapInstance.removeImage(P.value)}catch(ne){i.e(ne)}finally{i.f()}this.imageIdsToRemove=[]}},{key:"findLayersBySourceId",value:function(i){var P=this.mapInstance.getStyle().layers;return null==P?[]:P.filter(function(_){return"source"in _&&_.source===i})}},{key:"hookEvents",value:function(i){var P=this;this.mapInstance.on("load",function(_){P.mapLoaded.next(void 0),P.mapLoaded.complete(),P.zone.run(function(){i.mapLoad.emit(_.target),i.load.emit(_.target)})}),(i.mapResize.observers.length||i.resize.observers.length)&&this.mapInstance.on("resize",function(_){return P.zone.run(function(){i.mapResize.emit(_),i.resize.emit(_)})}),(i.mapRemove.observers.length||i.remove.observers.length)&&this.mapInstance.on("remove",function(_){return P.zone.run(function(){i.mapRemove.emit(_),i.remove.emit(_)})}),(i.mapMouseDown.observers.length||i.mouseDown.observers.length)&&this.mapInstance.on("mousedown",function(_){return P.zone.run(function(){i.mapMouseDown.emit(_),i.mouseDown.emit(_)})}),(i.mapMouseUp.observers.length||i.mouseUp.observers.length)&&this.mapInstance.on("mouseup",function(_){return P.zone.run(function(){i.mapMouseUp.emit(_),i.mouseUp.emit(_)})}),(i.mapMouseMove.observers.length||i.mouseMove.observers.length)&&this.mapInstance.on("mousemove",function(_){return P.zone.run(function(){i.mapMouseMove.emit(_),i.mouseMove.emit(_)})}),(i.mapClick.observers.length||i.click.observers.length)&&this.mapInstance.on("click",function(_){return P.zone.run(function(){i.mapClick.emit(_),i.click.emit(_)})}),(i.mapDblClick.observers.length||i.dblClick.observers.length)&&this.mapInstance.on("dblclick",function(_){return P.zone.run(function(){i.mapDblClick.emit(_),i.dblClick.emit(_)})}),(i.mapMouseOver.observers.length||i.mouseOver.observers.length)&&this.mapInstance.on("mouseover",function(_){return P.zone.run(function(){i.mapMouseOver.emit(_),i.mouseOver.emit(_)})}),(i.mapMouseOut.observers.length||i.mouseOut.observers.length)&&this.mapInstance.on("mouseout",function(_){return P.zone.run(function(){i.mapMouseOut.emit(_),i.mouseOut.emit(_)})}),(i.mapContextMenu.observers.length||i.contextMenu.observers.length)&&this.mapInstance.on("contextmenu",function(_){return P.zone.run(function(){i.mapContextMenu.emit(_),i.contextMenu.emit(_)})}),(i.mapTouchStart.observers.length||i.touchStart.observers.length)&&this.mapInstance.on("touchstart",function(_){return P.zone.run(function(){i.mapTouchStart.emit(_),i.touchStart.emit(_)})}),(i.mapTouchEnd.observers.length||i.touchEnd.observers.length)&&this.mapInstance.on("touchend",function(_){return P.zone.run(function(){i.mapTouchEnd.emit(_),i.touchEnd.emit(_)})}),(i.mapTouchMove.observers.length||i.touchMove.observers.length)&&this.mapInstance.on("touchmove",function(_){return P.zone.run(function(){i.mapTouchMove.emit(_),i.touchMove.emit(_)})}),(i.mapTouchCancel.observers.length||i.touchCancel.observers.length)&&this.mapInstance.on("touchcancel",function(_){return P.zone.run(function(){i.mapTouchCancel.emit(_),i.touchCancel.emit(_)})}),(i.mapWheel.observers.length||i.wheel.observers.length)&&this.mapInstance.on("wheel",function(_){return P.zone.run(function(){i.mapWheel.emit(_),i.wheel.emit(_)})}),i.moveStart.observers.length&&this.mapInstance.on("movestart",function(_){return P.zone.run(function(){return i.moveStart.emit(_)})}),i.move.observers.length&&this.mapInstance.on("move",function(_){return P.zone.run(function(){return i.move.emit(_)})}),i.moveEnd.observers.length&&this.mapInstance.on("moveend",function(_){return P.zone.run(function(){return i.moveEnd.emit(_)})}),(i.mapDragStart.observers.length||i.dragStart.observers.length)&&this.mapInstance.on("dragstart",function(_){return P.zone.run(function(){i.mapDragStart.emit(_),i.dragStart.emit(_)})}),(i.mapDrag.observers.length||i.drag.observers.length)&&this.mapInstance.on("drag",function(_){return P.zone.run(function(){i.mapDrag.emit(_),i.drag.emit(_)})}),(i.mapDragEnd.observers.length||i.dragEnd.observers.length)&&this.mapInstance.on("dragend",function(_){return P.zone.run(function(){i.mapDragEnd.emit(_),i.dragEnd.emit(_)})}),i.zoomStart.observers.length&&this.mapInstance.on("zoomstart",function(_){return P.zone.run(function(){return i.zoomStart.emit(_)})}),i.zoomEvt.observers.length&&this.mapInstance.on("zoom",function(_){return P.zone.run(function(){return i.zoomEvt.emit(_)})}),i.zoomEnd.observers.length&&this.mapInstance.on("zoomend",function(_){return P.zone.run(function(){return i.zoomEnd.emit(_)})}),i.rotateStart.observers.length&&this.mapInstance.on("rotatestart",function(_){return P.zone.run(function(){return i.rotateStart.emit(_)})}),i.rotate.observers.length&&this.mapInstance.on("rotate",function(_){return P.zone.run(function(){return i.rotate.emit(_)})}),i.rotateEnd.observers.length&&this.mapInstance.on("rotateend",function(_){return P.zone.run(function(){return i.rotateEnd.emit(_)})}),i.pitchStart.observers.length&&this.mapInstance.on("pitchstart",function(_){return P.zone.run(function(){return i.pitchStart.emit(_)})}),i.pitchEvt.observers.length&&this.mapInstance.on("pitch",function(_){return P.zone.run(function(){return i.pitchEvt.emit(_)})}),i.pitchEnd.observers.length&&this.mapInstance.on("pitchend",function(_){return P.zone.run(function(){return i.pitchEnd.emit(_)})}),i.boxZoomStart.observers.length&&this.mapInstance.on("boxzoomstart",function(_){return P.zone.run(function(){return i.boxZoomStart.emit(_)})}),i.boxZoomEnd.observers.length&&this.mapInstance.on("boxzoomend",function(_){return P.zone.run(function(){return i.boxZoomEnd.emit(_)})}),i.boxZoomCancel.observers.length&&this.mapInstance.on("boxzoomcancel",function(_){return P.zone.run(function(){return i.boxZoomCancel.emit(_)})}),i.webGlContextLost.observers.length&&this.mapInstance.on("webglcontextlost",function(_){return P.zone.run(function(){return i.webGlContextLost.emit(_)})}),i.webGlContextRestored.observers.length&&this.mapInstance.on("webglcontextrestored",function(_){return P.zone.run(function(){return i.webGlContextRestored.emit(_)})}),i.render.observers.length&&this.mapInstance.on("render",function(_){return P.zone.run(function(){return i.render.emit(_)})}),(i.mapError.observers.length||i.error.observers.length)&&this.mapInstance.on("error",function(_){return P.zone.run(function(){i.mapError.emit(_),i.error.emit(_)})}),i.data.observers.length&&this.mapInstance.on("data",function(_){return P.zone.run(function(){return i.data.emit(_)})}),i.styleData.observers.length&&this.mapInstance.on("styledata",function(_){return P.zone.run(function(){return i.styleData.emit(_)})}),i.sourceData.observers.length&&this.mapInstance.on("sourcedata",function(_){return P.zone.run(function(){return i.sourceData.emit(_)})}),i.dataLoading.observers.length&&this.mapInstance.on("dataloading",function(_){return P.zone.run(function(){return i.dataLoading.emit(_)})}),i.styleDataLoading.observers.length&&this.mapInstance.on("styledataloading",function(_){return P.zone.run(function(){return i.styleDataLoading.emit(_)})}),i.sourceDataLoading.observers.length&&this.mapInstance.on("sourcedataloading",function(_){return P.zone.run(function(){return i.sourceDataLoading.emit(_)})}),i.styleImageMissing.observers.length&&this.mapInstance.on("styleimagemissing",function(_){return P.zone.run(function(){return i.styleImageMissing.emit(_)})}),i.idle.observers.length&&this.mapInstance.on("idle",function(_){return P.zone.run(function(){return i.idle.emit(_)})})}},{key:"assign",value:function(i,P,_){if("string"==typeof P&&(P=P.split(".")),P.length>1){var ne=P.shift();this.assign(i[ne]="[object Object]"===Object.prototype.toString.call(i[ne])?i[ne]:{},P,_)}else i[P[0]]=_}}]),T}();return G.\u0275fac=function(g){return new(g||G)(m.LFG(m.R0b),m.LFG(ge,8))},G.\u0275prov=m.Yz7({token:G,factory:G.\u0275fac}),G}(),_e=function(){function G(T){(0,D.Z)(this,G),this.container=T}return(0,f.Z)(G,[{key:"onAdd",value:function(){return this.container}},{key:"onRemove",value:function(){return this.container.parentNode.removeChild(this.container)}},{key:"getDefaultPosition",value:function(){return"top-right"}}]),G}(),V=function(){var G=function(){function T(g){(0,D.Z)(this,T),this.MapService=g,this.controlAdded=!1}return(0,f.Z)(T,[{key:"ngAfterContentInit",value:function(){var i=this;this.content.nativeElement.childNodes.length&&(this.control=new _e(this.content.nativeElement),this.MapService.mapCreated$.subscribe(function(){i.MapService.addControl(i.control,i.position),i.controlAdded=!0}))}},{key:"ngOnDestroy",value:function(){this.controlAdded&&this.MapService.removeControl(this.control)}}]),T}();return G.\u0275fac=function(g){return new(g||G)(m.Y36(ve))},G.\u0275cmp=m.Xpm({type:G,selectors:[["mgl-control"]],viewQuery:function(g,i){var P;1&g&&m.Gf(le,7),2&g&&m.iGM(P=m.CRH())&&(i.content=P.first)},inputs:{position:"position"},ngContentSelectors:I,decls:3,vars:0,consts:[[1,"mapboxgl-ctrl"],["content",""]],template:function(g,i){1&g&&(m.F$t(),m.TgZ(0,"div",0,1),m.Hsn(2),m.qZA())},encapsulation:2,changeDetection:0}),G}();function X(G,T,g){console.warn("[ngx-mapbox-gl]: ".concat(G,": ").concat(T," is deprecated, please use ").concat(g," instead."))}var Se=function(){var G=function(){function T(g,i){(0,D.Z)(this,T),this.MapService=g,this.zone=i,this.imageError=new m.vpe,this.imageLoaded=new m.vpe,this.error=new m.vpe,this.loaded=new m.vpe,this.isAdded=!1,this.isAdding=!1}return(0,f.Z)(T,[{key:"ngOnInit",value:function(){var i=this;this.warnDeprecatedOutputs(),this.sub=this.MapService.mapLoaded$.pipe((0,ue.w)(function(){return(0,c.R)(i.MapService.mapInstance,"styledata").pipe((0,M.O)(void 0),(0,$.h)(function(){return!i.isAdding&&!i.MapService.mapInstance.hasImage(i.id)}))})).subscribe(function(){return i.init()})}},{key:"ngOnChanges",value:function(i){(i.data&&!i.data.isFirstChange()||i.options&&!i.options.isFirstChange()||i.url&&!i.url.isFirstChange())&&(this.ngOnDestroy(),this.ngOnInit())}},{key:"ngOnDestroy",value:function(){this.isAdded&&this.MapService.removeImage(this.id),this.sub&&this.sub.unsubscribe()}},{key:"init",value:function(){return(0,C.mG)(this,void 0,void 0,e().mark(function i(){var P=this;return e().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(this.isAdding=!0,!this.data){ne.next=7;break}this.MapService.addImage(this.id,this.data,this.options),this.isAdded=!0,this.isAdding=!1,ne.next=19;break;case 7:if(!this.url){ne.next=19;break}return ne.prev=8,ne.next=11,this.MapService.loadAndAddImage(this.id,this.url,this.options);case 11:this.isAdded=!0,this.isAdding=!1,this.zone.run(function(){P.imageLoaded.emit(),P.loaded.emit()}),ne.next=19;break;case 16:ne.prev=16,ne.t0=ne.catch(8),this.zone.run(function(){P.imageError.emit(ne.t0),P.error.emit(ne.t0)});case 19:case"end":return ne.stop()}},i,this,[[8,16]])}))}},{key:"warnDeprecatedOutputs",value:function(){var i=X.bind(void 0,T.name);this.error.observers.length&&i("error","imageError"),this.loaded.observers.length&&i("loaded","imageLoaded")}}]),T}();return G.\u0275fac=function(g){return new(g||G)(m.Y36(ve),m.Y36(m.R0b))},G.\u0275cmp=m.Xpm({type:G,selectors:[["mgl-image"]],inputs:{id:"id",data:"data",options:"options",url:"url"},outputs:{imageError:"imageError",imageLoaded:"imageLoaded",error:"error",loaded:"loaded"},features:[m.TTD],decls:0,vars:0,template:function(g,i){},encapsulation:2}),G}(),Ce=function(){var G=function(){function T(g){(0,D.Z)(this,T),this.MapService=g,this.movingMethod="flyTo",this.mapResize=new m.vpe,this.mapRemove=new m.vpe,this.mapMouseDown=new m.vpe,this.mapMouseUp=new m.vpe,this.mapMouseMove=new m.vpe,this.mapClick=new m.vpe,this.mapDblClick=new m.vpe,this.mapMouseOver=new m.vpe,this.mapMouseOut=new m.vpe,this.mapContextMenu=new m.vpe,this.mapTouchStart=new m.vpe,this.mapTouchEnd=new m.vpe,this.mapTouchMove=new m.vpe,this.mapTouchCancel=new m.vpe,this.mapWheel=new m.vpe,this.moveStart=new m.vpe,this.move=new m.vpe,this.moveEnd=new m.vpe,this.mapDragStart=new m.vpe,this.mapDrag=new m.vpe,this.mapDragEnd=new m.vpe,this.zoomStart=new m.vpe,this.zoomEvt=new m.vpe,this.zoomEnd=new m.vpe,this.rotateStart=new m.vpe,this.rotate=new m.vpe,this.rotateEnd=new m.vpe,this.pitchStart=new m.vpe,this.pitchEvt=new m.vpe,this.pitchEnd=new m.vpe,this.boxZoomStart=new m.vpe,this.boxZoomEnd=new m.vpe,this.boxZoomCancel=new m.vpe,this.webGlContextLost=new m.vpe,this.webGlContextRestored=new m.vpe,this.mapLoad=new m.vpe,this.idle=new m.vpe,this.render=new m.vpe,this.mapError=new m.vpe,this.data=new m.vpe,this.styleData=new m.vpe,this.sourceData=new m.vpe,this.dataLoading=new m.vpe,this.styleDataLoading=new m.vpe,this.sourceDataLoading=new m.vpe,this.styleImageMissing=new m.vpe,this.resize=new m.vpe,this.remove=new m.vpe,this.mouseDown=new m.vpe,this.mouseUp=new m.vpe,this.mouseMove=new m.vpe,this.click=new m.vpe,this.dblClick=new m.vpe,this.mouseOver=new m.vpe,this.mouseOut=new m.vpe,this.contextMenu=new m.vpe,this.touchStart=new m.vpe,this.touchEnd=new m.vpe,this.touchMove=new m.vpe,this.touchCancel=new m.vpe,this.wheel=new m.vpe,this.dragStart=new m.vpe,this.drag=new m.vpe,this.dragEnd=new m.vpe,this.load=new m.vpe,this.error=new m.vpe}return(0,f.Z)(T,[{key:"mapInstance",get:function(){return this.MapService.mapInstance}},{key:"ngAfterViewInit",value:function(){this.warnDeprecatedOutputs(),this.MapService.setup({accessToken:this.accessToken,customMapboxApiUrl:this.customMapboxApiUrl,mapOptions:{collectResourceTiming:this.collectResourceTiming,container:this.mapContainer.nativeElement,crossSourceCollisions:this.crossSourceCollisions,fadeDuration:this.fadeDuration,minZoom:this.minZoom,maxZoom:this.maxZoom,minPitch:this.minPitch,maxPitch:this.maxPitch,style:this.style,hash:this.hash,interactive:this.interactive,bearingSnap:this.bearingSnap,pitchWithRotate:this.pitchWithRotate,clickTolerance:this.clickTolerance,attributionControl:this.attributionControl,logoPosition:this.logoPosition,failIfMajorPerformanceCaveat:this.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.preserveDrawingBuffer,refreshExpiredTiles:this.refreshExpiredTiles,maxBounds:this.maxBounds,scrollZoom:this.scrollZoom,boxZoom:this.boxZoom,dragRotate:this.dragRotate,dragPan:this.dragPan,keyboard:this.keyboard,doubleClickZoom:this.doubleClickZoom,touchPitch:this.touchPitch,touchZoomRotate:this.touchZoomRotate,trackResize:this.trackResize,center:this.center,zoom:this.zoom,bearing:this.bearing,pitch:this.pitch,renderWorldCopies:this.renderWorldCopies,maxTileCacheSize:this.maxTileCacheSize,localIdeographFontFamily:this.localIdeographFontFamily,transformRequest:this.transformRequest,bounds:this.bounds?this.bounds:this.fitBounds,fitBoundsOptions:this.fitBoundsOptions,antialias:this.antialias,locale:this.locale},mapEvents:this}),this.cursorStyle&&this.MapService.changeCanvasCursor(this.cursorStyle)}},{key:"ngOnDestroy",value:function(){this.MapService.destroyMap()}},{key:"ngOnChanges",value:function(i){return(0,C.mG)(this,void 0,void 0,e().mark(function P(){return e().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,this.MapService.mapCreated$.toPromise();case 2:i.cursorStyle&&!i.cursorStyle.isFirstChange()&&this.MapService.changeCanvasCursor(i.cursorStyle.currentValue),i.minZoom&&!i.minZoom.isFirstChange()&&this.MapService.updateMinZoom(i.minZoom.currentValue),i.maxZoom&&!i.maxZoom.isFirstChange()&&this.MapService.updateMaxZoom(i.maxZoom.currentValue),i.minPitch&&!i.minPitch.isFirstChange()&&this.MapService.updateMinPitch(i.minPitch.currentValue),i.maxPitch&&!i.maxPitch.isFirstChange()&&this.MapService.updateMaxPitch(i.maxPitch.currentValue),i.renderWorldCopies&&!i.renderWorldCopies.isFirstChange()&&this.MapService.updateRenderWorldCopies(i.renderWorldCopies.currentValue),i.scrollZoom&&!i.scrollZoom.isFirstChange()&&this.MapService.updateScrollZoom(i.scrollZoom.currentValue),i.dragRotate&&!i.dragRotate.isFirstChange()&&this.MapService.updateDragRotate(i.dragRotate.currentValue),i.touchPitch&&!i.touchPitch.isFirstChange()&&this.MapService.updateTouchPitch(i.touchPitch.currentValue),i.touchZoomRotate&&!i.touchZoomRotate.isFirstChange()&&this.MapService.updateTouchZoomRotate(i.touchZoomRotate.currentValue),i.doubleClickZoom&&!i.doubleClickZoom.isFirstChange()&&this.MapService.updateDoubleClickZoom(i.doubleClickZoom.currentValue),i.keyboard&&!i.keyboard.isFirstChange()&&this.MapService.updateKeyboard(i.keyboard.currentValue),i.dragPan&&!i.dragPan.isFirstChange()&&this.MapService.updateDragPan(i.dragPan.currentValue),i.boxZoom&&!i.boxZoom.isFirstChange()&&this.MapService.updateBoxZoom(i.boxZoom.currentValue),i.style&&!i.style.isFirstChange()&&this.MapService.updateStyle(i.style.currentValue),i.maxBounds&&!i.maxBounds.isFirstChange()&&this.MapService.updateMaxBounds(i.maxBounds.currentValue),i.fitBounds&&i.fitBounds.currentValue&&!i.fitBounds.isFirstChange()&&this.MapService.fitBounds(i.fitBounds.currentValue,this.fitBoundsOptions),i.fitScreenCoordinates&&i.fitScreenCoordinates.currentValue&&((this.center||this.zoom||this.pitch||this.fitBounds)&&i.fitScreenCoordinates.isFirstChange()&&console.warn("[ngx-mapbox-gl] center / zoom / pitch / fitBounds inputs are being overridden by fitScreenCoordinates input"),this.MapService.fitScreenCoordinates(i.fitScreenCoordinates.currentValue,this.bearing?this.bearing[0]:0,this.movingOptions)),!this.centerWithPanTo||!i.center||i.center.isFirstChange()||i.zoom||i.bearing||i.pitch?(i.center&&!i.center.isFirstChange()||i.zoom&&!i.zoom.isFirstChange()||i.bearing&&!i.bearing.isFirstChange()&&!i.fitScreenCoordinates||i.pitch&&!i.pitch.isFirstChange())&&this.MapService.move(this.movingMethod,this.movingOptions,i.zoom&&this.zoom?this.zoom[0]:void 0,i.center?this.center:void 0,i.bearing&&this.bearing?this.bearing[0]:void 0,i.pitch&&this.pitch?this.pitch[0]:void 0):this.MapService.panTo(this.center,this.panToOptions);case 21:case"end":return ne.stop()}},P,this)}))}},{key:"warnDeprecatedOutputs",value:function(){var i=X.bind(void 0,T.name);this.resize.observers.length&&i("resize","mapResize"),this.remove.observers.length&&i("remove","mapRemove"),this.mouseDown.observers.length&&i("mouseDown","mapMouseDown"),this.mouseUp.observers.length&&i("mouseUp","mapMouseUp"),this.mouseMove.observers.length&&i("mouseMove","mapMouseMove"),this.click.observers.length&&i("click","mapClick"),this.dblClick.observers.length&&i("dblClick","mapDblClick"),this.mouseOver.observers.length&&i("mouseOver","mapMouseOver"),this.mouseOut.observers.length&&i("mouseOut","mapMouseOut"),this.contextMenu.observers.length&&i("contextMenu","mapContextMenu"),this.touchStart.observers.length&&i("touchStart","mapTouchStart"),this.touchEnd.observers.length&&i("touchEnd","mapTouchEnd"),this.touchMove.observers.length&&i("touchMove","mapTouchMove"),this.touchCancel.observers.length&&i("touchCancel","mapTouchCancel"),this.wheel.observers.length&&i("wheel","mapWheel"),this.dragStart.observers.length&&i("dragStart","mapDragStart"),this.drag.observers.length&&i("drag","mapDrag"),this.dragEnd.observers.length&&i("dragEnd","mapDragEnd"),this.load.observers.length&&i("load","mapLoad"),this.error.observers.length&&i("error","mapError")}}]),T}();return G.\u0275fac=function(g){return new(g||G)(m.Y36(ve))},G.\u0275cmp=m.Xpm({type:G,selectors:[["mgl-map"]],viewQuery:function(g,i){var P;1&g&&m.Gf(De,7),2&g&&m.iGM(P=m.CRH())&&(i.mapContainer=P.first)},inputs:{accessToken:"accessToken",collectResourceTiming:"collectResourceTiming",crossSourceCollisions:"crossSourceCollisions",customMapboxApiUrl:"customMapboxApiUrl",fadeDuration:"fadeDuration",hash:"hash",refreshExpiredTiles:"refreshExpiredTiles",failIfMajorPerformanceCaveat:"failIfMajorPerformanceCaveat",bearingSnap:"bearingSnap",interactive:"interactive",pitchWithRotate:"pitchWithRotate",clickTolerance:"clickTolerance",attributionControl:"attributionControl",logoPosition:"logoPosition",maxTileCacheSize:"maxTileCacheSize",localIdeographFontFamily:"localIdeographFontFamily",preserveDrawingBuffer:"preserveDrawingBuffer",trackResize:"trackResize",transformRequest:"transformRequest",bounds:"bounds",antialias:"antialias",locale:"locale",minZoom:"minZoom",maxZoom:"maxZoom",minPitch:"minPitch",maxPitch:"maxPitch",scrollZoom:"scrollZoom",dragRotate:"dragRotate",touchPitch:"touchPitch",touchZoomRotate:"touchZoomRotate",doubleClickZoom:"doubleClickZoom",keyboard:"keyboard",dragPan:"dragPan",boxZoom:"boxZoom",style:"style",center:"center",maxBounds:"maxBounds",zoom:"zoom",bearing:"bearing",pitch:"pitch",fitBoundsOptions:"fitBoundsOptions",renderWorldCopies:"renderWorldCopies",movingMethod:"movingMethod",movingOptions:"movingOptions",fitBounds:"fitBounds",fitScreenCoordinates:"fitScreenCoordinates",centerWithPanTo:"centerWithPanTo",panToOptions:"panToOptions",cursorStyle:"cursorStyle"},outputs:{mapResize:"mapResize",mapRemove:"mapRemove",mapMouseDown:"mapMouseDown",mapMouseUp:"mapMouseUp",mapMouseMove:"mapMouseMove",mapClick:"mapClick",mapDblClick:"mapDblClick",mapMouseOver:"mapMouseOver",mapMouseOut:"mapMouseOut",mapContextMenu:"mapContextMenu",mapTouchStart:"mapTouchStart",mapTouchEnd:"mapTouchEnd",mapTouchMove:"mapTouchMove",mapTouchCancel:"mapTouchCancel",mapWheel:"mapWheel",moveStart:"moveStart",move:"move",moveEnd:"moveEnd",mapDragStart:"mapDragStart",mapDrag:"mapDrag",mapDragEnd:"mapDragEnd",zoomStart:"zoomStart",zoomEvt:"zoomEvt",zoomEnd:"zoomEnd",rotateStart:"rotateStart",rotate:"rotate",rotateEnd:"rotateEnd",pitchStart:"pitchStart",pitchEvt:"pitchEvt",pitchEnd:"pitchEnd",boxZoomStart:"boxZoomStart",boxZoomEnd:"boxZoomEnd",boxZoomCancel:"boxZoomCancel",webGlContextLost:"webGlContextLost",webGlContextRestored:"webGlContextRestored",mapLoad:"mapLoad",idle:"idle",render:"render",mapError:"mapError",data:"data",styleData:"styleData",sourceData:"sourceData",dataLoading:"dataLoading",styleDataLoading:"styleDataLoading",sourceDataLoading:"sourceDataLoading",styleImageMissing:"styleImageMissing",resize:"resize",remove:"remove",mouseDown:"mouseDown",mouseUp:"mouseUp",mouseMove:"mouseMove",click:"click",dblClick:"dblClick",mouseOver:"mouseOver",mouseOut:"mouseOut",contextMenu:"contextMenu",touchStart:"touchStart",touchEnd:"touchEnd",touchMove:"touchMove",touchCancel:"touchCancel",wheel:"wheel",dragStart:"dragStart",drag:"drag",dragEnd:"dragEnd",load:"load",error:"error"},features:[m._Bn([ve]),m.TTD],decls:2,vars:0,consts:[["container",""]],template:function(g,i){1&g&&m._UZ(0,"div",null,0)},styles:["[_nghost-%COMP%] {\n        display: block;\n      }\n      div[_ngcontent-%COMP%] {\n        height: 100%;\n        width: 100%;\n      }"],changeDetection:0}),G}(),Ie=new m.OlP("MapboxApiKey"),Ne=function(){var G=function(){function T(){(0,D.Z)(this,T)}return(0,f.Z)(T,null,[{key:"withConfig",value:function(i){return{ngModule:T,providers:[{provide:ge,useValue:i.accessToken},{provide:Ie,useValue:i.geocoderAccessToken||i.accessToken}]}}}]),T}();return G.\u0275fac=function(g){return new(g||G)},G.\u0275mod=m.oAB({type:G}),G.\u0275inj=m.cJS({imports:[[y.ez]]}),G}()},67854:function(ye){var ie=function(o){"use strict";var f,h=Object.prototype,D=h.hasOwnProperty,S="function"==typeof Symbol?Symbol:{},e=S.iterator||"@@iterator",y=S.asyncIterator||"@@asyncIterator",m=S.toStringTag||"@@toStringTag";function p(k,N,B){return Object.defineProperty(k,N,{value:B,enumerable:!0,configurable:!0,writable:!0}),k[N]}try{p({},"")}catch(k){p=function(B,pe,me){return B[pe]=me}}function E(k,N,B,pe){var X=Object.create((N&&N.prototype instanceof M?N:M).prototype),ee=new ve(pe||[]);return X._invoke=function W(k,N,B){var pe=a;return function(X,ee){if(pe===c)throw new Error("Generator is already running");if(pe===x){if("throw"===X)throw ee;return V()}for(B.method=X,B.arg=ee;;){var j=B.delegate;if(j){var se=re(j,B);if(se){if(se===ue)continue;return se}}if("next"===B.method)B.sent=B._sent=B.arg;else if("throw"===B.method){if(pe===a)throw pe=x,B.arg;B.dispatchException(B.arg)}else"return"===B.method&&B.abrupt("return",B.arg);pe=c;var Se=C(k,N,B);if("normal"===Se.type){if(pe=B.done?x:b,Se.arg===ue)continue;return{value:Se.arg,done:B.done}}"throw"===Se.type&&(pe=x,B.method="throw",B.arg=Se.arg)}}}(k,B,ee),X}function C(k,N,B){try{return{type:"normal",arg:k.call(N,B)}}catch(pe){return{type:"throw",arg:pe}}}o.wrap=E;var a="suspendedStart",b="suspendedYield",c="executing",x="completed",ue={};function M(){}function $(){}function le(){}var I={};p(I,e,function(){return this});var De=Object.getPrototypeOf,be=De&&De(De(_e([])));be&&be!==h&&D.call(be,e)&&(I=be);var Pe=le.prototype=M.prototype=Object.create(I);function J(k){["next","throw","return"].forEach(function(N){p(k,N,function(B){return this._invoke(N,B)})})}function U(k,N){function B(X,ee,j,se){var Se=C(k[X],k,ee);if("throw"!==Se.type){var K=Se.arg,Ce=K.value;return Ce&&"object"==typeof Ce&&D.call(Ce,"__await")?N.resolve(Ce.__await).then(function(Y){B("next",Y,j,se)},function(Y){B("throw",Y,j,se)}):N.resolve(Ce).then(function(Y){K.value=Y,j(K)},function(Y){return B("throw",Y,j,se)})}se(Se.arg)}var pe;this._invoke=function me(X,ee){function j(){return new N(function(se,Se){B(X,ee,se,Se)})}return pe=pe?pe.then(j,j):j()}}function re(k,N){var B=k.iterator[N.method];if(B===f){if(N.delegate=null,"throw"===N.method){if(k.iterator.return&&(N.method="return",N.arg=f,re(k,N),"throw"===N.method))return ue;N.method="throw",N.arg=new TypeError("The iterator does not provide a 'throw' method")}return ue}var pe=C(B,k.iterator,N.arg);if("throw"===pe.type)return N.method="throw",N.arg=pe.arg,N.delegate=null,ue;var me=pe.arg;return me?me.done?(N[k.resultName]=me.value,N.next=k.nextLoc,"return"!==N.method&&(N.method="next",N.arg=f),N.delegate=null,ue):me:(N.method="throw",N.arg=new TypeError("iterator result is not an object"),N.delegate=null,ue)}function Ee(k){var N={tryLoc:k[0]};1 in k&&(N.catchLoc=k[1]),2 in k&&(N.finallyLoc=k[2],N.afterLoc=k[3]),this.tryEntries.push(N)}function ge(k){var N=k.completion||{};N.type="normal",delete N.arg,k.completion=N}function ve(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(Ee,this),this.reset(!0)}function _e(k){if(k){var N=k[e];if(N)return N.call(k);if("function"==typeof k.next)return k;if(!isNaN(k.length)){var B=-1,pe=function me(){for(;++B<k.length;)if(D.call(k,B))return me.value=k[B],me.done=!1,me;return me.value=f,me.done=!0,me};return pe.next=pe}}return{next:V}}function V(){return{value:f,done:!0}}return $.prototype=le,p(Pe,"constructor",le),p(le,"constructor",$),$.displayName=p(le,m,"GeneratorFunction"),o.isGeneratorFunction=function(k){var N="function"==typeof k&&k.constructor;return!!N&&(N===$||"GeneratorFunction"===(N.displayName||N.name))},o.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,le):(k.__proto__=le,p(k,m,"GeneratorFunction")),k.prototype=Object.create(Pe),k},o.awrap=function(k){return{__await:k}},J(U.prototype),p(U.prototype,y,function(){return this}),o.AsyncIterator=U,o.async=function(k,N,B,pe,me){void 0===me&&(me=Promise);var X=new U(E(k,N,B,pe),me);return o.isGeneratorFunction(N)?X:X.next().then(function(ee){return ee.done?ee.value:X.next()})},J(Pe),p(Pe,m,"Generator"),p(Pe,e,function(){return this}),p(Pe,"toString",function(){return"[object Generator]"}),o.keys=function(k){var N=[];for(var B in k)N.push(B);return N.reverse(),function pe(){for(;N.length;){var me=N.pop();if(me in k)return pe.value=me,pe.done=!1,pe}return pe.done=!0,pe}},o.values=_e,ve.prototype={constructor:ve,reset:function(N){if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,this.tryEntries.forEach(ge),!N)for(var B in this)"t"===B.charAt(0)&&D.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=f)},stop:function(){this.done=!0;var B=this.tryEntries[0].completion;if("throw"===B.type)throw B.arg;return this.rval},dispatchException:function(N){if(this.done)throw N;var B=this;function pe(Se,K){return ee.type="throw",ee.arg=N,B.next=Se,K&&(B.method="next",B.arg=f),!!K}for(var me=this.tryEntries.length-1;me>=0;--me){var X=this.tryEntries[me],ee=X.completion;if("root"===X.tryLoc)return pe("end");if(X.tryLoc<=this.prev){var j=D.call(X,"catchLoc"),se=D.call(X,"finallyLoc");if(j&&se){if(this.prev<X.catchLoc)return pe(X.catchLoc,!0);if(this.prev<X.finallyLoc)return pe(X.finallyLoc)}else if(j){if(this.prev<X.catchLoc)return pe(X.catchLoc,!0)}else{if(!se)throw new Error("try statement without catch or finally");if(this.prev<X.finallyLoc)return pe(X.finallyLoc)}}}},abrupt:function(N,B){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var me=this.tryEntries[pe];if(me.tryLoc<=this.prev&&D.call(me,"finallyLoc")&&this.prev<me.finallyLoc){var X=me;break}}X&&("break"===N||"continue"===N)&&X.tryLoc<=B&&B<=X.finallyLoc&&(X=null);var ee=X?X.completion:{};return ee.type=N,ee.arg=B,X?(this.method="next",this.next=X.finallyLoc,ue):this.complete(ee)},complete:function(N,B){if("throw"===N.type)throw N.arg;return"break"===N.type||"continue"===N.type?this.next=N.arg:"return"===N.type?(this.rval=this.arg=N.arg,this.method="return",this.next="end"):"normal"===N.type&&B&&(this.next=B),ue},finish:function(N){for(var B=this.tryEntries.length-1;B>=0;--B){var pe=this.tryEntries[B];if(pe.finallyLoc===N)return this.complete(pe.completion,pe.afterLoc),ge(pe),ue}},catch:function(N){for(var B=this.tryEntries.length-1;B>=0;--B){var pe=this.tryEntries[B];if(pe.tryLoc===N){var me=pe.completion;if("throw"===me.type){var X=me.arg;ge(pe)}return X}}throw new Error("illegal catch attempt")},delegateYield:function(N,B,pe){return this.delegate={iterator:_e(N),resultName:B,nextLoc:pe},"next"===this.method&&(this.arg=f),ue}},o}(ye.exports);try{regeneratorRuntime=ie}catch(o){"object"==typeof globalThis?globalThis.regeneratorRuntime=ie:Function("r","regeneratorRuntime = r")(ie)}},87757:function(ye,ie,o){ye.exports=o(67854)},79814:function(ye,ie,o){"use strict";o.d(ie,{Fk:function(){return Ee},U0:function(){return re},VQ:function(){return Pe}});var h=o(60136),D=o(57777),f=o(43144),S=o(15671),e=o(65542),y=o(90508),m=o(63191),p=o(93075),E=o(76360),C=o(15664),a=o(20449),b=["input"],c=function(ve){return{enterDuration:ve}},x=["*"],ue=new e.OlP("mat-radio-default-options",{providedIn:"root",factory:function M(){return{color:"accent"}}}),$=0,le={provide:p.JU,useExisting:(0,e.Gpc)(function(){return Pe}),multi:!0},I=(0,f.Z)(function ge(ve,_e){(0,S.Z)(this,ge),this.source=ve,this.value=_e}),De=new e.OlP("MatRadioGroup"),be=function(){var ge=function(){function ve(_e){(0,S.Z)(this,ve),this._changeDetector=_e,this._value=null,this._name="mat-radio-group-".concat($++),this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=function(){},this.onTouched=function(){},this.change=new e.vpe}return(0,f.Z)(ve,[{key:"name",get:function(){return this._name},set:function(V){this._name=V,this._updateRadioButtonNames()}},{key:"labelPosition",get:function(){return this._labelPosition},set:function(V){this._labelPosition="before"===V?"before":"after",this._markRadiosForCheck()}},{key:"value",get:function(){return this._value},set:function(V){this._value!==V&&(this._value=V,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}},{key:"_checkSelectedRadioButton",value:function(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}},{key:"selected",get:function(){return this._selected},set:function(V){this._selected=V,this.value=V?V.value:null,this._checkSelectedRadioButton()}},{key:"disabled",get:function(){return this._disabled},set:function(V){this._disabled=(0,m.Ig)(V),this._markRadiosForCheck()}},{key:"required",get:function(){return this._required},set:function(V){this._required=(0,m.Ig)(V),this._markRadiosForCheck()}},{key:"ngAfterContentInit",value:function(){this._isInitialized=!0}},{key:"_touch",value:function(){this.onTouched&&this.onTouched()}},{key:"_updateRadioButtonNames",value:function(){var V=this;this._radios&&this._radios.forEach(function(k){k.name=V.name,k._markForCheck()})}},{key:"_updateSelectedRadioFromValue",value:function(){var V=this;this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(function(N){N.checked=V.value===N.value,N.checked&&(V._selected=N)}))}},{key:"_emitChangeEvent",value:function(){this._isInitialized&&this.change.emit(new I(this._selected,this._value))}},{key:"_markRadiosForCheck",value:function(){this._radios&&this._radios.forEach(function(V){return V._markForCheck()})}},{key:"writeValue",value:function(V){this.value=V,this._changeDetector.markForCheck()}},{key:"registerOnChange",value:function(V){this._controlValueAccessorChangeFn=V}},{key:"registerOnTouched",value:function(V){this.onTouched=V}},{key:"setDisabledState",value:function(V){this.disabled=V,this._changeDetector.markForCheck()}}]),ve}();return ge.\u0275fac=function(_e){return new(_e||ge)(e.Y36(e.sBO))},ge.\u0275dir=e.lG2({type:ge,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),ge}(),Pe=function(){var ge=function(ve){(0,h.Z)(V,ve);var _e=(0,D.Z)(V);function V(){return(0,S.Z)(this,V),_e.apply(this,arguments)}return(0,f.Z)(V)}(be);return ge.\u0275fac=function(){var ve;return function(V){return(ve||(ve=e.n5z(ge)))(V||ge)}}(),ge.\u0275dir=e.lG2({type:ge,selectors:[["mat-radio-group"]],contentQueries:function(_e,V,k){var N;1&_e&&e.Suo(k,re,5),2&_e&&e.iGM(N=e.CRH())&&(V._radios=N)},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[e._Bn([le,{provide:De,useExisting:ge}]),e.qOj]}),ge}(),U=(0,y.Kr)((0,y.sb)((0,f.Z)(function ge(ve){(0,S.Z)(this,ge),this._elementRef=ve}))),W=function(){var ge=function(ve){(0,h.Z)(V,ve);var _e=(0,D.Z)(V);function V(k,N,B,pe,me,X,ee,j){var se;return(0,S.Z)(this,V),(se=_e.call(this,N))._changeDetector=B,se._focusMonitor=pe,se._radioDispatcher=me,se._providerOverride=ee,se._uniqueId="mat-radio-".concat(++$),se.id=se._uniqueId,se.change=new e.vpe,se._checked=!1,se._value=null,se._removeUniqueSelectionListener=function(){},se.radioGroup=k,se._noopAnimations="NoopAnimations"===X,j&&(se.tabIndex=(0,m.su)(j,0)),se._removeUniqueSelectionListener=me.listen(function(Se,K){Se!==se.id&&K===se.name&&(se.checked=!1)}),se}return(0,f.Z)(V,[{key:"checked",get:function(){return this._checked},set:function(N){var B=(0,m.Ig)(N);this._checked!==B&&(this._checked=B,B&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!B&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),B&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}},{key:"value",get:function(){return this._value},set:function(N){this._value!==N&&(this._value=N,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===N),this.checked&&(this.radioGroup.selected=this)))}},{key:"labelPosition",get:function(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"},set:function(N){this._labelPosition=N}},{key:"disabled",get:function(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled},set:function(N){this._setDisabled((0,m.Ig)(N))}},{key:"required",get:function(){return this._required||this.radioGroup&&this.radioGroup.required},set:function(N){this._required=(0,m.Ig)(N)}},{key:"color",get:function(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"},set:function(N){this._color=N}},{key:"inputId",get:function(){return"".concat(this.id||this._uniqueId,"-input")}},{key:"focus",value:function(N,B){B?this._focusMonitor.focusVia(this._inputElement,B,N):this._inputElement.nativeElement.focus(N)}},{key:"_markForCheck",value:function(){this._changeDetector.markForCheck()}},{key:"ngOnInit",value:function(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}},{key:"ngDoCheck",value:function(){this._updateTabIndex()}},{key:"ngAfterViewInit",value:function(){var N=this;this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(function(B){!B&&N.radioGroup&&N.radioGroup._touch()})}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}},{key:"_emitChangeEvent",value:function(){this.change.emit(new I(this,this._value))}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_onInputClick",value:function(N){N.stopPropagation()}},{key:"_onInputInteraction",value:function(N){if(N.stopPropagation(),!this.checked&&!this.disabled){var B=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),B&&this.radioGroup._emitChangeEvent())}}},{key:"_setDisabled",value:function(N){this._disabled!==N&&(this._disabled=N,this._changeDetector.markForCheck())}},{key:"_updateTabIndex",value:function(){var N,pe,B=this.radioGroup;if((pe=B&&B.selected&&!this.disabled?B.selected===this?this.tabIndex:-1:this.tabIndex)!==this._previousTabIndex){var me=null===(N=this._inputElement)||void 0===N?void 0:N.nativeElement;me&&(me.setAttribute("tabindex",pe+""),this._previousTabIndex=pe)}}}]),V}(U);return ge.\u0275fac=function(_e){e.$Z()},ge.\u0275dir=e.lG2({type:ge,viewQuery:function(_e,V){var k;1&_e&&e.Gf(b,5),2&_e&&e.iGM(k=e.CRH())&&(V._inputElement=k.first)},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[e.qOj]}),ge}(),re=function(){var ge=function(ve){(0,h.Z)(V,ve);var _e=(0,D.Z)(V);function V(k,N,B,pe,me,X,ee,j){return(0,S.Z)(this,V),_e.call(this,k,N,B,pe,me,X,ee,j)}return(0,f.Z)(V)}(W);return ge.\u0275fac=function(_e){return new(_e||ge)(e.Y36(De,8),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(C.tE),e.Y36(a.A8),e.Y36(E.Qb,8),e.Y36(ue,8),e.$8M("tabindex"))},ge.\u0275cmp=e.Xpm({type:ge,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(_e,V){1&_e&&e.NdJ("focus",function(){return V._inputElement.nativeElement.focus()}),2&_e&&(e.uIk("tabindex",null)("id",V.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),e.ekj("mat-radio-checked",V.checked)("mat-radio-disabled",V.disabled)("_mat-animation-noopable",V._noopAnimations)("mat-primary","primary"===V.color)("mat-accent","accent"===V.color)("mat-warn","warn"===V.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[e.qOj],ngContentSelectors:x,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(_e,V){if(1&_e&&(e.F$t(),e.TgZ(0,"label",0,1)(2,"span",2),e._UZ(3,"span",3)(4,"span",4),e.TgZ(5,"input",5,6),e.NdJ("change",function(B){return V._onInputInteraction(B)})("click",function(B){return V._onInputClick(B)}),e.qZA(),e.TgZ(7,"span",7),e._UZ(8,"span",8),e.qZA()(),e.TgZ(9,"span",9)(10,"span",10),e._uU(11,"\xa0"),e.qZA(),e.Hsn(12),e.qZA()()),2&_e){var k=e.MAs(1);e.uIk("for",V.inputId),e.xp6(5),e.Q6J("id",V.inputId)("checked",V.checked)("disabled",V.disabled)("required",V.required),e.uIk("name",V.name)("value",V.value)("aria-label",V.ariaLabel)("aria-labelledby",V.ariaLabelledby)("aria-describedby",V.ariaDescribedby),e.xp6(2),e.Q6J("matRippleTrigger",k)("matRippleDisabled",V._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",e.VKq(17,c,V._noopAnimations?0:150)),e.xp6(2),e.ekj("mat-radio-label-before","before"==V.labelPosition)}},directives:[y.wG],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-ripple,.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-ripple{outline:solid 3px}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),ge}(),Ee=function(){var ge=(0,f.Z)(function ve(){(0,S.Z)(this,ve)});return ge.\u0275fac=function(_e){return new(_e||ge)},ge.\u0275mod=e.oAB({type:ge}),ge.\u0275inj=e.cJS({imports:[[y.si,y.BQ],y.BQ]}),ge}()}}]);