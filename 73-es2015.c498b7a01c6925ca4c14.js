(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{TCgE:function(e,n,l){"use strict";l.r(n);var t=l("8Y7J");class i{constructor(e){e.addLoaderWithPrefixedTranslations("/cabinet/promo-features-catalog","")}}var a=l("pMnS"),o=l("iInd"),s=l("/kTj");class u{constructor(e,n,l,t){this.topNav=e,this.featuresApi=n,this.storage=l,this.debug=t.factory(new.target.name)}ngOnInit(){this.featuresApi.getFeaturesList().subscribe(e=>{this.storage.refreshFeature(e)}),this.topNav.clearLinks()}}var r=l("nutA"),d=l("lJxs"),c=l("tFIl");class g extends c.a{constructor(e={}){super(),this.cache={labelsPrev:void 0,labelsParsed:void 0,tagsPrev:void 0,tagsParsed:void 0},this.fillAll(e,["modelType","modelStatus","modelStatusMessage","previousId","id","reportId","position","title","description","tags","labels","isVisible","imageFiles"]),this.fill(e,"_enabled","enabled")}get enabled(){return this._enabled}get tagsList(){return this.cache.tagsPrev!==this.tags&&(this.cache.tagsPrev=this.tags,this.cache.tagsParsed="string"==typeof this.tags?this.tags.split(","):void 0),this.cache.tagsParsed}set tagsList(e){this.tags=e instanceof Array?e.join(","):void 0}get labelsList(){return this.cache.labelsPrev!==this.labels&&(this.cache.labelsPrev=this.labels,this.cache.labelsParsed="string"==typeof this.labels?this.labels.split(","):void 0),this.cache.labelsParsed}set labelsList(e){this.labels=e instanceof Array?e.join(","):void 0}}class p extends c.a{constructor(e={}){super(),this.isUploading=!1,this.fillAll(e,["name","url","dataUrl","uploadingId","isUploading"])}}class h{constructor(e){this.api=e,this.baseUrl="custom-report-descriptions"}getFeaturesList(e){return this.api.get(`${this.baseUrl}`,{params:{instance_id:e}}).pipe(Object(d.a)(e=>e instanceof Array?e.map(e=>this.jsonToModel(e)):void 0))}orderFeature(e){return this.api.post(`${this.baseUrl}/order`,{report_id:e})}saveSorting(e){const n=e.map(e=>e.id);return this.api.post(`${this.baseUrl}/sort`,{report_ids:n.join(",")})}createFeature(e){return this.api.post(`${this.baseUrl}`,this.modelToJson(e)).pipe(Object(d.a)(e=>e&&this.jsonToModel(e)))}updateFeature(e){return this.api.put(`${this.baseUrl}/${e.previousId}`,this.modelToJson(e)).pipe(Object(d.a)(e=>e&&this.jsonToModel(e)))}deleteFeature(e){return this.api.delete(`${this.baseUrl}/${e}`)}jsonToModel(e){const n={id:c.b.number(e.id),reportId:c.b.number(e.report_id),position:c.b.number(e.pos),title:c.b.string(e.title),description:c.b.string(e.descr),tags:c.b.string(e.tags1),labels:c.b.string(e.tags2),isVisible:c.b.boolean(e.is_vis),enabled:c.b.boolean(e.enabled),imageFiles:(e.image||[]).map(e=>h.jsonToUploadedImageModel(e)),modelType:"saved"};return new g(n)}modelToJson(e){return{id:e.id,report_id:e.reportId,pos:e.position,title:e.title,descr:e.description,tags1:e.tags,tags2:e.labels,is_vis:e.isVisible,image:e.imageFiles.map(e=>e.name).join(",")}}static jsonToUploadedImageModel(e){const n={name:c.b.string(e.file_name),url:c.b.string(e.file_url)};return new p(n)}}var A=l("2Vo4"),f=l("LvDl"),m=l("XNiG"),v=l("Kqap"),b=l("05l1");class C{constructor(e){this.payload=e}}class I{constructor(e){this.actions$=new m.a,this.actionHandlersMap=new Map;const n=this.actions$.pipe(Object(v.a)((e,n)=>this.execute(e,n),e),Object(b.a)(1));this.state$=n,n.connect()}addHandler(e,n){if(e instanceof Array)e.forEach(e=>this.addHandler(e,n));else{let l=this.actionHandlersMap.get(e);l||(l=[],this.actionHandlersMap.set(e,l)),l.push(n)}return this}dispatch(e){this.actions$.next(e)}execute(e,n){const l=this.actionHandlersMap.get(n.constructor);return l instanceof Array?l.reduce((e,l)=>l.call(void 0,e,n),e):e}}class w extends C{}class E extends C{}class x extends C{}class B extends C{}class F extends C{}const D={features:[]};class R{constructor(e,n){this.authService=e,this._canEdit$=new A.a(!1),this.debug=n.factory(new.target.name),this.reducer=new I(D),this.features$=this.reducer.state$.pipe(Object(d.a)(e=>e.features)),this.canEdit$=this._canEdit$.asObservable(),this.debug.streams(this,["features$","canEdit$"]);const l=this.authService.getCurrentUser();this._canEdit$.next(l&&90==+l.AccessLevel),this.reducer.addHandler(w,this.addFeatureHandler.bind(this)).addHandler(x,this.updateFeatureHandler.bind(this)).addHandler(E,this.deleteFeatureHandler.bind(this)).addHandler(F,this.refreshFeaturesHandler.bind(this)).addHandler(B,this.setFeatureStatusHandler.bind(this))}addFeature(e,n){this.reducer.dispatch(new w({feature:e,beforeId:n}))}updateFeature(e){this.reducer.dispatch(new x({feature:e}))}deleteFeature(e){this.reducer.dispatch(new E({featureId:e}))}refreshFeature(e){this.reducer.dispatch(new F({features:e}))}setFeatureStatus(e,n,l){this.reducer.dispatch(new B({featureId:e,status:n,message:l}))}addFeatureHandler(e,{payload:n}){const l=void 0!==n.beforeId&&e.features.findIndex(e=>e.id===n.beforeId)||0;return e.features=[...e.features.slice(0,l),n.feature,...e.features.slice(l)],e}updateFeatureHandler(e,{payload:n}){const l=n.feature.previousId?n.feature.previousId:n.feature.id,t=e.features.findIndex(e=>e.id===l);return-1!==t?e.features=Object.assign(e.features.slice(),{[t]:n.feature.clone()}):this.debug.warn(`Feature with id ${l} not found. Feature: %O. All: `,n.feature,e.features),e}deleteFeatureHandler(e,{payload:n}){return e.features=e.features.filter(e=>e.id!==n.featureId),e}refreshFeaturesHandler(e,{payload:n}){const l=e.features;let t=!1;const i=n.features.map((e,n)=>{const i=l.findIndex((n,l)=>e.id===n.id),a=f.isEqual(l[i],e);return t||a&&i===n||(t=!0),a?l[i]:e});return t&&(e.features=i),e}setFeatureStatusHandler(e,{payload:n}){this.debug.log("setFeatureStatusHandler(%O, %O)",e,n);const l=e.features.findIndex(e=>e.id===n.featureId);return-1!==l&&(e.features=e.features.slice(),e.features[l]=e.features[l].clone({modelStatus:n.status,modelStatusMessage:n.message})),e}}var O=t["\u0275crt"]({encapsulation:0,styles:["[_nghost-%COMP%] {\n        display: block;\n        padding: 20px 0;\n    }"],data:{}});function k(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t["\u0275did"](1,212992,null,0,o.t,[o.b,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null)],(function(e,n){e(n,1,0)}),null)}function y(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,k,O)),t["\u0275did"](1,114688,null,0,u,[r.a,h,R,s.b],null,null)],(function(e,n){e(n,1,0)}),null)}var Q=t["\u0275ccf"]("ng-component",u,y,{},{},[]),M=l("SVse"),T=l("TSSN"),P=l("Mc5n"),S=l("IP0z");class U{constructor(e){this.order=new t.EventEmitter,this.debug=e.factory(new.target.name)}onOrder(){this.debug.log("onOrder()"),this.order.emit()}get statusClass(){return this.feature?{success:"success"===this.feature.modelStatus,warning:"warning"===this.feature.modelStatus,loading:"loading"===this.feature.modelStatus}:void 0}}var G=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;background-color:#f7f7f7;position:relative}@media screen and (min-width:992px){[_nghost-%COMP%]{display:flex;align-items:stretch}.list-item__left[_ngcontent-%COMP%]{width:250px;flex:0 0 250px}}@media screen and (min-width:1200px){.list-item__left[_ngcontent-%COMP%]{width:350px;flex:0 0 350px}}@media screen and (min-width:992px){.list-item__center[_ngcontent-%COMP%]{width:auto;flex:1 1 auto}.list-item__right[_ngcontent-%COMP%]{width:250px;flex:0 0 250px}}@media screen and (min-width:1200px){.list-item__right[_ngcontent-%COMP%]{width:350px;flex:0 0 350px}}.list-item__heading[_ngcontent-%COMP%]{font-weight:700;margin-bottom:0;padding:5px 10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1;text-align:center}@media screen and (min-width:992px){.list-item__heading[_ngcontent-%COMP%]{text-align:left}}.list-item__status[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center;padding:5px 10px;color:#ff2600;line-height:1;font-weight:700}.list-item__tags-list[_ngcontent-%COMP%]{padding:5px 10px}.list-item__tag[_ngcontent-%COMP%]{display:inline-block;min-width:50px;height:24px;line-height:24px;padding-left:10px;padding-right:10px;margin-top:1px;margin-bottom:1px;border-radius:12px;background-color:#26313a;color:#fff;font-size:.9em;text-align:center;text-transform:capitalize}.list-item__tag[_ngcontent-%COMP%]:not(:last-of-type){margin-right:4px}.list-item__description[_ngcontent-%COMP%]{padding:5px 10px}.list-item__read-more[_ngcontent-%COMP%]{text-transform:uppercase;line-height:inherit}.list-item__add-button[_ngcontent-%COMP%]{margin:10px 10px 10px auto;display:block}.list-item__save-indicator[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:24px;height:24px}.list-item__save-indicator-icon[_ngcontent-%COMP%]{display:block;width:80%;height:80%;background-size:contain;background-position:center center;background-repeat:no-repeat;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.list-item__save-indicator-icon.loading[_ngcontent-%COMP%]{background-image:url(data:image/gif;base64,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)}.list-item__save-indicator-icon.warning[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,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)}.list-item__save-indicator-icon.success[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,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)}"]],data:{}});function Y(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","list-item__tag"]],null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,["",""]))],null,(function(e,n){e(n,1,0,n.context.$implicit)}))}function H(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","list-item__add-button btn btn--primary btn--small"]],null,[[null,"click"]],(function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.onOrder()&&t),t}),null,null)),(e()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef])],null,(function(e,n){e(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("list-page.row.button.add-to-executive-eye.name")))}))}function L(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","list-item__tag"]],null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,["",""]))],null,(function(e,n){e(n,1,0,n.context.$implicit)}))}function K(e){return t["\u0275vid"](2,[(e()(),t["\u0275eld"](0,0,null,null,8,"div",[["class","list-item__left"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"h5",[["class","list-item__heading"]],null,null,null,null,null)),(e()(),t["\u0275ted"](2,null,["",""])),(e()(),t["\u0275eld"](3,0,null,null,2,"div",[["class","list-item__status"]],[[2,"danger",null],[2,"success",null]],null,null,null,null)),(e()(),t["\u0275ted"](4,null,[" "," "])),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](6,0,null,null,2,"div",[["class","list-item__tags-list"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,Y)),t["\u0275did"](8,278528,null,0,M.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),t["\u0275eld"](9,0,null,null,7,"div",[["class","list-item__center"]],null,null,null,null,null)),(e()(),t["\u0275eld"](10,0,null,null,6,"div",[["class","list-item__description"]],null,null,null,null,null)),(e()(),t["\u0275ted"](11,null,[" "," "])),(e()(),t["\u0275eld"](12,0,null,null,4,"a",[["class","list-item__read-more"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,l){var i=!0;return"click"===n&&(i=!1!==t["\u0275nov"](e,13).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),i}),null,null)),t["\u0275did"](13,671744,null,0,o.r,[o.o,o.a,M.j],{routerLink:[0,"routerLink"]},null),t["\u0275pad"](14,2),(e()(),t["\u0275ted"](15,null,["",""])),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](17,0,null,null,5,"div",[["class","list-item__right"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,H)),t["\u0275did"](19,16384,null,0,M.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](20,0,null,null,2,"div",[["class","list-item__tags-list"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,L)),t["\u0275did"](22,278528,null,0,M.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),t["\u0275eld"](23,0,null,null,3,"div",[["class","list-item__save-indicator"]],null,null,null,null,null)),(e()(),t["\u0275eld"](24,0,null,null,2,"span",[["class","list-item__save-indicator-icon"]],null,null,null,null,null)),t["\u0275prd"](512,null,M.B,M.C,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](26,278528,null,0,M.l,[M.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],(function(e,n){var l=n.component;e(n,8,0,l.feature.tagsList);var t=e(n,14,0,"view",l.feature.id);e(n,13,0,t),e(n,19,0,!l.feature.enabled),e(n,22,0,l.feature.labelsList),e(n,26,0,"list-item__save-indicator-icon",l.statusClass)}),(function(e,n){var l=n.component;e(n,2,0,l.feature.title),e(n,3,0,!l.feature.enabled,l.feature.enabled),e(n,4,0,t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform(l.feature.enabled?"list-page.row.label.installed":"list-page.row.label.not-installed"))),e(n,11,0,(null==l.feature.description?null:l.feature.description.slice(0,360))+"..."),e(n,12,0,t["\u0275nov"](n,13).target,t["\u0275nov"](n,13).href),e(n,15,0,t["\u0275unv"](n,15,0,t["\u0275nov"](n,16).transform("list-page.row.button.read-more.name")))}))}var j=l("pLZG"),J=l("eIep");class N{constructor(e,n,l,t){this.dialog=e,this.storage=n,this.api=l,this.isSorted=!1,this.subs=[],this.debug=t.factory(new.target.name)}set sub(e){this.subs.push(e)}ngOnInit(){this.sub=this.storage.features$.subscribe(e=>{this.features=e.map(e=>e),this.setInitialSorting()}),this.canEdit$=this.storage.canEdit$}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}trackById(e){return e.id}onDragDrop(e){Object(P.i)(this.features,e.previousIndex,e.currentIndex),this.onSort()}onSort(){const e=this.features.map(e=>e.id);this.isSorted=!this.initialSorting.every((n,l)=>n===e[l])}saveSorting(){this.api.saveSorting(this.features).subscribe(()=>{this.storage.refreshFeature(this.features),this.setInitialSorting()},e=>this.dialog.alert(e.message))}onOrder(e){this.dialog.confirmT("list-page.confirmation.make-feature-order.text").pipe(Object(j.a)(e=>e),Object(J.a)(()=>this.api.orderFeature(e.id))).subscribe(()=>this.dialog.successT("Your request has been sent to the ExecEye support"),()=>this.dialog.warningT("list-page.error-message.feature-order-created",{suffix:this.dialog.tryAgainLaterMessage}))}setInitialSorting(){this.initialSorting=this.features.map(e=>e.id),this.isSorted=!1}}var V=l("S+vS"),q=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}@media screen and (max-width:736px){[_nghost-%COMP%]{margin-top:-25px}}.content__section[_ngcontent-%COMP%]{height:calc(100vh - (70px + 20px + 20px));margin-bottom:-20px}.content__section-body[_ngcontent-%COMP%]{overflow:auto}.content__section-item[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px;border-bottom:1px solid #a6a6a6}.content__section-item[_ngcontent-%COMP%]:last-of-type{border-bottom:0}"]],data:{}});function _(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"a",[["class","btn btn--small"],["routerLink","create"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,l){var i=!0;return"click"===n&&(i=!1!==t["\u0275nov"](e,1).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),i}),null,null)),t["\u0275did"](1,671744,null,0,o.r,[o.o,o.a,M.j],{routerLink:[0,"routerLink"]},null),(e()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef])],(function(e,n){e(n,1,0,"create")}),(function(e,n){e(n,0,0,t["\u0275nov"](n,1).target,t["\u0275nov"](n,1).href),e(n,2,0,t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform("list-page.button.add-report.name")))}))}function X(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,16777216,null,null,7,"div",[["cdkDrag",""],["class","content__section-item cdk-drag"]],[[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],null,null,null,null)),t["\u0275prd"](6144,null,P.j,null,[P.c]),t["\u0275did"](2,4866048,[[1,4]],3,P.c,[t.ElementRef,[3,P.b],M.d,t.NgZone,t.ViewContainerRef,P.a,[2,S.b],P.f,t.ChangeDetectorRef],null,null),t["\u0275qud"](603979776,2,{_handles:1}),t["\u0275qud"](603979776,3,{_previewTemplate:0}),t["\u0275qud"](603979776,4,{_placeholderTemplate:0}),(e()(),t["\u0275eld"](6,0,null,null,1,"app-promo-feature-item",[],null,[[null,"order"]],(function(e,n,l){var t=!0;return"order"===n&&(t=!1!==e.component.onOrder(e.context.$implicit)&&t),t}),K,G)),t["\u0275did"](7,49152,null,0,U,[s.b],{feature:[0,"feature"]},{order:"order"}),(e()(),t["\u0275and"](0,null,null,0))],(function(e,n){e(n,7,0,n.context.$implicit)}),(function(e,n){e(n,0,0,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2)._dragRef.isDragging())}))}function z(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,18,"div",[["class","content__section content__section--no-max"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,10,"div",[["class","content__section-header content__section-header--justify"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,2,"h4",[["class","content__section-heading"]],null,null,null,null,null)),(e()(),t["\u0275ted"](3,null,["",""])),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](5,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),t["\u0275eld"](6,0,null,null,2,"button",[["class","list-item__add-button btn btn--primary btn--small"]],[[8,"disabled",0]],[[null,"click"]],(function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.saveSorting()&&t),t}),null,null)),(e()(),t["\u0275ted"](7,null,["",""])),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef]),(e()(),t["\u0275and"](16777216,null,null,2,null,_)),t["\u0275did"](10,16384,null,0,M.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,M.b,[t.ChangeDetectorRef]),(e()(),t["\u0275eld"](12,0,null,null,6,"div",[["cdkDropList",""],["class","content__section-body cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-disabled",null],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],(function(e,n,l){var t=!0;return"cdkDropListDropped"===n&&(t=!1!==e.component.onDragDrop(l)&&t),t}),null,null)),t["\u0275prd"](6144,null,P.b,null,[P.d]),t["\u0275did"](14,1196032,null,1,P.d,[t.ElementRef,P.f,t.ChangeDetectorRef,[2,S.b],[3,P.e]],null,{dropped:"cdkDropListDropped"}),t["\u0275qud"](603979776,1,{_draggables:1}),t["\u0275prd"](256,null,P.e,void 0,[]),(e()(),t["\u0275and"](16777216,null,null,1,null,X)),t["\u0275did"](18,278528,null,0,M.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(e,n){var l=n.component;e(n,10,0,t["\u0275unv"](n,10,0,t["\u0275nov"](n,11).transform(l.canEdit$))),e(n,18,0,l.features,l.trackById)}),(function(e,n){var l=n.component;e(n,3,0,t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform("list-page.caption"))),e(n,6,0,!l.isSorted),e(n,7,0,t["\u0275unv"](n,7,0,t["\u0275nov"](n,8).transform("list-page.button.save-sorting.name"))),e(n,12,0,t["\u0275nov"](n,14).id,t["\u0275nov"](n,14).disabled,t["\u0275nov"](n,14)._dropListRef.isDragging(),t["\u0275nov"](n,14)._dropListRef.isReceiving())}))}function W(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,z,q)),t["\u0275did"](1,245760,null,0,N,[V.a,R,h,s.b],null,null)],(function(e,n){e(n,1,0)}),null)}var Z=t["\u0275ccf"]("ng-component",N,W,{},{},[]),$=l("lm3W"),ee=l("cUpR"),ne=l("fFD9"),le=l("vkgz"),te=l("SxV6");class ie{constructor(e,n,l,t,i,a){this.api=e,this.storage=n,this.route=l,this.router=t,this.dialog=i,this.debug=a.factory(new.target.name)}ngOnInit(){const e=this.route.params.pipe(Object(d.a)(e=>+e.id));this.feature$=this.storage.features$.pipe(Object(ne.a)(e,(e,n)=>e.find(e=>e.id===n)),Object(le.a)(e=>this.selectedImage=e.imageFiles&&e.imageFiles.length&&e.imageFiles[0])),this.canEdit$=this.storage.canEdit$}onSelectImage(e){this.selectedImage=e}onDelete(){this.dialog.confirmT("view-page.button.delete.confirmation").pipe(Object(j.a)(e=>e),Object(J.a)(()=>this.feature$.pipe(Object(te.a)()))).subscribe(e=>{this.storage.setFeatureStatus(e.id,"loading"),this.api.deleteFeature(e.id).subscribe(()=>{this.storage.deleteFeature(e.id)},()=>this.dialog.alertT("view-page.button.delete.server-error"+this.dialog.tryAgainLaterMessage)),this.router.navigate(["../.."],{relativeTo:this.route})})}onEdit(){this.feature$.pipe(Object(te.a)()).subscribe(e=>this.router.navigate(["../../update",e.id],{relativeTo:this.route}))}}var ae=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}@media screen and (max-width:736px){[_nghost-%COMP%]{margin-top:-25px}}.content__section[_ngcontent-%COMP%]{max-height:none;max-width:none}.content__section-body[_ngcontent-%COMP%]{padding:0 20px 20px}.view__image-previews[_ngcontent-%COMP%]{padding:0;list-style-type:none;display:flex;justify-content:left;margin:10px -10px -10px}.view__image-previews[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;width:100px;height:100px;margin:0 10px 10px;border:1px solid #9ba2ac;border-radius:5px;background-position:center center;background-color:#fff;background-size:cover}.view__image-previews[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:'';position:absolute;left:0;right:0;bottom:0;top:0;cursor:pointer;background-color:rgba(255,255,255,.5);transition:.4s ease opacity;opacity:0}.view__image-previews[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:after{opacity:1}.view__image-previews[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{border-color:#0a0a0a}.view__image-previews[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:after{opacity:1}.view__image-wrapper[_ngcontent-%COMP%]{margin-top:10px;padding-bottom:10px;border:1px solid #9ba2ac;border-radius:5px}@media screen and (min-width:1025px){.view__image-wrapper[_ngcontent-%COMP%]{padding-bottom:20px}}.view__image[_ngcontent-%COMP%]{display:block;margin:0 auto}.view__description[_ngcontent-%COMP%]{padding:5px;margin-bottom:-15px;font-size:16px}@media screen and (min-width:1025px){.view__description[_ngcontent-%COMP%]{font-size:20px;padding:10px}}.view__actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]],data:{}});function oe(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,6,"span",[],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"button",[["class","btn btn--empty btn--color-alert"]],null,[[null,"click"]],(function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.onDelete()&&t),t}),null,null)),(e()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](4,0,null,null,2,"button",[["class","btn btn--empty btn--color-primary"]],null,[[null,"click"]],(function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.onEdit()&&t),t}),null,null)),(e()(),t["\u0275ted"](5,null,["",""])),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef])],null,(function(e,n){e(n,2,0,t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform("view-page.button.delete.name"))),e(n,5,0,t["\u0275unv"](n,5,0,t["\u0275nov"](n,6).transform("view-page.button.edit.name")))}))}function se(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"li",[],[[2,"selected",null],[4,"background-image",null]],[[null,"click"]],(function(e,n,l){var t=!0,i=e.component;return"click"===n&&(t=!1!==(e.context.$implicit!==i.selectedImage&&i.onSelectImage(e.context.$implicit))&&t),t}),null,null)),t["\u0275ppd"](1,1)],null,(function(e,n){var l=n.context.$implicit===n.component.selectedImage,i=t["\u0275unv"](n,0,1,e(n,1,0,t["\u0275nov"](n.parent.parent.parent,0),n.context.$implicit.dataUrl||n.context.$implicit.url));e(n,0,0,l,i)}))}function ue(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"ul",[["class","view__image-previews"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,se)),t["\u0275did"](2,278528,null,0,M.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,n){e(n,2,0,n.parent.context.ngIf.imageFiles)}),null)}function re(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","view__image-wrapper"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,0,"img",[["alt",""],["class","view__image"]],[[8,"src",4]],null,null,null,null))],null,(function(e,n){e(n,1,0,n.component.selectedImage.url)}))}function de(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,12,null,null,null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,11,"div",[["class","content__section"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,2,"div",[["class","content__section-header content__section-header--justify"]],null,null,null,null,null)),(e()(),t["\u0275eld"](3,0,null,null,1,"h4",[["class","content__section-heading"]],null,null,null,null,null)),(e()(),t["\u0275ted"](4,null,["",""])),(e()(),t["\u0275eld"](5,0,null,null,7,"div",[["class","content__section-body"]],null,null,null,null,null)),(e()(),t["\u0275eld"](6,0,null,null,1,"div",[["class","view__description"]],null,null,null,null,null)),(e()(),t["\u0275ted"](7,null,["",""])),(e()(),t["\u0275eld"](8,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,ue)),t["\u0275did"](10,16384,null,0,M.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,re)),t["\u0275did"](12,16384,null,0,M.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,n){var l=n.component;e(n,10,0,null==n.context.ngIf.imageFiles?null:n.context.ngIf.imageFiles.length),e(n,12,0,l.selectedImage)}),(function(e,n){e(n,4,0,n.context.ngIf.title),e(n,7,0,n.context.ngIf.description)}))}function ce(e){return t["\u0275vid"](0,[t["\u0275pid"](0,$.a,[ee.b]),(e()(),t["\u0275eld"](1,0,null,null,7,"p",[["class","view__actions"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,3,"a",[["class","btn btn--empty btn--color-primary"],["routerLink","../.."]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,l){var i=!0;return"click"===n&&(i=!1!==t["\u0275nov"](e,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),i}),null,null)),t["\u0275did"](3,671744,null,0,o.r,[o.o,o.a,M.j],{routerLink:[0,"routerLink"]},null),(e()(),t["\u0275ted"](4,null,["",""])),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef]),(e()(),t["\u0275and"](16777216,null,null,2,null,oe)),t["\u0275did"](7,16384,null,0,M.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,M.b,[t.ChangeDetectorRef]),(e()(),t["\u0275and"](16777216,null,null,2,null,de)),t["\u0275did"](10,16384,null,0,M.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,M.b,[t.ChangeDetectorRef])],(function(e,n){var l=n.component;e(n,3,0,"../.."),e(n,7,0,t["\u0275unv"](n,7,0,t["\u0275nov"](n,8).transform(l.canEdit$))),e(n,10,0,t["\u0275unv"](n,10,0,t["\u0275nov"](n,11).transform(l.feature$)))}),(function(e,n){e(n,2,0,t["\u0275nov"](n,3).target,t["\u0275nov"](n,3).href),e(n,4,0,t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform("view-page.button.go-back.name")))}))}function ge(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,ce,ae)),t["\u0275did"](1,114688,null,0,ie,[h,R,o.a,o.o,V.a,s.b],null,null)],(function(e,n){e(n,1,0)}),null)}var pe=t["\u0275ccf"]("ng-component",ie,ge,{},{},[]),he=l("s7LF"),Ae=l("E+en"),fe=l("ZdEx"),me=l("FW2/"),ve=l("k5Dw"),be=l("RHbX"),Ce=l("Xrj0"),Ie=l("HDdC"),we=l("5+tZ"),Ee=l("nYR2");const xe=function(){var e={Queue:0,Uploading:1,Done:2,Cancelled:3};return e[e.Queue]="Queue",e[e.Uploading]="Uploading",e[e.Done]="Done",e[e.Cancelled]="Cancelled",e}();function Be(e){if(0===e)return"0 Byte";const n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB"][n]}class Fe{constructor(e=Number.POSITIVE_INFINITY,n=["*"],l=Number.POSITIVE_INFINITY){this.queue=[],this.serviceEvents=new t.EventEmitter,this.uploadScheduler=new m.a,this.subs=[],this.contentTypes=n,this.maxUploads=l,this.uploadScheduler.pipe(Object(we.a)(e=>this.startUpload(e),e)).subscribe(e=>this.serviceEvents.emit(e))}handleFiles(e){const n=[].reduce.call(e,(e,n,l)=>{const t=e.length+this.queue.length+1;if(this.isContentTypeAllowed(n.type)&&t<=this.maxUploads)e=e.concat(n);else{const e=this.makeUploadFile(n,l);this.serviceEvents.emit({type:"rejected",file:e})}return e},[]);this.queue.push(...[].map.call(n,(e,n)=>{const l=this.makeUploadFile(e,n);return this.serviceEvents.emit({type:"addedToQueue",file:l}),l})),this.serviceEvents.emit({type:"allAddedToQueue"})}initInputEvents(e){return e.subscribe(e=>{switch(e.type){case"uploadFile":const n=this.queue.findIndex(n=>n===e.file);-1!==n&&e.file&&this.uploadScheduler.next({file:this.queue[n],event:e});break;case"uploadAll":this.queue.filter(e=>e.progress.status===xe.Queue).forEach(n=>this.uploadScheduler.next({file:n,event:e}));break;case"cancel":const l=e.id||null;if(!l)return;this.subs.filter(e=>e.id===l).forEach(e=>{if(e.sub){e.sub.unsubscribe();const n=this.queue.findIndex(e=>e.id===l);-1!==n&&(this.queue[n].progress.status=xe.Cancelled,this.serviceEvents.emit({type:"cancelled",file:this.queue[n]}))}});break;case"cancelAll":this.subs.forEach(e=>{e.sub&&e.sub.unsubscribe();const n=this.queue.find(n=>n.id===e.id);n&&(n.progress.status=xe.Cancelled,this.serviceEvents.emit({type:"cancelled",file:n}))});break;case"remove":if(!e.id)return;const t=this.queue.findIndex(n=>n.id===e.id);if(-1!==t){const e=this.queue[t];this.queue.splice(t,1),this.serviceEvents.emit({type:"removed",file:e})}break;case"removeAll":this.queue.length&&(this.queue=[],this.serviceEvents.emit({type:"removedAll"}))}})}startUpload(e){return new Ie.a(n=>{const l=this.uploadFile(e.file,e.event).pipe(Object(Ee.a)(()=>{n.closed||n.complete()})).subscribe(e=>{n.next(e)},e=>{n.error(e),n.complete()},()=>{n.complete()});this.subs.push({id:e.file.id,sub:l})})}uploadFile(e,n){return new Ie.a(l=>{const t=n.url||"",i=n.method||"POST",a=n.data||{},o=n.headers||{},s=new XMLHttpRequest,u=(new Date).getTime();let r=e.progress.data&&e.progress.data.startTime||u,d=0,c=null;s.upload.addEventListener("progress",n=>{if(n.lengthComputable){const t=Math.round(100*n.loaded/n.total),i=(new Date).getTime()-u;d=Math.round(n.loaded/i*1e3),r=e.progress.data&&e.progress.data.startTime||(new Date).getTime(),c=Math.ceil((n.total-n.loaded)/d),e.progress={status:xe.Uploading,data:{percentage:t,speed:d,speedHuman:`${Be(d)}/s`,startTime:r,endTime:null,eta:c,etaHuman:this.secondsToHuman(c)}},l.next({type:"uploading",file:e})}},!1),s.upload.addEventListener("error",e=>{l.error(e),l.complete()}),s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){const t=Math.round(e.size/((new Date).getTime()-r)*1e3);e.progress={status:xe.Done,data:{percentage:100,speed:t,speedHuman:`${Be(t)}/s`,startTime:r,endTime:(new Date).getTime(),eta:c,etaHuman:this.secondsToHuman(c||0)}},e.responseStatus=s.status;try{e.response=JSON.parse(s.response)}catch(n){e.response=s.response}e.responseHeaders=this.parseResponseHeaders(s.getAllResponseHeaders()),l.next({type:"done",file:e}),l.complete()}},s.open(i,t,!0),s.withCredentials=!!n.withCredentials;try{const t=e.nativeFile,i=this.queue.findIndex(e=>e.nativeFile===t);let u;this.queue[i].progress.status===xe.Cancelled&&l.complete(),Object.keys(o).forEach(e=>s.setRequestHeader(e,o[e])),!1!==n.includeWebKitFormBoundary?(Object.keys(a).forEach(n=>e.form.append(n,a[n])),e.form.append(n.fieldName||"file",t,t.name),u=e.form):u=t,this.serviceEvents.emit({type:"start",file:e}),s.send(u)}catch(g){l.complete()}return()=>{s.abort()}})}secondsToHuman(e){return new Date(1e3*e).toISOString().substr(11,8)}generateId(){return Math.random().toString(36).substring(7)}setContentTypes(e){this.contentTypes=void 0!==e&&e instanceof Array?void 0!==e.find(e=>"*"===e)?["*"]:e:["*"]}allContentTypesAllowed(){return void 0!==this.contentTypes.find(e=>"*"===e)}isContentTypeAllowed(e){return!!this.allContentTypesAllowed()||void 0!==this.contentTypes.find(n=>n===e)}makeUploadFile(e,n){return{fileIndex:n,id:this.generateId(),name:e.name,size:e.size,type:e.type,form:new FormData,progress:{status:xe.Queue,data:{percentage:0,speed:0,speedHuman:`${Be(0)}/s`,startTime:null,endTime:null,eta:null,etaHuman:null}},lastModifiedDate:new Date(e.lastModified),sub:void 0,nativeFile:e}}parseResponseHeaders(e){if(e)return e.split("\n").map(e=>e.split(/: */,2)).filter(e=>e[0]).reduce((e,n)=>(e[n[0]]=n[1],e),{})}}class De{constructor(e){this.elementRef=e,this.fileListener=()=>{this.el.files&&this.upload.handleFiles(this.el.files)},this.uploadOutput=new t.EventEmitter}ngOnInit(){this._sub=[],this.upload=new Fe(this.options&&this.options.concurrency||Number.POSITIVE_INFINITY,this.options&&this.options.allowedContentTypes||["*"],this.options&&this.options.maxUploads||Number.POSITIVE_INFINITY),this.el=this.elementRef.nativeElement,this.el.addEventListener("change",this.fileListener,!1),this._sub.push(this.upload.serviceEvents.subscribe(e=>{this.uploadOutput.emit(e)})),this.uploadInput instanceof t.EventEmitter&&this._sub.push(this.upload.initInputEvents(this.uploadInput))}ngOnDestroy(){this.el&&(this.el.removeEventListener("change",this.fileListener,!1),this._sub.forEach(e=>e.unsubscribe()))}}class Re{}var Oe=l("aR35");class ke{constructor(e,n){this.session=e,this.multiple=!1,this.accept=".jpg,.jpeg,.png,.gif",this.images=[],this.uploadInput=new t.EventEmitter,this.subs=[],this.propagateChange=e=>{},this.propagateTouched=()=>{},this.debug=n.factory(new.target.name)}set sub(e){this.subs.push(e)}ngOnInit(){this.authKey$=this.session.currentUser$.pipe(Object(j.a)(e=>!!e),Object(d.a)(e=>e.auth_key)),this.uploadingUrl=Oe.a.apiBaseUrl+Oe.a.apiVersion+"/custom-report-descriptions/upload-image"}ngOnChanges(e){e.value&&(this.images=this.value||[])}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}writeValue(e){this.value=e,this.images=e||[]}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){this.propagateTouched=e}onDeleteImage(e){this.images=this.images.filter(n=>n!==e),this.propagateChange(this.images)}onUploadOutput(e){switch(this.debug.log("UploadOutput Event: ",e),e.type){case"addedToQueue":this.sub=this.authKey$.pipe(Object(te.a)()).subscribe(n=>{const l={type:"uploadFile",url:this.uploadingUrl+"?auth_key="+n,fieldName:"imageFile",method:"POST",file:e.file};setTimeout(()=>{this.uploadInput.emit(l),this.debug.log("uploadFile emitted:",l)})});break;case"start":this.readFile(e.file.nativeFile).subscribe(n=>{const l=new p({dataUrl:n.data,uploadingId:e.file.id,isUploading:!0});this.images=[...this.images,l]});break;case"done":const n=this.images;if(-1===n){this.debug.warn("Can not find image after uploading has been done");break}const l=h.jsonToUploadedImageModel(e.file.response).patch({dataUrl:this.images[n].dataUrl});this.images=[...this.images.slice(0,n),l,...this.images.slice(n+1)],this.propagateChange(this.images)}}readFile(e){return Ie.a.create(n=>{let l=new FileReader;l.addEventListener("load",()=>{const t={name:e.name,size:e.size,type:e.type,data:l.result};this.debug.log("File read:",t),n.next(t),n.complete(),l.removeEventListener("load",null),l=void 0}),l.readAsDataURL(e)})}}var ye=l("+2T5"),Qe=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}input[_ngcontent-%COMP%]{display:none}.image-previews[_ngcontent-%COMP%]{padding:0;list-style-type:none;display:flex;justify-content:left;margin:10px -10px -10px}.image-previews[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;width:100px;height:100px;margin:0 10px 10px;border:1px solid #9ba2ac;background-position:center center;background-color:#fff;background-size:cover;border-radius:5px}.image-previews[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:'x';position:absolute;left:0;right:0;bottom:0;top:0;cursor:pointer;background-color:rgba(255,255,255,.5);transition:.4s ease opacity;display:flex;justify-content:center;align-items:center;color:rgba(0,0,0,.5);font-size:3em;font-weight:700;opacity:0}.image-previews[_ngcontent-%COMP%]   li.uploading-done[_ngcontent-%COMP%]:hover:after{opacity:1}"]],data:{}});function Me(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"app-loader",[["type","overlay"]],[[8,"className",0]],null,null,be.b,be.a)),t["\u0275did"](1,49152,null,0,Ce.a,[],{type:[0,"type"]},null)],(function(e,n){e(n,1,0,"overlay")}),(function(e,n){e(n,0,0,t["\u0275nov"](n,1).cssClassByType)}))}function Te(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"li",[],[[2,"uploading-done",null],[4,"background-image",null]],[[null,"click"]],(function(e,n,l){var t=!0;return"click"===n&&(t=!1!==(!e.context.$implicit.isUploading&&e.component.onDeleteImage(e.context.$implicit))&&t),t}),null,null)),t["\u0275ppd"](1,1),(e()(),t["\u0275and"](16777216,null,null,1,null,Me)),t["\u0275did"](3,16384,null,0,M.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,n){e(n,3,0,n.context.$implicit.isUploading)}),(function(e,n){var l=!n.context.$implicit.isUploading,i=t["\u0275unv"](n,0,1,e(n,1,0,t["\u0275nov"](n.parent.parent,0),n.context.$implicit.dataUrl||n.context.$implicit.url));e(n,0,0,l,i)}))}function Pe(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"ul",[["class","image-previews"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,Te)),t["\u0275did"](2,278528,null,0,M.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,n){e(n,2,0,n.component.images)}),null)}function Se(e){return t["\u0275vid"](0,[t["\u0275pid"](0,$.a,[ee.b]),(e()(),t["\u0275eld"](1,0,null,null,3,"label",[["class","btn btn--empty btn--color-primary"]],null,null,null,null,null)),t["\u0275ncd"](null,0),(e()(),t["\u0275eld"](3,0,null,null,1,"input",[["ngFileSelect",""],["type","file"]],[[1,"multiple",0],[1,"accept",0]],[[null,"uploadOutput"]],(function(e,n,l){var t=!0;return"uploadOutput"===n&&(t=!1!==e.component.onUploadOutput(l)&&t),t}),null,null)),t["\u0275did"](4,212992,null,0,De,[t.ElementRef],{options:[0,"options"],uploadInput:[1,"uploadInput"]},{uploadOutput:"uploadOutput"}),(e()(),t["\u0275and"](16777216,null,null,1,null,Pe)),t["\u0275did"](6,16384,null,0,M.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,n){var l=n.component;e(n,4,0,l.options,l.uploadInput),e(n,6,0,null==l.images?null:l.images.length)}),(function(e,n){var l=n.component;e(n,3,0,l.multiple?"multiple":null,l.accept)}))}class Ue{constructor(e,n,l,i,a){this.fb=e,this.el=n,this.storage=l,this.translate=i,this.featuresExceptMeIds=[],this.save=new t.EventEmitter,this.isOrderVisible=!1,this.subs=[],this.debug=a.factory(new.target.name)}set sub(e){this.subs.push(e)}ngOnChanges(e){this.subs.forEach(e=>e.unsubscribe()),e.value&&this.form&&this.applyDefaultValue()}ngOnInit(){const e=new g({title:"",modelType:"new"});this.sub=this.translate.stream("update-page.form.sorting.new-report-label").subscribe(n=>e.title=n),this.sub=this.translate.stream("update-page.form.field.report-id.validation.unique").subscribe(e=>this.validationMessages={uniqueId:e}),this.sub=this.storage.features$.subscribe(n=>{this.features=n.map(e=>e),this.isEditing||this.features.push(e)}),this.initForm()}trackById(e){return e.id}onDragDrop(e){Object(P.i)(this.features,e.previousIndex,e.currentIndex)}onSubmit(e){this.validationErrors=void 0;const n=this.formToModel(e);this.value&&(n.previousId=this.value.id),this.save.emit({featureModel:n,sortedModels:this.features})}isCurrentReport(e){return this.value&&this.value.id===e.id||!this.value&&"new"===e.modelType}setOrder(){this.isOrderVisible=!this.isOrderVisible,this.isOrderVisible&&setTimeout(()=>{const e=this.el.nativeElement.querySelector(".report-order-container");e.scrollTop=e.querySelector("li.active").offsetTop},0)}getServerValidationErrors(e){if(this.validationErrors instanceof Array==0)return;const n=this.validationErrors instanceof Array?this.validationErrors.find(n=>n.field===e):void 0;return this.debug.log("Validation Errors. Validation Errors: %O. Field: %s. First Error: %O.",this.validationErrors,e,n),n&&n.message}initForm(){this.form=this.fb.group({reportId:["",[he.D.required,e=>(this.debug.log("Ids",this.featuresExceptMeIds),this.featuresExceptMeIds instanceof Array&&-1===this.featuresExceptMeIds.indexOf(+e.value)?void 0:{uniqueId:{id:+e.value}})]],title:["",[he.D.required,he.D.minLength(3)]],description:["",[he.D.required,he.D.minLength(3)]],labels:["",[he.D.required]],tags:["",[he.D.required]],isVisible:[!0,[he.D.required]],imageFiles:[void 0]}),this.applyDefaultValue()}applyDefaultValue(){this.value&&this.form.patchValue(this.value),this.form.updateValueAndValidity()}formToModel(e){return new g(Object.assign({modelType:this.value?"saved":"new"},e))}}var Ge=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}.report-order-container[_ngcontent-%COMP%]{list-style-type:none;margin:15px 0;max-height:300px;overflow:auto;display:block;width:600px;padding:10px;border:1px solid #cacaca;border-radius:5px;position:relative}.report-order-container-item[_ngcontent-%COMP%]{padding:5px;border-radius:5px;color:#9ba2ac;border:1px solid #cacaca;background-color:#fafafa;list-style-type:none;cursor:move}.report-order-container-item[_ngcontent-%COMP%] + .report-order-container-item[_ngcontent-%COMP%]{margin-top:5px}.report-order-container-item.active[_ngcontent-%COMP%]{color:#0a0a0a;border:1px solid #0a0a0a}.form__header[_ngcontent-%COMP%]{background-color:#3498db;padding-left:10px;padding-right:10px;border-top-left-radius:5px;border-top-right-radius:5px}.form__heading[_ngcontent-%COMP%]{font-size:1.6em;margin-bottom:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:40px;color:#fff}.form__body[_ngcontent-%COMP%]{background-color:#f7f7f7;padding:10px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}@media screen and (min-width:1025px){.form__body[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:20px}}label[_ngcontent-%COMP%]{display:block}.input__text[_ngcontent-%COMP%]{display:block;width:100%}textarea[_ngcontent-%COMP%]{height:200px}.photo-upload-preview[_ngcontent-%COMP%]{padding:5px;border:1px solid #9ba2ac;border-radius:5px;margin-bottom:10px;background-color:#fff;background-repeat:no-repeat;background-position:center center;background-size:contain;height:200px}.inputfile[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}app-uploader-input[_ngcontent-%COMP%]     label{line-height:1}app-uploader-input[_ngcontent-%COMP%] + app-validation-message[_ngcontent-%COMP%]{display:inline-block;margin-left:20px}button.send[_ngcontent-%COMP%]{display:block;margin-top:-38px;margin-left:auto}"]],data:{}});function Ye(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,16777216,null,null,6,"li",[["cdkDrag",""],["class","report-order-container-item cdk-drag"]],[[2,"active",null],[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],null,null,null,null)),t["\u0275prd"](6144,null,P.j,null,[P.c]),t["\u0275did"](2,4866048,[[1,4]],3,P.c,[t.ElementRef,[3,P.b],M.d,t.NgZone,t.ViewContainerRef,P.a,[2,S.b],P.f,t.ChangeDetectorRef],{disabled:[0,"disabled"]},null),t["\u0275qud"](603979776,2,{_handles:1}),t["\u0275qud"](603979776,3,{_previewTemplate:0}),t["\u0275qud"](603979776,4,{_placeholderTemplate:0}),(e()(),t["\u0275ted"](6,null,[" "," "])),(e()(),t["\u0275and"](0,null,null,0))],(function(e,n){e(n,2,0,!n.component.isCurrentReport(n.context.$implicit))}),(function(e,n){e(n,0,0,n.component.isCurrentReport(n.context.$implicit),t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2)._dragRef.isDragging()),e(n,6,0,n.context.$implicit.title)}))}function He(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,6,"ul",[["cdkDropList",""],["class","report-order-container cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-disabled",null],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],(function(e,n,l){var t=!0;return"cdkDropListDropped"===n&&(t=!1!==e.component.onDragDrop(l)&&t),t}),null,null)),t["\u0275prd"](6144,null,P.b,null,[P.d]),t["\u0275did"](2,1196032,null,1,P.d,[t.ElementRef,P.f,t.ChangeDetectorRef,[2,S.b],[3,P.e]],null,{dropped:"cdkDropListDropped"}),t["\u0275qud"](603979776,1,{_draggables:1}),t["\u0275prd"](256,null,P.e,void 0,[]),(e()(),t["\u0275and"](16777216,null,null,1,null,Ye)),t["\u0275did"](6,278528,null,0,M.m,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(e,n){var l=n.component;e(n,6,0,l.features,l.trackById)}),(function(e,n){e(n,0,0,t["\u0275nov"](n,2).id,t["\u0275nov"](n,2).disabled,t["\u0275nov"](n,2)._dropListRef.isDragging(),t["\u0275nov"](n,2)._dropListRef.isReceiving())}))}function Le(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,96,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,n,l){var i=!0,a=e.component;return"submit"===n&&(i=!1!==t["\u0275nov"](e,2).onSubmit(l)&&i),"reset"===n&&(i=!1!==t["\u0275nov"](e,2).onReset()&&i),"ngSubmit"===n&&(i=!1!==a.onSubmit(a.form.value)&&i),i}),null,null)),t["\u0275did"](1,16384,null,0,he.I,[],null,null),t["\u0275did"](2,540672,null,0,he.k,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,he.d,null,[he.k]),t["\u0275did"](4,16384,null,0,he.t,[[4,he.d]],null,null),(e()(),t["\u0275eld"](5,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),t["\u0275eld"](6,0,null,null,6,"app-c-checkbox",[["formControlName","isVisible"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Ae.b,Ae.a)),t["\u0275did"](7,49152,null,0,fe.a,[s.b],{label:[0,"label"]},null),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef]),t["\u0275prd"](1024,null,he.q,(function(e){return[e]}),[fe.a]),t["\u0275did"](10,671744,null,0,he.i,[[3,he.d],[8,null],[8,null],[6,he.q],[2,he.G]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,he.r,null,[he.i]),t["\u0275did"](12,16384,null,0,he.s,[[4,he.r]],null,null),(e()(),t["\u0275eld"](13,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),t["\u0275eld"](14,0,null,null,2,"label",[["for","reportID"]],null,null,null,null,null)),(e()(),t["\u0275ted"](15,null,["",""])),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](17,0,null,null,6,"input",[["class","input__text"],["formControlName","reportId"],["id","reportID"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,n,l){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](e,18)._handleInput(l.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](e,18).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](e,18)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](e,18)._compositionEnd(l.target.value)&&i),"change"===n&&(i=!1!==t["\u0275nov"](e,19).onChange(l.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](e,19).onChange(l.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](e,19).onTouched()&&i),i}),null,null)),t["\u0275did"](18,16384,null,0,he.e,[t.Renderer2,t.ElementRef,[2,he.a]],null,null),t["\u0275did"](19,16384,null,0,he.x,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,he.q,(function(e,n){return[e,n]}),[he.e,he.x]),t["\u0275did"](21,671744,null,0,he.i,[[3,he.d],[8,null],[8,null],[6,he.q],[2,he.G]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,he.r,null,[he.i]),t["\u0275did"](23,16384,null,0,he.s,[[4,he.r]],null,null),(e()(),t["\u0275eld"](24,0,null,null,1,"app-validation-message",[["controlName","reportId"]],null,null,null,me.b,me.a)),t["\u0275did"](25,245760,null,0,ve.a,[[1,he.d],T.j,s.b],{controlName:[0,"controlName"],customMessages:[1,"customMessages"]},null),(e()(),t["\u0275eld"](26,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),t["\u0275eld"](27,0,null,null,2,"button",[["class","btn btn--empty btn--color-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.setOrder()&&t),t}),null,null)),(e()(),t["\u0275ted"](28,null,["",""])),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef]),(e()(),t["\u0275and"](16777216,null,null,1,null,He)),t["\u0275did"](31,16384,null,0,M.n,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](32,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),t["\u0275eld"](33,0,null,null,2,"label",[["for","reportTitle"]],null,null,null,null,null)),(e()(),t["\u0275ted"](34,null,["",""])),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](36,0,null,null,5,"input",[["class","input__text"],["formControlName","title"],["id","reportTitle"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,l){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](e,37)._handleInput(l.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](e,37).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](e,37)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](e,37)._compositionEnd(l.target.value)&&i),i}),null,null)),t["\u0275did"](37,16384,null,0,he.e,[t.Renderer2,t.ElementRef,[2,he.a]],null,null),t["\u0275prd"](1024,null,he.q,(function(e){return[e]}),[he.e]),t["\u0275did"](39,671744,null,0,he.i,[[3,he.d],[8,null],[8,null],[6,he.q],[2,he.G]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,he.r,null,[he.i]),t["\u0275did"](41,16384,null,0,he.s,[[4,he.r]],null,null),(e()(),t["\u0275eld"](42,0,null,null,1,"app-validation-message",[["controlName","title"]],null,null,null,me.b,me.a)),t["\u0275did"](43,245760,null,0,ve.a,[[1,he.d],T.j,s.b],{controlName:[0,"controlName"]},null),(e()(),t["\u0275eld"](44,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),t["\u0275eld"](45,0,null,null,2,"label",[["for","reportDescription"]],null,null,null,null,null)),(e()(),t["\u0275ted"](46,null,["",""])),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](48,0,null,null,5,"textarea",[["formControlName","description"],["id","reportDescription"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,l){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](e,49)._handleInput(l.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](e,49).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](e,49)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](e,49)._compositionEnd(l.target.value)&&i),i}),null,null)),t["\u0275did"](49,16384,null,0,he.e,[t.Renderer2,t.ElementRef,[2,he.a]],null,null),t["\u0275prd"](1024,null,he.q,(function(e){return[e]}),[he.e]),t["\u0275did"](51,671744,null,0,he.i,[[3,he.d],[8,null],[8,null],[6,he.q],[2,he.G]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,he.r,null,[he.i]),t["\u0275did"](53,16384,null,0,he.s,[[4,he.r]],null,null),(e()(),t["\u0275eld"](54,0,null,null,1,"app-validation-message",[["controlName","description"]],null,null,null,me.b,me.a)),t["\u0275did"](55,245760,null,0,ve.a,[[1,he.d],T.j,s.b],{controlName:[0,"controlName"]},null),(e()(),t["\u0275eld"](56,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),t["\u0275eld"](57,0,null,null,2,"label",[["for","reportTags"]],null,null,null,null,null)),(e()(),t["\u0275ted"](58,null,["",""])),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](60,0,null,null,5,"input",[["class","input__text"],["formControlName","tags"],["id","reportTags"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,l){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](e,61)._handleInput(l.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](e,61).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](e,61)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](e,61)._compositionEnd(l.target.value)&&i),i}),null,null)),t["\u0275did"](61,16384,null,0,he.e,[t.Renderer2,t.ElementRef,[2,he.a]],null,null),t["\u0275prd"](1024,null,he.q,(function(e){return[e]}),[he.e]),t["\u0275did"](63,671744,null,0,he.i,[[3,he.d],[8,null],[8,null],[6,he.q],[2,he.G]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,he.r,null,[he.i]),t["\u0275did"](65,16384,null,0,he.s,[[4,he.r]],null,null),(e()(),t["\u0275eld"](66,0,null,null,1,"app-validation-message",[["controlName","tags"]],null,null,null,me.b,me.a)),t["\u0275did"](67,245760,null,0,ve.a,[[1,he.d],T.j,s.b],{controlName:[0,"controlName"]},null),(e()(),t["\u0275eld"](68,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),t["\u0275eld"](69,0,null,null,2,"label",[["for","reportLabels"]],null,null,null,null,null)),(e()(),t["\u0275ted"](70,null,["",""])),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](72,0,null,null,5,"input",[["class","input__text"],["formControlName","labels"],["id","reportLabels"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,l){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](e,73)._handleInput(l.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](e,73).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](e,73)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](e,73)._compositionEnd(l.target.value)&&i),i}),null,null)),t["\u0275did"](73,16384,null,0,he.e,[t.Renderer2,t.ElementRef,[2,he.a]],null,null),t["\u0275prd"](1024,null,he.q,(function(e){return[e]}),[he.e]),t["\u0275did"](75,671744,null,0,he.i,[[3,he.d],[8,null],[8,null],[6,he.q],[2,he.G]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,he.r,null,[he.i]),t["\u0275did"](77,16384,null,0,he.s,[[4,he.r]],null,null),(e()(),t["\u0275eld"](78,0,null,null,1,"app-validation-message",[["controlName","labels"]],null,null,null,me.b,me.a)),t["\u0275did"](79,245760,null,0,ve.a,[[1,he.d],T.j,s.b],{controlName:[0,"controlName"]},null),(e()(),t["\u0275eld"](80,0,null,null,13,"div",[["class","form-group photo-upload"]],null,null,null,null,null)),(e()(),t["\u0275eld"](81,0,null,null,2,"span",[["class","text--bold"]],null,null,null,null,null)),(e()(),t["\u0275ted"](82,null,["",""])),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](84,0,null,null,7,"app-image-uploader",[["formControlName","imageFiles"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Se,Qe)),t["\u0275did"](85,770048,null,0,ke,[ye.a,s.b],{multiple:[0,"multiple"]},null),t["\u0275prd"](1024,null,he.q,(function(e){return[e]}),[ke]),t["\u0275did"](87,671744,null,0,he.i,[[3,he.d],[8,null],[8,null],[6,he.q],[2,he.G]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,he.r,null,[he.i]),t["\u0275did"](89,16384,null,0,he.s,[[4,he.r]],null,null),(e()(),t["\u0275ted"](90,0,["",""])),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](92,0,null,null,1,"app-validation-message",[["controlName","imageFiles"]],null,null,null,me.b,me.a)),t["\u0275did"](93,245760,null,0,ve.a,[[1,he.d],T.j,s.b],{controlName:[0,"controlName"]},null),(e()(),t["\u0275eld"](94,0,null,null,2,"button",[["class","btn btn--primary send"]],[[8,"disabled",0]],null,null,null,null)),(e()(),t["\u0275ted"](95,null,["",""])),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef])],(function(e,n){var l=n.component;e(n,2,0,l.form),e(n,7,0,t["\u0275unv"](n,7,0,t["\u0275nov"](n,8).transform("update-page.form.checkbox.visible.name"))),e(n,10,0,"isVisible"),e(n,21,0,"reportId"),e(n,25,0,"reportId",l.validationMessages),e(n,31,0,l.isOrderVisible),e(n,39,0,"title"),e(n,43,0,"title"),e(n,51,0,"description"),e(n,55,0,"description"),e(n,63,0,"tags"),e(n,67,0,"tags"),e(n,75,0,"labels"),e(n,79,0,"labels"),e(n,85,0,!0),e(n,87,0,"imageFiles"),e(n,93,0,"imageFiles")}),(function(e,n){var l=n.component;e(n,0,0,t["\u0275nov"](n,4).ngClassUntouched,t["\u0275nov"](n,4).ngClassTouched,t["\u0275nov"](n,4).ngClassPristine,t["\u0275nov"](n,4).ngClassDirty,t["\u0275nov"](n,4).ngClassValid,t["\u0275nov"](n,4).ngClassInvalid,t["\u0275nov"](n,4).ngClassPending),e(n,6,0,t["\u0275nov"](n,12).ngClassUntouched,t["\u0275nov"](n,12).ngClassTouched,t["\u0275nov"](n,12).ngClassPristine,t["\u0275nov"](n,12).ngClassDirty,t["\u0275nov"](n,12).ngClassValid,t["\u0275nov"](n,12).ngClassInvalid,t["\u0275nov"](n,12).ngClassPending),e(n,15,0,t["\u0275unv"](n,15,0,t["\u0275nov"](n,16).transform("update-page.form.field.report-id.name"))),e(n,17,0,t["\u0275nov"](n,23).ngClassUntouched,t["\u0275nov"](n,23).ngClassTouched,t["\u0275nov"](n,23).ngClassPristine,t["\u0275nov"](n,23).ngClassDirty,t["\u0275nov"](n,23).ngClassValid,t["\u0275nov"](n,23).ngClassInvalid,t["\u0275nov"](n,23).ngClassPending),e(n,27,0,!l.features),e(n,28,0,t["\u0275unv"](n,28,0,t["\u0275nov"](n,29).transform("update-page.form.button.report-order.name"))),e(n,34,0,t["\u0275unv"](n,34,0,t["\u0275nov"](n,35).transform("update-page.form.field.report-title.name"))),e(n,36,0,t["\u0275nov"](n,41).ngClassUntouched,t["\u0275nov"](n,41).ngClassTouched,t["\u0275nov"](n,41).ngClassPristine,t["\u0275nov"](n,41).ngClassDirty,t["\u0275nov"](n,41).ngClassValid,t["\u0275nov"](n,41).ngClassInvalid,t["\u0275nov"](n,41).ngClassPending),e(n,46,0,t["\u0275unv"](n,46,0,t["\u0275nov"](n,47).transform("update-page.form.field.report-description.name"))),e(n,48,0,t["\u0275nov"](n,53).ngClassUntouched,t["\u0275nov"](n,53).ngClassTouched,t["\u0275nov"](n,53).ngClassPristine,t["\u0275nov"](n,53).ngClassDirty,t["\u0275nov"](n,53).ngClassValid,t["\u0275nov"](n,53).ngClassInvalid,t["\u0275nov"](n,53).ngClassPending),e(n,58,0,t["\u0275unv"](n,58,0,t["\u0275nov"](n,59).transform("update-page.form.field.report-tags.name"))),e(n,60,0,t["\u0275nov"](n,65).ngClassUntouched,t["\u0275nov"](n,65).ngClassTouched,t["\u0275nov"](n,65).ngClassPristine,t["\u0275nov"](n,65).ngClassDirty,t["\u0275nov"](n,65).ngClassValid,t["\u0275nov"](n,65).ngClassInvalid,t["\u0275nov"](n,65).ngClassPending),e(n,70,0,t["\u0275unv"](n,70,0,t["\u0275nov"](n,71).transform("update-page.form.field.report-labels.name"))),e(n,72,0,t["\u0275nov"](n,77).ngClassUntouched,t["\u0275nov"](n,77).ngClassTouched,t["\u0275nov"](n,77).ngClassPristine,t["\u0275nov"](n,77).ngClassDirty,t["\u0275nov"](n,77).ngClassValid,t["\u0275nov"](n,77).ngClassInvalid,t["\u0275nov"](n,77).ngClassPending),e(n,82,0,t["\u0275unv"](n,82,0,t["\u0275nov"](n,83).transform("update-page.form.field.report-photo.name"))),e(n,84,0,t["\u0275nov"](n,89).ngClassUntouched,t["\u0275nov"](n,89).ngClassTouched,t["\u0275nov"](n,89).ngClassPristine,t["\u0275nov"](n,89).ngClassDirty,t["\u0275nov"](n,89).ngClassValid,t["\u0275nov"](n,89).ngClassInvalid,t["\u0275nov"](n,89).ngClassPending),e(n,90,0,t["\u0275unv"](n,90,0,t["\u0275nov"](n,91).transform("update-page.form.field.report-photo.upload-button"))),e(n,94,0,l.form.invalid),e(n,95,0,t["\u0275unv"](n,95,0,t["\u0275nov"](n,96).transform("update-page.form.button.submit.name")))}))}var Ke=l("itXk"),je=l("z6cu"),Je=l("JIr8");class Ne{constructor(e,n,l,t,i,a){this.api=e,this.storage=n,this.route=l,this.router=t,this.translate=i,this.debug=a.factory(new.target.name)}ngOnInit(){this.featureId$=this.route.params.pipe(Object(d.a)(e=>e.id?+e.id:void 0)),this.feature$=Object(Ke.b)(this.storage.features$,this.featureId$.pipe(Object(j.a)(e=>void 0!==e)),(e,n)=>e.find(e=>e.id===n)),this.featuresExceptMyIds$=Object(Ke.b)(this.storage.features$,this.featureId$).pipe(Object(d.a)(([e,n])=>e.map(e=>e.id).filter(e=>e!==n))),this.debug.streams(this,["feature$","featureId$","featuresExceptMyIds$"])}onSave(e){const n=e.featureModel,l=e.sortedModels;let t;switch(this.debug.log("onSave(%O)",n),n.modelStatus="loading",n.id=parseInt(String(1e10*Math.random()),10),this.validationErrors=void 0,n.modelType){case"new":t=l.findIndex(e=>"new"===e.modelType),n.position=t,this.storage.addFeature(n),this.api.createFeature(n).pipe(Object(Je.a)(this.catchValidation.bind(this,n))).subscribe(e=>{e.modelStatus="success",e.previousId=n.id,this.storage.updateFeature(e),l[t]=e,this.api.saveSorting(l).subscribe(()=>{this.storage.refreshFeature(l),setTimeout(n=>this.storage.setFeatureStatus(e.id,void 0),3e3)})}),this.router.navigate([".."],{relativeTo:this.route});break;case"saved":t=l.findIndex(e=>e.id===n.previousId),n.position=t,this.storage.updateFeature(n),this.api.updateFeature(n).pipe(Object(Je.a)(this.catchValidation.bind(this,n))).subscribe(e=>{e.modelStatus="success",e.previousId=n.id,this.storage.updateFeature(e),l[t]=e,this.api.saveSorting(l).subscribe(()=>{this.storage.refreshFeature(l),setTimeout(n=>this.storage.setFeatureStatus(e.id,void 0),3e3)})}),this.router.navigate(["../.."],{relativeTo:this.route});break;default:this.debug.warn("Unknown model type: %s. Model",n.modelType,n)}}catchValidation(e,n){if(this.debug.log("Error",n,n.status,e,e.id),422===n.status){const l=n;this.debug.assert(l instanceof Array,"Validation errors should be an array"),this.validationErrors=l,this.translate.get("update-page.client-app-error.validation").subscribe(n=>this.storage.setFeatureStatus(e.id,"warning",n)),this.router.navigate(["promo-features-catalog","update",e.id])}return Object(je.a)(n)}}var Ve=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}@media screen and (max-width:736px){[_nghost-%COMP%]{margin-top:-25px}}"]],data:{}});function qe(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,19,"div",[["class","content__section content__section--no-max"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,9,"div",[["class","content__section-header content__section-header--justify"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,3,"h4",[["class","content__section-heading"]],null,null,null,null,null)),(e()(),t["\u0275ted"](3,null,[" "," "])),t["\u0275pid"](131072,M.b,[t.ChangeDetectorRef]),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](6,0,null,null,4,"a",[["class","btn btn--small"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,l){var i=!0;return"click"===n&&(i=!1!==t["\u0275nov"](e,7).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),i}),null,null)),t["\u0275did"](7,671744,null,0,o.r,[o.o,o.a,M.j],{routerLink:[0,"routerLink"]},null),t["\u0275pid"](131072,M.b,[t.ChangeDetectorRef]),(e()(),t["\u0275ted"](9,null,["",""])),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](11,0,null,null,8,"div",[["class","content__section-body"]],null,null,null,null,null)),(e()(),t["\u0275eld"](12,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),t["\u0275ted"](13,null,["",""])),t["\u0275pid"](131072,T.i,[T.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](15,0,null,null,4,"app-promo-feature-form",[],null,[[null,"save"]],(function(e,n,l){var t=!0;return"save"===n&&(t=!1!==e.component.onSave(l)&&t),t}),Le,Ge)),t["\u0275did"](16,638976,null,0,Ue,[he.f,t.ElementRef,R,T.j,s.b],{isEditing:[0,"isEditing"],value:[1,"value"],validationErrors:[2,"validationErrors"],featuresExceptMeIds:[3,"featuresExceptMeIds"]},{save:"save"}),t["\u0275pid"](131072,M.b,[t.ChangeDetectorRef]),t["\u0275pid"](131072,M.b,[t.ChangeDetectorRef]),t["\u0275pid"](131072,M.b,[t.ChangeDetectorRef])],(function(e,n){var l=n.component;e(n,7,0,t["\u0275unv"](n,7,0,t["\u0275nov"](n,8).transform(l.featureId$))?"../../":"../"),e(n,16,0,t["\u0275unv"](n,16,0,t["\u0275nov"](n,17).transform(l.featureId$)),t["\u0275unv"](n,16,1,t["\u0275nov"](n,18).transform(l.feature$)),l.validationErrors,t["\u0275unv"](n,16,3,t["\u0275nov"](n,19).transform(l.featuresExceptMyIds$)))}),(function(e,n){var l=n.component;e(n,3,0,t["\u0275unv"](n,3,0,t["\u0275nov"](n,5).transform(t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform(l.featureId$))?"update-page.mode.update.caption":"update-page.mode.create.caption"))),e(n,6,0,t["\u0275nov"](n,7).target,t["\u0275nov"](n,7).href),e(n,9,0,t["\u0275unv"](n,9,0,t["\u0275nov"](n,10).transform("update-page.button.cancel.name"))),e(n,13,0,t["\u0275unv"](n,13,0,t["\u0275nov"](n,14).transform("update-page.help-message")))}))}function _e(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,qe,Ve)),t["\u0275did"](1,114688,null,0,Ne,[h,R,o.a,o.o,T.j,s.b],null,null)],(function(e,n){e(n,1,0)}),null)}var Xe=t["\u0275ccf"]("ng-component",Ne,_e,{},{},[]),ze=l("hOhj"),We=l("Qq/Z");class Ze{constructor(e,n,l,t){this.router=e,this.storage=n,this.dialog=l,this.debug=t.factory(new.target.name)}canActivate(){return this.storage.canEdit$.pipe(Object(le.a)(e=>{e||(this.dialog.warningT("update-page.error-message.no-privileges"),this.router.navigate(["/promo-features-catalog"]))}))}}var $e=l("o/Hh"),en=l("Ny1k"),nn=l("aBBA"),ln=l("iTUp"),tn=l("oiVm"),an=l("Le53"),on=l("Q34l");const sn={allowedAccessLevels:[on.a.Admin,on.a.DashboardSupport,on.a.SuperAdmin]};l.d(n,"PromoFeaturesCatalogModuleNgFactory",(function(){return un}));var un=t["\u0275cmf"](i,[],(function(e){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[a.a,Q,Z,pe,Xe]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,M.p,M.o,[t.LOCALE_ID,[2,M.G]]),t["\u0275mpd"](4608,he.f,he.f,[]),t["\u0275mpd"](4608,he.F,he.F,[]),t["\u0275mpd"](4608,P.f,P.f,[M.d,t.NgZone,ze.i,P.h]),t["\u0275mpd"](4608,R,R,[ye.a,s.b]),t["\u0275mpd"](4608,h,h,[We.a]),t["\u0275mpd"](4608,Ze,Ze,[o.o,R,V.a,s.b]),t["\u0275mpd"](1073742336,M.c,M.c,[]),t["\u0275mpd"](1073742336,he.E,he.E,[]),t["\u0275mpd"](1073742336,he.A,he.A,[]),t["\u0275mpd"](1073742336,o.s,o.s,[[2,o.x],[2,o.o]]),t["\u0275mpd"](1073742336,T.g,T.g,[]),t["\u0275mpd"](1073742336,P.g,P.g,[]),t["\u0275mpd"](1073742336,Re,Re,[]),t["\u0275mpd"](1073742336,$e.a,$e.a,[]),t["\u0275mpd"](1073742336,he.m,he.m,[]),t["\u0275mpd"](1073742336,en.a,en.a,[nn.a]),t["\u0275mpd"](1073742336,ln.a,ln.a,[]),t["\u0275mpd"](1073742336,tn.a,tn.a,[]),t["\u0275mpd"](1073742336,i,i,[nn.a]),t["\u0275mpd"](1024,o.m,(function(){return[[{path:"",component:u,canActivate:[an.a],data:sn,children:[{path:"",component:N},{path:"view/:id",component:ie},{path:"update/:id",component:Ne,canActivate:[Ze]},{path:"create",component:Ne}]}]]}),[])])}))}}]);